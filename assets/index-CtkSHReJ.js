function ple(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var E2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qy(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var AN={exports:{}},Hv={},DN={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function mle(){if(WR)return jr;WR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=f&&K[f]||K["@@iterator"],typeof K=="function"?K:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function x(K,T,W){this.props=K,this.context=T,this.refs=y,this.updater=W||h}x.prototype.isReactComponent={},x.prototype.setState=function(K,T){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,T,"setState")},x.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function b(){}b.prototype=x.prototype;function N(K,T,W){this.props=K,this.context=T,this.refs=y,this.updater=W||h}var j=N.prototype=new b;j.constructor=N,g(j,x.prototype),j.isPureReactComponent=!0;var w=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function D(K,T,W){var J,Y={},ee=null,ae=null;if(T!=null)for(J in T.ref!==void 0&&(ae=T.ref),T.key!==void 0&&(ee=""+T.key),T)C.call(T,J)&&!I.hasOwnProperty(J)&&(Y[J]=T[J]);var pe=arguments.length-2;if(pe===1)Y.children=W;else if(1<pe){for(var de=Array(pe),we=0;we<pe;we++)de[we]=arguments[we+2];Y.children=de}if(K&&K.defaultProps)for(J in pe=K.defaultProps,pe)Y[J]===void 0&&(Y[J]=pe[J]);return{$$typeof:e,type:K,key:ee,ref:ae,props:Y,_owner:E.current}}function O(K,T){return{$$typeof:e,type:K.type,key:T,ref:K.ref,props:K.props,_owner:K._owner}}function L(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function R(K){var T={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(W){return T[W]})}var P=/\/+/g;function F(K,T){return typeof K=="object"&&K!==null&&K.key!=null?R(""+K.key):T.toString(36)}function V(K,T,W,J,Y){var ee=typeof K;(ee==="undefined"||ee==="boolean")&&(K=null);var ae=!1;if(K===null)ae=!0;else switch(ee){case"string":case"number":ae=!0;break;case"object":switch(K.$$typeof){case e:case t:ae=!0}}if(ae)return ae=K,Y=Y(ae),K=J===""?"."+F(ae,0):J,w(Y)?(W="",K!=null&&(W=K.replace(P,"$&/")+"/"),V(Y,T,W,"",function(we){return we})):Y!=null&&(L(Y)&&(Y=O(Y,W+(!Y.key||ae&&ae.key===Y.key?"":(""+Y.key).replace(P,"$&/")+"/")+K)),T.push(Y)),1;if(ae=0,J=J===""?".":J+":",w(K))for(var pe=0;pe<K.length;pe++){ee=K[pe];var de=J+F(ee,pe);ae+=V(ee,T,W,de,Y)}else if(de=p(K),typeof de=="function")for(K=de.call(K),pe=0;!(ee=K.next()).done;)ee=ee.value,de=J+F(ee,pe++),ae+=V(ee,T,W,de,Y);else if(ee==="object")throw T=String(K),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return ae}function X(K,T,W){if(K==null)return K;var J=[],Y=0;return V(K,J,"","",function(ee){return T.call(W,ee,Y++)}),J}function te(K){if(K._status===-1){var T=K._result;T=T(),T.then(function(W){(K._status===0||K._status===-1)&&(K._status=1,K._result=W)},function(W){(K._status===0||K._status===-1)&&(K._status=2,K._result=W)}),K._status===-1&&(K._status=0,K._result=T)}if(K._status===1)return K._result.default;throw K._result}var q={current:null},U={transition:null},Q={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:U,ReactCurrentOwner:E};function se(){throw Error("act(...) is not supported in production builds of React.")}return jr.Children={map:X,forEach:function(K,T,W){X(K,function(){T.apply(this,arguments)},W)},count:function(K){var T=0;return X(K,function(){T++}),T},toArray:function(K){return X(K,function(T){return T})||[]},only:function(K){if(!L(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},jr.Component=x,jr.Fragment=r,jr.Profiler=a,jr.PureComponent=N,jr.StrictMode=n,jr.Suspense=l,jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,jr.act=se,jr.cloneElement=function(K,T,W){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var J=g({},K.props),Y=K.key,ee=K.ref,ae=K._owner;if(T!=null){if(T.ref!==void 0&&(ee=T.ref,ae=E.current),T.key!==void 0&&(Y=""+T.key),K.type&&K.type.defaultProps)var pe=K.type.defaultProps;for(de in T)C.call(T,de)&&!I.hasOwnProperty(de)&&(J[de]=T[de]===void 0&&pe!==void 0?pe[de]:T[de])}var de=arguments.length-2;if(de===1)J.children=W;else if(1<de){pe=Array(de);for(var we=0;we<de;we++)pe[we]=arguments[we+2];J.children=pe}return{$$typeof:e,type:K.type,key:Y,ref:ee,props:J,_owner:ae}},jr.createContext=function(K){return K={$$typeof:s,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},jr.createElement=D,jr.createFactory=function(K){var T=D.bind(null,K);return T.type=K,T},jr.createRef=function(){return{current:null}},jr.forwardRef=function(K){return{$$typeof:o,render:K}},jr.isValidElement=L,jr.lazy=function(K){return{$$typeof:d,_payload:{_status:-1,_result:K},_init:te}},jr.memo=function(K,T){return{$$typeof:u,type:K,compare:T===void 0?null:T}},jr.startTransition=function(K){var T=U.transition;U.transition={};try{K()}finally{U.transition=T}},jr.unstable_act=se,jr.useCallback=function(K,T){return q.current.useCallback(K,T)},jr.useContext=function(K){return q.current.useContext(K)},jr.useDebugValue=function(){},jr.useDeferredValue=function(K){return q.current.useDeferredValue(K)},jr.useEffect=function(K,T){return q.current.useEffect(K,T)},jr.useId=function(){return q.current.useId()},jr.useImperativeHandle=function(K,T,W){return q.current.useImperativeHandle(K,T,W)},jr.useInsertionEffect=function(K,T){return q.current.useInsertionEffect(K,T)},jr.useLayoutEffect=function(K,T){return q.current.useLayoutEffect(K,T)},jr.useMemo=function(K,T){return q.current.useMemo(K,T)},jr.useReducer=function(K,T,W){return q.current.useReducer(K,T,W)},jr.useRef=function(K){return q.current.useRef(K)},jr.useState=function(K){return q.current.useState(K)},jr.useSyncExternalStore=function(K,T,W){return q.current.useSyncExternalStore(K,T,W)},jr.useTransition=function(){return q.current.useTransition()},jr.version="18.3.1",jr}var UR;function Yi(){return UR||(UR=1,DN.exports=mle()),DN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $R;function gle(){if($R)return Hv;$R=1;var e=Yi(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(o,l,u){var d,f={},p=null,h=null;u!==void 0&&(p=""+u),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(h=l.ref);for(d in l)n.call(l,d)&&!i.hasOwnProperty(d)&&(f[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:o,key:p,ref:h,props:f,_owner:a.current}}return Hv.Fragment=r,Hv.jsx=s,Hv.jsxs=s,Hv}var qR;function vle(){return qR||(qR=1,AN.exports=gle()),AN.exports}var c=vle(),A=Yi();const Me=Ln(A),NY=ple({__proto__:null,default:Me},[A]);var P2={},TN={exports:{}},lo={},ON={exports:{}},IN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function xle(){return VR||(VR=1,(function(e){function t(U,Q){var se=U.length;U.push(Q);e:for(;0<se;){var K=se-1>>>1,T=U[K];if(0<a(T,Q))U[K]=Q,U[se]=T,se=K;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var Q=U[0],se=U.pop();if(se!==Q){U[0]=se;e:for(var K=0,T=U.length,W=T>>>1;K<W;){var J=2*(K+1)-1,Y=U[J],ee=J+1,ae=U[ee];if(0>a(Y,se))ee<T&&0>a(ae,Y)?(U[K]=ae,U[ee]=se,K=ee):(U[K]=Y,U[J]=se,K=J);else if(ee<T&&0>a(ae,se))U[K]=ae,U[ee]=se,K=ee;else break e}}return Q}function a(U,Q){var se=U.sortIndex-Q.sortIndex;return se!==0?se:U.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,p=3,h=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(U){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=U)n(u),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=r(u)}}function w(U){if(y=!1,j(U),!g)if(r(l)!==null)g=!0,te(C);else{var Q=r(u);Q!==null&&q(w,Q.startTime-U)}}function C(U,Q){g=!1,y&&(y=!1,b(D),D=-1),h=!0;var se=p;try{for(j(Q),f=r(l);f!==null&&(!(f.expirationTime>Q)||U&&!R());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var T=K(f.expirationTime<=Q);Q=e.unstable_now(),typeof T=="function"?f.callback=T:f===r(l)&&n(l),j(Q)}else n(l);f=r(l)}if(f!==null)var W=!0;else{var J=r(u);J!==null&&q(w,J.startTime-Q),W=!1}return W}finally{f=null,p=se,h=!1}}var E=!1,I=null,D=-1,O=5,L=-1;function R(){return!(e.unstable_now()-L<O)}function P(){if(I!==null){var U=e.unstable_now();L=U;var Q=!0;try{Q=I(!0,U)}finally{Q?F():(E=!1,I=null)}}else E=!1}var F;if(typeof N=="function")F=function(){N(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,X=V.port2;V.port1.onmessage=P,F=function(){X.postMessage(null)}}else F=function(){x(P,0)};function te(U){I=U,E||(E=!0,F())}function q(U,Q){D=x(function(){U(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,te(C))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var se=p;p=Q;try{return U()}finally{p=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,Q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=p;p=U;try{return Q()}finally{p=se}},e.unstable_scheduleCallback=function(U,Q,se){var K=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?K+se:K):se=K,U){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=se+T,U={id:d++,callback:Q,priorityLevel:U,startTime:se,expirationTime:T,sortIndex:-1},se>K?(U.sortIndex=se,t(u,U),r(l)===null&&U===r(u)&&(y?(b(D),D=-1):y=!0,q(w,se-K))):(U.sortIndex=T,t(l,U),g||h||(g=!0,te(C))),U},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(U){var Q=p;return function(){var se=p;p=Q;try{return U.apply(this,arguments)}finally{p=se}}}})(IN)),IN}var HR;function yle(){return HR||(HR=1,ON.exports=xle()),ON.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR;function ble(){if(GR)return lo;GR=1;var e=Yi(),t=yle();function r(m){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+m,S=1;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(m,v){s(m,v),s(m+"Capture",v)}function s(m,v){for(a[m]=v,m=0;m<v.length;m++)n.add(v[m])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(m){return l.call(f,m)?!0:l.call(d,m)?!1:u.test(m)?f[m]=!0:(d[m]=!0,!1)}function h(m,v,S,k){if(S!==null&&S.type===0)return!1;switch(typeof v){case"function":case"symbol":return!0;case"boolean":return k?!1:S!==null?!S.acceptsBooleans:(m=m.toLowerCase().slice(0,5),m!=="data-"&&m!=="aria-");default:return!1}}function g(m,v,S,k){if(v===null||typeof v>"u"||h(m,v,S,k))return!0;if(k)return!1;if(S!==null)switch(S.type){case 3:return!v;case 4:return v===!1;case 5:return isNaN(v);case 6:return isNaN(v)||1>v}return!1}function y(m,v,S,k,z,H,ie){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=k,this.attributeNamespace=z,this.mustUseProperty=S,this.propertyName=m,this.type=v,this.sanitizeURL=H,this.removeEmptyString=ie}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(m){x[m]=new y(m,0,!1,m,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(m){var v=m[0];x[v]=new y(v,1,!1,m[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(m){x[m]=new y(m,2,!1,m.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(m){x[m]=new y(m,2,!1,m,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(m){x[m]=new y(m,3,!1,m.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(m){x[m]=new y(m,3,!0,m,null,!1,!1)}),["capture","download"].forEach(function(m){x[m]=new y(m,4,!1,m,null,!1,!1)}),["cols","rows","size","span"].forEach(function(m){x[m]=new y(m,6,!1,m,null,!1,!1)}),["rowSpan","start"].forEach(function(m){x[m]=new y(m,5,!1,m.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function N(m){return m[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(m){var v=m.replace(b,N);x[v]=new y(v,1,!1,m,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(m){var v=m.replace(b,N);x[v]=new y(v,1,!1,m,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(m){var v=m.replace(b,N);x[v]=new y(v,1,!1,m,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(m){x[m]=new y(m,1,!1,m.toLowerCase(),null,!1,!1)}),x.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(m){x[m]=new y(m,1,!1,m.toLowerCase(),null,!0,!0)});function j(m,v,S,k){var z=x.hasOwnProperty(v)?x[v]:null;(z!==null?z.type!==0:k||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(g(v,S,z,k)&&(S=null),k||z===null?p(v)&&(S===null?m.removeAttribute(v):m.setAttribute(v,""+S)):z.mustUseProperty?m[z.propertyName]=S===null?z.type===3?!1:"":S:(v=z.attributeName,k=z.attributeNamespace,S===null?m.removeAttribute(v):(z=z.type,S=z===3||z===4&&S===!0?"":""+S,k?m.setAttributeNS(k,v,S):m.setAttribute(v,S))))}var w=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),R=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),U=Symbol.iterator;function Q(m){return m===null||typeof m!="object"?null:(m=U&&m[U]||m["@@iterator"],typeof m=="function"?m:null)}var se=Object.assign,K;function T(m){if(K===void 0)try{throw Error()}catch(S){var v=S.stack.trim().match(/\n( *(at )?)/);K=v&&v[1]||""}return`
`+K+m}var W=!1;function J(m,v){if(!m||W)return"";W=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Ke){var k=Ke}Reflect.construct(m,[],v)}else{try{v.call()}catch(Ke){k=Ke}m.call(v.prototype)}else{try{throw Error()}catch(Ke){k=Ke}m()}}catch(Ke){if(Ke&&k&&typeof Ke.stack=="string"){for(var z=Ke.stack.split(`
`),H=k.stack.split(`
`),ie=z.length-1,be=H.length-1;1<=ie&&0<=be&&z[ie]!==H[be];)be--;for(;1<=ie&&0<=be;ie--,be--)if(z[ie]!==H[be]){if(ie!==1||be!==1)do if(ie--,be--,0>be||z[ie]!==H[be]){var Pe=`
`+z[ie].replace(" at new "," at ");return m.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",m.displayName)),Pe}while(1<=ie&&0<=be);break}}}finally{W=!1,Error.prepareStackTrace=S}return(m=m?m.displayName||m.name:"")?T(m):""}function Y(m){switch(m.tag){case 5:return T(m.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return m=J(m.type,!1),m;case 11:return m=J(m.type.render,!1),m;case 1:return m=J(m.type,!0),m;default:return""}}function ee(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case I:return"Fragment";case E:return"Portal";case O:return"Profiler";case D:return"StrictMode";case F:return"Suspense";case V:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case R:return(m.displayName||"Context")+".Consumer";case L:return(m._context.displayName||"Context")+".Provider";case P:var v=m.render;return m=m.displayName,m||(m=v.displayName||v.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case X:return v=m.displayName||null,v!==null?v:ee(m.type)||"Memo";case te:v=m._payload,m=m._init;try{return ee(m(v))}catch{}}return null}function ae(m){var v=m.type;switch(m.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=v.render,m=m.displayName||m.name||"",v.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(v);case 8:return v===D?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function pe(m){switch(typeof m){case"boolean":case"number":case"string":case"undefined":return m;case"object":return m;default:return""}}function de(m){var v=m.type;return(m=m.nodeName)&&m.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function we(m){var v=de(m)?"checked":"value",S=Object.getOwnPropertyDescriptor(m.constructor.prototype,v),k=""+m[v];if(!m.hasOwnProperty(v)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var z=S.get,H=S.set;return Object.defineProperty(m,v,{configurable:!0,get:function(){return z.call(this)},set:function(ie){k=""+ie,H.call(this,ie)}}),Object.defineProperty(m,v,{enumerable:S.enumerable}),{getValue:function(){return k},setValue:function(ie){k=""+ie},stopTracking:function(){m._valueTracker=null,delete m[v]}}}}function Ae(m){m._valueTracker||(m._valueTracker=we(m))}function Se(m){if(!m)return!1;var v=m._valueTracker;if(!v)return!0;var S=v.getValue(),k="";return m&&(k=de(m)?m.checked?"true":"false":m.value),m=k,m!==S?(v.setValue(m),!0):!1}function Ge(m){if(m=m||(typeof document<"u"?document:void 0),typeof m>"u")return null;try{return m.activeElement||m.body}catch{return m.body}}function ke(m,v){var S=v.checked;return se({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??m._wrapperState.initialChecked})}function Z(m,v){var S=v.defaultValue==null?"":v.defaultValue,k=v.checked!=null?v.checked:v.defaultChecked;S=pe(v.value!=null?v.value:S),m._wrapperState={initialChecked:k,initialValue:S,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function Qe(m,v){v=v.checked,v!=null&&j(m,"checked",v,!1)}function Ne(m,v){Qe(m,v);var S=pe(v.value),k=v.type;if(S!=null)k==="number"?(S===0&&m.value===""||m.value!=S)&&(m.value=""+S):m.value!==""+S&&(m.value=""+S);else if(k==="submit"||k==="reset"){m.removeAttribute("value");return}v.hasOwnProperty("value")?De(m,v.type,S):v.hasOwnProperty("defaultValue")&&De(m,v.type,pe(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(m.defaultChecked=!!v.defaultChecked)}function ze(m,v,S){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var k=v.type;if(!(k!=="submit"&&k!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+m._wrapperState.initialValue,S||v===m.value||(m.value=v),m.defaultValue=v}S=m.name,S!==""&&(m.name=""),m.defaultChecked=!!m._wrapperState.initialChecked,S!==""&&(m.name=S)}function De(m,v,S){(v!=="number"||Ge(m.ownerDocument)!==m)&&(S==null?m.defaultValue=""+m._wrapperState.initialValue:m.defaultValue!==""+S&&(m.defaultValue=""+S))}var me=Array.isArray;function _e(m,v,S,k){if(m=m.options,v){v={};for(var z=0;z<S.length;z++)v["$"+S[z]]=!0;for(S=0;S<m.length;S++)z=v.hasOwnProperty("$"+m[S].value),m[S].selected!==z&&(m[S].selected=z),z&&k&&(m[S].defaultSelected=!0)}else{for(S=""+pe(S),v=null,z=0;z<m.length;z++){if(m[z].value===S){m[z].selected=!0,k&&(m[z].defaultSelected=!0);return}v!==null||m[z].disabled||(v=m[z])}v!==null&&(v.selected=!0)}}function Ve(m,v){if(v.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},v,{value:void 0,defaultValue:void 0,children:""+m._wrapperState.initialValue})}function Xe(m,v){var S=v.value;if(S==null){if(S=v.children,v=v.defaultValue,S!=null){if(v!=null)throw Error(r(92));if(me(S)){if(1<S.length)throw Error(r(93));S=S[0]}v=S}v==null&&(v=""),S=v}m._wrapperState={initialValue:pe(S)}}function Re(m,v){var S=pe(v.value),k=pe(v.defaultValue);S!=null&&(S=""+S,S!==m.value&&(m.value=S),v.defaultValue==null&&m.defaultValue!==S&&(m.defaultValue=S)),k!=null&&(m.defaultValue=""+k)}function st(m){var v=m.textContent;v===m._wrapperState.initialValue&&v!==""&&v!==null&&(m.value=v)}function pt(m){switch(m){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(m,v){return m==null||m==="http://www.w3.org/1999/xhtml"?pt(v):m==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":m}var at,ct=(function(m){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,S,k,z){MSApp.execUnsafeLocalFunction(function(){return m(v,S,k,z)})}:m})(function(m,v){if(m.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in m)m.innerHTML=v;else{for(at=at||document.createElement("div"),at.innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=at.firstChild;m.firstChild;)m.removeChild(m.firstChild);for(;v.firstChild;)m.appendChild(v.firstChild)}});function wt(m,v){if(v){var S=m.firstChild;if(S&&S===m.lastChild&&S.nodeType===3){S.nodeValue=v;return}}m.textContent=v}var Nt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_r=["Webkit","ms","Moz","O"];Object.keys(Nt).forEach(function(m){_r.forEach(function(v){v=v+m.charAt(0).toUpperCase()+m.substring(1),Nt[v]=Nt[m]})});function lr(m,v,S){return v==null||typeof v=="boolean"||v===""?"":S||typeof v!="number"||v===0||Nt.hasOwnProperty(m)&&Nt[m]?(""+v).trim():v+"px"}function jt(m,v){m=m.style;for(var S in v)if(v.hasOwnProperty(S)){var k=S.indexOf("--")===0,z=lr(S,v[S],k);S==="float"&&(S="cssFloat"),k?m.setProperty(S,z):m[S]=z}}var nr=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(m,v){if(v){if(nr[m]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(r(137,m));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(r(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(r(61))}if(v.style!=null&&typeof v.style!="object")throw Error(r(62))}}function Jt(m,v){if(m.indexOf("-")===-1)return typeof v.is=="string";switch(m){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function cr(m){return m=m.target||m.srcElement||window,m.correspondingUseElement&&(m=m.correspondingUseElement),m.nodeType===3?m.parentNode:m}var Pn=null,bn=null,Tr=null;function ir(m){if(m=Uf(m)){if(typeof Pn!="function")throw Error(r(280));var v=m.stateNode;v&&(v=vp(v),Pn(m.stateNode,m.type,v))}}function Fr(m){bn?Tr?Tr.push(m):Tr=[m]:bn=m}function Uc(){if(bn){var m=bn,v=Tr;if(Tr=bn=null,ir(m),v)for(m=0;m<v.length;m++)ir(v[m])}}function Ya(m,v){return m(v)}function hl(){}var Vs=!1;function Zt(m,v,S){if(Vs)return m(v,S);Vs=!0;try{return Ya(m,v,S)}finally{Vs=!1,(bn!==null||Tr!==null)&&(hl(),Uc())}}function Es(m,v){var S=m.stateNode;if(S===null)return null;var k=vp(S);if(k===null)return null;S=k[v];e:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(m=m.type,k=!(m==="button"||m==="input"||m==="select"||m==="textarea")),m=!k;break e;default:m=!1}if(m)return null;if(S&&typeof S!="function")throw Error(r(231,v,typeof S));return S}var Co=!1;if(o)try{var pi={};Object.defineProperty(pi,"passive",{get:function(){Co=!0}}),window.addEventListener("test",pi,pi),window.removeEventListener("test",pi,pi)}catch{Co=!1}function Hs(m,v,S,k,z,H,ie,be,Pe){var Ke=Array.prototype.slice.call(arguments,3);try{v.apply(S,Ke)}catch(ht){this.onError(ht)}}var cn=!1,Zn=null,ha=!1,rc=null,$c={onError:function(m){cn=!0,Zn=m}};function _o(m,v,S,k,z,H,ie,be,Pe){cn=!1,Zn=null,Hs.apply($c,arguments)}function pl(m,v,S,k,z,H,ie,be,Pe){if(_o.apply(this,arguments),cn){if(cn){var Ke=Zn;cn=!1,Zn=null}else throw Error(r(198));ha||(ha=!0,rc=Ke)}}function Ka(m){var v=m,S=m;if(m.alternate)for(;v.return;)v=v.return;else{m=v;do v=m,(v.flags&4098)!==0&&(S=v.return),m=v.return;while(m)}return v.tag===3?S:null}function Gs(m){if(m.tag===13){var v=m.memoizedState;if(v===null&&(m=m.alternate,m!==null&&(v=m.memoizedState)),v!==null)return v.dehydrated}return null}function Ps(m){if(Ka(m)!==m)throw Error(r(188))}function Yu(m){var v=m.alternate;if(!v){if(v=Ka(m),v===null)throw Error(r(188));return v!==m?null:m}for(var S=m,k=v;;){var z=S.return;if(z===null)break;var H=z.alternate;if(H===null){if(k=z.return,k!==null){S=k;continue}break}if(z.child===H.child){for(H=z.child;H;){if(H===S)return Ps(z),m;if(H===k)return Ps(z),v;H=H.sibling}throw Error(r(188))}if(S.return!==k.return)S=z,k=H;else{for(var ie=!1,be=z.child;be;){if(be===S){ie=!0,S=z,k=H;break}if(be===k){ie=!0,k=z,S=H;break}be=be.sibling}if(!ie){for(be=H.child;be;){if(be===S){ie=!0,S=H,k=z;break}if(be===k){ie=!0,k=H,S=z;break}be=be.sibling}if(!ie)throw Error(r(189))}}if(S.alternate!==k)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?m:v}function Eo(m){return m=Yu(m),m!==null?qc(m):null}function qc(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var v=qc(m);if(v!==null)return v;m=m.sibling}return null}var Ku=t.unstable_scheduleCallback,Xu=t.unstable_cancelCallback,Sf=t.unstable_shouldYield,yv=t.unstable_requestPaint,mn=t.unstable_now,Hm=t.unstable_getCurrentPriorityLevel,jf=t.unstable_ImmediatePriority,ks=t.unstable_UserBlockingPriority,Vc=t.unstable_NormalPriority,Gm=t.unstable_LowPriority,Cf=t.unstable_IdlePriority,Ju=null,As=null;function Ym(m){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(Ju,m,void 0,(m.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:Km,bv=Math.log,pa=Math.LN2;function Km(m){return m>>>=0,m===0?32:31-(bv(m)/pa|0)|0}var Zu=64,Ys=4194304;function Po(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function Xi(m,v){var S=m.pendingLanes;if(S===0)return 0;var k=0,z=m.suspendedLanes,H=m.pingedLanes,ie=S&268435455;if(ie!==0){var be=ie&~z;be!==0?k=Po(be):(H&=ie,H!==0&&(k=Po(H)))}else ie=S&~z,ie!==0?k=Po(ie):H!==0&&(k=Po(H));if(k===0)return 0;if(v!==0&&v!==k&&(v&z)===0&&(z=k&-k,H=v&-v,z>=H||z===16&&(H&4194240)!==0))return v;if((k&4)!==0&&(k|=S&16),v=m.entangledLanes,v!==0)for(m=m.entanglements,v&=k;0<v;)S=31-mi(v),z=1<<S,k|=m[S],v&=~z;return k}function Qu(m,v){switch(m){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qn(m,v){for(var S=m.suspendedLanes,k=m.pingedLanes,z=m.expirationTimes,H=m.pendingLanes;0<H;){var ie=31-mi(H),be=1<<ie,Pe=z[ie];Pe===-1?((be&S)===0||(be&k)!==0)&&(z[ie]=Qu(be,v)):Pe<=v&&(m.expiredLanes|=be),H&=~be}}function ed(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function Xm(){var m=Zu;return Zu<<=1,(Zu&4194240)===0&&(Zu=64),m}function Qh(m){for(var v=[],S=0;31>S;S++)v.push(m);return v}function td(m,v,S){m.pendingLanes|=v,v!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,v=31-mi(v),m[v]=S}function ml(m,v){var S=m.pendingLanes&~v;m.pendingLanes=v,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=v,m.mutableReadLanes&=v,m.entangledLanes&=v,v=m.entanglements;var k=m.eventTimes;for(m=m.expirationTimes;0<S;){var z=31-mi(S),H=1<<z;v[z]=0,k[z]=-1,m[z]=-1,S&=~H}}function _f(m,v){var S=m.entangledLanes|=v;for(m=m.entanglements;S;){var k=31-mi(S),z=1<<k;z&v|m[k]&v&&(m[k]|=v),S&=~z}}var Or=0;function nc(m){return m&=-m,1<m?4<m?(m&268435455)!==0?16:536870912:4:1}var Ef,ep,Jm,Zm,Pf,ac=!1,ko=[],gl=null,Ji=null,Ks=null,tr=new Map,rd=new Map,vl=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qm(m,v){switch(m){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":tr.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(v.pointerId)}}function Ds(m,v,S,k,z,H){return m===null||m.nativeEvent!==H?(m={blockedOn:v,domEventName:S,eventSystemFlags:k,nativeEvent:H,targetContainers:[z]},v!==null&&(v=Uf(v),v!==null&&ep(v)),m):(m.eventSystemFlags|=k,v=m.targetContainers,z!==null&&v.indexOf(z)===-1&&v.push(z),m)}function ic(m,v,S,k,z){switch(v){case"focusin":return gl=Ds(gl,m,v,S,k,z),!0;case"dragenter":return Ji=Ds(Ji,m,v,S,k,z),!0;case"mouseover":return Ks=Ds(Ks,m,v,S,k,z),!0;case"pointerover":var H=z.pointerId;return tr.set(H,Ds(tr.get(H)||null,m,v,S,k,z)),!0;case"gotpointercapture":return H=z.pointerId,rd.set(H,Ds(rd.get(H)||null,m,v,S,k,z)),!0}return!1}function eg(m){var v=tu(m.target);if(v!==null){var S=Ka(v);if(S!==null){if(v=S.tag,v===13){if(v=Gs(S),v!==null){m.blockedOn=v,Pf(m.priority,function(){Jm(S)});return}}else if(v===3&&S.stateNode.current.memoizedState.isDehydrated){m.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}m.blockedOn=null}function kf(m){if(m.blockedOn!==null)return!1;for(var v=m.targetContainers;0<v.length;){var S=ad(m.domEventName,m.eventSystemFlags,v[0],m.nativeEvent);if(S===null){S=m.nativeEvent;var k=new S.constructor(S.type,S);wr=k,S.target.dispatchEvent(k),wr=null}else return v=Uf(S),v!==null&&ep(v),m.blockedOn=S,!1;v.shift()}return!0}function nd(m,v,S){kf(m)&&S.delete(v)}function tp(){ac=!1,gl!==null&&kf(gl)&&(gl=null),Ji!==null&&kf(Ji)&&(Ji=null),Ks!==null&&kf(Ks)&&(Ks=null),tr.forEach(nd),rd.forEach(nd)}function Ao(m,v){m.blockedOn===v&&(m.blockedOn=null,ac||(ac=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tp)))}function xl(m){function v(z){return Ao(z,m)}if(0<ko.length){Ao(ko[0],m);for(var S=1;S<ko.length;S++){var k=ko[S];k.blockedOn===m&&(k.blockedOn=null)}}for(gl!==null&&Ao(gl,m),Ji!==null&&Ao(Ji,m),Ks!==null&&Ao(Ks,m),tr.forEach(v),rd.forEach(v),S=0;S<vl.length;S++)k=vl[S],k.blockedOn===m&&(k.blockedOn=null);for(;0<vl.length&&(S=vl[0],S.blockedOn===null);)eg(S),S.blockedOn===null&&vl.shift()}var Do=w.ReactCurrentBatchConfig,Af=!0;function rp(m,v,S,k){var z=Or,H=Do.transition;Do.transition=null;try{Or=1,sc(m,v,S,k)}finally{Or=z,Do.transition=H}}function np(m,v,S,k){var z=Or,H=Do.transition;Do.transition=null;try{Or=4,sc(m,v,S,k)}finally{Or=z,Do.transition=H}}function sc(m,v,S,k){if(Af){var z=ad(m,v,S,k);if(z===null)pp(m,v,k,yl,S),Qm(m,k);else if(ic(z,m,v,S,k))k.stopPropagation();else if(Qm(m,k),v&4&&-1<wv.indexOf(m)){for(;z!==null;){var H=Uf(z);if(H!==null&&Ef(H),H=ad(m,v,S,k),H===null&&pp(m,v,k,yl,S),H===z)break;z=H}z!==null&&k.stopPropagation()}else pp(m,v,k,null,S)}}var yl=null;function ad(m,v,S,k){if(yl=null,m=cr(k),m=tu(m),m!==null)if(v=Ka(m),v===null)m=null;else if(S=v.tag,S===13){if(m=Gs(v),m!==null)return m;m=null}else if(S===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;m=null}else v!==m&&(m=null);return yl=m,null}function id(m){switch(m){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hm()){case jf:return 1;case ks:return 4;case Vc:case Gm:return 16;case Cf:return 536870912;default:return 16}default:return 16}}var Xs=null,oc=null,sd=null;function ap(){if(sd)return sd;var m,v=oc,S=v.length,k,z="value"in Xs?Xs.value:Xs.textContent,H=z.length;for(m=0;m<S&&v[m]===z[m];m++);var ie=S-m;for(k=1;k<=ie&&v[S-k]===z[H-k];k++);return sd=z.slice(m,1<k?1-k:void 0)}function Js(m){var v=m.keyCode;return"charCode"in m?(m=m.charCode,m===0&&v===13&&(m=13)):m=v,m===10&&(m=13),32<=m||m===13?m:0}function Zs(){return!0}function ip(){return!1}function gi(m){function v(S,k,z,H,ie){this._reactName=S,this._targetInst=z,this.type=k,this.nativeEvent=H,this.target=ie,this.currentTarget=null;for(var be in m)m.hasOwnProperty(be)&&(S=m[be],this[be]=S?S(H):H[be]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Zs:ip,this.isPropagationStopped=ip,this}return se(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),v}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(m){return m.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=gi(Qs),B=se({},Qs,{view:0,detail:0}),ne=gi(B),xe,je,Le,rt=se({},B,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hc,button:0,buttons:0,relatedTarget:function(m){return m.relatedTarget===void 0?m.fromElement===m.srcElement?m.toElement:m.fromElement:m.relatedTarget},movementX:function(m){return"movementX"in m?m.movementX:(m!==Le&&(Le&&m.type==="mousemove"?(xe=m.screenX-Le.screenX,je=m.screenY-Le.screenY):je=xe=0,Le=m),xe)},movementY:function(m){return"movementY"in m?m.movementY:je}}),ut=gi(rt),Tt=se({},rt,{dataTransfer:0}),zt=gi(Tt),sr=se({},B,{relatedTarget:0}),or=gi(sr),Br=se({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),kn=gi(Br),ma=se({},Qs,{clipboardData:function(m){return"clipboardData"in m?m.clipboardData:window.clipboardData}}),un=gi(ma),_a=se({},Qs,{data:0}),ea=gi(_a),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tg(m){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(m):(m=Zi[m])?!!v[m]:!1}function Hc(){return tg}var od=se({},B,{key:function(m){if(m.key){var v=Xa[m.key]||m.key;if(v!=="Unidentified")return v}return m.type==="keypress"?(m=Js(m),m===13?"Enter":String.fromCharCode(m)):m.type==="keydown"||m.type==="keyup"?eo[m.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hc,charCode:function(m){return m.type==="keypress"?Js(m):0},keyCode:function(m){return m.type==="keydown"||m.type==="keyup"?m.keyCode:0},which:function(m){return m.type==="keypress"?Js(m):m.type==="keydown"||m.type==="keyup"?m.keyCode:0}}),Gc=gi(od),ld=se({},rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=gi(ld),cd=se({},B,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hc}),vi=gi(cd),ud=se({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dd=gi(ud),sp=se({},rt,{deltaX:function(m){return"deltaX"in m?m.deltaX:"wheelDeltaX"in m?-m.wheelDeltaX:0},deltaY:function(m){return"deltaY"in m?m.deltaY:"wheelDeltaY"in m?-m.wheelDeltaY:"wheelDelta"in m?-m.wheelDelta:0},deltaZ:0,deltaMode:0}),op=gi(sp),Bn=[9,13,27,32],To=o&&"CompositionEvent"in window,bl=null;o&&"documentMode"in document&&(bl=document.documentMode);var rg=o&&"TextEvent"in window&&!bl,Ts=o&&(!To||bl&&8<bl&&11>=bl),Kc=" ",Tf=!1;function Of(m,v){switch(m){case"keyup":return Bn.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(m){return m=m.detail,typeof m=="object"&&"data"in m?m.data:null}var to=!1;function Os(m,v){switch(m){case"compositionend":return lc(v);case"keypress":return v.which!==32?null:(Tf=!0,Kc);case"textInput":return m=v.data,m===Kc&&Tf?null:m;default:return null}}function Is(m,v){if(to)return m==="compositionend"||!To&&Of(m,v)?(m=ap(),sd=oc=Xs=null,to=!1,m):null;switch(m){case"paste":return null;case"keypress":if(!(v.ctrlKey||v.altKey||v.metaKey)||v.ctrlKey&&v.altKey){if(v.char&&1<v.char.length)return v.char;if(v.which)return String.fromCharCode(v.which)}return null;case"compositionend":return Ts&&v.locale!=="ko"?null:v.data;default:return null}}var Xc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wl(m){var v=m&&m.nodeName&&m.nodeName.toLowerCase();return v==="input"?!!Xc[m.type]:v==="textarea"}function cc(m,v,S,k){Fr(k),v=og(v,"onChange"),0<v.length&&(S=new Df("onChange","change",null,S,k),m.push({event:S,listeners:v}))}var uc=null,Nl=null;function ta(m){fp(m,0)}function fd(m){var v=Nd(m);if(Se(v))return m}function Sl(m,v){if(m==="change")return v}var Oo=!1;if(o){var hd;if(o){var pd="oninput"in document;if(!pd){var If=document.createElement("div");If.setAttribute("oninput","return;"),pd=typeof If.oninput=="function"}hd=pd}else hd=!1;Oo=hd&&(!document.documentMode||9<document.documentMode)}function Mf(){uc&&(uc.detachEvent("onpropertychange",dc),Nl=uc=null)}function dc(m){if(m.propertyName==="value"&&fd(Nl)){var v=[];cc(v,Nl,m,cr(m)),Zt(ta,v)}}function Jc(m,v,S){m==="focusin"?(Mf(),uc=v,Nl=S,uc.attachEvent("onpropertychange",dc)):m==="focusout"&&Mf()}function Zc(m){if(m==="selectionchange"||m==="keyup"||m==="keydown")return fd(Nl)}function md(m,v){if(m==="click")return fd(v)}function Qc(m,v){if(m==="input"||m==="change")return fd(v)}function gd(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var zn=typeof Object.is=="function"?Object.is:gd;function Qi(m,v){if(zn(m,v))return!0;if(typeof m!="object"||m===null||typeof v!="object"||v===null)return!1;var S=Object.keys(m),k=Object.keys(v);if(S.length!==k.length)return!1;for(k=0;k<S.length;k++){var z=S[k];if(!l.call(v,z)||!zn(m[z],v[z]))return!1}return!0}function zr(m){for(;m&&m.firstChild;)m=m.firstChild;return m}function Zr(m,v){var S=zr(m);m=0;for(var k;S;){if(S.nodeType===3){if(k=m+S.textContent.length,m<=v&&k>=v)return{node:S,offset:v-m};m=k}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=zr(S)}}function Wn(m,v){return m&&v?m===v?!0:m&&m.nodeType===3?!1:v&&v.nodeType===3?Wn(m,v.parentNode):"contains"in m?m.contains(v):m.compareDocumentPosition?!!(m.compareDocumentPosition(v)&16):!1:!1}function ga(){for(var m=window,v=Ge();v instanceof m.HTMLIFrameElement;){try{var S=typeof v.contentWindow.location.href=="string"}catch{S=!1}if(S)m=v.contentWindow;else break;v=Ge(m.document)}return v}function Io(m){var v=m&&m.nodeName&&m.nodeName.toLowerCase();return v&&(v==="input"&&(m.type==="text"||m.type==="search"||m.type==="tel"||m.type==="url"||m.type==="password")||v==="textarea"||m.contentEditable==="true")}function lp(m){var v=ga(),S=m.focusedElem,k=m.selectionRange;if(v!==S&&S&&S.ownerDocument&&Wn(S.ownerDocument.documentElement,S)){if(k!==null&&Io(S)){if(v=k.start,m=k.end,m===void 0&&(m=v),"selectionStart"in S)S.selectionStart=v,S.selectionEnd=Math.min(m,S.value.length);else if(m=(v=S.ownerDocument||document)&&v.defaultView||window,m.getSelection){m=m.getSelection();var z=S.textContent.length,H=Math.min(k.start,z);k=k.end===void 0?H:Math.min(k.end,z),!m.extend&&H>k&&(z=k,k=H,H=z),z=Zr(S,H);var ie=Zr(S,k);z&&ie&&(m.rangeCount!==1||m.anchorNode!==z.node||m.anchorOffset!==z.offset||m.focusNode!==ie.node||m.focusOffset!==ie.offset)&&(v=v.createRange(),v.setStart(z.node,z.offset),m.removeAllRanges(),H>k?(m.addRange(v),m.extend(ie.node,ie.offset)):(v.setEnd(ie.node,ie.offset),m.addRange(v)))}}for(v=[],m=S;m=m.parentNode;)m.nodeType===1&&v.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<v.length;S++)m=v[S],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var Rf=o&&"documentMode"in document&&11>=document.documentMode,fc=null,ng=null,Lf=null,ag=!1;function Nv(m,v,S){var k=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;ag||fc==null||fc!==Ge(k)||(k=fc,"selectionStart"in k&&Io(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Lf&&Qi(Lf,k)||(Lf=k,k=og(ng,"onSelect"),0<k.length&&(v=new Df("onSelect","select",null,v,S),m.push({event:v,listeners:k}),v.target=fc)))}function cp(m,v){var S={};return S[m.toLowerCase()]=v.toLowerCase(),S["Webkit"+m]="webkit"+v,S["Moz"+m]="moz"+v,S}var vd={animationend:cp("Animation","AnimationEnd"),animationiteration:cp("Animation","AnimationIteration"),animationstart:cp("Animation","AnimationStart"),transitionend:cp("Transition","TransitionEnd")},xd={},Sv={};o&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete vd.animationend.animation,delete vd.animationiteration.animation,delete vd.animationstart.animation),"TransitionEvent"in window||delete vd.transitionend.transition);function up(m){if(xd[m])return xd[m];if(!vd[m])return m;var v=vd[m],S;for(S in v)if(v.hasOwnProperty(S)&&S in Sv)return xd[m]=v[S];return m}var jv=up("animationend"),Cv=up("animationiteration"),_v=up("animationstart"),Ev=up("transitionend"),Pv=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(m,v){Pv.set(m,v),i(v,[m])}for(var Ff=0;Ff<kv.length;Ff++){var Oi=kv[Ff],ro=Oi.toLowerCase(),ig=Oi[0].toUpperCase()+Oi.slice(1);jl(ro,"on"+ig)}jl(jv,"onAnimationEnd"),jl(Cv,"onAnimationIteration"),jl(_v,"onAnimationStart"),jl("dblclick","onDoubleClick"),jl("focusin","onFocus"),jl("focusout","onBlur"),jl(Ev,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G1=new Set("cancel close invalid load scroll toggle".split(" ").concat(eu));function dp(m,v,S){var k=m.type||"unknown-event";m.currentTarget=S,pl(k,v,void 0,m),m.currentTarget=null}function fp(m,v){v=(v&4)!==0;for(var S=0;S<m.length;S++){var k=m[S],z=k.event;k=k.listeners;e:{var H=void 0;if(v)for(var ie=k.length-1;0<=ie;ie--){var be=k[ie],Pe=be.instance,Ke=be.currentTarget;if(be=be.listener,Pe!==H&&z.isPropagationStopped())break e;dp(z,be,Ke),H=Pe}else for(ie=0;ie<k.length;ie++){if(be=k[ie],Pe=be.instance,Ke=be.currentTarget,be=be.listener,Pe!==H&&z.isPropagationStopped())break e;dp(z,be,Ke),H=Pe}}}if(ha)throw m=rc,ha=!1,rc=null,m}function nn(m,v){var S=v[ts];S===void 0&&(S=v[ts]=new Set);var k=m+"__bubble";S.has(k)||(hp(v,m,2,!1),S.add(k))}function sg(m,v,S){var k=0;v&&(k|=4),hp(S,m,k,v)}var Bf="_reactListening"+Math.random().toString(36).slice(2);function yd(m){if(!m[Bf]){m[Bf]=!0,n.forEach(function(S){S!=="selectionchange"&&(G1.has(S)||sg(S,!1,m),sg(S,!0,m))});var v=m.nodeType===9?m:m.ownerDocument;v===null||v[Bf]||(v[Bf]=!0,sg("selectionchange",!1,v))}}function hp(m,v,S,k){switch(id(v)){case 1:var z=rp;break;case 4:z=np;break;default:z=sc}S=z.bind(null,v,S,m),z=void 0,!Co||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(z=!0),k?z!==void 0?m.addEventListener(v,S,{capture:!0,passive:z}):m.addEventListener(v,S,!0):z!==void 0?m.addEventListener(v,S,{passive:z}):m.addEventListener(v,S,!1)}function pp(m,v,S,k,z){var H=k;if((v&1)===0&&(v&2)===0&&k!==null)e:for(;;){if(k===null)return;var ie=k.tag;if(ie===3||ie===4){var be=k.stateNode.containerInfo;if(be===z||be.nodeType===8&&be.parentNode===z)break;if(ie===4)for(ie=k.return;ie!==null;){var Pe=ie.tag;if((Pe===3||Pe===4)&&(Pe=ie.stateNode.containerInfo,Pe===z||Pe.nodeType===8&&Pe.parentNode===z))return;ie=ie.return}for(;be!==null;){if(ie=tu(be),ie===null)return;if(Pe=ie.tag,Pe===5||Pe===6){k=H=ie;continue e}be=be.parentNode}}k=k.return}Zt(function(){var Ke=H,ht=cr(S),mt=[];e:{var ft=Pv.get(m);if(ft!==void 0){var Ct=Df,It=m;switch(m){case"keypress":if(Js(S)===0)break e;case"keydown":case"keyup":Ct=Gc;break;case"focusin":It="focus",Ct=or;break;case"focusout":It="blur",Ct=or;break;case"beforeblur":case"afterblur":Ct=or;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=vi;break;case jv:case Cv:case _v:Ct=kn;break;case Ev:Ct=dd;break;case"scroll":Ct=ne;break;case"wheel":Ct=op;break;case"copy":case"cut":case"paste":Ct=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=Yc}var Ft=(v&4)!==0,ka=!Ft&&m==="scroll",Ue=Ft?ft!==null?ft+"Capture":null:ft;Ft=[];for(var Ie=Ke,qe;Ie!==null;){qe=Ie;var xt=qe.stateNode;if(qe.tag===5&&xt!==null&&(qe=xt,Ue!==null&&(xt=Es(Ie,Ue),xt!=null&&Ft.push(mp(Ie,xt,qe)))),ka)break;Ie=Ie.return}0<Ft.length&&(ft=new Ct(ft,It,null,S,ht),mt.push({event:ft,listeners:Ft}))}}if((v&7)===0){e:{if(ft=m==="mouseover"||m==="pointerover",Ct=m==="mouseout"||m==="pointerout",ft&&S!==wr&&(It=S.relatedTarget||S.fromElement)&&(tu(It)||It[xi]))break e;if((Ct||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,Ct?(It=S.relatedTarget||S.toElement,Ct=Ke,It=It?tu(It):null,It!==null&&(ka=Ka(It),It!==ka||It.tag!==5&&It.tag!==6)&&(It=null)):(Ct=null,It=Ke),Ct!==It)){if(Ft=ut,xt="onMouseLeave",Ue="onMouseEnter",Ie="mouse",(m==="pointerout"||m==="pointerover")&&(Ft=Yc,xt="onPointerLeave",Ue="onPointerEnter",Ie="pointer"),ka=Ct==null?ft:Nd(Ct),qe=It==null?ft:Nd(It),ft=new Ft(xt,Ie+"leave",Ct,S,ht),ft.target=ka,ft.relatedTarget=qe,xt=null,tu(ht)===Ke&&(Ft=new Ft(Ue,Ie+"enter",It,S,ht),Ft.target=qe,Ft.relatedTarget=ka,xt=Ft),ka=xt,Ct&&It)t:{for(Ft=Ct,Ue=It,Ie=0,qe=Ft;qe;qe=bd(qe))Ie++;for(qe=0,xt=Ue;xt;xt=bd(xt))qe++;for(;0<Ie-qe;)Ft=bd(Ft),Ie--;for(;0<qe-Ie;)Ue=bd(Ue),qe--;for(;Ie--;){if(Ft===Ue||Ue!==null&&Ft===Ue.alternate)break t;Ft=bd(Ft),Ue=bd(Ue)}Ft=null}else Ft=null;Ct!==null&&Y1(mt,ft,Ct,Ft,!1),It!==null&&ka!==null&&Y1(mt,ka,It,Ft,!0)}}e:{if(ft=Ke?Nd(Ke):window,Ct=ft.nodeName&&ft.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&ft.type==="file")var Vt=Sl;else if(wl(ft))if(Oo)Vt=Qc;else{Vt=Zc;var Qt=Jc}else(Ct=ft.nodeName)&&Ct.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Vt=md);if(Vt&&(Vt=Vt(m,Ke))){cc(mt,Vt,S,ht);break e}Qt&&Qt(m,ft,Ke),m==="focusout"&&(Qt=ft._wrapperState)&&Qt.controlled&&ft.type==="number"&&De(ft,"number",ft.value)}switch(Qt=Ke?Nd(Ke):window,m){case"focusin":(wl(Qt)||Qt.contentEditable==="true")&&(fc=Qt,ng=Ke,Lf=null);break;case"focusout":Lf=ng=fc=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,Nv(mt,S,ht);break;case"selectionchange":if(Rf)break;case"keydown":case"keyup":Nv(mt,S,ht)}var er;if(To)e:{switch(m){case"compositionstart":var ur="onCompositionStart";break e;case"compositionend":ur="onCompositionEnd";break e;case"compositionupdate":ur="onCompositionUpdate";break e}ur=void 0}else to?Of(m,S)&&(ur="onCompositionEnd"):m==="keydown"&&S.keyCode===229&&(ur="onCompositionStart");ur&&(Ts&&S.locale!=="ko"&&(to||ur!=="onCompositionStart"?ur==="onCompositionEnd"&&to&&(er=ap()):(Xs=ht,oc="value"in Xs?Xs.value:Xs.textContent,to=!0)),Qt=og(Ke,ur),0<Qt.length&&(ur=new ea(ur,m,null,S,ht),mt.push({event:ur,listeners:Qt}),er?ur.data=er:(er=lc(S),er!==null&&(ur.data=er)))),(er=rg?Os(m,S):Is(m,S))&&(Ke=og(Ke,"onBeforeInput"),0<Ke.length&&(ht=new ea("onBeforeInput","beforeinput",null,S,ht),mt.push({event:ht,listeners:Ke}),ht.data=er))}fp(mt,v)})}function mp(m,v,S){return{instance:m,listener:v,currentTarget:S}}function og(m,v){for(var S=v+"Capture",k=[];m!==null;){var z=m,H=z.stateNode;z.tag===5&&H!==null&&(z=H,H=Es(m,S),H!=null&&k.unshift(mp(m,H,z)),H=Es(m,v),H!=null&&k.push(mp(m,H,z))),m=m.return}return k}function bd(m){if(m===null)return null;do m=m.return;while(m&&m.tag!==5);return m||null}function Y1(m,v,S,k,z){for(var H=v._reactName,ie=[];S!==null&&S!==k;){var be=S,Pe=be.alternate,Ke=be.stateNode;if(Pe!==null&&Pe===k)break;be.tag===5&&Ke!==null&&(be=Ke,z?(Pe=Es(S,H),Pe!=null&&ie.unshift(mp(S,Pe,be))):z||(Pe=Es(S,H),Pe!=null&&ie.push(mp(S,Pe,be)))),S=S.return}ie.length!==0&&m.push({event:v,listeners:ie})}var q3=/\r\n?/g,V3=/\u0000|\uFFFD/g;function K1(m){return(typeof m=="string"?m:""+m).replace(q3,`
`).replace(V3,"")}function lg(m,v,S){if(v=K1(v),K1(m)!==v&&S)throw Error(r(425))}function zf(){}var gp=null,wd=null;function Av(m,v){return m==="textarea"||m==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Dv=typeof setTimeout=="function"?setTimeout:void 0,X1=typeof clearTimeout=="function"?clearTimeout:void 0,J1=typeof Promise=="function"?Promise:void 0,H3=typeof queueMicrotask=="function"?queueMicrotask:typeof J1<"u"?function(m){return J1.resolve(null).then(m).catch(G3)}:Dv;function G3(m){setTimeout(function(){throw m})}function Tv(m,v){var S=v,k=0;do{var z=S.nextSibling;if(m.removeChild(S),z&&z.nodeType===8)if(S=z.data,S==="/$"){if(k===0){m.removeChild(z),xl(v);return}k--}else S!=="$"&&S!=="$?"&&S!=="$!"||k++;S=z}while(S);xl(v)}function Ii(m){for(;m!=null;m=m.nextSibling){var v=m.nodeType;if(v===1||v===3)break;if(v===8){if(v=m.data,v==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return m}function no(m){m=m.previousSibling;for(var v=0;m;){if(m.nodeType===8){var S=m.data;if(S==="$"||S==="$!"||S==="$?"){if(v===0)return m;v--}else S==="/$"&&v++}m=m.previousSibling}return null}var es=Math.random().toString(36).slice(2),Cl="__reactFiber$"+es,Wf="__reactProps$"+es,xi="__reactContainer$"+es,ts="__reactEvents$"+es,Y3="__reactListeners$"+es,K3="__reactHandles$"+es;function tu(m){var v=m[Cl];if(v)return v;for(var S=m.parentNode;S;){if(v=S[xi]||S[Cl]){if(S=v.alternate,v.child!==null||S!==null&&S.child!==null)for(m=no(m);m!==null;){if(S=m[Cl])return S;m=no(m)}return v}m=S,S=m.parentNode}return null}function Uf(m){return m=m[Cl]||m[xi],!m||m.tag!==5&&m.tag!==6&&m.tag!==13&&m.tag!==3?null:m}function Nd(m){if(m.tag===5||m.tag===6)return m.stateNode;throw Error(r(33))}function vp(m){return m[Wf]||null}var Ov=[],hc=-1;function Mo(m){return{current:m}}function Xr(m){0>hc||(m.current=Ov[hc],Ov[hc]=null,hc--)}function Qr(m,v){hc++,Ov[hc]=m.current,m.current=v}var ru={},Ja=Mo(ru),rs=Mo(!1),Sd=ru;function $f(m,v){var S=m.type.contextTypes;if(!S)return ru;var k=m.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===v)return k.__reactInternalMemoizedMaskedChildContext;var z={},H;for(H in S)z[H]=v[H];return k&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=v,m.__reactInternalMemoizedMaskedChildContext=z),z}function ns(m){return m=m.childContextTypes,m!=null}function cg(){Xr(rs),Xr(Ja)}function Z1(m,v,S){if(Ja.current!==ru)throw Error(r(168));Qr(Ja,v),Qr(rs,S)}function Iv(m,v,S){var k=m.stateNode;if(v=v.childContextTypes,typeof k.getChildContext!="function")return S;k=k.getChildContext();for(var z in k)if(!(z in v))throw Error(r(108,ae(m)||"Unknown",z));return se({},S,k)}function jd(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||ru,Sd=Ja.current,Qr(Ja,m),Qr(rs,rs.current),!0}function Q1(m,v,S){var k=m.stateNode;if(!k)throw Error(r(169));S?(m=Iv(m,v,Sd),k.__reactInternalMemoizedMergedChildContext=m,Xr(rs),Xr(Ja),Qr(Ja,m)):Xr(rs),Qr(rs,S)}var pc=null,xp=!1,_=!1;function M(m){pc===null?pc=[m]:pc.push(m)}function $(m){xp=!0,M(m)}function G(){if(!_&&pc!==null){_=!0;var m=0,v=Or;try{var S=pc;for(Or=1;m<S.length;m++){var k=S[m];do k=k(!0);while(k!==null)}pc=null,xp=!1}catch(z){throw pc!==null&&(pc=pc.slice(m+1)),Ku(jf,G),z}finally{Or=v,_=!1}}return null}var re=[],oe=0,ce=null,ue=0,fe=[],ge=0,Ee=null,We=1,ve="";function Te(m,v){re[oe++]=ue,re[oe++]=ce,ce=m,ue=v}function Be(m,v,S){fe[ge++]=We,fe[ge++]=ve,fe[ge++]=Ee,Ee=m;var k=We;m=ve;var z=32-mi(k)-1;k&=~(1<<z),S+=1;var H=32-mi(v)+z;if(30<H){var ie=z-z%5;H=(k&(1<<ie)-1).toString(32),k>>=ie,z-=ie,We=1<<32-mi(v)+z|S<<z|k,ve=H+m}else We=1<<H|S<<z|k,ve=m}function tt(m){m.return!==null&&(Te(m,1),Be(m,1,0))}function $e(m){for(;m===ce;)ce=re[--oe],re[oe]=null,ue=re[--oe],re[oe]=null;for(;m===Ee;)Ee=fe[--ge],fe[ge]=null,ve=fe[--ge],fe[ge]=null,We=fe[--ge],fe[ge]=null}var Ze=null,et=null,it=!1,ot=null;function Wt(m,v){var S=Al(5,null,null,0);S.elementType="DELETED",S.stateNode=v,S.return=m,v=m.deletions,v===null?(m.deletions=[S],m.flags|=16):v.push(S)}function _t(m,v){switch(m.tag){case 5:var S=m.type;return v=v.nodeType!==1||S.toLowerCase()!==v.nodeName.toLowerCase()?null:v,v!==null?(m.stateNode=v,Ze=m,et=Ii(v.firstChild),!0):!1;case 6:return v=m.pendingProps===""||v.nodeType!==3?null:v,v!==null?(m.stateNode=v,Ze=m,et=null,!0):!1;case 13:return v=v.nodeType!==8?null:v,v!==null?(S=Ee!==null?{id:We,overflow:ve}:null,m.memoizedState={dehydrated:v,treeContext:S,retryLane:1073741824},S=Al(18,null,null,0),S.stateNode=v,S.return=m,m.child=S,Ze=m,et=null,!0):!1;default:return!1}}function hr(m){return(m.mode&1)!==0&&(m.flags&128)===0}function Ot(m){if(it){var v=et;if(v){var S=v;if(!_t(m,v)){if(hr(m))throw Error(r(418));v=Ii(S.nextSibling);var k=Ze;v&&_t(m,v)?Wt(k,S):(m.flags=m.flags&-4097|2,it=!1,Ze=m)}}else{if(hr(m))throw Error(r(418));m.flags=m.flags&-4097|2,it=!1,Ze=m}}}function Sr(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;Ze=m}function Un(m){if(m!==Ze)return!1;if(!it)return Sr(m),it=!0,!1;var v;if((v=m.tag!==3)&&!(v=m.tag!==5)&&(v=m.type,v=v!=="head"&&v!=="body"&&!Av(m.type,m.memoizedProps)),v&&(v=et)){if(hr(m))throw gr(),Error(r(418));for(;v;)Wt(m,v),v=Ii(v.nextSibling)}if(Sr(m),m.tag===13){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));e:{for(m=m.nextSibling,v=0;m;){if(m.nodeType===8){var S=m.data;if(S==="/$"){if(v===0){et=Ii(m.nextSibling);break e}v--}else S!=="$"&&S!=="$!"&&S!=="$?"||v++}m=m.nextSibling}et=null}}else et=Ze?Ii(m.stateNode.nextSibling):null;return!0}function gr(){for(var m=et;m;)m=Ii(m.nextSibling)}function Et(){et=Ze=null,it=!1}function bt(m){ot===null?ot=[m]:ot.push(m)}var ra=w.ReactCurrentBatchConfig;function ar(m,v,S){if(m=S.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var k=S.stateNode}if(!k)throw Error(r(147,m));var z=k,H=""+m;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===H?v.ref:(v=function(ie){var be=z.refs;ie===null?delete be[H]:be[H]=ie},v._stringRef=H,v)}if(typeof m!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,m))}return m}function Nr(m,v){throw m=Object.prototype.toString.call(v),Error(r(31,m==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":m))}function dn(m){var v=m._init;return v(m._payload)}function Ba(m){function v(Ue,Ie){if(m){var qe=Ue.deletions;qe===null?(Ue.deletions=[Ie],Ue.flags|=16):qe.push(Ie)}}function S(Ue,Ie){if(!m)return null;for(;Ie!==null;)v(Ue,Ie),Ie=Ie.sibling;return null}function k(Ue,Ie){for(Ue=new Map;Ie!==null;)Ie.key!==null?Ue.set(Ie.key,Ie):Ue.set(Ie.index,Ie),Ie=Ie.sibling;return Ue}function z(Ue,Ie){return Ue=Qf(Ue,Ie),Ue.index=0,Ue.sibling=null,Ue}function H(Ue,Ie,qe){return Ue.index=qe,m?(qe=Ue.alternate,qe!==null?(qe=qe.index,qe<Ie?(Ue.flags|=2,Ie):qe):(Ue.flags|=2,Ie)):(Ue.flags|=1048576,Ie)}function ie(Ue){return m&&Ue.alternate===null&&(Ue.flags|=2),Ue}function be(Ue,Ie,qe,xt){return Ie===null||Ie.tag!==6?(Ie=jN(qe,Ue.mode,xt),Ie.return=Ue,Ie):(Ie=z(Ie,qe),Ie.return=Ue,Ie)}function Pe(Ue,Ie,qe,xt){var Vt=qe.type;return Vt===I?ht(Ue,Ie,qe.props.children,xt,qe.key):Ie!==null&&(Ie.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===te&&dn(Vt)===Ie.type)?(xt=z(Ie,qe.props),xt.ref=ar(Ue,Ie,qe),xt.return=Ue,xt):(xt=y2(qe.type,qe.key,qe.props,null,Ue.mode,xt),xt.ref=ar(Ue,Ie,qe),xt.return=Ue,xt)}function Ke(Ue,Ie,qe,xt){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==qe.containerInfo||Ie.stateNode.implementation!==qe.implementation?(Ie=CN(qe,Ue.mode,xt),Ie.return=Ue,Ie):(Ie=z(Ie,qe.children||[]),Ie.return=Ue,Ie)}function ht(Ue,Ie,qe,xt,Vt){return Ie===null||Ie.tag!==7?(Ie=_p(qe,Ue.mode,xt,Vt),Ie.return=Ue,Ie):(Ie=z(Ie,qe),Ie.return=Ue,Ie)}function mt(Ue,Ie,qe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=jN(""+Ie,Ue.mode,qe),Ie.return=Ue,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return qe=y2(Ie.type,Ie.key,Ie.props,null,Ue.mode,qe),qe.ref=ar(Ue,null,Ie),qe.return=Ue,qe;case E:return Ie=CN(Ie,Ue.mode,qe),Ie.return=Ue,Ie;case te:var xt=Ie._init;return mt(Ue,xt(Ie._payload),qe)}if(me(Ie)||Q(Ie))return Ie=_p(Ie,Ue.mode,qe,null),Ie.return=Ue,Ie;Nr(Ue,Ie)}return null}function ft(Ue,Ie,qe,xt){var Vt=Ie!==null?Ie.key:null;if(typeof qe=="string"&&qe!==""||typeof qe=="number")return Vt!==null?null:be(Ue,Ie,""+qe,xt);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:return qe.key===Vt?Pe(Ue,Ie,qe,xt):null;case E:return qe.key===Vt?Ke(Ue,Ie,qe,xt):null;case te:return Vt=qe._init,ft(Ue,Ie,Vt(qe._payload),xt)}if(me(qe)||Q(qe))return Vt!==null?null:ht(Ue,Ie,qe,xt,null);Nr(Ue,qe)}return null}function Ct(Ue,Ie,qe,xt,Vt){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return Ue=Ue.get(qe)||null,be(Ie,Ue,""+xt,Vt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case C:return Ue=Ue.get(xt.key===null?qe:xt.key)||null,Pe(Ie,Ue,xt,Vt);case E:return Ue=Ue.get(xt.key===null?qe:xt.key)||null,Ke(Ie,Ue,xt,Vt);case te:var Qt=xt._init;return Ct(Ue,Ie,qe,Qt(xt._payload),Vt)}if(me(xt)||Q(xt))return Ue=Ue.get(qe)||null,ht(Ie,Ue,xt,Vt,null);Nr(Ie,xt)}return null}function It(Ue,Ie,qe,xt){for(var Vt=null,Qt=null,er=Ie,ur=Ie=0,Si=null;er!==null&&ur<qe.length;ur++){er.index>ur?(Si=er,er=null):Si=er.sibling;var qr=ft(Ue,er,qe[ur],xt);if(qr===null){er===null&&(er=Si);break}m&&er&&qr.alternate===null&&v(Ue,er),Ie=H(qr,Ie,ur),Qt===null?Vt=qr:Qt.sibling=qr,Qt=qr,er=Si}if(ur===qe.length)return S(Ue,er),it&&Te(Ue,ur),Vt;if(er===null){for(;ur<qe.length;ur++)er=mt(Ue,qe[ur],xt),er!==null&&(Ie=H(er,Ie,ur),Qt===null?Vt=er:Qt.sibling=er,Qt=er);return it&&Te(Ue,ur),Vt}for(er=k(Ue,er);ur<qe.length;ur++)Si=Ct(er,Ue,ur,qe[ur],xt),Si!==null&&(m&&Si.alternate!==null&&er.delete(Si.key===null?ur:Si.key),Ie=H(Si,Ie,ur),Qt===null?Vt=Si:Qt.sibling=Si,Qt=Si);return m&&er.forEach(function(eh){return v(Ue,eh)}),it&&Te(Ue,ur),Vt}function Ft(Ue,Ie,qe,xt){var Vt=Q(qe);if(typeof Vt!="function")throw Error(r(150));if(qe=Vt.call(qe),qe==null)throw Error(r(151));for(var Qt=Vt=null,er=Ie,ur=Ie=0,Si=null,qr=qe.next();er!==null&&!qr.done;ur++,qr=qe.next()){er.index>ur?(Si=er,er=null):Si=er.sibling;var eh=ft(Ue,er,qr.value,xt);if(eh===null){er===null&&(er=Si);break}m&&er&&eh.alternate===null&&v(Ue,er),Ie=H(eh,Ie,ur),Qt===null?Vt=eh:Qt.sibling=eh,Qt=eh,er=Si}if(qr.done)return S(Ue,er),it&&Te(Ue,ur),Vt;if(er===null){for(;!qr.done;ur++,qr=qe.next())qr=mt(Ue,qr.value,xt),qr!==null&&(Ie=H(qr,Ie,ur),Qt===null?Vt=qr:Qt.sibling=qr,Qt=qr);return it&&Te(Ue,ur),Vt}for(er=k(Ue,er);!qr.done;ur++,qr=qe.next())qr=Ct(er,Ue,ur,qr.value,xt),qr!==null&&(m&&qr.alternate!==null&&er.delete(qr.key===null?ur:qr.key),Ie=H(qr,Ie,ur),Qt===null?Vt=qr:Qt.sibling=qr,Qt=qr);return m&&er.forEach(function(hle){return v(Ue,hle)}),it&&Te(Ue,ur),Vt}function ka(Ue,Ie,qe,xt){if(typeof qe=="object"&&qe!==null&&qe.type===I&&qe.key===null&&(qe=qe.props.children),typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:e:{for(var Vt=qe.key,Qt=Ie;Qt!==null;){if(Qt.key===Vt){if(Vt=qe.type,Vt===I){if(Qt.tag===7){S(Ue,Qt.sibling),Ie=z(Qt,qe.props.children),Ie.return=Ue,Ue=Ie;break e}}else if(Qt.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===te&&dn(Vt)===Qt.type){S(Ue,Qt.sibling),Ie=z(Qt,qe.props),Ie.ref=ar(Ue,Qt,qe),Ie.return=Ue,Ue=Ie;break e}S(Ue,Qt);break}else v(Ue,Qt);Qt=Qt.sibling}qe.type===I?(Ie=_p(qe.props.children,Ue.mode,xt,qe.key),Ie.return=Ue,Ue=Ie):(xt=y2(qe.type,qe.key,qe.props,null,Ue.mode,xt),xt.ref=ar(Ue,Ie,qe),xt.return=Ue,Ue=xt)}return ie(Ue);case E:e:{for(Qt=qe.key;Ie!==null;){if(Ie.key===Qt)if(Ie.tag===4&&Ie.stateNode.containerInfo===qe.containerInfo&&Ie.stateNode.implementation===qe.implementation){S(Ue,Ie.sibling),Ie=z(Ie,qe.children||[]),Ie.return=Ue,Ue=Ie;break e}else{S(Ue,Ie);break}else v(Ue,Ie);Ie=Ie.sibling}Ie=CN(qe,Ue.mode,xt),Ie.return=Ue,Ue=Ie}return ie(Ue);case te:return Qt=qe._init,ka(Ue,Ie,Qt(qe._payload),xt)}if(me(qe))return It(Ue,Ie,qe,xt);if(Q(qe))return Ft(Ue,Ie,qe,xt);Nr(Ue,qe)}return typeof qe=="string"&&qe!==""||typeof qe=="number"?(qe=""+qe,Ie!==null&&Ie.tag===6?(S(Ue,Ie.sibling),Ie=z(Ie,qe),Ie.return=Ue,Ue=Ie):(S(Ue,Ie),Ie=jN(qe,Ue.mode,xt),Ie.return=Ue,Ue=Ie),ie(Ue)):S(Ue,Ie)}return ka}var va=Ba(!0),An=Ba(!1),Ea=Mo(null),za=null,wn=null,Er=null;function Wr(){Er=wn=za=null}function Nn(m){var v=Ea.current;Xr(Ea),m._currentValue=v}function Ur(m,v,S){for(;m!==null;){var k=m.alternate;if((m.childLanes&v)!==v?(m.childLanes|=v,k!==null&&(k.childLanes|=v)):k!==null&&(k.childLanes&v)!==v&&(k.childLanes|=v),m===S)break;m=m.return}}function $n(m,v){za=m,Er=wn=null,m=m.dependencies,m!==null&&m.firstContext!==null&&((m.lanes&v)!==0&&(io=!0),m.firstContext=null)}function qn(m){var v=m._currentValue;if(Er!==m)if(m={context:m,memoizedValue:v,next:null},wn===null){if(za===null)throw Error(r(308));wn=m,za.dependencies={lanes:0,firstContext:m}}else wn=wn.next=m;return v}var an=null;function yi(m){an===null?an=[m]:an.push(m)}function en(m,v,S,k){var z=v.interleaved;return z===null?(S.next=S,yi(v)):(S.next=z.next,z.next=S),v.interleaved=S,sn(m,k)}function sn(m,v){m.lanes|=v;var S=m.alternate;for(S!==null&&(S.lanes|=v),S=m,m=m.return;m!==null;)m.childLanes|=v,S=m.alternate,S!==null&&(S.childLanes|=v),S=m,m=m.return;return S.tag===3?S.stateNode:null}var xa=!1;function Za(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function as(m,v){m=m.updateQueue,v.updateQueue===m&&(v.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function na(m,v){return{eventTime:m,lane:v,tag:0,payload:null,callback:null,next:null}}function aa(m,v,S){var k=m.updateQueue;if(k===null)return null;if(k=k.shared,($r&2)!==0){var z=k.pending;return z===null?v.next=v:(v.next=z.next,z.next=v),k.pending=v,sn(m,S)}return z=k.interleaved,z===null?(v.next=v,yi(k)):(v.next=z.next,z.next=v),k.interleaved=v,sn(m,S)}function bi(m,v,S){if(v=v.updateQueue,v!==null&&(v=v.shared,(S&4194240)!==0)){var k=v.lanes;k&=m.pendingLanes,S|=k,v.lanes=S,_f(m,S)}}function on(m,v){var S=m.updateQueue,k=m.alternate;if(k!==null&&(k=k.updateQueue,S===k)){var z=null,H=null;if(S=S.firstBaseUpdate,S!==null){do{var ie={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};H===null?z=H=ie:H=H.next=ie,S=S.next}while(S!==null);H===null?z=H=v:H=H.next=v}else z=H=v;S={baseState:k.baseState,firstBaseUpdate:z,lastBaseUpdate:H,shared:k.shared,effects:k.effects},m.updateQueue=S;return}m=S.lastBaseUpdate,m===null?S.firstBaseUpdate=v:m.next=v,S.lastBaseUpdate=v}function wi(m,v,S,k){var z=m.updateQueue;xa=!1;var H=z.firstBaseUpdate,ie=z.lastBaseUpdate,be=z.shared.pending;if(be!==null){z.shared.pending=null;var Pe=be,Ke=Pe.next;Pe.next=null,ie===null?H=Ke:ie.next=Ke,ie=Pe;var ht=m.alternate;ht!==null&&(ht=ht.updateQueue,be=ht.lastBaseUpdate,be!==ie&&(be===null?ht.firstBaseUpdate=Ke:be.next=Ke,ht.lastBaseUpdate=Pe))}if(H!==null){var mt=z.baseState;ie=0,ht=Ke=Pe=null,be=H;do{var ft=be.lane,Ct=be.eventTime;if((k&ft)===ft){ht!==null&&(ht=ht.next={eventTime:Ct,lane:0,tag:be.tag,payload:be.payload,callback:be.callback,next:null});e:{var It=m,Ft=be;switch(ft=v,Ct=S,Ft.tag){case 1:if(It=Ft.payload,typeof It=="function"){mt=It.call(Ct,mt,ft);break e}mt=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Ft.payload,ft=typeof It=="function"?It.call(Ct,mt,ft):It,ft==null)break e;mt=se({},mt,ft);break e;case 2:xa=!0}}be.callback!==null&&be.lane!==0&&(m.flags|=64,ft=z.effects,ft===null?z.effects=[be]:ft.push(be))}else Ct={eventTime:Ct,lane:ft,tag:be.tag,payload:be.payload,callback:be.callback,next:null},ht===null?(Ke=ht=Ct,Pe=mt):ht=ht.next=Ct,ie|=ft;if(be=be.next,be===null){if(be=z.shared.pending,be===null)break;ft=be,be=ft.next,ft.next=null,z.lastBaseUpdate=ft,z.shared.pending=null}}while(!0);if(ht===null&&(Pe=mt),z.baseState=Pe,z.firstBaseUpdate=Ke,z.lastBaseUpdate=ht,v=z.shared.interleaved,v!==null){z=v;do ie|=z.lane,z=z.next;while(z!==v)}else H===null&&(z.shared.lanes=0);Np|=ie,m.lanes=ie,m.memoizedState=mt}}function ao(m,v,S){if(m=v.effects,v.effects=null,m!==null)for(v=0;v<m.length;v++){var k=m[v],z=k.callback;if(z!==null){if(k.callback=null,k=S,typeof z!="function")throw Error(r(191,z));z.call(k)}}}var Ro={},Wa=Mo(Ro),ia=Mo(Ro),nu=Mo(Ro);function mc(m){if(m===Ro)throw Error(r(174));return m}function qf(m,v){switch(Qr(nu,v),Qr(ia,m),Qr(Wa,Ro),m=v.nodeType,m){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Fe(null,"");break;default:m=m===8?v.parentNode:v,v=m.namespaceURI||null,m=m.tagName,v=Fe(v,m)}Xr(Wa),Qr(Wa,v)}function _l(){Xr(Wa),Xr(ia),Xr(nu)}function e2(m){mc(nu.current);var v=mc(Wa.current),S=Fe(v,m.type);v!==S&&(Qr(ia,m),Qr(Wa,S))}function Mv(m){ia.current===m&&(Xr(Wa),Xr(ia))}var gn=Mo(0);function Lo(m){for(var v=m;v!==null;){if(v.tag===13){var S=v.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var Rv=[];function Lv(){for(var m=0;m<Rv.length;m++)Rv[m]._workInProgressVersionPrimary=null;Rv.length=0}var ug=w.ReactCurrentDispatcher,dg=w.ReactCurrentBatchConfig,El=0,Sn=null,ya=null,sa=null,Vf=!1,gc=!1,Hf=0,X3=0;function Pa(){throw Error(r(321))}function fg(m,v){if(v===null)return!1;for(var S=0;S<v.length&&S<m.length;S++)if(!zn(m[S],v[S]))return!1;return!0}function yp(m,v,S,k,z,H){if(El=H,Sn=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,ug.current=m===null||m.memoizedState===null?Boe:zoe,m=S(k,z),gc){H=0;do{if(gc=!1,Hf=0,25<=H)throw Error(r(301));H+=1,sa=ya=null,v.updateQueue=null,ug.current=Woe,m=S(k,z)}while(gc)}if(ug.current=i2,v=ya!==null&&ya.next!==null,El=0,sa=ya=Sn=null,Vf=!1,v)throw Error(r(300));return m}function Pl(){var m=Hf!==0;return Hf=0,m}function Fo(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?Sn.memoizedState=sa=m:sa=sa.next=m,sa}function Ms(){if(ya===null){var m=Sn.alternate;m=m!==null?m.memoizedState:null}else m=ya.next;var v=sa===null?Sn.memoizedState:sa.next;if(v!==null)sa=v,ya=m;else{if(m===null)throw Error(r(310));ya=m,m={memoizedState:ya.memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},sa===null?Sn.memoizedState=sa=m:sa=sa.next=m}return sa}function bp(m,v){return typeof v=="function"?v(m):v}function hg(m){var v=Ms(),S=v.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=m;var k=ya,z=k.baseQueue,H=S.pending;if(H!==null){if(z!==null){var ie=z.next;z.next=H.next,H.next=ie}k.baseQueue=z=H,S.pending=null}if(z!==null){H=z.next,k=k.baseState;var be=ie=null,Pe=null,Ke=H;do{var ht=Ke.lane;if((El&ht)===ht)Pe!==null&&(Pe=Pe.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),k=Ke.hasEagerState?Ke.eagerState:m(k,Ke.action);else{var mt={lane:ht,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};Pe===null?(be=Pe=mt,ie=k):Pe=Pe.next=mt,Sn.lanes|=ht,Np|=ht}Ke=Ke.next}while(Ke!==null&&Ke!==H);Pe===null?ie=k:Pe.next=be,zn(k,v.memoizedState)||(io=!0),v.memoizedState=k,v.baseState=ie,v.baseQueue=Pe,S.lastRenderedState=k}if(m=S.interleaved,m!==null){z=m;do H=z.lane,Sn.lanes|=H,Np|=H,z=z.next;while(z!==m)}else z===null&&(S.lanes=0);return[v.memoizedState,S.dispatch]}function au(m){var v=Ms(),S=v.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=m;var k=S.dispatch,z=S.pending,H=v.memoizedState;if(z!==null){S.pending=null;var ie=z=z.next;do H=m(H,ie.action),ie=ie.next;while(ie!==z);zn(H,v.memoizedState)||(io=!0),v.memoizedState=H,v.baseQueue===null&&(v.baseState=H),S.lastRenderedState=H}return[H,k]}function t2(){}function Fv(m,v){var S=Sn,k=Ms(),z=v(),H=!zn(k.memoizedState,z);if(H&&(k.memoizedState=z,io=!0),k=k.queue,gg(n2.bind(null,S,k,m),[m]),k.getSnapshot!==v||H||sa!==null&&sa.memoizedState.tag&1){if(S.flags|=2048,Rs(9,Bv.bind(null,S,k,z,v),void 0,null),Ni===null)throw Error(r(349));(El&30)!==0||r2(S,v,z)}return z}function r2(m,v,S){m.flags|=16384,m={getSnapshot:v,value:S},v=Sn.updateQueue,v===null?(v={lastEffect:null,stores:null},Sn.updateQueue=v,v.stores=[m]):(S=v.stores,S===null?v.stores=[m]:S.push(m))}function Bv(m,v,S,k){v.value=S,v.getSnapshot=k,Gf(v)&&pg(m)}function n2(m,v,S){return S(function(){Gf(v)&&pg(m)})}function Gf(m){var v=m.getSnapshot;m=m.value;try{var S=v();return!zn(m,S)}catch{return!0}}function pg(m){var v=sn(m,1);v!==null&&wc(v,m,1,-1)}function wp(m){var v=Fo();return typeof m=="function"&&(m=m()),v.memoizedState=v.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:m},v.queue=m,m=m.dispatch=Foe.bind(null,Sn,m),[v.memoizedState,m]}function Rs(m,v,S,k){return m={tag:m,create:v,destroy:S,deps:k,next:null},v=Sn.updateQueue,v===null?(v={lastEffect:null,stores:null},Sn.updateQueue=v,v.lastEffect=m.next=m):(S=v.lastEffect,S===null?v.lastEffect=m.next=m:(k=S.next,S.next=m,m.next=k,v.lastEffect=m)),m}function vc(){return Ms().memoizedState}function Bo(m,v,S,k){var z=Fo();Sn.flags|=m,z.memoizedState=Rs(1|v,S,void 0,k===void 0?null:k)}function Cd(m,v,S,k){var z=Ms();k=k===void 0?null:k;var H=void 0;if(ya!==null){var ie=ya.memoizedState;if(H=ie.destroy,k!==null&&fg(k,ie.deps)){z.memoizedState=Rs(v,S,H,k);return}}Sn.flags|=m,z.memoizedState=Rs(1|v,S,H,k)}function mg(m,v){return Bo(8390656,8,m,v)}function gg(m,v){return Cd(2048,8,m,v)}function a2(m,v){return Cd(4,2,m,v)}function vg(m,v){return Cd(4,4,m,v)}function xg(m,v){if(typeof v=="function")return m=m(),v(m),function(){v(null)};if(v!=null)return m=m(),v.current=m,function(){v.current=null}}function BM(m,v,S){return S=S!=null?S.concat([m]):null,Cd(4,4,xg.bind(null,v,m),S)}function J3(){}function zM(m,v){var S=Ms();v=v===void 0?null:v;var k=S.memoizedState;return k!==null&&v!==null&&fg(v,k[1])?k[0]:(S.memoizedState=[m,v],m)}function WM(m,v){var S=Ms();v=v===void 0?null:v;var k=S.memoizedState;return k!==null&&v!==null&&fg(v,k[1])?k[0]:(m=m(),S.memoizedState=[m,v],m)}function UM(m,v,S){return(El&21)===0?(m.baseState&&(m.baseState=!1,io=!0),m.memoizedState=S):(zn(S,v)||(S=Xm(),Sn.lanes|=S,Np|=S,m.baseState=!0),v)}function Roe(m,v){var S=Or;Or=S!==0&&4>S?S:4,m(!0);var k=dg.transition;dg.transition={};try{m(!1),v()}finally{Or=S,dg.transition=k}}function $M(){return Ms().memoizedState}function Loe(m,v,S){var k=Jf(m);if(S={lane:k,action:S,hasEagerState:!1,eagerState:null,next:null},qM(m))VM(v,S);else if(S=en(m,v,S,k),S!==null){var z=Fs();wc(S,m,k,z),HM(S,v,k)}}function Foe(m,v,S){var k=Jf(m),z={lane:k,action:S,hasEagerState:!1,eagerState:null,next:null};if(qM(m))VM(v,z);else{var H=m.alternate;if(m.lanes===0&&(H===null||H.lanes===0)&&(H=v.lastRenderedReducer,H!==null))try{var ie=v.lastRenderedState,be=H(ie,S);if(z.hasEagerState=!0,z.eagerState=be,zn(be,ie)){var Pe=v.interleaved;Pe===null?(z.next=z,yi(v)):(z.next=Pe.next,Pe.next=z),v.interleaved=z;return}}catch{}finally{}S=en(m,v,z,k),S!==null&&(z=Fs(),wc(S,m,k,z),HM(S,v,k))}}function qM(m){var v=m.alternate;return m===Sn||v!==null&&v===Sn}function VM(m,v){gc=Vf=!0;var S=m.pending;S===null?v.next=v:(v.next=S.next,S.next=v),m.pending=v}function HM(m,v,S){if((S&4194240)!==0){var k=v.lanes;k&=m.pendingLanes,S|=k,v.lanes=S,_f(m,S)}}var i2={readContext:qn,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useInsertionEffect:Pa,useLayoutEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useMutableSource:Pa,useSyncExternalStore:Pa,useId:Pa,unstable_isNewReconciler:!1},Boe={readContext:qn,useCallback:function(m,v){return Fo().memoizedState=[m,v===void 0?null:v],m},useContext:qn,useEffect:mg,useImperativeHandle:function(m,v,S){return S=S!=null?S.concat([m]):null,Bo(4194308,4,xg.bind(null,v,m),S)},useLayoutEffect:function(m,v){return Bo(4194308,4,m,v)},useInsertionEffect:function(m,v){return Bo(4,2,m,v)},useMemo:function(m,v){var S=Fo();return v=v===void 0?null:v,m=m(),S.memoizedState=[m,v],m},useReducer:function(m,v,S){var k=Fo();return v=S!==void 0?S(v):v,k.memoizedState=k.baseState=v,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:v},k.queue=m,m=m.dispatch=Loe.bind(null,Sn,m),[k.memoizedState,m]},useRef:function(m){var v=Fo();return m={current:m},v.memoizedState=m},useState:wp,useDebugValue:J3,useDeferredValue:function(m){return Fo().memoizedState=m},useTransition:function(){var m=wp(!1),v=m[0];return m=Roe.bind(null,m[1]),Fo().memoizedState=m,[v,m]},useMutableSource:function(){},useSyncExternalStore:function(m,v,S){var k=Sn,z=Fo();if(it){if(S===void 0)throw Error(r(407));S=S()}else{if(S=v(),Ni===null)throw Error(r(349));(El&30)!==0||r2(k,v,S)}z.memoizedState=S;var H={value:S,getSnapshot:v};return z.queue=H,mg(n2.bind(null,k,H,m),[m]),k.flags|=2048,Rs(9,Bv.bind(null,k,H,S,v),void 0,null),S},useId:function(){var m=Fo(),v=Ni.identifierPrefix;if(it){var S=ve,k=We;S=(k&~(1<<32-mi(k)-1)).toString(32)+S,v=":"+v+"R"+S,S=Hf++,0<S&&(v+="H"+S.toString(32)),v+=":"}else S=X3++,v=":"+v+"r"+S.toString(32)+":";return m.memoizedState=v},unstable_isNewReconciler:!1},zoe={readContext:qn,useCallback:zM,useContext:qn,useEffect:gg,useImperativeHandle:BM,useInsertionEffect:a2,useLayoutEffect:vg,useMemo:WM,useReducer:hg,useRef:vc,useState:function(){return hg(bp)},useDebugValue:J3,useDeferredValue:function(m){var v=Ms();return UM(v,ya.memoizedState,m)},useTransition:function(){var m=hg(bp)[0],v=Ms().memoizedState;return[m,v]},useMutableSource:t2,useSyncExternalStore:Fv,useId:$M,unstable_isNewReconciler:!1},Woe={readContext:qn,useCallback:zM,useContext:qn,useEffect:gg,useImperativeHandle:BM,useInsertionEffect:a2,useLayoutEffect:vg,useMemo:WM,useReducer:au,useRef:vc,useState:function(){return au(bp)},useDebugValue:J3,useDeferredValue:function(m){var v=Ms();return ya===null?v.memoizedState=m:UM(v,ya.memoizedState,m)},useTransition:function(){var m=au(bp)[0],v=Ms().memoizedState;return[m,v]},useMutableSource:t2,useSyncExternalStore:Fv,useId:$M,unstable_isNewReconciler:!1};function xc(m,v){if(m&&m.defaultProps){v=se({},v),m=m.defaultProps;for(var S in m)v[S]===void 0&&(v[S]=m[S]);return v}return v}function Z3(m,v,S,k){v=m.memoizedState,S=S(k,v),S=S==null?v:se({},v,S),m.memoizedState=S,m.lanes===0&&(m.updateQueue.baseState=S)}var s2={isMounted:function(m){return(m=m._reactInternals)?Ka(m)===m:!1},enqueueSetState:function(m,v,S){m=m._reactInternals;var k=Fs(),z=Jf(m),H=na(k,z);H.payload=v,S!=null&&(H.callback=S),v=aa(m,H,z),v!==null&&(wc(v,m,z,k),bi(v,m,z))},enqueueReplaceState:function(m,v,S){m=m._reactInternals;var k=Fs(),z=Jf(m),H=na(k,z);H.tag=1,H.payload=v,S!=null&&(H.callback=S),v=aa(m,H,z),v!==null&&(wc(v,m,z,k),bi(v,m,z))},enqueueForceUpdate:function(m,v){m=m._reactInternals;var S=Fs(),k=Jf(m),z=na(S,k);z.tag=2,v!=null&&(z.callback=v),v=aa(m,z,k),v!==null&&(wc(v,m,k,S),bi(v,m,k))}};function GM(m,v,S,k,z,H,ie){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(k,H,ie):v.prototype&&v.prototype.isPureReactComponent?!Qi(S,k)||!Qi(z,H):!0}function YM(m,v,S){var k=!1,z=ru,H=v.contextType;return typeof H=="object"&&H!==null?H=qn(H):(z=ns(v)?Sd:Ja.current,k=v.contextTypes,H=(k=k!=null)?$f(m,z):ru),v=new v(S,H),m.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=s2,m.stateNode=v,v._reactInternals=m,k&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=z,m.__reactInternalMemoizedMaskedChildContext=H),v}function KM(m,v,S,k){m=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(S,k),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(S,k),v.state!==m&&s2.enqueueReplaceState(v,v.state,null)}function Q3(m,v,S,k){var z=m.stateNode;z.props=S,z.state=m.memoizedState,z.refs={},Za(m);var H=v.contextType;typeof H=="object"&&H!==null?z.context=qn(H):(H=ns(v)?Sd:Ja.current,z.context=$f(m,H)),z.state=m.memoizedState,H=v.getDerivedStateFromProps,typeof H=="function"&&(Z3(m,v,H,S),z.state=m.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(v=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),v!==z.state&&s2.enqueueReplaceState(z,z.state,null),wi(m,S,z,k),z.state=m.memoizedState),typeof z.componentDidMount=="function"&&(m.flags|=4194308)}function yg(m,v){try{var S="",k=v;do S+=Y(k),k=k.return;while(k);var z=S}catch(H){z=`
Error generating stack: `+H.message+`
`+H.stack}return{value:m,source:v,stack:z,digest:null}}function eN(m,v,S){return{value:m,source:null,stack:S??null,digest:v??null}}function tN(m,v){try{console.error(v.value)}catch(S){setTimeout(function(){throw S})}}var Uoe=typeof WeakMap=="function"?WeakMap:Map;function XM(m,v,S){S=na(-1,S),S.tag=3,S.payload={element:null};var k=v.value;return S.callback=function(){h2||(h2=!0,gN=k),tN(m,v)},S}function JM(m,v,S){S=na(-1,S),S.tag=3;var k=m.type.getDerivedStateFromError;if(typeof k=="function"){var z=v.value;S.payload=function(){return k(z)},S.callback=function(){tN(m,v)}}var H=m.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(S.callback=function(){tN(m,v),typeof k!="function"&&(Kf===null?Kf=new Set([this]):Kf.add(this));var ie=v.stack;this.componentDidCatch(v.value,{componentStack:ie!==null?ie:""})}),S}function ZM(m,v,S){var k=m.pingCache;if(k===null){k=m.pingCache=new Uoe;var z=new Set;k.set(v,z)}else z=k.get(v),z===void 0&&(z=new Set,k.set(v,z));z.has(S)||(z.add(S),m=rle.bind(null,m,v,S),v.then(m,m))}function QM(m){do{var v;if((v=m.tag===13)&&(v=m.memoizedState,v=v!==null?v.dehydrated!==null:!0),v)return m;m=m.return}while(m!==null);return null}function eR(m,v,S,k,z){return(m.mode&1)===0?(m===v?m.flags|=65536:(m.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(v=na(-1,1),v.tag=2,aa(S,v,1))),S.lanes|=1),m):(m.flags|=65536,m.lanes=z,m)}var $oe=w.ReactCurrentOwner,io=!1;function Ls(m,v,S,k){v.child=m===null?An(v,null,S,k):va(v,m.child,S,k)}function tR(m,v,S,k,z){S=S.render;var H=v.ref;return $n(v,z),k=yp(m,v,S,k,H,z),S=Pl(),m!==null&&!io?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~z,_d(m,v,z)):(it&&S&&tt(v),v.flags|=1,Ls(m,v,k,z),v.child)}function rR(m,v,S,k,z){if(m===null){var H=S.type;return typeof H=="function"&&!SN(H)&&H.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(v.tag=15,v.type=H,nR(m,v,H,k,z)):(m=y2(S.type,null,k,v,v.mode,z),m.ref=v.ref,m.return=v,v.child=m)}if(H=m.child,(m.lanes&z)===0){var ie=H.memoizedProps;if(S=S.compare,S=S!==null?S:Qi,S(ie,k)&&m.ref===v.ref)return _d(m,v,z)}return v.flags|=1,m=Qf(H,k),m.ref=v.ref,m.return=v,v.child=m}function nR(m,v,S,k,z){if(m!==null){var H=m.memoizedProps;if(Qi(H,k)&&m.ref===v.ref)if(io=!1,v.pendingProps=k=H,(m.lanes&z)!==0)(m.flags&131072)!==0&&(io=!0);else return v.lanes=m.lanes,_d(m,v,z)}return rN(m,v,S,k,z)}function aR(m,v,S){var k=v.pendingProps,z=k.children,H=m!==null?m.memoizedState:null;if(k.mode==="hidden")if((v.mode&1)===0)v.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qr(wg,zo),zo|=S;else{if((S&1073741824)===0)return m=H!==null?H.baseLanes|S:S,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:m,cachePool:null,transitions:null},v.updateQueue=null,Qr(wg,zo),zo|=m,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=H!==null?H.baseLanes:S,Qr(wg,zo),zo|=k}else H!==null?(k=H.baseLanes|S,v.memoizedState=null):k=S,Qr(wg,zo),zo|=k;return Ls(m,v,z,S),v.child}function iR(m,v){var S=v.ref;(m===null&&S!==null||m!==null&&m.ref!==S)&&(v.flags|=512,v.flags|=2097152)}function rN(m,v,S,k,z){var H=ns(S)?Sd:Ja.current;return H=$f(v,H),$n(v,z),S=yp(m,v,S,k,H,z),k=Pl(),m!==null&&!io?(v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~z,_d(m,v,z)):(it&&k&&tt(v),v.flags|=1,Ls(m,v,S,z),v.child)}function sR(m,v,S,k,z){if(ns(S)){var H=!0;jd(v)}else H=!1;if($n(v,z),v.stateNode===null)l2(m,v),YM(v,S,k),Q3(v,S,k,z),k=!0;else if(m===null){var ie=v.stateNode,be=v.memoizedProps;ie.props=be;var Pe=ie.context,Ke=S.contextType;typeof Ke=="object"&&Ke!==null?Ke=qn(Ke):(Ke=ns(S)?Sd:Ja.current,Ke=$f(v,Ke));var ht=S.getDerivedStateFromProps,mt=typeof ht=="function"||typeof ie.getSnapshotBeforeUpdate=="function";mt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(be!==k||Pe!==Ke)&&KM(v,ie,k,Ke),xa=!1;var ft=v.memoizedState;ie.state=ft,wi(v,k,ie,z),Pe=v.memoizedState,be!==k||ft!==Pe||rs.current||xa?(typeof ht=="function"&&(Z3(v,S,ht,k),Pe=v.memoizedState),(be=xa||GM(v,S,be,k,ft,Pe,Ke))?(mt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(v.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=k,v.memoizedState=Pe),ie.props=k,ie.state=Pe,ie.context=Ke,k=be):(typeof ie.componentDidMount=="function"&&(v.flags|=4194308),k=!1)}else{ie=v.stateNode,as(m,v),be=v.memoizedProps,Ke=v.type===v.elementType?be:xc(v.type,be),ie.props=Ke,mt=v.pendingProps,ft=ie.context,Pe=S.contextType,typeof Pe=="object"&&Pe!==null?Pe=qn(Pe):(Pe=ns(S)?Sd:Ja.current,Pe=$f(v,Pe));var Ct=S.getDerivedStateFromProps;(ht=typeof Ct=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(be!==mt||ft!==Pe)&&KM(v,ie,k,Pe),xa=!1,ft=v.memoizedState,ie.state=ft,wi(v,k,ie,z);var It=v.memoizedState;be!==mt||ft!==It||rs.current||xa?(typeof Ct=="function"&&(Z3(v,S,Ct,k),It=v.memoizedState),(Ke=xa||GM(v,S,Ke,k,ft,It,Pe)||!1)?(ht||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(k,It,Pe),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(k,It,Pe)),typeof ie.componentDidUpdate=="function"&&(v.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof ie.componentDidUpdate!="function"||be===m.memoizedProps&&ft===m.memoizedState||(v.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||be===m.memoizedProps&&ft===m.memoizedState||(v.flags|=1024),v.memoizedProps=k,v.memoizedState=It),ie.props=k,ie.state=It,ie.context=Pe,k=Ke):(typeof ie.componentDidUpdate!="function"||be===m.memoizedProps&&ft===m.memoizedState||(v.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||be===m.memoizedProps&&ft===m.memoizedState||(v.flags|=1024),k=!1)}return nN(m,v,S,k,H,z)}function nN(m,v,S,k,z,H){iR(m,v);var ie=(v.flags&128)!==0;if(!k&&!ie)return z&&Q1(v,S,!1),_d(m,v,H);k=v.stateNode,$oe.current=v;var be=ie&&typeof S.getDerivedStateFromError!="function"?null:k.render();return v.flags|=1,m!==null&&ie?(v.child=va(v,m.child,null,H),v.child=va(v,null,be,H)):Ls(m,v,be,H),v.memoizedState=k.state,z&&Q1(v,S,!0),v.child}function oR(m){var v=m.stateNode;v.pendingContext?Z1(m,v.pendingContext,v.pendingContext!==v.context):v.context&&Z1(m,v.context,!1),qf(m,v.containerInfo)}function lR(m,v,S,k,z){return Et(),bt(z),v.flags|=256,Ls(m,v,S,k),v.child}var aN={dehydrated:null,treeContext:null,retryLane:0};function iN(m){return{baseLanes:m,cachePool:null,transitions:null}}function cR(m,v,S){var k=v.pendingProps,z=gn.current,H=!1,ie=(v.flags&128)!==0,be;if((be=ie)||(be=m!==null&&m.memoizedState===null?!1:(z&2)!==0),be?(H=!0,v.flags&=-129):(m===null||m.memoizedState!==null)&&(z|=1),Qr(gn,z&1),m===null)return Ot(v),m=v.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?((v.mode&1)===0?v.lanes=1:m.data==="$!"?v.lanes=8:v.lanes=1073741824,null):(ie=k.children,m=k.fallback,H?(k=v.mode,H=v.child,ie={mode:"hidden",children:ie},(k&1)===0&&H!==null?(H.childLanes=0,H.pendingProps=ie):H=b2(ie,k,0,null),m=_p(m,k,S,null),H.return=v,m.return=v,H.sibling=m,v.child=H,v.child.memoizedState=iN(S),v.memoizedState=aN,m):sN(v,ie));if(z=m.memoizedState,z!==null&&(be=z.dehydrated,be!==null))return qoe(m,v,ie,k,be,z,S);if(H){H=k.fallback,ie=v.mode,z=m.child,be=z.sibling;var Pe={mode:"hidden",children:k.children};return(ie&1)===0&&v.child!==z?(k=v.child,k.childLanes=0,k.pendingProps=Pe,v.deletions=null):(k=Qf(z,Pe),k.subtreeFlags=z.subtreeFlags&14680064),be!==null?H=Qf(be,H):(H=_p(H,ie,S,null),H.flags|=2),H.return=v,k.return=v,k.sibling=H,v.child=k,k=H,H=v.child,ie=m.child.memoizedState,ie=ie===null?iN(S):{baseLanes:ie.baseLanes|S,cachePool:null,transitions:ie.transitions},H.memoizedState=ie,H.childLanes=m.childLanes&~S,v.memoizedState=aN,k}return H=m.child,m=H.sibling,k=Qf(H,{mode:"visible",children:k.children}),(v.mode&1)===0&&(k.lanes=S),k.return=v,k.sibling=null,m!==null&&(S=v.deletions,S===null?(v.deletions=[m],v.flags|=16):S.push(m)),v.child=k,v.memoizedState=null,k}function sN(m,v){return v=b2({mode:"visible",children:v},m.mode,0,null),v.return=m,m.child=v}function o2(m,v,S,k){return k!==null&&bt(k),va(v,m.child,null,S),m=sN(v,v.pendingProps.children),m.flags|=2,v.memoizedState=null,m}function qoe(m,v,S,k,z,H,ie){if(S)return v.flags&256?(v.flags&=-257,k=eN(Error(r(422))),o2(m,v,ie,k)):v.memoizedState!==null?(v.child=m.child,v.flags|=128,null):(H=k.fallback,z=v.mode,k=b2({mode:"visible",children:k.children},z,0,null),H=_p(H,z,ie,null),H.flags|=2,k.return=v,H.return=v,k.sibling=H,v.child=k,(v.mode&1)!==0&&va(v,m.child,null,ie),v.child.memoizedState=iN(ie),v.memoizedState=aN,H);if((v.mode&1)===0)return o2(m,v,ie,null);if(z.data==="$!"){if(k=z.nextSibling&&z.nextSibling.dataset,k)var be=k.dgst;return k=be,H=Error(r(419)),k=eN(H,k,void 0),o2(m,v,ie,k)}if(be=(ie&m.childLanes)!==0,io||be){if(k=Ni,k!==null){switch(ie&-ie){case 4:z=2;break;case 16:z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:z=32;break;case 536870912:z=268435456;break;default:z=0}z=(z&(k.suspendedLanes|ie))!==0?0:z,z!==0&&z!==H.retryLane&&(H.retryLane=z,sn(m,z),wc(k,m,z,-1))}return NN(),k=eN(Error(r(421))),o2(m,v,ie,k)}return z.data==="$?"?(v.flags|=128,v.child=m.child,v=nle.bind(null,m),z._reactRetry=v,null):(m=H.treeContext,et=Ii(z.nextSibling),Ze=v,it=!0,ot=null,m!==null&&(fe[ge++]=We,fe[ge++]=ve,fe[ge++]=Ee,We=m.id,ve=m.overflow,Ee=v),v=sN(v,k.children),v.flags|=4096,v)}function uR(m,v,S){m.lanes|=v;var k=m.alternate;k!==null&&(k.lanes|=v),Ur(m.return,v,S)}function oN(m,v,S,k,z){var H=m.memoizedState;H===null?m.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:k,tail:S,tailMode:z}:(H.isBackwards=v,H.rendering=null,H.renderingStartTime=0,H.last=k,H.tail=S,H.tailMode=z)}function dR(m,v,S){var k=v.pendingProps,z=k.revealOrder,H=k.tail;if(Ls(m,v,k.children,S),k=gn.current,(k&2)!==0)k=k&1|2,v.flags|=128;else{if(m!==null&&(m.flags&128)!==0)e:for(m=v.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&uR(m,S,v);else if(m.tag===19)uR(m,S,v);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===v)break e;for(;m.sibling===null;){if(m.return===null||m.return===v)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}k&=1}if(Qr(gn,k),(v.mode&1)===0)v.memoizedState=null;else switch(z){case"forwards":for(S=v.child,z=null;S!==null;)m=S.alternate,m!==null&&Lo(m)===null&&(z=S),S=S.sibling;S=z,S===null?(z=v.child,v.child=null):(z=S.sibling,S.sibling=null),oN(v,!1,z,S,H);break;case"backwards":for(S=null,z=v.child,v.child=null;z!==null;){if(m=z.alternate,m!==null&&Lo(m)===null){v.child=z;break}m=z.sibling,z.sibling=S,S=z,z=m}oN(v,!0,S,null,H);break;case"together":oN(v,!1,null,null,void 0);break;default:v.memoizedState=null}return v.child}function l2(m,v){(v.mode&1)===0&&m!==null&&(m.alternate=null,v.alternate=null,v.flags|=2)}function _d(m,v,S){if(m!==null&&(v.dependencies=m.dependencies),Np|=v.lanes,(S&v.childLanes)===0)return null;if(m!==null&&v.child!==m.child)throw Error(r(153));if(v.child!==null){for(m=v.child,S=Qf(m,m.pendingProps),v.child=S,S.return=v;m.sibling!==null;)m=m.sibling,S=S.sibling=Qf(m,m.pendingProps),S.return=v;S.sibling=null}return v.child}function Voe(m,v,S){switch(v.tag){case 3:oR(v),Et();break;case 5:e2(v);break;case 1:ns(v.type)&&jd(v);break;case 4:qf(v,v.stateNode.containerInfo);break;case 10:var k=v.type._context,z=v.memoizedProps.value;Qr(Ea,k._currentValue),k._currentValue=z;break;case 13:if(k=v.memoizedState,k!==null)return k.dehydrated!==null?(Qr(gn,gn.current&1),v.flags|=128,null):(S&v.child.childLanes)!==0?cR(m,v,S):(Qr(gn,gn.current&1),m=_d(m,v,S),m!==null?m.sibling:null);Qr(gn,gn.current&1);break;case 19:if(k=(S&v.childLanes)!==0,(m.flags&128)!==0){if(k)return dR(m,v,S);v.flags|=128}if(z=v.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),Qr(gn,gn.current),k)break;return null;case 22:case 23:return v.lanes=0,aR(m,v,S)}return _d(m,v,S)}var fR,lN,hR,pR;fR=function(m,v){for(var S=v.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===v)break;for(;S.sibling===null;){if(S.return===null||S.return===v)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},lN=function(){},hR=function(m,v,S,k){var z=m.memoizedProps;if(z!==k){m=v.stateNode,mc(Wa.current);var H=null;switch(S){case"input":z=ke(m,z),k=ke(m,k),H=[];break;case"select":z=se({},z,{value:void 0}),k=se({},k,{value:void 0}),H=[];break;case"textarea":z=Ve(m,z),k=Ve(m,k),H=[];break;default:typeof z.onClick!="function"&&typeof k.onClick=="function"&&(m.onclick=zf)}Kr(S,k);var ie;S=null;for(Ke in z)if(!k.hasOwnProperty(Ke)&&z.hasOwnProperty(Ke)&&z[Ke]!=null)if(Ke==="style"){var be=z[Ke];for(ie in be)be.hasOwnProperty(ie)&&(S||(S={}),S[ie]="")}else Ke!=="dangerouslySetInnerHTML"&&Ke!=="children"&&Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&Ke!=="autoFocus"&&(a.hasOwnProperty(Ke)?H||(H=[]):(H=H||[]).push(Ke,null));for(Ke in k){var Pe=k[Ke];if(be=z?.[Ke],k.hasOwnProperty(Ke)&&Pe!==be&&(Pe!=null||be!=null))if(Ke==="style")if(be){for(ie in be)!be.hasOwnProperty(ie)||Pe&&Pe.hasOwnProperty(ie)||(S||(S={}),S[ie]="");for(ie in Pe)Pe.hasOwnProperty(ie)&&be[ie]!==Pe[ie]&&(S||(S={}),S[ie]=Pe[ie])}else S||(H||(H=[]),H.push(Ke,S)),S=Pe;else Ke==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,be=be?be.__html:void 0,Pe!=null&&be!==Pe&&(H=H||[]).push(Ke,Pe)):Ke==="children"?typeof Pe!="string"&&typeof Pe!="number"||(H=H||[]).push(Ke,""+Pe):Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ke)?(Pe!=null&&Ke==="onScroll"&&nn("scroll",m),H||be===Pe||(H=[])):(H=H||[]).push(Ke,Pe))}S&&(H=H||[]).push("style",S);var Ke=H;(v.updateQueue=Ke)&&(v.flags|=4)}},pR=function(m,v,S,k){S!==k&&(v.flags|=4)};function zv(m,v){if(!it)switch(m.tailMode){case"hidden":v=m.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?m.tail=null:S.sibling=null;break;case"collapsed":S=m.tail;for(var k=null;S!==null;)S.alternate!==null&&(k=S),S=S.sibling;k===null?v||m.tail===null?m.tail=null:m.tail.sibling=null:k.sibling=null}}function is(m){var v=m.alternate!==null&&m.alternate.child===m.child,S=0,k=0;if(v)for(var z=m.child;z!==null;)S|=z.lanes|z.childLanes,k|=z.subtreeFlags&14680064,k|=z.flags&14680064,z.return=m,z=z.sibling;else for(z=m.child;z!==null;)S|=z.lanes|z.childLanes,k|=z.subtreeFlags,k|=z.flags,z.return=m,z=z.sibling;return m.subtreeFlags|=k,m.childLanes=S,v}function Hoe(m,v,S){var k=v.pendingProps;switch($e(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return is(v),null;case 1:return ns(v.type)&&cg(),is(v),null;case 3:return k=v.stateNode,_l(),Xr(rs),Xr(Ja),Lv(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(m===null||m.child===null)&&(Un(v)?v.flags|=4:m===null||m.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,ot!==null&&(yN(ot),ot=null))),lN(m,v),is(v),null;case 5:Mv(v);var z=mc(nu.current);if(S=v.type,m!==null&&v.stateNode!=null)hR(m,v,S,k,z),m.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!k){if(v.stateNode===null)throw Error(r(166));return is(v),null}if(m=mc(Wa.current),Un(v)){k=v.stateNode,S=v.type;var H=v.memoizedProps;switch(k[Cl]=v,k[Wf]=H,m=(v.mode&1)!==0,S){case"dialog":nn("cancel",k),nn("close",k);break;case"iframe":case"object":case"embed":nn("load",k);break;case"video":case"audio":for(z=0;z<eu.length;z++)nn(eu[z],k);break;case"source":nn("error",k);break;case"img":case"image":case"link":nn("error",k),nn("load",k);break;case"details":nn("toggle",k);break;case"input":Z(k,H),nn("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!H.multiple},nn("invalid",k);break;case"textarea":Xe(k,H),nn("invalid",k)}Kr(S,H),z=null;for(var ie in H)if(H.hasOwnProperty(ie)){var be=H[ie];ie==="children"?typeof be=="string"?k.textContent!==be&&(H.suppressHydrationWarning!==!0&&lg(k.textContent,be,m),z=["children",be]):typeof be=="number"&&k.textContent!==""+be&&(H.suppressHydrationWarning!==!0&&lg(k.textContent,be,m),z=["children",""+be]):a.hasOwnProperty(ie)&&be!=null&&ie==="onScroll"&&nn("scroll",k)}switch(S){case"input":Ae(k),ze(k,H,!0);break;case"textarea":Ae(k),st(k);break;case"select":case"option":break;default:typeof H.onClick=="function"&&(k.onclick=zf)}k=z,v.updateQueue=k,k!==null&&(v.flags|=4)}else{ie=z.nodeType===9?z:z.ownerDocument,m==="http://www.w3.org/1999/xhtml"&&(m=pt(S)),m==="http://www.w3.org/1999/xhtml"?S==="script"?(m=ie.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild)):typeof k.is=="string"?m=ie.createElement(S,{is:k.is}):(m=ie.createElement(S),S==="select"&&(ie=m,k.multiple?ie.multiple=!0:k.size&&(ie.size=k.size))):m=ie.createElementNS(m,S),m[Cl]=v,m[Wf]=k,fR(m,v,!1,!1),v.stateNode=m;e:{switch(ie=Jt(S,k),S){case"dialog":nn("cancel",m),nn("close",m),z=k;break;case"iframe":case"object":case"embed":nn("load",m),z=k;break;case"video":case"audio":for(z=0;z<eu.length;z++)nn(eu[z],m);z=k;break;case"source":nn("error",m),z=k;break;case"img":case"image":case"link":nn("error",m),nn("load",m),z=k;break;case"details":nn("toggle",m),z=k;break;case"input":Z(m,k),z=ke(m,k),nn("invalid",m);break;case"option":z=k;break;case"select":m._wrapperState={wasMultiple:!!k.multiple},z=se({},k,{value:void 0}),nn("invalid",m);break;case"textarea":Xe(m,k),z=Ve(m,k),nn("invalid",m);break;default:z=k}Kr(S,z),be=z;for(H in be)if(be.hasOwnProperty(H)){var Pe=be[H];H==="style"?jt(m,Pe):H==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Pe!=null&&ct(m,Pe)):H==="children"?typeof Pe=="string"?(S!=="textarea"||Pe!=="")&&wt(m,Pe):typeof Pe=="number"&&wt(m,""+Pe):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(a.hasOwnProperty(H)?Pe!=null&&H==="onScroll"&&nn("scroll",m):Pe!=null&&j(m,H,Pe,ie))}switch(S){case"input":Ae(m),ze(m,k,!1);break;case"textarea":Ae(m),st(m);break;case"option":k.value!=null&&m.setAttribute("value",""+pe(k.value));break;case"select":m.multiple=!!k.multiple,H=k.value,H!=null?_e(m,!!k.multiple,H,!1):k.defaultValue!=null&&_e(m,!!k.multiple,k.defaultValue,!0);break;default:typeof z.onClick=="function"&&(m.onclick=zf)}switch(S){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return is(v),null;case 6:if(m&&v.stateNode!=null)pR(m,v,m.memoizedProps,k);else{if(typeof k!="string"&&v.stateNode===null)throw Error(r(166));if(S=mc(nu.current),mc(Wa.current),Un(v)){if(k=v.stateNode,S=v.memoizedProps,k[Cl]=v,(H=k.nodeValue!==S)&&(m=Ze,m!==null))switch(m.tag){case 3:lg(k.nodeValue,S,(m.mode&1)!==0);break;case 5:m.memoizedProps.suppressHydrationWarning!==!0&&lg(k.nodeValue,S,(m.mode&1)!==0)}H&&(v.flags|=4)}else k=(S.nodeType===9?S:S.ownerDocument).createTextNode(k),k[Cl]=v,v.stateNode=k}return is(v),null;case 13:if(Xr(gn),k=v.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(it&&et!==null&&(v.mode&1)!==0&&(v.flags&128)===0)gr(),Et(),v.flags|=98560,H=!1;else if(H=Un(v),k!==null&&k.dehydrated!==null){if(m===null){if(!H)throw Error(r(318));if(H=v.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(r(317));H[Cl]=v}else Et(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;is(v),H=!1}else ot!==null&&(yN(ot),ot=null),H=!0;if(!H)return v.flags&65536?v:null}return(v.flags&128)!==0?(v.lanes=S,v):(k=k!==null,k!==(m!==null&&m.memoizedState!==null)&&k&&(v.child.flags|=8192,(v.mode&1)!==0&&(m===null||(gn.current&1)!==0?Qa===0&&(Qa=3):NN())),v.updateQueue!==null&&(v.flags|=4),is(v),null);case 4:return _l(),lN(m,v),m===null&&yd(v.stateNode.containerInfo),is(v),null;case 10:return Nn(v.type._context),is(v),null;case 17:return ns(v.type)&&cg(),is(v),null;case 19:if(Xr(gn),H=v.memoizedState,H===null)return is(v),null;if(k=(v.flags&128)!==0,ie=H.rendering,ie===null)if(k)zv(H,!1);else{if(Qa!==0||m!==null&&(m.flags&128)!==0)for(m=v.child;m!==null;){if(ie=Lo(m),ie!==null){for(v.flags|=128,zv(H,!1),k=ie.updateQueue,k!==null&&(v.updateQueue=k,v.flags|=4),v.subtreeFlags=0,k=S,S=v.child;S!==null;)H=S,m=k,H.flags&=14680066,ie=H.alternate,ie===null?(H.childLanes=0,H.lanes=m,H.child=null,H.subtreeFlags=0,H.memoizedProps=null,H.memoizedState=null,H.updateQueue=null,H.dependencies=null,H.stateNode=null):(H.childLanes=ie.childLanes,H.lanes=ie.lanes,H.child=ie.child,H.subtreeFlags=0,H.deletions=null,H.memoizedProps=ie.memoizedProps,H.memoizedState=ie.memoizedState,H.updateQueue=ie.updateQueue,H.type=ie.type,m=ie.dependencies,H.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),S=S.sibling;return Qr(gn,gn.current&1|2),v.child}m=m.sibling}H.tail!==null&&mn()>Ng&&(v.flags|=128,k=!0,zv(H,!1),v.lanes=4194304)}else{if(!k)if(m=Lo(ie),m!==null){if(v.flags|=128,k=!0,S=m.updateQueue,S!==null&&(v.updateQueue=S,v.flags|=4),zv(H,!0),H.tail===null&&H.tailMode==="hidden"&&!ie.alternate&&!it)return is(v),null}else 2*mn()-H.renderingStartTime>Ng&&S!==1073741824&&(v.flags|=128,k=!0,zv(H,!1),v.lanes=4194304);H.isBackwards?(ie.sibling=v.child,v.child=ie):(S=H.last,S!==null?S.sibling=ie:v.child=ie,H.last=ie)}return H.tail!==null?(v=H.tail,H.rendering=v,H.tail=v.sibling,H.renderingStartTime=mn(),v.sibling=null,S=gn.current,Qr(gn,k?S&1|2:S&1),v):(is(v),null);case 22:case 23:return wN(),k=v.memoizedState!==null,m!==null&&m.memoizedState!==null!==k&&(v.flags|=8192),k&&(v.mode&1)!==0?(zo&1073741824)!==0&&(is(v),v.subtreeFlags&6&&(v.flags|=8192)):is(v),null;case 24:return null;case 25:return null}throw Error(r(156,v.tag))}function Goe(m,v){switch($e(v),v.tag){case 1:return ns(v.type)&&cg(),m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 3:return _l(),Xr(rs),Xr(Ja),Lv(),m=v.flags,(m&65536)!==0&&(m&128)===0?(v.flags=m&-65537|128,v):null;case 5:return Mv(v),null;case 13:if(Xr(gn),m=v.memoizedState,m!==null&&m.dehydrated!==null){if(v.alternate===null)throw Error(r(340));Et()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 19:return Xr(gn),null;case 4:return _l(),null;case 10:return Nn(v.type._context),null;case 22:case 23:return wN(),null;case 24:return null;default:return null}}var c2=!1,ss=!1,Yoe=typeof WeakSet=="function"?WeakSet:Set,At=null;function bg(m,v){var S=m.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(k){ba(m,v,k)}else S.current=null}function cN(m,v,S){try{S()}catch(k){ba(m,v,k)}}var mR=!1;function Koe(m,v){if(gp=Af,m=ga(),Io(m)){if("selectionStart"in m)var S={start:m.selectionStart,end:m.selectionEnd};else e:{S=(S=m.ownerDocument)&&S.defaultView||window;var k=S.getSelection&&S.getSelection();if(k&&k.rangeCount!==0){S=k.anchorNode;var z=k.anchorOffset,H=k.focusNode;k=k.focusOffset;try{S.nodeType,H.nodeType}catch{S=null;break e}var ie=0,be=-1,Pe=-1,Ke=0,ht=0,mt=m,ft=null;t:for(;;){for(var Ct;mt!==S||z!==0&&mt.nodeType!==3||(be=ie+z),mt!==H||k!==0&&mt.nodeType!==3||(Pe=ie+k),mt.nodeType===3&&(ie+=mt.nodeValue.length),(Ct=mt.firstChild)!==null;)ft=mt,mt=Ct;for(;;){if(mt===m)break t;if(ft===S&&++Ke===z&&(be=ie),ft===H&&++ht===k&&(Pe=ie),(Ct=mt.nextSibling)!==null)break;mt=ft,ft=mt.parentNode}mt=Ct}S=be===-1||Pe===-1?null:{start:be,end:Pe}}else S=null}S=S||{start:0,end:0}}else S=null;for(wd={focusedElem:m,selectionRange:S},Af=!1,At=v;At!==null;)if(v=At,m=v.child,(v.subtreeFlags&1028)!==0&&m!==null)m.return=v,At=m;else for(;At!==null;){v=At;try{var It=v.alternate;if((v.flags&1024)!==0)switch(v.tag){case 0:case 11:case 15:break;case 1:if(It!==null){var Ft=It.memoizedProps,ka=It.memoizedState,Ue=v.stateNode,Ie=Ue.getSnapshotBeforeUpdate(v.elementType===v.type?Ft:xc(v.type,Ft),ka);Ue.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:var qe=v.stateNode.containerInfo;qe.nodeType===1?qe.textContent="":qe.nodeType===9&&qe.documentElement&&qe.removeChild(qe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(xt){ba(v,v.return,xt)}if(m=v.sibling,m!==null){m.return=v.return,At=m;break}At=v.return}return It=mR,mR=!1,It}function Wv(m,v,S){var k=v.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var z=k=k.next;do{if((z.tag&m)===m){var H=z.destroy;z.destroy=void 0,H!==void 0&&cN(v,S,H)}z=z.next}while(z!==k)}}function u2(m,v){if(v=v.updateQueue,v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&m)===m){var k=S.create;S.destroy=k()}S=S.next}while(S!==v)}}function uN(m){var v=m.ref;if(v!==null){var S=m.stateNode;switch(m.tag){case 5:m=S;break;default:m=S}typeof v=="function"?v(m):v.current=m}}function gR(m){var v=m.alternate;v!==null&&(m.alternate=null,gR(v)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(v=m.stateNode,v!==null&&(delete v[Cl],delete v[Wf],delete v[ts],delete v[Y3],delete v[K3])),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function vR(m){return m.tag===5||m.tag===3||m.tag===4}function xR(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||vR(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function dN(m,v,S){var k=m.tag;if(k===5||k===6)m=m.stateNode,v?S.nodeType===8?S.parentNode.insertBefore(m,v):S.insertBefore(m,v):(S.nodeType===8?(v=S.parentNode,v.insertBefore(m,S)):(v=S,v.appendChild(m)),S=S._reactRootContainer,S!=null||v.onclick!==null||(v.onclick=zf));else if(k!==4&&(m=m.child,m!==null))for(dN(m,v,S),m=m.sibling;m!==null;)dN(m,v,S),m=m.sibling}function fN(m,v,S){var k=m.tag;if(k===5||k===6)m=m.stateNode,v?S.insertBefore(m,v):S.appendChild(m);else if(k!==4&&(m=m.child,m!==null))for(fN(m,v,S),m=m.sibling;m!==null;)fN(m,v,S),m=m.sibling}var Mi=null,yc=!1;function Yf(m,v,S){for(S=S.child;S!==null;)yR(m,v,S),S=S.sibling}function yR(m,v,S){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(Ju,S)}catch{}switch(S.tag){case 5:ss||bg(S,v);case 6:var k=Mi,z=yc;Mi=null,Yf(m,v,S),Mi=k,yc=z,Mi!==null&&(yc?(m=Mi,S=S.stateNode,m.nodeType===8?m.parentNode.removeChild(S):m.removeChild(S)):Mi.removeChild(S.stateNode));break;case 18:Mi!==null&&(yc?(m=Mi,S=S.stateNode,m.nodeType===8?Tv(m.parentNode,S):m.nodeType===1&&Tv(m,S),xl(m)):Tv(Mi,S.stateNode));break;case 4:k=Mi,z=yc,Mi=S.stateNode.containerInfo,yc=!0,Yf(m,v,S),Mi=k,yc=z;break;case 0:case 11:case 14:case 15:if(!ss&&(k=S.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){z=k=k.next;do{var H=z,ie=H.destroy;H=H.tag,ie!==void 0&&((H&2)!==0||(H&4)!==0)&&cN(S,v,ie),z=z.next}while(z!==k)}Yf(m,v,S);break;case 1:if(!ss&&(bg(S,v),k=S.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=S.memoizedProps,k.state=S.memoizedState,k.componentWillUnmount()}catch(be){ba(S,v,be)}Yf(m,v,S);break;case 21:Yf(m,v,S);break;case 22:S.mode&1?(ss=(k=ss)||S.memoizedState!==null,Yf(m,v,S),ss=k):Yf(m,v,S);break;default:Yf(m,v,S)}}function bR(m){var v=m.updateQueue;if(v!==null){m.updateQueue=null;var S=m.stateNode;S===null&&(S=m.stateNode=new Yoe),v.forEach(function(k){var z=ale.bind(null,m,k);S.has(k)||(S.add(k),k.then(z,z))})}}function bc(m,v){var S=v.deletions;if(S!==null)for(var k=0;k<S.length;k++){var z=S[k];try{var H=m,ie=v,be=ie;e:for(;be!==null;){switch(be.tag){case 5:Mi=be.stateNode,yc=!1;break e;case 3:Mi=be.stateNode.containerInfo,yc=!0;break e;case 4:Mi=be.stateNode.containerInfo,yc=!0;break e}be=be.return}if(Mi===null)throw Error(r(160));yR(H,ie,z),Mi=null,yc=!1;var Pe=z.alternate;Pe!==null&&(Pe.return=null),z.return=null}catch(Ke){ba(z,v,Ke)}}if(v.subtreeFlags&12854)for(v=v.child;v!==null;)wR(v,m),v=v.sibling}function wR(m,v){var S=m.alternate,k=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:if(bc(v,m),iu(m),k&4){try{Wv(3,m,m.return),u2(3,m)}catch(Ft){ba(m,m.return,Ft)}try{Wv(5,m,m.return)}catch(Ft){ba(m,m.return,Ft)}}break;case 1:bc(v,m),iu(m),k&512&&S!==null&&bg(S,S.return);break;case 5:if(bc(v,m),iu(m),k&512&&S!==null&&bg(S,S.return),m.flags&32){var z=m.stateNode;try{wt(z,"")}catch(Ft){ba(m,m.return,Ft)}}if(k&4&&(z=m.stateNode,z!=null)){var H=m.memoizedProps,ie=S!==null?S.memoizedProps:H,be=m.type,Pe=m.updateQueue;if(m.updateQueue=null,Pe!==null)try{be==="input"&&H.type==="radio"&&H.name!=null&&Qe(z,H),Jt(be,ie);var Ke=Jt(be,H);for(ie=0;ie<Pe.length;ie+=2){var ht=Pe[ie],mt=Pe[ie+1];ht==="style"?jt(z,mt):ht==="dangerouslySetInnerHTML"?ct(z,mt):ht==="children"?wt(z,mt):j(z,ht,mt,Ke)}switch(be){case"input":Ne(z,H);break;case"textarea":Re(z,H);break;case"select":var ft=z._wrapperState.wasMultiple;z._wrapperState.wasMultiple=!!H.multiple;var Ct=H.value;Ct!=null?_e(z,!!H.multiple,Ct,!1):ft!==!!H.multiple&&(H.defaultValue!=null?_e(z,!!H.multiple,H.defaultValue,!0):_e(z,!!H.multiple,H.multiple?[]:"",!1))}z[Wf]=H}catch(Ft){ba(m,m.return,Ft)}}break;case 6:if(bc(v,m),iu(m),k&4){if(m.stateNode===null)throw Error(r(162));z=m.stateNode,H=m.memoizedProps;try{z.nodeValue=H}catch(Ft){ba(m,m.return,Ft)}}break;case 3:if(bc(v,m),iu(m),k&4&&S!==null&&S.memoizedState.isDehydrated)try{xl(v.containerInfo)}catch(Ft){ba(m,m.return,Ft)}break;case 4:bc(v,m),iu(m);break;case 13:bc(v,m),iu(m),z=m.child,z.flags&8192&&(H=z.memoizedState!==null,z.stateNode.isHidden=H,!H||z.alternate!==null&&z.alternate.memoizedState!==null||(mN=mn())),k&4&&bR(m);break;case 22:if(ht=S!==null&&S.memoizedState!==null,m.mode&1?(ss=(Ke=ss)||ht,bc(v,m),ss=Ke):bc(v,m),iu(m),k&8192){if(Ke=m.memoizedState!==null,(m.stateNode.isHidden=Ke)&&!ht&&(m.mode&1)!==0)for(At=m,ht=m.child;ht!==null;){for(mt=At=ht;At!==null;){switch(ft=At,Ct=ft.child,ft.tag){case 0:case 11:case 14:case 15:Wv(4,ft,ft.return);break;case 1:bg(ft,ft.return);var It=ft.stateNode;if(typeof It.componentWillUnmount=="function"){k=ft,S=ft.return;try{v=k,It.props=v.memoizedProps,It.state=v.memoizedState,It.componentWillUnmount()}catch(Ft){ba(k,S,Ft)}}break;case 5:bg(ft,ft.return);break;case 22:if(ft.memoizedState!==null){jR(mt);continue}}Ct!==null?(Ct.return=ft,At=Ct):jR(mt)}ht=ht.sibling}e:for(ht=null,mt=m;;){if(mt.tag===5){if(ht===null){ht=mt;try{z=mt.stateNode,Ke?(H=z.style,typeof H.setProperty=="function"?H.setProperty("display","none","important"):H.display="none"):(be=mt.stateNode,Pe=mt.memoizedProps.style,ie=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null,be.style.display=lr("display",ie))}catch(Ft){ba(m,m.return,Ft)}}}else if(mt.tag===6){if(ht===null)try{mt.stateNode.nodeValue=Ke?"":mt.memoizedProps}catch(Ft){ba(m,m.return,Ft)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===m)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===m)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===m)break e;ht===mt&&(ht=null),mt=mt.return}ht===mt&&(ht=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:bc(v,m),iu(m),k&4&&bR(m);break;case 21:break;default:bc(v,m),iu(m)}}function iu(m){var v=m.flags;if(v&2){try{e:{for(var S=m.return;S!==null;){if(vR(S)){var k=S;break e}S=S.return}throw Error(r(160))}switch(k.tag){case 5:var z=k.stateNode;k.flags&32&&(wt(z,""),k.flags&=-33);var H=xR(m);fN(m,H,z);break;case 3:case 4:var ie=k.stateNode.containerInfo,be=xR(m);dN(m,be,ie);break;default:throw Error(r(161))}}catch(Pe){ba(m,m.return,Pe)}m.flags&=-3}v&4096&&(m.flags&=-4097)}function Xoe(m,v,S){At=m,NR(m)}function NR(m,v,S){for(var k=(m.mode&1)!==0;At!==null;){var z=At,H=z.child;if(z.tag===22&&k){var ie=z.memoizedState!==null||c2;if(!ie){var be=z.alternate,Pe=be!==null&&be.memoizedState!==null||ss;be=c2;var Ke=ss;if(c2=ie,(ss=Pe)&&!Ke)for(At=z;At!==null;)ie=At,Pe=ie.child,ie.tag===22&&ie.memoizedState!==null?CR(z):Pe!==null?(Pe.return=ie,At=Pe):CR(z);for(;H!==null;)At=H,NR(H),H=H.sibling;At=z,c2=be,ss=Ke}SR(m)}else(z.subtreeFlags&8772)!==0&&H!==null?(H.return=z,At=H):SR(m)}}function SR(m){for(;At!==null;){var v=At;if((v.flags&8772)!==0){var S=v.alternate;try{if((v.flags&8772)!==0)switch(v.tag){case 0:case 11:case 15:ss||u2(5,v);break;case 1:var k=v.stateNode;if(v.flags&4&&!ss)if(S===null)k.componentDidMount();else{var z=v.elementType===v.type?S.memoizedProps:xc(v.type,S.memoizedProps);k.componentDidUpdate(z,S.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var H=v.updateQueue;H!==null&&ao(v,H,k);break;case 3:var ie=v.updateQueue;if(ie!==null){if(S=null,v.child!==null)switch(v.child.tag){case 5:S=v.child.stateNode;break;case 1:S=v.child.stateNode}ao(v,ie,S)}break;case 5:var be=v.stateNode;if(S===null&&v.flags&4){S=be;var Pe=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":Pe.autoFocus&&S.focus();break;case"img":Pe.src&&(S.src=Pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(v.memoizedState===null){var Ke=v.alternate;if(Ke!==null){var ht=Ke.memoizedState;if(ht!==null){var mt=ht.dehydrated;mt!==null&&xl(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ss||v.flags&512&&uN(v)}catch(ft){ba(v,v.return,ft)}}if(v===m){At=null;break}if(S=v.sibling,S!==null){S.return=v.return,At=S;break}At=v.return}}function jR(m){for(;At!==null;){var v=At;if(v===m){At=null;break}var S=v.sibling;if(S!==null){S.return=v.return,At=S;break}At=v.return}}function CR(m){for(;At!==null;){var v=At;try{switch(v.tag){case 0:case 11:case 15:var S=v.return;try{u2(4,v)}catch(Pe){ba(v,S,Pe)}break;case 1:var k=v.stateNode;if(typeof k.componentDidMount=="function"){var z=v.return;try{k.componentDidMount()}catch(Pe){ba(v,z,Pe)}}var H=v.return;try{uN(v)}catch(Pe){ba(v,H,Pe)}break;case 5:var ie=v.return;try{uN(v)}catch(Pe){ba(v,ie,Pe)}}}catch(Pe){ba(v,v.return,Pe)}if(v===m){At=null;break}var be=v.sibling;if(be!==null){be.return=v.return,At=be;break}At=v.return}}var Joe=Math.ceil,d2=w.ReactCurrentDispatcher,hN=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,$r=0,Ni=null,Ua=null,Ri=0,zo=0,wg=Mo(0),Qa=0,Uv=null,Np=0,f2=0,pN=0,$v=null,so=null,mN=0,Ng=1/0,Ed=null,h2=!1,gN=null,Kf=null,p2=!1,Xf=null,m2=0,qv=0,vN=null,g2=-1,v2=0;function Fs(){return($r&6)!==0?mn():g2!==-1?g2:g2=mn()}function Jf(m){return(m.mode&1)===0?1:($r&2)!==0&&Ri!==0?Ri&-Ri:ra.transition!==null?(v2===0&&(v2=Xm()),v2):(m=Or,m!==0||(m=window.event,m=m===void 0?16:id(m.type)),m)}function wc(m,v,S,k){if(50<qv)throw qv=0,vN=null,Error(r(185));td(m,S,k),(($r&2)===0||m!==Ni)&&(m===Ni&&(($r&2)===0&&(f2|=S),Qa===4&&Zf(m,Ri)),oo(m,k),S===1&&$r===0&&(v.mode&1)===0&&(Ng=mn()+500,xp&&G()))}function oo(m,v){var S=m.callbackNode;Qn(m,v);var k=Xi(m,m===Ni?Ri:0);if(k===0)S!==null&&Xu(S),m.callbackNode=null,m.callbackPriority=0;else if(v=k&-k,m.callbackPriority!==v){if(S!=null&&Xu(S),v===1)m.tag===0?$(ER.bind(null,m)):M(ER.bind(null,m)),H3(function(){($r&6)===0&&G()}),S=null;else{switch(nc(k)){case 1:S=jf;break;case 4:S=ks;break;case 16:S=Vc;break;case 536870912:S=Cf;break;default:S=Vc}S=MR(S,_R.bind(null,m))}m.callbackPriority=v,m.callbackNode=S}}function _R(m,v){if(g2=-1,v2=0,($r&6)!==0)throw Error(r(327));var S=m.callbackNode;if(Sg()&&m.callbackNode!==S)return null;var k=Xi(m,m===Ni?Ri:0);if(k===0)return null;if((k&30)!==0||(k&m.expiredLanes)!==0||v)v=x2(m,k);else{v=k;var z=$r;$r|=2;var H=kR();(Ni!==m||Ri!==v)&&(Ed=null,Ng=mn()+500,jp(m,v));do try{ele();break}catch(be){PR(m,be)}while(!0);Wr(),d2.current=H,$r=z,Ua!==null?v=0:(Ni=null,Ri=0,v=Qa)}if(v!==0){if(v===2&&(z=ed(m),z!==0&&(k=z,v=xN(m,z))),v===1)throw S=Uv,jp(m,0),Zf(m,k),oo(m,mn()),S;if(v===6)Zf(m,k);else{if(z=m.current.alternate,(k&30)===0&&!Zoe(z)&&(v=x2(m,k),v===2&&(H=ed(m),H!==0&&(k=H,v=xN(m,H))),v===1))throw S=Uv,jp(m,0),Zf(m,k),oo(m,mn()),S;switch(m.finishedWork=z,m.finishedLanes=k,v){case 0:case 1:throw Error(r(345));case 2:Cp(m,so,Ed);break;case 3:if(Zf(m,k),(k&130023424)===k&&(v=mN+500-mn(),10<v)){if(Xi(m,0)!==0)break;if(z=m.suspendedLanes,(z&k)!==k){Fs(),m.pingedLanes|=m.suspendedLanes&z;break}m.timeoutHandle=Dv(Cp.bind(null,m,so,Ed),v);break}Cp(m,so,Ed);break;case 4:if(Zf(m,k),(k&4194240)===k)break;for(v=m.eventTimes,z=-1;0<k;){var ie=31-mi(k);H=1<<ie,ie=v[ie],ie>z&&(z=ie),k&=~H}if(k=z,k=mn()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*Joe(k/1960))-k,10<k){m.timeoutHandle=Dv(Cp.bind(null,m,so,Ed),k);break}Cp(m,so,Ed);break;case 5:Cp(m,so,Ed);break;default:throw Error(r(329))}}}return oo(m,mn()),m.callbackNode===S?_R.bind(null,m):null}function xN(m,v){var S=$v;return m.current.memoizedState.isDehydrated&&(jp(m,v).flags|=256),m=x2(m,v),m!==2&&(v=so,so=S,v!==null&&yN(v)),m}function yN(m){so===null?so=m:so.push.apply(so,m)}function Zoe(m){for(var v=m;;){if(v.flags&16384){var S=v.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var k=0;k<S.length;k++){var z=S[k],H=z.getSnapshot;z=z.value;try{if(!zn(H(),z))return!1}catch{return!1}}}if(S=v.child,v.subtreeFlags&16384&&S!==null)S.return=v,v=S;else{if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Zf(m,v){for(v&=~pN,v&=~f2,m.suspendedLanes|=v,m.pingedLanes&=~v,m=m.expirationTimes;0<v;){var S=31-mi(v),k=1<<S;m[S]=-1,v&=~k}}function ER(m){if(($r&6)!==0)throw Error(r(327));Sg();var v=Xi(m,0);if((v&1)===0)return oo(m,mn()),null;var S=x2(m,v);if(m.tag!==0&&S===2){var k=ed(m);k!==0&&(v=k,S=xN(m,k))}if(S===1)throw S=Uv,jp(m,0),Zf(m,v),oo(m,mn()),S;if(S===6)throw Error(r(345));return m.finishedWork=m.current.alternate,m.finishedLanes=v,Cp(m,so,Ed),oo(m,mn()),null}function bN(m,v){var S=$r;$r|=1;try{return m(v)}finally{$r=S,$r===0&&(Ng=mn()+500,xp&&G())}}function Sp(m){Xf!==null&&Xf.tag===0&&($r&6)===0&&Sg();var v=$r;$r|=1;var S=kl.transition,k=Or;try{if(kl.transition=null,Or=1,m)return m()}finally{Or=k,kl.transition=S,$r=v,($r&6)===0&&G()}}function wN(){zo=wg.current,Xr(wg)}function jp(m,v){m.finishedWork=null,m.finishedLanes=0;var S=m.timeoutHandle;if(S!==-1&&(m.timeoutHandle=-1,X1(S)),Ua!==null)for(S=Ua.return;S!==null;){var k=S;switch($e(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&cg();break;case 3:_l(),Xr(rs),Xr(Ja),Lv();break;case 5:Mv(k);break;case 4:_l();break;case 13:Xr(gn);break;case 19:Xr(gn);break;case 10:Nn(k.type._context);break;case 22:case 23:wN()}S=S.return}if(Ni=m,Ua=m=Qf(m.current,null),Ri=zo=v,Qa=0,Uv=null,pN=f2=Np=0,so=$v=null,an!==null){for(v=0;v<an.length;v++)if(S=an[v],k=S.interleaved,k!==null){S.interleaved=null;var z=k.next,H=S.pending;if(H!==null){var ie=H.next;H.next=z,k.next=ie}S.pending=k}an=null}return m}function PR(m,v){do{var S=Ua;try{if(Wr(),ug.current=i2,Vf){for(var k=Sn.memoizedState;k!==null;){var z=k.queue;z!==null&&(z.pending=null),k=k.next}Vf=!1}if(El=0,sa=ya=Sn=null,gc=!1,Hf=0,hN.current=null,S===null||S.return===null){Qa=1,Uv=v,Ua=null;break}e:{var H=m,ie=S.return,be=S,Pe=v;if(v=Ri,be.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var Ke=Pe,ht=be,mt=ht.tag;if((ht.mode&1)===0&&(mt===0||mt===11||mt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Ct=QM(ie);if(Ct!==null){Ct.flags&=-257,eR(Ct,ie,be,H,v),Ct.mode&1&&ZM(H,Ke,v),v=Ct,Pe=Ke;var It=v.updateQueue;if(It===null){var Ft=new Set;Ft.add(Pe),v.updateQueue=Ft}else It.add(Pe);break e}else{if((v&1)===0){ZM(H,Ke,v),NN();break e}Pe=Error(r(426))}}else if(it&&be.mode&1){var ka=QM(ie);if(ka!==null){(ka.flags&65536)===0&&(ka.flags|=256),eR(ka,ie,be,H,v),bt(yg(Pe,be));break e}}H=Pe=yg(Pe,be),Qa!==4&&(Qa=2),$v===null?$v=[H]:$v.push(H),H=ie;do{switch(H.tag){case 3:H.flags|=65536,v&=-v,H.lanes|=v;var Ue=XM(H,Pe,v);on(H,Ue);break e;case 1:be=Pe;var Ie=H.type,qe=H.stateNode;if((H.flags&128)===0&&(typeof Ie.getDerivedStateFromError=="function"||qe!==null&&typeof qe.componentDidCatch=="function"&&(Kf===null||!Kf.has(qe)))){H.flags|=65536,v&=-v,H.lanes|=v;var xt=JM(H,be,v);on(H,xt);break e}}H=H.return}while(H!==null)}DR(S)}catch(Vt){v=Vt,Ua===S&&S!==null&&(Ua=S=S.return);continue}break}while(!0)}function kR(){var m=d2.current;return d2.current=i2,m===null?i2:m}function NN(){(Qa===0||Qa===3||Qa===2)&&(Qa=4),Ni===null||(Np&268435455)===0&&(f2&268435455)===0||Zf(Ni,Ri)}function x2(m,v){var S=$r;$r|=2;var k=kR();(Ni!==m||Ri!==v)&&(Ed=null,jp(m,v));do try{Qoe();break}catch(z){PR(m,z)}while(!0);if(Wr(),$r=S,d2.current=k,Ua!==null)throw Error(r(261));return Ni=null,Ri=0,Qa}function Qoe(){for(;Ua!==null;)AR(Ua)}function ele(){for(;Ua!==null&&!Sf();)AR(Ua)}function AR(m){var v=IR(m.alternate,m,zo);m.memoizedProps=m.pendingProps,v===null?DR(m):Ua=v,hN.current=null}function DR(m){var v=m;do{var S=v.alternate;if(m=v.return,(v.flags&32768)===0){if(S=Hoe(S,v,zo),S!==null){Ua=S;return}}else{if(S=Goe(S,v),S!==null){S.flags&=32767,Ua=S;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{Qa=6,Ua=null;return}}if(v=v.sibling,v!==null){Ua=v;return}Ua=v=m}while(v!==null);Qa===0&&(Qa=5)}function Cp(m,v,S){var k=Or,z=kl.transition;try{kl.transition=null,Or=1,tle(m,v,S,k)}finally{kl.transition=z,Or=k}return null}function tle(m,v,S,k){do Sg();while(Xf!==null);if(($r&6)!==0)throw Error(r(327));S=m.finishedWork;var z=m.finishedLanes;if(S===null)return null;if(m.finishedWork=null,m.finishedLanes=0,S===m.current)throw Error(r(177));m.callbackNode=null,m.callbackPriority=0;var H=S.lanes|S.childLanes;if(ml(m,H),m===Ni&&(Ua=Ni=null,Ri=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||p2||(p2=!0,MR(Vc,function(){return Sg(),null})),H=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||H){H=kl.transition,kl.transition=null;var ie=Or;Or=1;var be=$r;$r|=4,hN.current=null,Koe(m,S),wR(S,m),lp(wd),Af=!!gp,wd=gp=null,m.current=S,Xoe(S),yv(),$r=be,Or=ie,kl.transition=H}else m.current=S;if(p2&&(p2=!1,Xf=m,m2=z),H=m.pendingLanes,H===0&&(Kf=null),Ym(S.stateNode),oo(m,mn()),v!==null)for(k=m.onRecoverableError,S=0;S<v.length;S++)z=v[S],k(z.value,{componentStack:z.stack,digest:z.digest});if(h2)throw h2=!1,m=gN,gN=null,m;return(m2&1)!==0&&m.tag!==0&&Sg(),H=m.pendingLanes,(H&1)!==0?m===vN?qv++:(qv=0,vN=m):qv=0,G(),null}function Sg(){if(Xf!==null){var m=nc(m2),v=kl.transition,S=Or;try{if(kl.transition=null,Or=16>m?16:m,Xf===null)var k=!1;else{if(m=Xf,Xf=null,m2=0,($r&6)!==0)throw Error(r(331));var z=$r;for($r|=4,At=m.current;At!==null;){var H=At,ie=H.child;if((At.flags&16)!==0){var be=H.deletions;if(be!==null){for(var Pe=0;Pe<be.length;Pe++){var Ke=be[Pe];for(At=Ke;At!==null;){var ht=At;switch(ht.tag){case 0:case 11:case 15:Wv(8,ht,H)}var mt=ht.child;if(mt!==null)mt.return=ht,At=mt;else for(;At!==null;){ht=At;var ft=ht.sibling,Ct=ht.return;if(gR(ht),ht===Ke){At=null;break}if(ft!==null){ft.return=Ct,At=ft;break}At=Ct}}}var It=H.alternate;if(It!==null){var Ft=It.child;if(Ft!==null){It.child=null;do{var ka=Ft.sibling;Ft.sibling=null,Ft=ka}while(Ft!==null)}}At=H}}if((H.subtreeFlags&2064)!==0&&ie!==null)ie.return=H,At=ie;else e:for(;At!==null;){if(H=At,(H.flags&2048)!==0)switch(H.tag){case 0:case 11:case 15:Wv(9,H,H.return)}var Ue=H.sibling;if(Ue!==null){Ue.return=H.return,At=Ue;break e}At=H.return}}var Ie=m.current;for(At=Ie;At!==null;){ie=At;var qe=ie.child;if((ie.subtreeFlags&2064)!==0&&qe!==null)qe.return=ie,At=qe;else e:for(ie=Ie;At!==null;){if(be=At,(be.flags&2048)!==0)try{switch(be.tag){case 0:case 11:case 15:u2(9,be)}}catch(Vt){ba(be,be.return,Vt)}if(be===ie){At=null;break e}var xt=be.sibling;if(xt!==null){xt.return=be.return,At=xt;break e}At=be.return}}if($r=z,G(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(Ju,m)}catch{}k=!0}return k}finally{Or=S,kl.transition=v}}return!1}function TR(m,v,S){v=yg(S,v),v=XM(m,v,1),m=aa(m,v,1),v=Fs(),m!==null&&(td(m,1,v),oo(m,v))}function ba(m,v,S){if(m.tag===3)TR(m,m,S);else for(;v!==null;){if(v.tag===3){TR(v,m,S);break}else if(v.tag===1){var k=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Kf===null||!Kf.has(k))){m=yg(S,m),m=JM(v,m,1),v=aa(v,m,1),m=Fs(),v!==null&&(td(v,1,m),oo(v,m));break}}v=v.return}}function rle(m,v,S){var k=m.pingCache;k!==null&&k.delete(v),v=Fs(),m.pingedLanes|=m.suspendedLanes&S,Ni===m&&(Ri&S)===S&&(Qa===4||Qa===3&&(Ri&130023424)===Ri&&500>mn()-mN?jp(m,0):pN|=S),oo(m,v)}function OR(m,v){v===0&&((m.mode&1)===0?v=1:(v=Ys,Ys<<=1,(Ys&130023424)===0&&(Ys=4194304)));var S=Fs();m=sn(m,v),m!==null&&(td(m,v,S),oo(m,S))}function nle(m){var v=m.memoizedState,S=0;v!==null&&(S=v.retryLane),OR(m,S)}function ale(m,v){var S=0;switch(m.tag){case 13:var k=m.stateNode,z=m.memoizedState;z!==null&&(S=z.retryLane);break;case 19:k=m.stateNode;break;default:throw Error(r(314))}k!==null&&k.delete(v),OR(m,S)}var IR;IR=function(m,v,S){if(m!==null)if(m.memoizedProps!==v.pendingProps||rs.current)io=!0;else{if((m.lanes&S)===0&&(v.flags&128)===0)return io=!1,Voe(m,v,S);io=(m.flags&131072)!==0}else io=!1,it&&(v.flags&1048576)!==0&&Be(v,ue,v.index);switch(v.lanes=0,v.tag){case 2:var k=v.type;l2(m,v),m=v.pendingProps;var z=$f(v,Ja.current);$n(v,S),z=yp(null,v,k,m,z,S);var H=Pl();return v.flags|=1,typeof z=="object"&&z!==null&&typeof z.render=="function"&&z.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,ns(k)?(H=!0,jd(v)):H=!1,v.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,Za(v),z.updater=s2,v.stateNode=z,z._reactInternals=v,Q3(v,k,m,S),v=nN(null,v,k,!0,H,S)):(v.tag=0,it&&H&&tt(v),Ls(null,v,z,S),v=v.child),v;case 16:k=v.elementType;e:{switch(l2(m,v),m=v.pendingProps,z=k._init,k=z(k._payload),v.type=k,z=v.tag=sle(k),m=xc(k,m),z){case 0:v=rN(null,v,k,m,S);break e;case 1:v=sR(null,v,k,m,S);break e;case 11:v=tR(null,v,k,m,S);break e;case 14:v=rR(null,v,k,xc(k.type,m),S);break e}throw Error(r(306,k,""))}return v;case 0:return k=v.type,z=v.pendingProps,z=v.elementType===k?z:xc(k,z),rN(m,v,k,z,S);case 1:return k=v.type,z=v.pendingProps,z=v.elementType===k?z:xc(k,z),sR(m,v,k,z,S);case 3:e:{if(oR(v),m===null)throw Error(r(387));k=v.pendingProps,H=v.memoizedState,z=H.element,as(m,v),wi(v,k,null,S);var ie=v.memoizedState;if(k=ie.element,H.isDehydrated)if(H={element:k,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},v.updateQueue.baseState=H,v.memoizedState=H,v.flags&256){z=yg(Error(r(423)),v),v=lR(m,v,k,S,z);break e}else if(k!==z){z=yg(Error(r(424)),v),v=lR(m,v,k,S,z);break e}else for(et=Ii(v.stateNode.containerInfo.firstChild),Ze=v,it=!0,ot=null,S=An(v,null,k,S),v.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Et(),k===z){v=_d(m,v,S);break e}Ls(m,v,k,S)}v=v.child}return v;case 5:return e2(v),m===null&&Ot(v),k=v.type,z=v.pendingProps,H=m!==null?m.memoizedProps:null,ie=z.children,Av(k,z)?ie=null:H!==null&&Av(k,H)&&(v.flags|=32),iR(m,v),Ls(m,v,ie,S),v.child;case 6:return m===null&&Ot(v),null;case 13:return cR(m,v,S);case 4:return qf(v,v.stateNode.containerInfo),k=v.pendingProps,m===null?v.child=va(v,null,k,S):Ls(m,v,k,S),v.child;case 11:return k=v.type,z=v.pendingProps,z=v.elementType===k?z:xc(k,z),tR(m,v,k,z,S);case 7:return Ls(m,v,v.pendingProps,S),v.child;case 8:return Ls(m,v,v.pendingProps.children,S),v.child;case 12:return Ls(m,v,v.pendingProps.children,S),v.child;case 10:e:{if(k=v.type._context,z=v.pendingProps,H=v.memoizedProps,ie=z.value,Qr(Ea,k._currentValue),k._currentValue=ie,H!==null)if(zn(H.value,ie)){if(H.children===z.children&&!rs.current){v=_d(m,v,S);break e}}else for(H=v.child,H!==null&&(H.return=v);H!==null;){var be=H.dependencies;if(be!==null){ie=H.child;for(var Pe=be.firstContext;Pe!==null;){if(Pe.context===k){if(H.tag===1){Pe=na(-1,S&-S),Pe.tag=2;var Ke=H.updateQueue;if(Ke!==null){Ke=Ke.shared;var ht=Ke.pending;ht===null?Pe.next=Pe:(Pe.next=ht.next,ht.next=Pe),Ke.pending=Pe}}H.lanes|=S,Pe=H.alternate,Pe!==null&&(Pe.lanes|=S),Ur(H.return,S,v),be.lanes|=S;break}Pe=Pe.next}}else if(H.tag===10)ie=H.type===v.type?null:H.child;else if(H.tag===18){if(ie=H.return,ie===null)throw Error(r(341));ie.lanes|=S,be=ie.alternate,be!==null&&(be.lanes|=S),Ur(ie,S,v),ie=H.sibling}else ie=H.child;if(ie!==null)ie.return=H;else for(ie=H;ie!==null;){if(ie===v){ie=null;break}if(H=ie.sibling,H!==null){H.return=ie.return,ie=H;break}ie=ie.return}H=ie}Ls(m,v,z.children,S),v=v.child}return v;case 9:return z=v.type,k=v.pendingProps.children,$n(v,S),z=qn(z),k=k(z),v.flags|=1,Ls(m,v,k,S),v.child;case 14:return k=v.type,z=xc(k,v.pendingProps),z=xc(k.type,z),rR(m,v,k,z,S);case 15:return nR(m,v,v.type,v.pendingProps,S);case 17:return k=v.type,z=v.pendingProps,z=v.elementType===k?z:xc(k,z),l2(m,v),v.tag=1,ns(k)?(m=!0,jd(v)):m=!1,$n(v,S),YM(v,k,z),Q3(v,k,z,S),nN(null,v,k,!0,m,S);case 19:return dR(m,v,S);case 22:return aR(m,v,S)}throw Error(r(156,v.tag))};function MR(m,v){return Ku(m,v)}function ile(m,v,S,k){this.tag=m,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Al(m,v,S,k){return new ile(m,v,S,k)}function SN(m){return m=m.prototype,!(!m||!m.isReactComponent)}function sle(m){if(typeof m=="function")return SN(m)?1:0;if(m!=null){if(m=m.$$typeof,m===P)return 11;if(m===X)return 14}return 2}function Qf(m,v){var S=m.alternate;return S===null?(S=Al(m.tag,v,m.key,m.mode),S.elementType=m.elementType,S.type=m.type,S.stateNode=m.stateNode,S.alternate=m,m.alternate=S):(S.pendingProps=v,S.type=m.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=m.flags&14680064,S.childLanes=m.childLanes,S.lanes=m.lanes,S.child=m.child,S.memoizedProps=m.memoizedProps,S.memoizedState=m.memoizedState,S.updateQueue=m.updateQueue,v=m.dependencies,S.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},S.sibling=m.sibling,S.index=m.index,S.ref=m.ref,S}function y2(m,v,S,k,z,H){var ie=2;if(k=m,typeof m=="function")SN(m)&&(ie=1);else if(typeof m=="string")ie=5;else e:switch(m){case I:return _p(S.children,z,H,v);case D:ie=8,z|=8;break;case O:return m=Al(12,S,v,z|2),m.elementType=O,m.lanes=H,m;case F:return m=Al(13,S,v,z),m.elementType=F,m.lanes=H,m;case V:return m=Al(19,S,v,z),m.elementType=V,m.lanes=H,m;case q:return b2(S,z,H,v);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case L:ie=10;break e;case R:ie=9;break e;case P:ie=11;break e;case X:ie=14;break e;case te:ie=16,k=null;break e}throw Error(r(130,m==null?m:typeof m,""))}return v=Al(ie,S,v,z),v.elementType=m,v.type=k,v.lanes=H,v}function _p(m,v,S,k){return m=Al(7,m,k,v),m.lanes=S,m}function b2(m,v,S,k){return m=Al(22,m,k,v),m.elementType=q,m.lanes=S,m.stateNode={isHidden:!1},m}function jN(m,v,S){return m=Al(6,m,null,v),m.lanes=S,m}function CN(m,v,S){return v=Al(4,m.children!==null?m.children:[],m.key,v),v.lanes=S,v.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},v}function ole(m,v,S,k,z){this.tag=v,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qh(0),this.expirationTimes=Qh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qh(0),this.identifierPrefix=k,this.onRecoverableError=z,this.mutableSourceEagerHydrationData=null}function _N(m,v,S,k,z,H,ie,be,Pe){return m=new ole(m,v,S,be,Pe),v===1?(v=1,H===!0&&(v|=8)):v=0,H=Al(3,null,null,v),m.current=H,H.stateNode=m,H.memoizedState={element:k,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},Za(H),m}function lle(m,v,S){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:k==null?null:""+k,children:m,containerInfo:v,implementation:S}}function RR(m){if(!m)return ru;m=m._reactInternals;e:{if(Ka(m)!==m||m.tag!==1)throw Error(r(170));var v=m;do{switch(v.tag){case 3:v=v.stateNode.context;break e;case 1:if(ns(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break e}}v=v.return}while(v!==null);throw Error(r(171))}if(m.tag===1){var S=m.type;if(ns(S))return Iv(m,S,v)}return v}function LR(m,v,S,k,z,H,ie,be,Pe){return m=_N(S,k,!0,m,z,H,ie,be,Pe),m.context=RR(null),S=m.current,k=Fs(),z=Jf(S),H=na(k,z),H.callback=v??null,aa(S,H,z),m.current.lanes=z,td(m,z,k),oo(m,k),m}function w2(m,v,S,k){var z=v.current,H=Fs(),ie=Jf(z);return S=RR(S),v.context===null?v.context=S:v.pendingContext=S,v=na(H,ie),v.payload={element:m},k=k===void 0?null:k,k!==null&&(v.callback=k),m=aa(z,v,ie),m!==null&&(wc(m,z,ie,H),bi(m,z,ie)),ie}function N2(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return m.child.stateNode;default:return m.child.stateNode}}function FR(m,v){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var S=m.retryLane;m.retryLane=S!==0&&S<v?S:v}}function EN(m,v){FR(m,v),(m=m.alternate)&&FR(m,v)}function cle(){return null}var BR=typeof reportError=="function"?reportError:function(m){console.error(m)};function PN(m){this._internalRoot=m}S2.prototype.render=PN.prototype.render=function(m){var v=this._internalRoot;if(v===null)throw Error(r(409));w2(m,v,null,null)},S2.prototype.unmount=PN.prototype.unmount=function(){var m=this._internalRoot;if(m!==null){this._internalRoot=null;var v=m.containerInfo;Sp(function(){w2(null,m,null,null)}),v[xi]=null}};function S2(m){this._internalRoot=m}S2.prototype.unstable_scheduleHydration=function(m){if(m){var v=Zm();m={blockedOn:null,target:m,priority:v};for(var S=0;S<vl.length&&v!==0&&v<vl[S].priority;S++);vl.splice(S,0,m),S===0&&eg(m)}};function kN(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)}function j2(m){return!(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11&&(m.nodeType!==8||m.nodeValue!==" react-mount-point-unstable "))}function zR(){}function ule(m,v,S,k,z){if(z){if(typeof k=="function"){var H=k;k=function(){var Ke=N2(ie);H.call(Ke)}}var ie=LR(v,k,m,0,null,!1,!1,"",zR);return m._reactRootContainer=ie,m[xi]=ie.current,yd(m.nodeType===8?m.parentNode:m),Sp(),ie}for(;z=m.lastChild;)m.removeChild(z);if(typeof k=="function"){var be=k;k=function(){var Ke=N2(Pe);be.call(Ke)}}var Pe=_N(m,0,!1,null,null,!1,!1,"",zR);return m._reactRootContainer=Pe,m[xi]=Pe.current,yd(m.nodeType===8?m.parentNode:m),Sp(function(){w2(v,Pe,S,k)}),Pe}function C2(m,v,S,k,z){var H=S._reactRootContainer;if(H){var ie=H;if(typeof z=="function"){var be=z;z=function(){var Pe=N2(ie);be.call(Pe)}}w2(v,ie,m,z)}else ie=ule(S,v,m,z,k);return N2(ie)}Ef=function(m){switch(m.tag){case 3:var v=m.stateNode;if(v.current.memoizedState.isDehydrated){var S=Po(v.pendingLanes);S!==0&&(_f(v,S|1),oo(v,mn()),($r&6)===0&&(Ng=mn()+500,G()))}break;case 13:Sp(function(){var k=sn(m,1);if(k!==null){var z=Fs();wc(k,m,1,z)}}),EN(m,1)}},ep=function(m){if(m.tag===13){var v=sn(m,134217728);if(v!==null){var S=Fs();wc(v,m,134217728,S)}EN(m,134217728)}},Jm=function(m){if(m.tag===13){var v=Jf(m),S=sn(m,v);if(S!==null){var k=Fs();wc(S,m,v,k)}EN(m,v)}},Zm=function(){return Or},Pf=function(m,v){var S=Or;try{return Or=m,v()}finally{Or=S}},Pn=function(m,v,S){switch(v){case"input":if(Ne(m,S),v=S.name,S.type==="radio"&&v!=null){for(S=m;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<S.length;v++){var k=S[v];if(k!==m&&k.form===m.form){var z=vp(k);if(!z)throw Error(r(90));Se(k),Ne(k,z)}}}break;case"textarea":Re(m,S);break;case"select":v=S.value,v!=null&&_e(m,!!S.multiple,v,!1)}},Ya=bN,hl=Sp;var dle={usingClientEntryPoint:!1,Events:[Uf,Nd,vp,Fr,Uc,bN]},Vv={findFiberByHostInstance:tu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fle={bundleType:Vv.bundleType,version:Vv.version,rendererPackageName:Vv.rendererPackageName,rendererConfig:Vv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(m){return m=Eo(m),m===null?null:m.stateNode},findFiberByHostInstance:Vv.findFiberByHostInstance||cle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_2.isDisabled&&_2.supportsFiber)try{Ju=_2.inject(fle),As=_2}catch{}}return lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dle,lo.createPortal=function(m,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kN(v))throw Error(r(200));return lle(m,v,null,S)},lo.createRoot=function(m,v){if(!kN(m))throw Error(r(299));var S=!1,k="",z=BR;return v!=null&&(v.unstable_strictMode===!0&&(S=!0),v.identifierPrefix!==void 0&&(k=v.identifierPrefix),v.onRecoverableError!==void 0&&(z=v.onRecoverableError)),v=_N(m,1,!1,null,null,S,!1,k,z),m[xi]=v.current,yd(m.nodeType===8?m.parentNode:m),new PN(v)},lo.findDOMNode=function(m){if(m==null)return null;if(m.nodeType===1)return m;var v=m._reactInternals;if(v===void 0)throw typeof m.render=="function"?Error(r(188)):(m=Object.keys(m).join(","),Error(r(268,m)));return m=Eo(v),m=m===null?null:m.stateNode,m},lo.flushSync=function(m){return Sp(m)},lo.hydrate=function(m,v,S){if(!j2(v))throw Error(r(200));return C2(null,m,v,!0,S)},lo.hydrateRoot=function(m,v,S){if(!kN(m))throw Error(r(405));var k=S!=null&&S.hydratedSources||null,z=!1,H="",ie=BR;if(S!=null&&(S.unstable_strictMode===!0&&(z=!0),S.identifierPrefix!==void 0&&(H=S.identifierPrefix),S.onRecoverableError!==void 0&&(ie=S.onRecoverableError)),v=LR(v,null,m,1,S??null,z,!1,H,ie),m[xi]=v.current,yd(m),k)for(m=0;m<k.length;m++)S=k[m],z=S._getVersion,z=z(S._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[S,z]:v.mutableSourceEagerHydrationData.push(S,z);return new S2(v)},lo.render=function(m,v,S){if(!j2(v))throw Error(r(200));return C2(null,m,v,!1,S)},lo.unmountComponentAtNode=function(m){if(!j2(m))throw Error(r(40));return m._reactRootContainer?(Sp(function(){C2(null,null,m,!1,function(){m._reactRootContainer=null,m[xi]=null})}),!0):!1},lo.unstable_batchedUpdates=bN,lo.unstable_renderSubtreeIntoContainer=function(m,v,S,k){if(!j2(S))throw Error(r(200));if(m==null||m._reactInternals===void 0)throw Error(r(38));return C2(m,v,S,!1,k)},lo.version="18.3.1-next-f1338f8080-20240426",lo}var YR;function SY(){if(YR)return TN.exports;YR=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),TN.exports=ble(),TN.exports}var KR;function wle(){if(KR)return P2;KR=1;var e=SY();return P2.createRoot=e.createRoot,P2.hydrateRoot=e.hydrateRoot,P2}var Nle=wle();const Sle=Ln(Nle);var hA=SY();const jY=Ln(hA);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}var fh;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(fh||(fh={}));const XR="popstate";function jle(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return WP("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:sw(a)}return _le(t,r,null,e)}function Ra(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CY(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Cle(){return Math.random().toString(36).substr(2,8)}function JR(e,t){return{usr:e.state,key:e.key,idx:t}}function WP(e,t,r,n){return r===void 0&&(r=null),Yx({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$0(t):t,{state:r,key:t&&t.key||n||Cle()})}function sw(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $0(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function _le(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=fh.Pop,l=null,u=d();u==null&&(u=0,s.replaceState(Yx({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=fh.Pop;let x=d(),b=x==null?null:x-u;u=x,l&&l({action:o,location:y.location,delta:b})}function p(x,b){o=fh.Push;let N=WP(y.location,x,b);u=d()+1;let j=JR(N,u),w=y.createHref(N);try{s.pushState(j,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(w)}i&&l&&l({action:o,location:y.location,delta:1})}function h(x,b){o=fh.Replace;let N=WP(y.location,x,b);u=d();let j=JR(N,u),w=y.createHref(N);s.replaceState(j,"",w),i&&l&&l({action:o,location:y.location,delta:0})}function g(x){let b=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof x=="string"?x:sw(x);return N=N.replace(/ $/,"%20"),Ra(b,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,b)}let y={get action(){return o},get location(){return e(a,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(XR,f),l=x,()=>{a.removeEventListener(XR,f),l=null}},createHref(x){return t(a,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:h,go(x){return s.go(x)}};return y}var ZR;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ZR||(ZR={}));function Ele(e,t,r){return r===void 0&&(r="/"),Ple(e,t,r)}function Ple(e,t,r,n){let a=typeof t=="string"?$0(t):t,i=pA(a.pathname||"/",r);if(i==null)return null;let s=_Y(e);kle(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=Wle(i);o=Fle(s[l],u)}return o}function _Y(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Ra(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=yh([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Ra(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_Y(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Rle(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of EY(i.path))a(i,s,l)}),t}function EY(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=EY(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function kle(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lle(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ale=/^:[\w-]+$/,Dle=3,Tle=2,Ole=1,Ile=10,Mle=-2,QR=e=>e==="*";function Rle(e,t){let r=e.split("/"),n=r.length;return r.some(QR)&&(n+=Mle),t&&(n+=Tle),r.filter(a=>!QR(a)).reduce((a,i)=>a+(Ale.test(i)?Dle:i===""?Ole:Ile),n)}function Lle(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Fle(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Ble({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:yh([i,f.pathname]),pathnameBase:Vle(yh([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=yh([i,f.pathnameBase]))}return s}function Ble(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zle(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:h}=d;if(p==="*"){let y=o[f]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[f];return h&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function zle(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),CY(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Wle(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return CY(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Ule(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?$0(e):e;return{pathname:r?r.startsWith("/")?r:$le(r,t):t,search:Hle(n),hash:Gle(a)}}function $le(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function MN(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qle(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function mA(e,t){let r=qle(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gA(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=$0(e):(a=Yx({},e),Ra(!a.pathname||!a.pathname.includes("?"),MN("?","pathname","search",a)),Ra(!a.pathname||!a.pathname.includes("#"),MN("#","pathname","hash",a)),Ra(!a.search||!a.search.includes("#"),MN("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}o=f>=0?t[f]:"/"}let l=Ule(a,o),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const yh=e=>e.join("/").replace(/\/\/+/g,"/"),Vle=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hle=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gle=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Yle(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const PY=["post","put","patch","delete"];new Set(PY);const Kle=["get",...PY];new Set(Kle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(this,arguments)}const vA=A.createContext(null),Xle=A.createContext(null),Fh=A.createContext(null),V5=A.createContext(null),of=A.createContext({outlet:null,matches:[],isDataRoute:!1}),kY=A.createContext(null);function Jle(e,t){let{relative:r}=t===void 0?{}:t;q0()||Ra(!1);let{basename:n,navigator:a}=A.useContext(Fh),{hash:i,pathname:s,search:o}=TY(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:yh([n,s])),a.createHref({pathname:l,search:o,hash:i})}function q0(){return A.useContext(V5)!=null}function Am(){return q0()||Ra(!1),A.useContext(V5).location}function AY(e){A.useContext(Fh).static||A.useLayoutEffect(e)}function No(){let{isDataRoute:e}=A.useContext(of);return e?uce():Zle()}function Zle(){q0()||Ra(!1);let e=A.useContext(vA),{basename:t,future:r,navigator:n}=A.useContext(Fh),{matches:a}=A.useContext(of),{pathname:i}=Am(),s=JSON.stringify(mA(a,r.v7_relativeSplatPath)),o=A.useRef(!1);return AY(()=>{o.current=!0}),A.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=gA(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yh([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function DY(){let{matches:e}=A.useContext(of),t=e[e.length-1];return t?t.params:{}}function TY(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=A.useContext(Fh),{matches:a}=A.useContext(of),{pathname:i}=Am(),s=JSON.stringify(mA(a,n.v7_relativeSplatPath));return A.useMemo(()=>gA(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function Qle(e,t){return ece(e,t)}function ece(e,t,r,n){q0()||Ra(!1);let{navigator:a}=A.useContext(Fh),{matches:i}=A.useContext(of),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Am(),d;if(t){var f;let x=typeof t=="string"?$0(t):t;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||Ra(!1),d=x}else d=u;let p=d.pathname||"/",h=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Ele(e,{pathname:h}),y=ice(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:yh([l,a.encodeLocation?a.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:yh([l,a.encodeLocation?a.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&y?A.createElement(V5.Provider,{value:{location:Kx({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:fh.Pop}},y):y}function tce(){let e=cce(),t=Yle(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:a},r):null,null)}const rce=A.createElement(tce,null);class nce extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(of.Provider,{value:this.props.routeContext},A.createElement(kY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ace(e){let{routeContext:t,match:r,children:n}=e,a=A.useContext(vA);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(of.Provider,{value:t},n)}function ice(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);d>=0||Ra(!1),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:h}=r,g=f.route.loader&&p[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,p)=>{let h,g=!1,y=null,x=null;r&&(h=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||rce,l&&(u<0&&p===0?(dce("route-fallback"),g=!0,x=null):u===p&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,p+1)),N=()=>{let j;return h?j=y:g?j=x:f.route.Component?j=A.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=d,A.createElement(ace,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:j})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?A.createElement(nce,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):N()},null)}var OY=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(OY||{}),IY=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(IY||{});function sce(e){let t=A.useContext(vA);return t||Ra(!1),t}function oce(e){let t=A.useContext(Xle);return t||Ra(!1),t}function lce(e){let t=A.useContext(of);return t||Ra(!1),t}function MY(e){let t=lce(),r=t.matches[t.matches.length-1];return r.route.id||Ra(!1),r.route.id}function cce(){var e;let t=A.useContext(kY),r=oce(),n=MY();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function uce(){let{router:e}=sce(OY.UseNavigateStable),t=MY(IY.UseNavigateStable),r=A.useRef(!1);return AY(()=>{r.current=!0}),A.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Kx({fromRouteId:t},i)))},[e,t])}const e7={};function dce(e,t,r){e7[e]||(e7[e]=!0)}function fce(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function RY(e){let{to:t,replace:r,state:n,relative:a}=e;q0()||Ra(!1);let{future:i,static:s}=A.useContext(Fh),{matches:o}=A.useContext(of),{pathname:l}=Am(),u=No(),d=gA(t,mA(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(d);return A.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function tn(e){Ra(!1)}function hce(e){let{basename:t="/",children:r=null,location:n,navigationType:a=fh.Pop,navigator:i,static:s=!1,future:o}=e;q0()&&Ra(!1);let l=t.replace(/^\/*/,"/"),u=A.useMemo(()=>({basename:l,navigator:i,static:s,future:Kx({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=$0(n));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:g="default"}=n,y=A.useMemo(()=>{let x=pA(d,l);return x==null?null:{location:{pathname:x,search:f,hash:p,state:h,key:g},navigationType:a}},[l,d,f,p,h,g,a]);return y==null?null:A.createElement(Fh.Provider,{value:u},A.createElement(V5.Provider,{children:r,value:y}))}function LY(e){let{children:t,location:r}=e;return Qle(UP(t),r)}new Promise(()=>{});function UP(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(n,a)=>{if(!A.isValidElement(n))return;let i=[...t,a];if(n.type===A.Fragment){r.push.apply(r,UP(n.props.children,i));return}n.type!==tn&&Ra(!1),!n.props.index||!n.props.children||Ra(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=UP(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $P(){return $P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$P.apply(this,arguments)}function pce(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function mce(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gce(e,t){return e.button===0&&(!t||t==="_self")&&!mce(e)}const vce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xce="6";try{window.__reactRouterVersion=xce}catch{}const yce="startTransition",t7=NY[yce];function bce(e){let{basename:t,children:r,future:n,window:a}=e,i=A.useRef();i.current==null&&(i.current=jle({window:a,v5Compat:!0}));let s=i.current,[o,l]=A.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=A.useCallback(f=>{u&&t7?t7(()=>l(f)):l(f)},[l,u]);return A.useLayoutEffect(()=>s.listen(d),[s,d]),A.useEffect(()=>fce(n),[n]),A.createElement(hce,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const wce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jg=A.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:u,preventScrollReset:d,viewTransition:f}=t,p=pce(t,vce),{basename:h}=A.useContext(Fh),g,y=!1;if(typeof u=="string"&&Nce.test(u)&&(g=u,wce))try{let j=new URL(window.location.href),w=u.startsWith("//")?new URL(j.protocol+u):new URL(u),C=pA(w.pathname,h);w.origin===j.origin&&C!=null?u=C+w.search+w.hash:y=!0}catch{}let x=Jle(u,{relative:a}),b=Sce(u,{replace:s,state:o,target:l,preventScrollReset:d,relative:a,viewTransition:f});function N(j){n&&n(j),j.defaultPrevented||b(j)}return A.createElement("a",$P({},p,{href:g||x,onClick:y||i?n:N,ref:r,target:l}))});var r7;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(r7||(r7={}));var n7;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(n7||(n7={}));function Sce(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=No(),u=Am(),d=TY(e,{relative:s});return A.useCallback(f=>{if(gce(f,r)){f.preventDefault();let p=n!==void 0?n:sw(u)===sw(d);l(e,{replace:p,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,d,n,a,r,e,i,s,o])}const xA=A.createContext({});function H5(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const G5=A.createContext(null),yA=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class jce extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Cce({children:e,isPresent:t}){const r=A.useId(),n=A.useRef(null),a=A.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=A.useContext(yA);return A.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:u}=a.current;if(t||!n.current||!s||!o)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(jce,{isPresent:t,childRef:n,sizeRef:a,children:A.cloneElement(e,{ref:n})})}const _ce=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s})=>{const o=H5(Ece),l=A.useId(),u=A.useCallback(f=>{o.set(f,!0);for(const p of o.values())if(!p)return;n&&n()},[o,n]),d=A.useMemo(()=>({id:l,initial:t,isPresent:r,custom:a,onExitComplete:u,register:f=>(o.set(f,!1),()=>o.delete(f))}),i?[Math.random(),u]:[r,u]);return A.useMemo(()=>{o.forEach((f,p)=>o.set(p,!1))},[r]),A.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),s==="popLayout"&&(e=c.jsx(Cce,{isPresent:r,children:e})),c.jsx(G5.Provider,{value:d,children:e})};function Ece(){return new Map}function FY(e=!0){const t=A.useContext(G5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=A.useId();A.useEffect(()=>{e&&a(i)},[e]);const s=A.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const k2=e=>e.key||"";function a7(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const bA=typeof window<"u",wA=bA?A.useLayoutEffect:A.useEffect,Kt=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1})=>{const[o,l]=FY(s),u=A.useMemo(()=>a7(e),[e]),d=s&&!o?[]:u.map(k2),f=A.useRef(!0),p=A.useRef(u),h=H5(()=>new Map),[g,y]=A.useState(u),[x,b]=A.useState(u);wA(()=>{f.current=!1,p.current=u;for(let w=0;w<x.length;w++){const C=k2(x[w]);d.includes(C)?h.delete(C):h.get(C)!==!0&&h.set(C,!1)}},[x,d.length,d.join("-")]);const N=[];if(u!==g){let w=[...u];for(let C=0;C<x.length;C++){const E=x[C],I=k2(E);d.includes(I)||(w.splice(C,0,E),N.push(E))}i==="wait"&&N.length&&(w=N),b(a7(w)),y(u);return}const{forceRender:j}=A.useContext(xA);return c.jsx(c.Fragment,{children:x.map(w=>{const C=k2(w),E=s&&!o?!1:u===x||d.includes(C),I=()=>{if(h.has(C))h.set(C,!0);else return;let D=!0;h.forEach(O=>{O||(D=!1)}),D&&(j?.(),b(p.current),s&&l?.(),n&&n())};return c.jsx(_ce,{isPresent:E,initial:!f.current||r?void 0:!1,custom:E?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:E?void 0:I,children:w},C)})})},el=e=>e;let BY=el;function NA(e){let t;return()=>(t===void 0&&(t=e()),t)}const x0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Vd=e=>e*1e3,Hd=e=>e/1e3,Pce={useManualTiming:!1};function kce(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function o(u){i.has(u)&&(l.schedule(u),e()),u(s)}const l={schedule:(u,d=!1,f=!1)=>{const h=f&&n?t:r;return d&&i.add(u),h.has(u)||h.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(s=u,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,a&&(a=!1,l.process(u))}};return l}const A2=["read","resolveKeyframes","update","preRender","render","postRender"],Ace=40;function zY(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=A2.reduce((b,N)=>(b[N]=kce(i),b),{}),{read:o,resolveKeyframes:l,update:u,preRender:d,render:f,postRender:p}=s,h=()=>{const b=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,Ace),1),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),u.process(a),d.process(a),f.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(h))},g=()=>{r=!0,n=!0,a.isProcessing||e(h)};return{schedule:A2.reduce((b,N)=>{const j=s[N];return b[N]=(w,C=!1,E=!1)=>(r||g(),j.schedule(w,C,E)),b},{}),cancel:b=>{for(let N=0;N<A2.length;N++)s[A2[N]].cancel(b)},state:a,steps:s}}const{schedule:Mn,cancel:_h,state:Fi,steps:RN}=zY(typeof requestAnimationFrame<"u"?requestAnimationFrame:el,!0),WY=A.createContext({strict:!1}),i7={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},y0={};for(const e in i7)y0[e]={isEnabled:t=>i7[e].some(r=>!!t[r])};function Dce(e){for(const t in e)y0[t]={...y0[t],...e[t]}}const Tce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ow(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Tce.has(e)}let UY=e=>!ow(e);function Oce(e){e&&(UY=t=>t.startsWith("on")?!ow(t):e(t))}try{Oce(require("@emotion/is-prop-valid").default)}catch{}function Ice(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(UY(a)||r===!0&&ow(a)||!t&&!ow(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Mce(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Y5=A.createContext({});function Xx(e){return typeof e=="string"||Array.isArray(e)}function K5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const SA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jA=["initial",...SA];function X5(e){return K5(e.animate)||jA.some(t=>Xx(e[t]))}function $Y(e){return!!(X5(e)||e.variants)}function Rce(e,t){if(X5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Xx(r)?r:void 0,animate:Xx(n)?n:void 0}}return e.inherit!==!1?t:{}}function Lce(e){const{initial:t,animate:r}=Rce(e,A.useContext(Y5));return A.useMemo(()=>({initial:t,animate:r}),[s7(t),s7(r)])}function s7(e){return Array.isArray(e)?e.join(" "):e}const Fce=Symbol.for("motionComponentSymbol");function $g(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Bce(e,t,r){return A.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):$g(r)&&(r.current=n))},[t])}const CA=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zce="framerAppearId",qY="data-"+CA(zce),{schedule:_A}=zY(queueMicrotask,!1),VY=A.createContext({});function Wce(e,t,r,n,a){var i,s;const{visualElement:o}=A.useContext(Y5),l=A.useContext(WY),u=A.useContext(G5),d=A.useContext(yA).reducedMotion,f=A.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,h=A.useContext(VY);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&Uce(f.current,r,a,h);const g=A.useRef(!1);A.useInsertionEffect(()=>{p&&g.current&&p.update(r,u)});const y=r[qY],x=A.useRef(!!y&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,y))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,y)));return wA(()=>{p&&(g.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),_A.render(p.render),x.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,y)}),x.current=!1))}),p}function Uce(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:HY(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&$g(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function HY(e){if(e)return e.options.allowProjection!==!1?e.projection:HY(e.parent)}function $ce({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){var i,s;e&&Dce(e);function o(u,d){let f;const p={...A.useContext(yA),...u,layoutId:qce(u)},{isStatic:h}=p,g=Lce(u),y=n(u,h);if(!h&&bA){Vce();const x=Hce(p);f=x.MeasureLayout,g.visualElement=Wce(a,y,p,t,x.ProjectionNode)}return c.jsxs(Y5.Provider,{value:g,children:[f&&g.visualElement?c.jsx(f,{visualElement:g.visualElement,...p}):null,r(a,u,Bce(y,g.visualElement,d),y,h,g.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${(s=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&s!==void 0?s:""})`}`;const l=A.forwardRef(o);return l[Fce]=a,l}function qce({layoutId:e}){const t=A.useContext(xA).id;return t&&e!==void 0?t+"-"+e:e}function Vce(e,t){A.useContext(WY).strict}function Hce(e){const{drag:t,layout:r}=y0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Gce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function EA(e){return typeof e!="string"||e.includes("-")?!1:!!(Gce.indexOf(e)>-1||/[A-Z]/u.test(e))}function o7(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function PA(e,t,r,n){if(typeof t=="function"){const[a,i]=o7(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=o7(n);t=t(r!==void 0?r:e.custom,a,i)}return t}const qP=e=>Array.isArray(e),Yce=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Kce=e=>qP(e)?e[e.length-1]||0:e,ys=e=>!!(e&&e.getVelocity);function Ab(e){const t=ys(e)?e.get():e;return Yce(t)?t.toValue():t}function Xce({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,a,i){const s={latestValues:Jce(n,a,i,e),renderState:t()};return r&&(s.onMount=o=>r({props:n,current:o,...s}),s.onUpdate=o=>r(o)),s}const GY=e=>(t,r)=>{const n=A.useContext(Y5),a=A.useContext(G5),i=()=>Xce(e,t,n,a);return r?i():H5(i)};function Jce(e,t,r,n){const a={},i=n(e,{});for(const p in i)a[p]=Ab(i[p]);let{initial:s,animate:o}=e;const l=X5(e),u=$Y(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||s===!1;const f=d?o:s;if(f&&typeof f!="boolean"&&!K5(f)){const p=Array.isArray(f)?f:[f];for(let h=0;h<p.length;h++){const g=PA(e,p[h]);if(g){const{transitionEnd:y,transition:x,...b}=g;for(const N in b){let j=b[N];if(Array.isArray(j)){const w=d?j.length-1:0;j=j[w]}j!==null&&(a[N]=j)}for(const N in y)a[N]=y[N]}}}return a}const V0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dm=new Set(V0),YY=e=>t=>typeof t=="string"&&t.startsWith(e),KY=YY("--"),Zce=YY("var(--"),kA=e=>Zce(e)?Qce.test(e.split("/*")[0].trim()):!1,Qce=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,XY=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jd=(e,t,r)=>r>t?t:r<e?e:r,H0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jx={...H0,transform:e=>Jd(0,1,e)},D2={...H0,default:1},Vy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),lh=Vy("deg"),Nu=Vy("%"),rr=Vy("px"),eue=Vy("vh"),tue=Vy("vw"),l7={...Nu,parse:e=>Nu.parse(e)/100,transform:e=>Nu.transform(e*100)},rue={borderWidth:rr,borderTopWidth:rr,borderRightWidth:rr,borderBottomWidth:rr,borderLeftWidth:rr,borderRadius:rr,radius:rr,borderTopLeftRadius:rr,borderTopRightRadius:rr,borderBottomRightRadius:rr,borderBottomLeftRadius:rr,width:rr,maxWidth:rr,height:rr,maxHeight:rr,top:rr,right:rr,bottom:rr,left:rr,padding:rr,paddingTop:rr,paddingRight:rr,paddingBottom:rr,paddingLeft:rr,margin:rr,marginTop:rr,marginRight:rr,marginBottom:rr,marginLeft:rr,backgroundPositionX:rr,backgroundPositionY:rr},nue={rotate:lh,rotateX:lh,rotateY:lh,rotateZ:lh,scale:D2,scaleX:D2,scaleY:D2,scaleZ:D2,skew:lh,skewX:lh,skewY:lh,distance:rr,translateX:rr,translateY:rr,translateZ:rr,x:rr,y:rr,z:rr,perspective:rr,transformPerspective:rr,opacity:Jx,originX:l7,originY:l7,originZ:rr},c7={...H0,transform:Math.round},AA={...rue,...nue,zIndex:c7,size:rr,fillOpacity:Jx,strokeOpacity:Jx,numOctaves:c7},aue={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iue=V0.length;function sue(e,t,r){let n="",a=!0;for(let i=0;i<iue;i++){const s=V0[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=XY(o,AA[s]);if(!l){a=!1;const d=aue[s]||s;n+=`${d}(${u}) `}r&&(t[s]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function DA(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const u=t[l];if(Dm.has(l)){s=!0;continue}else if(KY(l)){a[l]=u;continue}else{const d=XY(u,AA[l]);l.startsWith("origin")?(o=!0,i[l]=d):n[l]=d}}if(t.transform||(s||r?n.transform=sue(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${l} ${u} ${d}`}}const oue={offset:"stroke-dashoffset",array:"stroke-dasharray"},lue={offset:"strokeDashoffset",array:"strokeDasharray"};function cue(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?oue:lue;e[i.offset]=rr.transform(-n);const s=rr.transform(t),o=rr.transform(r);e[i.array]=`${s} ${o}`}function u7(e,t,r){return typeof e=="string"?e:rr.transform(t+r*e)}function uue(e,t,r){const n=u7(t,e.x,e.width),a=u7(r,e.y,e.height);return`${n} ${a}`}function TA(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,f){if(DA(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:h,dimensions:g}=e;p.transform&&(g&&(h.transform=p.transform),delete p.transform),g&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=uue(g,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),s!==void 0&&cue(p,s,o,l,!1)}const OA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JY=()=>({...OA(),attrs:{}}),IA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZY(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const QY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eK(e,t,r,n){ZY(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(QY.has(a)?a:CA(a),t.attrs[a])}const lw={};function due(e){Object.assign(lw,e)}function tK(e,{layout:t,layoutId:r}){return Dm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!lw[e]||e==="opacity")}function MA(e,t,r){var n;const{style:a}=e,i={};for(const s in a)(ys(a[s])||t.style&&ys(t.style[s])||tK(s,e)||((n=r?.getValue(s))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[s]=a[s]);return i}function rK(e,t,r){const n=MA(e,t,r);for(const a in e)if(ys(e[a])||ys(t[a])){const i=V0.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function fue(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const d7=["x","y","width","height","cx","cy","r"],hue={useVisualState:GY({scrapeMotionValuesFromProps:rK,createRenderState:JY,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:a})=>{if(!r)return;let i=!!e.drag;if(!i){for(const o in a)if(Dm.has(o)){i=!0;break}}if(!i)return;let s=!t;if(t)for(let o=0;o<d7.length;o++){const l=d7[o];e[l]!==t[l]&&(s=!0)}s&&Mn.read(()=>{fue(r,n),Mn.render(()=>{TA(n,a,IA(r.tagName),e.transformTemplate),eK(r,n)})})}})},pue={useVisualState:GY({scrapeMotionValuesFromProps:MA,createRenderState:OA})};function nK(e,t,r){for(const n in t)!ys(t[n])&&!tK(n,r)&&(e[n]=t[n])}function mue({transformTemplate:e},t){return A.useMemo(()=>{const r=OA();return DA(r,t,e),Object.assign({},r.vars,r.style)},[t])}function gue(e,t){const r=e.style||{},n={};return nK(n,r,e),Object.assign(n,mue(e,t)),n}function vue(e,t){const r={},n=gue(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function xue(e,t,r,n){const a=A.useMemo(()=>{const i=JY();return TA(i,t,IA(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};nK(i,e.style,e),a.style={...i,...a.style}}return a}function yue(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(EA(r)?xue:vue)(n,i,s,r),u=Ice(n,typeof r=="string",e),d=r!==A.Fragment?{...u,...l,ref:a}:{},{children:f}=n,p=A.useMemo(()=>ys(f)?f.get():f,[f]);return A.createElement(r,{...d,children:p})}}function bue(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...EA(n)?hue:pue,preloadedFeatures:e,useRender:yue(a),createVisualElement:t,Component:n};return $ce(s)}}function aK(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function J5(e,t,r){const n=e.getProps();return PA(n,t,r!==void 0?r:n.custom,e)}const wue=NA(()=>window.ScrollTimeline!==void 0);class Nue{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>{if(wue()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Sue extends Nue{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function RA(e,t){return e?e[t]||e.default||e:void 0}const VP=2e4;function iK(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<VP;)t+=r,n=e.next(t);return t>=VP?1/0:t}function LA(e){return typeof e=="function"}function f7(e,t){e.timeline=t,e.onfinish=null}const FA=e=>Array.isArray(e)&&typeof e[0]=="number",jue={linearEasing:void 0};function Cue(e,t){const r=NA(e);return()=>{var n;return(n=jue[t])!==null&&n!==void 0?n:r()}}const cw=Cue(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sK=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(x0(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function oK(e){return!!(typeof e=="function"&&cw()||!e||typeof e=="string"&&(e in HP||cw())||FA(e)||Array.isArray(e)&&e.every(oK))}const Sx=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,HP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sx([0,.65,.55,1]),circOut:Sx([.55,0,1,.45]),backIn:Sx([.31,.01,.66,-.59]),backOut:Sx([.33,1.53,.69,.99])};function lK(e,t){if(e)return typeof e=="function"&&cw()?sK(e,t):FA(e)?Sx(e):Array.isArray(e)?e.map(r=>lK(r,t)||HP.easeOut):HP[e]}const jc={x:!1,y:!1};function cK(){return jc.x||jc.y}function uK(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function dK(e,t){const r=uK(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function h7(e){return t=>{t.pointerType==="touch"||cK()||e(t)}}function _ue(e,t,r={}){const[n,a,i]=dK(e,r),s=h7(o=>{const{target:l}=o,u=t(o);if(typeof u!="function"||!l)return;const d=h7(f=>{u(f),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,a)});return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const fK=(e,t)=>t?e===t?!0:fK(e,t.parentElement):!1,BA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Eue=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Pue(e){return Eue.has(e.tagName)||e.tabIndex!==-1}const jx=new WeakSet;function p7(e){return t=>{t.key==="Enter"&&e(t)}}function LN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kue=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=p7(()=>{if(jx.has(r))return;LN(r,"down");const a=p7(()=>{LN(r,"up")}),i=()=>LN(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function m7(e){return BA(e)&&!cK()}function Aue(e,t,r={}){const[n,a,i]=dK(e,r),s=o=>{const l=o.currentTarget;if(!m7(o)||jx.has(l))return;jx.add(l);const u=t(o),d=(h,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!m7(h)||!jx.has(l))&&(jx.delete(l),typeof u=="function"&&u(h,{success:g}))},f=h=>{d(h,r.useGlobalTarget||fK(l,h.target))},p=h=>{d(h,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",p,a)};return n.forEach(o=>{!Pue(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),o.addEventListener("focus",u=>kue(u,a),a)}),i}function Due(e){return e==="x"||e==="y"?jc[e]?null:(jc[e]=!0,()=>{jc[e]=!1}):jc.x||jc.y?null:(jc.x=jc.y=!0,()=>{jc.x=jc.y=!1})}const hK=new Set(["width","height","top","left","right","bottom",...V0]);let Db;function Tue(){Db=void 0}const Su={now:()=>(Db===void 0&&Su.set(Fi.isProcessing||Pce.useManualTiming?Fi.timestamp:performance.now()),Db),set:e=>{Db=e,queueMicrotask(Tue)}};function zA(e,t){e.indexOf(t)===-1&&e.push(t)}function WA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class UA{constructor(){this.subscriptions=[]}add(t){return zA(this.subscriptions,t),()=>WA(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pK(e,t){return t?e*(1e3/t):0}const g7=30,Oue=e=>!isNaN(parseFloat(e));class Iue{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=Su.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Su.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Oue(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new UA);const n=this.events[t].add(r);return t==="change"?()=>{n(),Mn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Su.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>g7)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,g7);return pK(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zx(e,t){return new Iue(e,t)}function Mue(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Zx(r))}function $A(e,t){const r=J5(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Kce(i[s]);Mue(e,s,o)}}function Rue(e){return!!(ys(e)&&e.add)}function GP(e,t){const r=e.getValue("willChange");if(Rue(r))return r.add(t)}function mK(e){return e.props[qY]}const gK=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Lue=1e-7,Fue=12;function Bue(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=gK(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Lue&&++o<Fue);return s}function Hy(e,t,r,n){if(e===t&&r===n)return el;const a=i=>Bue(i,0,1,e,r);return i=>i===0||i===1?i:gK(a(i),t,n)}const vK=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xK=e=>t=>1-e(1-t),yK=Hy(.33,1.53,.69,.99),qA=xK(yK),bK=vK(qA),wK=e=>(e*=2)<1?.5*qA(e):.5*(2-Math.pow(2,-10*(e-1))),VA=e=>1-Math.sin(Math.acos(e)),NK=xK(VA),SK=vK(VA),jK=e=>/^0[^.\s]+$/u.test(e);function zue(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||jK(e):!0}const Dx=e=>Math.round(e*1e5)/1e5,HA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wue(e){return e==null}const Uue=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GA=(e,t)=>r=>!!(typeof r=="string"&&Uue.test(r)&&r.startsWith(e)||t&&!Wue(r)&&Object.prototype.hasOwnProperty.call(r,t)),CK=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(HA);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},$ue=e=>Jd(0,255,e),FN={...H0,transform:e=>Math.round($ue(e))},Vp={test:GA("rgb","red"),parse:CK("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+FN.transform(e)+", "+FN.transform(t)+", "+FN.transform(r)+", "+Dx(Jx.transform(n))+")"};function que(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const YP={test:GA("#"),parse:que,transform:Vp.transform},qg={test:GA("hsl","hue"),parse:CK("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Nu.transform(Dx(t))+", "+Nu.transform(Dx(r))+", "+Dx(Jx.transform(n))+")"},fs={test:e=>Vp.test(e)||YP.test(e)||qg.test(e),parse:e=>Vp.test(e)?Vp.parse(e):qg.test(e)?qg.parse(e):YP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Vp.transform(e):qg.transform(e)},Vue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hue(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(HA))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Vue))===null||r===void 0?void 0:r.length)||0)>0}const _K="number",EK="color",Gue="var",Yue="var(",v7="${}",Kue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Qx(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Kue,l=>(fs.test(l)?(n.color.push(i),a.push(EK),r.push(fs.parse(l))):l.startsWith(Yue)?(n.var.push(i),a.push(Gue),r.push(l)):(n.number.push(i),a.push(_K),r.push(parseFloat(l))),++i,v7)).split(v7);return{values:r,split:o,indexes:n,types:a}}function PK(e){return Qx(e).values}function kK(e){const{split:t,types:r}=Qx(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===_K?i+=Dx(a[s]):o===EK?i+=fs.transform(a[s]):i+=a[s]}return i}}const Xue=e=>typeof e=="number"?0:e;function Jue(e){const t=PK(e);return kK(e)(t.map(Xue))}const Eh={test:Hue,parse:PK,createTransformer:kK,getAnimatableNone:Jue},Zue=new Set(["brightness","contrast","saturate","opacity"]);function Que(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(HA)||[];if(!n)return e;const a=r.replace(n,"");let i=Zue.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const ede=/\b([a-z-]*)\(.*?\)/gu,KP={...Eh,getAnimatableNone:e=>{const t=e.match(ede);return t?t.map(Que).join(" "):e}},tde={...AA,color:fs,backgroundColor:fs,outlineColor:fs,fill:fs,stroke:fs,borderColor:fs,borderTopColor:fs,borderRightColor:fs,borderBottomColor:fs,borderLeftColor:fs,filter:KP,WebkitFilter:KP},YA=e=>tde[e];function AK(e,t){let r=YA(e);return r!==KP&&(r=Eh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const rde=new Set(["auto","none","0"]);function nde(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!rde.has(i)&&Qx(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=AK(r,a)}const x7=e=>e===H0||e===rr,y7=(e,t)=>parseFloat(e.split(", ")[t]),b7=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return y7(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?y7(i[1],e):0}},ade=new Set(["x","y","z"]),ide=V0.filter(e=>!ade.has(e));function sde(e){const t=[];return ide.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const b0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:b7(4,13),y:b7(5,14)};b0.translateX=b0.x;b0.translateY=b0.y;const Qp=new Set;let XP=!1,JP=!1;function DK(){if(JP){const e=Array.from(Qp).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=sde(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))===null||o===void 0||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}JP=!1,XP=!1,Qp.forEach(e=>e.complete()),Qp.clear()}function TK(){Qp.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(JP=!0)})}function ode(){TK(),DK()}class KA{constructor(t,r,n,a,i,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Qp.add(this),XP||(XP=!0,Mn.read(TK),Mn.resolveKeyframes(DK))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const s=a?.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),a&&s===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Qp.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Qp.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const OK=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),lde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cde(e){const t=lde.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function IK(e,t,r=1){const[n,a]=cde(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return OK(s)?parseFloat(s):s}return kA(a)?IK(a,t,r+1):a}const MK=e=>t=>t.test(e),ude={test:e=>e==="auto",parse:e=>e},RK=[H0,rr,Nu,lh,tue,eue,ude],w7=e=>RK.find(MK(e));class LK extends KA{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),kA(u))){const d=IK(u,r.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hK.has(n)||t.length!==2)return;const[a,i]=t,s=w7(a),o=w7(i);if(s!==o)if(x7(s)&&x7(o))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)zue(t[a])&&n.push(a);n.length&&nde(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=b0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=a.length-1,o=a[s];a[s]=b0[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const N7=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Eh.test(e)||e==="0")&&!e.startsWith("url("));function dde(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function fde(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=N7(a,t),o=N7(i,t);return!s||!o?!1:dde(e)||(r==="spring"||LA(r))&&n}const hde=e=>e!==null;function Z5(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(hde),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const pde=40;class FK{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Su.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pde?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ode(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Su.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:s,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!fde(t,n,a,i))if(s)this.options.duration=0;else{l&&l(Z5(t,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const la=(e,t,r)=>e+(t-e)*r;function BN(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function mde({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=BN(l,o,e+1/3),i=BN(l,o,e),s=BN(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function uw(e,t){return r=>r>0?t:e}const zN=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},gde=[YP,Vp,qg],vde=e=>gde.find(t=>t.test(e));function S7(e){const t=vde(e);if(!t)return!1;let r=t.parse(e);return t===qg&&(r=mde(r)),r}const j7=(e,t)=>{const r=S7(e),n=S7(t);if(!r||!n)return uw(e,t);const a={...r};return i=>(a.red=zN(r.red,n.red,i),a.green=zN(r.green,n.green,i),a.blue=zN(r.blue,n.blue,i),a.alpha=la(r.alpha,n.alpha,i),Vp.transform(a))},xde=(e,t)=>r=>t(e(r)),Gy=(...e)=>e.reduce(xde),ZP=new Set(["none","hidden"]);function yde(e,t){return ZP.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function bde(e,t){return r=>la(e,t,r)}function XA(e){return typeof e=="number"?bde:typeof e=="string"?kA(e)?uw:fs.test(e)?j7:Sde:Array.isArray(e)?BK:typeof e=="object"?fs.test(e)?j7:wde:uw}function BK(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>XA(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function wde(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=XA(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Nde(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][a[s]],l=(r=e.values[o])!==null&&r!==void 0?r:0;n[i]=l,a[s]++}return n}const Sde=(e,t)=>{const r=Eh.createTransformer(t),n=Qx(e),a=Qx(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ZP.has(e)&&!a.values.length||ZP.has(t)&&!n.values.length?yde(e,t):Gy(BK(Nde(n,a),a.values),r):uw(e,t)};function zK(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?la(e,t,r):XA(e)(e,t)}const jde=5;function WK(e,t,r){const n=Math.max(t-jde,0);return pK(r-e(n),t-n)}const Sa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},WN=.001;function Cde({duration:e=Sa.duration,bounce:t=Sa.bounce,velocity:r=Sa.velocity,mass:n=Sa.mass}){let a,i,s=1-t;s=Jd(Sa.minDamping,Sa.maxDamping,s),e=Jd(Sa.minDuration,Sa.maxDuration,Hd(e)),s<1?(a=u=>{const d=u*s,f=d*e,p=d-r,h=QP(u,s),g=Math.exp(-f);return WN-p/h*g},i=u=>{const f=u*s*e,p=f*r+r,h=Math.pow(s,2)*Math.pow(u,2)*e,g=Math.exp(-f),y=QP(Math.pow(u,2),s);return(-a(u)+WN>0?-1:1)*((p-h)*g)/y}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-WN+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const o=5/e,l=Ede(a,i,o);if(e=Vd(e),isNaN(l))return{stiffness:Sa.stiffness,damping:Sa.damping,duration:e};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:s*2*Math.sqrt(n*u),duration:e}}}const _de=12;function Ede(e,t,r){let n=r;for(let a=1;a<_de;a++)n=n-e(n)/t(n);return n}function QP(e,t){return e*Math.sqrt(1-t*t)}const Pde=["duration","bounce"],kde=["stiffness","damping","mass"];function C7(e,t){return t.some(r=>e[r]!==void 0)}function Ade(e){let t={velocity:Sa.velocity,stiffness:Sa.stiffness,damping:Sa.damping,mass:Sa.mass,isResolvedFromDuration:!1,...e};if(!C7(e,kde)&&C7(e,Pde))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Jd(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Sa.mass,stiffness:a,damping:i}}else{const r=Cde(e);t={...t,...r,mass:Sa.mass},t.isResolvedFromDuration=!0}return t}function UK(e=Sa.visualDuration,t=Sa.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:f,velocity:p,isResolvedFromDuration:h}=Ade({...r,velocity:-Hd(r.velocity||0)}),g=p||0,y=u/(2*Math.sqrt(l*d)),x=s-i,b=Hd(Math.sqrt(l/d)),N=Math.abs(x)<5;n||(n=N?Sa.restSpeed.granular:Sa.restSpeed.default),a||(a=N?Sa.restDelta.granular:Sa.restDelta.default);let j;if(y<1){const C=QP(b,y);j=E=>{const I=Math.exp(-y*b*E);return s-I*((g+y*b*x)/C*Math.sin(C*E)+x*Math.cos(C*E))}}else if(y===1)j=C=>s-Math.exp(-b*C)*(x+(g+b*x)*C);else{const C=b*Math.sqrt(y*y-1);j=E=>{const I=Math.exp(-y*b*E),D=Math.min(C*E,300);return s-I*((g+y*b*x)*Math.sinh(D)+C*x*Math.cosh(D))/C}}const w={calculatedDuration:h&&f||null,next:C=>{const E=j(C);if(h)o.done=C>=f;else{let I=0;y<1&&(I=C===0?Vd(g):WK(j,C,E));const D=Math.abs(I)<=n,O=Math.abs(s-E)<=a;o.done=D&&O}return o.value=o.done?s:E,o},toString:()=>{const C=Math.min(iK(w),VP),E=sK(I=>w.next(C*I).value,C,30);return C+"ms "+E}};return w}function _7({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},h=D=>o!==void 0&&D<o||l!==void 0&&D>l,g=D=>o===void 0?l:l===void 0||Math.abs(o-D)<Math.abs(l-D)?o:l;let y=r*t;const x=f+y,b=s===void 0?x:s(x);b!==x&&(y=b-f);const N=D=>-y*Math.exp(-D/n),j=D=>b+N(D),w=D=>{const O=N(D),L=j(D);p.done=Math.abs(O)<=u,p.value=p.done?b:L};let C,E;const I=D=>{h(p.value)&&(C=D,E=UK({keyframes:[p.value,g(p.value)],velocity:WK(j,D,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return I(0),{calculatedDuration:null,next:D=>{let O=!1;return!E&&C===void 0&&(O=!0,w(D),I(D)),C!==void 0&&D>=C?E.next(D-C):(!O&&w(D),p)}}}const Dde=Hy(.42,0,1,1),Tde=Hy(0,0,.58,1),$K=Hy(.42,0,.58,1),Ode=e=>Array.isArray(e)&&typeof e[0]!="number",Ide={linear:el,easeIn:Dde,easeInOut:$K,easeOut:Tde,circIn:VA,circInOut:SK,circOut:NK,backIn:qA,backInOut:bK,backOut:yK,anticipate:wK},E7=e=>{if(FA(e)){BY(e.length===4);const[t,r,n,a]=e;return Hy(t,r,n,a)}else if(typeof e=="string")return Ide[e];return e};function Mde(e,t,r){const n=[],a=r||zK,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||el:t;o=Gy(l,o)}n.push(o)}return n}function Rde(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(BY(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Mde(t,n,a),l=o.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const p=x0(e[f],e[f+1],d);return o[f](p)};return r?d=>u(Jd(e[0],e[i-1],d)):u}function Lde(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=x0(0,t,n);e.push(la(r,1,a))}}function Fde(e){const t=[0];return Lde(t,e.length-1),t}function Bde(e,t){return e.map(r=>r*t)}function zde(e,t){return e.map(()=>t||$K).splice(0,e.length-1)}function dw({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=Ode(n)?n.map(E7):E7(n),i={done:!1,value:t[0]},s=Bde(r&&r.length===t.length?r:Fde(t),e),o=Rde(s,t,{ease:Array.isArray(a)?a:zde(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Wde=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Mn.update(t,!0),stop:()=>_h(t),now:()=>Fi.isProcessing?Fi.timestamp:Su.now()}},Ude={decay:_7,inertia:_7,tween:dw,keyframes:dw,spring:UK},$de=e=>e/100;class JA extends FK{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,s=a?.KeyframeResolver||KA,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new s(i,o,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=this.options,o=LA(r)?r:Ude[r]||dw;let l,u;o!==dw&&typeof t[0]!="number"&&(l=Gy($de,zK(t[0],t[1])),t=[0,100]);const d=o({...this.options,keyframes:t});i==="mirror"&&(u=o({...this.options,keyframes:[...t].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=iK(d));const{calculatedDuration:f}=d,p=f+a,h=p*(n+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:s,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:p,repeat:h,repeatType:g,repeatDelay:y,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const b=this.currentTime-p*(this.speed>=0?1:-1),N=this.speed>=0?b<0:b>d;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let j=this.currentTime,w=i;if(h){const D=Math.min(this.currentTime,d)/f;let O=Math.floor(D),L=D%1;!L&&D>=1&&(L=1),L===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(g==="reverse"?(L=1-L,y&&(L-=y/f)):g==="mirror"&&(w=s)),j=Jd(0,1,L)*f}const C=N?{done:!1,value:l[0]}:w.next(j);o&&(C.value=o(C.value));let{done:E}=C;!N&&u!==null&&(E=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return I&&a!==void 0&&(C.value=Z5(l,this.options,a)),x&&x(C.value),I&&this.finish(),C}get duration(){const{resolved:t}=this;return t?Hd(t.calculatedDuration):0}get time(){return Hd(this.currentTime)}set time(t){t=Vd(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Hd(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Wde,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const qde=new Set(["opacity","clipPath","filter","transform"]);function Vde(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeInOut",times:l}={}){const u={[t]:r};l&&(u.offset=l);const d=lK(o,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}const Hde=NA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fw=10,Gde=2e4;function Yde(e){return LA(e.type)||e.type==="spring"||!oK(e.ease)}function Kde(e,t){const r=new JA({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<Gde;)n=r.sample(i),a.push(n.value),i+=fw;return{times:void 0,keyframes:a,duration:i-fw,ease:"linear"}}const qK={anticipate:wK,backInOut:bK,circInOut:SK};function Xde(e){return e in qK}class P7 extends FK{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new LK(i,(s,o)=>this.onKeyframesResolved(s,o),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:a,ease:i,type:s,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof i=="string"&&cw()&&Xde(i)&&(i=qK[i]),Yde(this.options)){const{onComplete:f,onUpdate:p,motionValue:h,element:g,...y}=this.options,x=Kde(t,y);t=x.keyframes,t.length===1&&(t[1]=t[0]),n=x.duration,a=x.times,i=x.ease,s="keyframes"}const d=Vde(o.owner.current,l,t,{...this.options,duration:n,times:a,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(f7(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;o.set(Z5(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:a,type:s,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Hd(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Hd(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Vd(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return el;const{animation:n}=r;f7(n,t)}return el}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:s,times:o}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:p,...h}=this.options,g=new JA({...h,keyframes:n,duration:a,type:i,ease:s,times:o,isGenerator:!0}),y=Vd(this.time);u.setWithVelocity(g.sample(y-fw).value,g.sample(y).value,fw)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:s,type:o}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=r.owner.getProps();return Hde()&&n&&qde.has(n)&&!l&&!u&&!a&&i!=="mirror"&&s!==0&&o!=="inertia"}}const Jde={type:"spring",stiffness:500,damping:25,restSpeed:10},Zde=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Qde={type:"keyframes",duration:.8},efe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tfe=(e,{keyframes:t})=>t.length>2?Qde:Dm.has(e)?e.startsWith("scale")?Zde(t[1]):Jde:efe;function rfe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const ZA=(e,t,r,n={},a,i)=>s=>{const o=RA(n,e)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Vd(l);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:p=>{t.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};rfe(o)||(d={...d,...tfe(e,d)}),d.duration&&(d.duration=Vd(d.duration)),d.repeatDelay&&(d.repeatDelay=Vd(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const p=Z5(d.keyframes,o);if(p!==void 0)return Mn.update(()=>{d.onUpdate(p),d.onComplete()}),new Sue([])}return!i&&P7.supports(d)?new P7(d):new JA(d)};function nfe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function VK(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:s=e.getDefaultTransition(),transitionEnd:o,...l}=t;n&&(s=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in l){const p=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),h=l[f];if(h===void 0||d&&nfe(d,f))continue;const g={delay:r,...RA(s||{},f)};let y=!1;if(window.MotionHandoffAnimation){const b=mK(e);if(b){const N=window.MotionHandoffAnimation(b,f,Mn);N!==null&&(g.startTime=N,y=!0)}}GP(e,f),p.start(ZA(f,p,h,e.shouldReduceMotion&&hK.has(f)?{type:!1}:g,e,y));const x=p.animation;x&&u.push(x)}return o&&Promise.all(u).then(()=>{Mn.update(()=>{o&&$A(e,o)})}),u}function ek(e,t,r={}){var n;const a=J5(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const s=a?()=>Promise.all(VK(e,a,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=i;return afe(e,t,d+u,f,p,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>d())}else return Promise.all([s(),o(r.delay)])}function afe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(ife).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(ek(u,t,{...i,delay:r+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function ife(e,t){return e.sortNodePosition(t)}function HK(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>ek(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=ek(e,t,r);else{const a=typeof t=="function"?J5(e,t,r.custom):t;n=Promise.all(VK(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const sfe=jA.length;function GK(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?GK(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<sfe;r++){const n=jA[r],a=e.props[n];(Xx(a)||a===!1)&&(t[n]=a)}return t}const ofe=[...SA].reverse(),lfe=SA.length;function cfe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>HK(e,r,n)))}function ufe(e){let t=cfe(e),r=k7(),n=!0;const a=l=>(u,d)=>{var f;const p=J5(e,d,l==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:h,transitionEnd:g,...y}=p;u={...u,...y,...g}}return u};function i(l){t=l(e)}function s(l){const{props:u}=e,d=GK(e.parent)||{},f=[],p=new Set;let h={},g=1/0;for(let x=0;x<lfe;x++){const b=ofe[x],N=r[b],j=u[b]!==void 0?u[b]:d[b],w=Xx(j),C=b===l?N.isActive:null;C===!1&&(g=x);let E=j===d[b]&&j!==u[b]&&w;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),N.protectedKeys={...h},!N.isActive&&C===null||!j&&!N.prevProp||K5(j)||typeof j=="boolean")continue;const I=dfe(N.prevProp,j);let D=I||b===l&&N.isActive&&!E&&w||x>g&&w,O=!1;const L=Array.isArray(j)?j:[j];let R=L.reduce(a(b),{});C===!1&&(R={});const{prevResolvedValues:P={}}=N,F={...P,...R},V=q=>{D=!0,p.has(q)&&(O=!0,p.delete(q)),N.needsAnimating[q]=!0;const U=e.getValue(q);U&&(U.liveStyle=!1)};for(const q in F){const U=R[q],Q=P[q];if(h.hasOwnProperty(q))continue;let se=!1;qP(U)&&qP(Q)?se=!aK(U,Q):se=U!==Q,se?U!=null?V(q):p.add(q):U!==void 0&&p.has(q)?V(q):N.protectedKeys[q]=!0}N.prevProp=j,N.prevResolvedValues=R,N.isActive&&(h={...h,...R}),n&&e.blockInitialAnimation&&(D=!1),D&&(!(E&&I)||O)&&f.push(...L.map(q=>({animation:q,options:{type:b}})))}if(p.size){const x={};p.forEach(b=>{const N=e.getBaseTarget(b),j=e.getValue(b);j&&(j.liveStyle=!0),x[b]=N??null}),f.push({animation:x})}let y=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(f):Promise.resolve()}function o(l,u){var d;if(r[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var h;return(h=p.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),r[l].isActive=u;const f=s(l);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=k7(),n=!0}}}function dfe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aK(t,e):!1}function Ep(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k7(){return{animate:Ep(!0),whileInView:Ep(),whileHover:Ep(),whileTap:Ep(),whileDrag:Ep(),whileFocus:Ep(),exit:Ep()}}class Bh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ffe extends Bh{constructor(t){super(t),t.animationState||(t.animationState=ufe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();K5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let hfe=0;class pfe extends Bh{constructor(){super(...arguments),this.id=hfe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const mfe={animation:{Feature:ffe},exit:{Feature:pfe}};function ey(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Yy(e){return{point:{x:e.pageX,y:e.pageY}}}const gfe=e=>t=>BA(t)&&e(t,Yy(t));function Tx(e,t,r,n){return ey(e,t,gfe(r),n)}const A7=(e,t)=>Math.abs(e-t);function vfe(e,t){const r=A7(e.x,t.x),n=A7(e.y,t.y);return Math.sqrt(r**2+n**2)}class YK{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=$N(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,h=vfe(f.offset,{x:0,y:0})>=3;if(!p&&!h)return;const{point:g}=f,{timestamp:y}=Fi;this.history.push({...g,timestamp:y});const{onStart:x,onMove:b}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=UN(p,this.transformPagePoint),Mn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=$N(f.type==="pointercancel"?this.lastMoveEventInfo:UN(p,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,x),g&&g(f,x)},!BA(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=Yy(t),o=UN(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=Fi;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,$N(o,this.history)),this.removeListeners=Gy(Tx(this.contextWindow,"pointermove",this.handlePointerMove),Tx(this.contextWindow,"pointerup",this.handlePointerUp),Tx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),_h(this.updatePoint)}}function UN(e,t){return t?{point:t(e.point)}:e}function D7(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $N({point:e},t){return{point:e,delta:D7(e,KK(t)),offset:D7(e,xfe(t)),velocity:yfe(t,.1)}}function xfe(e){return e[0]}function KK(e){return e[e.length-1]}function yfe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=KK(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Vd(t)));)r--;if(!n)return{x:0,y:0};const i=Hd(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const XK=1e-4,bfe=1-XK,wfe=1+XK,JK=.01,Nfe=0-JK,Sfe=0+JK;function il(e){return e.max-e.min}function jfe(e,t,r){return Math.abs(e-t)<=r}function T7(e,t,r,n=.5){e.origin=n,e.originPoint=la(t.min,t.max,e.origin),e.scale=il(r)/il(t),e.translate=la(r.min,r.max,e.origin)-e.originPoint,(e.scale>=bfe&&e.scale<=wfe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Nfe&&e.translate<=Sfe||isNaN(e.translate))&&(e.translate=0)}function Ox(e,t,r,n){T7(e.x,t.x,r.x,n?n.originX:void 0),T7(e.y,t.y,r.y,n?n.originY:void 0)}function O7(e,t,r){e.min=r.min+t.min,e.max=e.min+il(t)}function Cfe(e,t,r){O7(e.x,t.x,r.x),O7(e.y,t.y,r.y)}function I7(e,t,r){e.min=t.min-r.min,e.max=e.min+il(t)}function Ix(e,t,r){I7(e.x,t.x,r.x),I7(e.y,t.y,r.y)}function _fe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?la(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?la(r,e,n.max):Math.min(e,r)),e}function M7(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Efe(e,{top:t,left:r,bottom:n,right:a}){return{x:M7(e.x,r,a),y:M7(e.y,t,n)}}function R7(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Pfe(e,t){return{x:R7(e.x,t.x),y:R7(e.y,t.y)}}function kfe(e,t){let r=.5;const n=il(e),a=il(t);return a>n?r=x0(t.min,t.max-n,e.min):n>a&&(r=x0(e.min,e.max-a,t.min)),Jd(0,1,r)}function Afe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const tk=.35;function Dfe(e=tk){return e===!1?e=0:e===!0&&(e=tk),{x:L7(e,"left","right"),y:L7(e,"top","bottom")}}function L7(e,t,r){return{min:F7(e,t),max:F7(e,r)}}function F7(e,t){return typeof e=="number"?e:e[t]||0}const B7=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vg=()=>({x:B7(),y:B7()}),z7=()=>({min:0,max:0}),Da=()=>({x:z7(),y:z7()});function Ll(e){return[e("x"),e("y")]}function ZK({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Tfe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ofe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function qN(e){return e===void 0||e===1}function rk({scale:e,scaleX:t,scaleY:r}){return!qN(e)||!qN(t)||!qN(r)}function Tp(e){return rk(e)||QK(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function QK(e){return W7(e.x)||W7(e.y)}function W7(e){return e&&e!=="0%"}function hw(e,t,r){const n=e-r,a=t*n;return r+a}function U7(e,t,r,n,a){return a!==void 0&&(e=hw(e,a,n)),hw(e,r,n)+t}function nk(e,t=0,r=1,n,a){e.min=U7(e.min,t,r,n,a),e.max=U7(e.max,t,r,n,a)}function eX(e,{x:t,y:r}){nk(e.x,t.translate,t.scale,t.originPoint),nk(e.y,r.translate,r.scale,r.originPoint)}const $7=.999999999999,q7=1.0000000000001;function Ife(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Gg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,eX(e,s)),n&&Tp(i.latestValues)&&Gg(e,i.latestValues))}t.x<q7&&t.x>$7&&(t.x=1),t.y<q7&&t.y>$7&&(t.y=1)}function Hg(e,t){e.min=e.min+t,e.max=e.max+t}function V7(e,t,r,n,a=.5){const i=la(e.min,e.max,a);nk(e,t,r,i,n)}function Gg(e,t){V7(e.x,t.x,t.scaleX,t.scale,t.originX),V7(e.y,t.y,t.scaleY,t.scale,t.originY)}function tX(e,t){return ZK(Ofe(e.getBoundingClientRect(),t))}function Mfe(e,t,r){const n=tX(e,r),{scroll:a}=t;return a&&(Hg(n.x,a.offset.x),Hg(n.y,a.offset.y)),n}const rX=({current:e})=>e?e.ownerDocument.defaultView:null,Rfe=new WeakMap;class Lfe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Da(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yy(d).point)},i=(d,f)=>{const{drag:p,dragPropagation:h,onDragStart:g}=this.getProps();if(p&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Due(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ll(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Nu.test(b)){const{projection:N}=this.visualElement;if(N&&N.layout){const j=N.layout.layoutBox[x];j&&(b=il(j)*(parseFloat(b)/100))}}this.originPoint[x]=b}),g&&Mn.postRender(()=>g(d,f)),GP(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:p,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=f;if(h&&this.currentDirection===null){this.currentDirection=Ffe(x),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),y&&y(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ll(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new YK(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:rX(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Mn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!T2(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=_fe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&$g(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=Efe(a.layoutBox,r):this.constraints=!1,this.elastic=Dfe(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ll(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Afe(a.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!$g(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Mfe(n,a.root,this.visualElement.getTransformPagePoint());let s=Pfe(a.layout.layoutBox,i);if(r){const o=r(Tfe(s));this.hasMutatedConstraints=!!o,o&&(s=ZK(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ll(d=>{if(!T2(d,r,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const p=a?200:1e6,h=a?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:p,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return GP(this.visualElement,t),n.start(ZA(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ll(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ll(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ll(r=>{const{drag:n}=this.getProps();if(!T2(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-la(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!$g(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ll(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=kfe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ll(s=>{if(!T2(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(la(l,u,a[s]))})}addListeners(){if(!this.visualElement.current)return;Rfe.set(this.visualElement,this);const t=this.visualElement.current,r=Tx(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();$g(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Mn.read(n);const s=ey(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ll(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=tk,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function T2(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Ffe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Bfe extends Bh{constructor(t){super(t),this.removeGroupControls=el,this.removeListeners=el,this.controls=new Lfe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||el}unmount(){this.removeGroupControls(),this.removeListeners()}}const H7=e=>(t,r)=>{e&&Mn.postRender(()=>e(t,r))};class zfe extends Bh{constructor(){super(...arguments),this.removePointerDownListener=el}onPointerDown(t){this.session=new YK(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:H7(t),onStart:H7(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Mn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Tx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Tb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function G7(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Gv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rr.test(e))e=parseFloat(e);else return e;const r=G7(e,t.target.x),n=G7(e,t.target.y);return`${r}% ${n}%`}},Wfe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Eh.parse(e);if(a.length>5)return n;const i=Eh.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const u=la(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=u),typeof a[3+s]=="number"&&(a[3+s]/=u),i(a)}};class Ufe extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;due($fe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Tb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,s=n.projection;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Mn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_A.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nX(e){const[t,r]=FY(),n=A.useContext(xA);return c.jsx(Ufe,{...e,layoutGroup:n,switchLayoutGroup:A.useContext(VY),isPresent:t,safeToRemove:r})}const $fe={borderRadius:{...Gv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Gv,borderTopRightRadius:Gv,borderBottomLeftRadius:Gv,borderBottomRightRadius:Gv,boxShadow:Wfe};function qfe(e,t,r){const n=ys(e)?e:Zx(e);return n.start(ZA("",n,t,r)),n.animation}function Vfe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Hfe=(e,t)=>e.depth-t.depth;class Gfe{constructor(){this.children=[],this.isDirty=!1}add(t){zA(this.children,t),this.isDirty=!0}remove(t){WA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Hfe),this.isDirty=!1,this.children.forEach(t)}}function Yfe(e,t){const r=Su.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(_h(n),e(i-t))};return Mn.read(n,!0),()=>_h(n)}const aX=["TopLeft","TopRight","BottomLeft","BottomRight"],Kfe=aX.length,Y7=e=>typeof e=="string"?parseFloat(e):e,K7=e=>typeof e=="number"||rr.test(e);function Xfe(e,t,r,n,a,i){a?(e.opacity=la(0,r.opacity!==void 0?r.opacity:1,Jfe(n)),e.opacityExit=la(t.opacity!==void 0?t.opacity:1,0,Zfe(n))):i&&(e.opacity=la(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let s=0;s<Kfe;s++){const o=`border${aX[s]}Radius`;let l=X7(t,o),u=X7(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||K7(l)===K7(u)?(e[o]=Math.max(la(Y7(l),Y7(u),n),0),(Nu.test(u)||Nu.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=la(t.rotate||0,r.rotate||0,n))}function X7(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Jfe=iX(0,.5,NK),Zfe=iX(.5,.95,el);function iX(e,t,r){return n=>n<e?0:n>t?1:r(x0(e,t,n))}function J7(e,t){e.min=t.min,e.max=t.max}function Dl(e,t){J7(e.x,t.x),J7(e.y,t.y)}function Z7(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Q7(e,t,r,n,a){return e-=t,e=hw(e,1/r,n),a!==void 0&&(e=hw(e,1/a,n)),e}function Qfe(e,t=0,r=1,n=.5,a,i=e,s=e){if(Nu.test(t)&&(t=parseFloat(t),t=la(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=la(i.min,i.max,n);e===i&&(o-=t),e.min=Q7(e.min,t,r,o,a),e.max=Q7(e.max,t,r,o,a)}function eL(e,t,[r,n,a],i,s){Qfe(e,t[r],t[n],t[a],t.scale,i,s)}const ehe=["x","scaleX","originX"],the=["y","scaleY","originY"];function tL(e,t,r,n){eL(e.x,t,ehe,r?r.x:void 0,n?n.x:void 0),eL(e.y,t,the,r?r.y:void 0,n?n.y:void 0)}function rL(e){return e.translate===0&&e.scale===1}function sX(e){return rL(e.x)&&rL(e.y)}function nL(e,t){return e.min===t.min&&e.max===t.max}function rhe(e,t){return nL(e.x,t.x)&&nL(e.y,t.y)}function aL(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oX(e,t){return aL(e.x,t.x)&&aL(e.y,t.y)}function iL(e){return il(e.x)/il(e.y)}function sL(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class nhe{constructor(){this.members=[]}add(t){zA(this.members,t),t.scheduleRender()}remove(t){if(WA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ahe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=r?.z||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:p,skewX:h,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),p&&(n+=`rotateY(${p}deg) `),h&&(n+=`skewX(${h}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Op={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cx=typeof window<"u"&&window.MotionDebug!==void 0,VN=["","X","Y","Z"],ihe={visibility:"hidden"},oL=1e3;let she=0;function HN(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function lX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=mK(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Mn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&lX(n)}function cX({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t?.()){this.id=she++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cx&&(Op.totalNodes=Op.resolvedTargetDeltas=Op.recalculatedProjection=0),this.nodes.forEach(che),this.nodes.forEach(phe),this.nodes.forEach(mhe),this.nodes.forEach(uhe),Cx&&window.MotionDebug.record(Op)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gfe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new UA),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Vfe(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Yfe(p,250),Tb.hasAnimatedSinceResize&&(Tb.hasAnimatedSinceResize=!1,this.nodes.forEach(cL))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||bhe,{onLayoutAnimationStart:x,onLayoutAnimationComplete:b}=d.getProps(),N=!this.targetLayout||!oX(this.targetLayout,g)||h,j=!p&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||p&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,j);const w={...RA(y,"layout"),onPlay:x,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||cL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_h(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ghe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lL);return}this.isUpdating||this.nodes.forEach(fhe),this.isUpdating=!1,this.nodes.forEach(hhe),this.nodes.forEach(ohe),this.nodes.forEach(lhe),this.clearAllSnapshots();const o=Su.now();Fi.delta=Jd(0,1e3/60,o-Fi.timestamp),Fi.timestamp=o,Fi.isProcessing=!0,RN.update.process(Fi),RN.preRender.process(Fi),RN.render.process(Fi),Fi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_A.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dhe),this.sharedNodes.forEach(vhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Da(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!sX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||Tp(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),whe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:o}=this.options;if(!o)return Da();const l=o.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(Nhe))){const{scroll:d}=this.root;d&&(Hg(l.x,d.offset.x),Hg(l.y,d.offset.y))}return l}removeElementScroll(s){var o;const l=Da();if(Dl(l,s),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Dl(l,s),Hg(l.x,f.offset.x),Hg(l.y,f.offset.y))}return l}applyTransform(s,o=!1){const l=Da();Dl(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Gg(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Tp(d.latestValues)&&Gg(l,d.latestValues)}return Tp(this.latestValues)&&Gg(l,this.latestValues),l}removeTransform(s){const o=Da();Dl(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Tp(u.latestValues))continue;rk(u.latestValues)&&u.updateSnapshot();const d=Da(),f=u.measurePageBox();Dl(d,f),tL(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Tp(this.latestValues)&&tL(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Fi.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Da(),this.relativeTargetOrigin=Da(),Ix(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Da(),this.targetWithTransforms=Da()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dl(this.target,this.layout.layoutBox),eX(this.target,this.targetDelta)):Dl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Da(),this.relativeTargetOrigin=Da(),Ix(this.relativeTargetOrigin,this.target,h.target),Dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cx&&Op.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||rk(this.parent.latestValues)||QK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fi.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Dl(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,h=this.treeScale.y;Ife(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Da());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Z7(this.prevProjectionDelta.x,this.projectionDelta.x),Z7(this.prevProjectionDelta.y,this.projectionDelta.y)),Ox(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==h||!sL(this.projectionDelta.x,this.prevProjectionDelta.x)||!sL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Cx&&Op.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vg(),this.projectionDelta=Vg(),this.projectionDeltaWithTransform=Vg()}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Vg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Da(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,x=this.getStack(),b=!x||x.members.length<=1,N=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(yhe));this.animationProgress=0;let j;this.mixTargetDelta=w=>{const C=w/1e3;uL(f.x,s.x,C),uL(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ix(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xhe(this.relativeTarget,this.relativeTargetOrigin,p,C),j&&rhe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Da()),Dl(j,this.relativeTarget)),y&&(this.animationValues=d,Xfe(d,u,this.latestValues,C,N,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_h(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mn.update(()=>{Tb.hasAnimatedSinceResize=!0,this.currentAnimation=qfe(0,oL,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(oL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&uX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Da();const f=il(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const p=il(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+p}Dl(o,l),Gg(o,d),Ox(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new nhe),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&HN("z",s,u,this.animationValues);for(let d=0;d<VN.length;d++)HN(`rotate${VN[d]}`,s,u,this.animationValues),HN(`skew${VN[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ihe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ab(s?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Ab(s?.pointerEvents)||""),this.hasProjected&&!Tp(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=ahe(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in lw){if(p[y]===void 0)continue;const{correct:x,applyTo:b}=lw[y],N=u.transform==="none"?p[y]:x(p[y],f);if(b){const j=b.length;for(let w=0;w<j;w++)u[b[w]]=N}else u[y]=N}return this.options.layoutId&&(u.pointerEvents=f===this?Ab(s?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(lL),this.root.sharedNodes.clear()}}}function ohe(e){e.updateLayout()}function lhe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=r.source!==e.layout.source;i==="size"?Ll(f=>{const p=s?r.measuredBox[f]:r.layoutBox[f],h=il(p);p.min=n[f].min,p.max=p.min+h}):uX(i,r.layoutBox,n)&&Ll(f=>{const p=s?r.measuredBox[f]:r.layoutBox[f],h=il(n[f]);p.max=p.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const o=Vg();Ox(o,n,r.layoutBox);const l=Vg();s?Ox(l,e.applyTransform(a,!0),r.measuredBox):Ox(l,n,r.layoutBox);const u=!sX(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:h}=f;if(p&&h){const g=Da();Ix(g,r.layoutBox,p.layoutBox);const y=Da();Ix(y,n,h.layoutBox),oX(g,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function che(e){Cx&&Op.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uhe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function dhe(e){e.clearSnapshot()}function lL(e){e.clearMeasurements()}function fhe(e){e.isLayoutDirty=!1}function hhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function cL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function phe(e){e.resolveTargetDelta()}function mhe(e){e.calcProjection()}function ghe(e){e.resetSkewAndRotation()}function vhe(e){e.removeLeadSnapshot()}function uL(e,t,r){e.translate=la(t.translate,0,r),e.scale=la(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function dL(e,t,r,n){e.min=la(t.min,r.min,n),e.max=la(t.max,r.max,n)}function xhe(e,t,r,n){dL(e.x,t.x,r.x,n),dL(e.y,t.y,r.y,n)}function yhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bhe={duration:.45,ease:[.4,0,.1,1]},fL=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),hL=fL("applewebkit/")&&!fL("chrome/")?Math.round:el;function pL(e){e.min=hL(e.min),e.max=hL(e.max)}function whe(e){pL(e.x),pL(e.y)}function uX(e,t,r){return e==="position"||e==="preserve-aspect"&&!jfe(iL(t),iL(r),.2)}function Nhe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const She=cX({attachResizeListener:(e,t)=>ey(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),GN={current:void 0},dX=cX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!GN.current){const e=new She({});e.mount(window),e.setOptions({layoutScroll:!0}),GN.current=e}return GN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jhe={pan:{Feature:zfe},drag:{Feature:Bfe,ProjectionNode:dX,MeasureLayout:nX}};function mL(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Mn.postRender(()=>i(t,Yy(t)))}class Che extends Bh{mount(){const{current:t}=this.node;t&&(this.unmount=_ue(t,r=>(mL(this.node,r,"Start"),n=>mL(this.node,n,"End"))))}unmount(){}}class _he extends Bh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gy(ey(this.node.current,"focus",()=>this.onFocus()),ey(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gL(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Mn.postRender(()=>i(t,Yy(t)))}class Ehe extends Bh{mount(){const{current:t}=this.node;t&&(this.unmount=Aue(t,r=>(gL(this.node,r,"Start"),(n,{success:a})=>gL(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ak=new WeakMap,YN=new WeakMap,Phe=e=>{const t=ak.get(e.target);t&&t(e)},khe=e=>{e.forEach(Phe)};function Ahe({root:e,...t}){const r=e||document;YN.has(r)||YN.set(r,{});const n=YN.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(khe,{root:e,...t})),n[a]}function Dhe(e,t,r){const n=Ahe(t);return ak.set(e,r),n.observe(e),()=>{ak.delete(e),n.unobserve(e)}}const The={some:0,all:1};class Ohe extends Bh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:The[a]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return Dhe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Ihe(t,r))&&this.startObserver()}unmount(){}}function Ihe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Mhe={inView:{Feature:Ohe},tap:{Feature:Ehe},focus:{Feature:_he},hover:{Feature:Che}},Rhe={layout:{ProjectionNode:dX,MeasureLayout:nX}},ik={current:null},fX={current:!1};function Lhe(){if(fX.current=!0,!!bA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ik.current=e.matches;e.addListener(t),t()}else ik.current=!1}const Fhe=[...RK,fs,Eh],Bhe=e=>Fhe.find(MK(e)),vL=new WeakMap;function zhe(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ys(a))e.addValue(n,a);else if(ys(i))e.addValue(n,Zx(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Zx(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const xL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Whe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Su.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Mn.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=s;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=X5(r),this.isVariantNode=$Y(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in p){const g=p[h];l[h]!==void 0&&ys(g)&&g.set(l[h],!1)}}mount(t){this.current=t,vL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),fX.current||Lhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ik.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vL.delete(this.current),this.projection&&this.projection.unmount(),_h(this.notifyUpdate),_h(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Dm.has(t),a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Mn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in y0){const r=y0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Da()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<xL.length;n++){const a=xL[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=zhe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Zx(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(OK(a)||jK(a))?a=parseFloat(a):!Bhe(a)&&Eh.test(r)&&(a=AK(t,r)),this.setBaseTarget(t,ys(a)?a.get():a)),ys(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const s=PA(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);s&&(a=s[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ys(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new UA),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class hX extends Whe{constructor(){super(...arguments),this.KeyframeResolver=LK}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ys(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Uhe(e){return window.getComputedStyle(e)}class $he extends hX{constructor(){super(...arguments),this.type="html",this.renderInstance=ZY}readValueFromInstance(t,r){if(Dm.has(r)){const n=YA(r);return n&&n.default||0}else{const n=Uhe(t),a=(KY(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return tX(t,r)}build(t,r,n){DA(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return MA(t,r,n)}}class qhe extends hX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Da}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Dm.has(r)){const n=YA(r);return n&&n.default||0}return r=QY.has(r)?r:CA(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return rK(t,r,n)}build(t,r,n){TA(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){eK(t,r,n,a)}mount(t){this.isSVGTag=IA(t.tagName),super.mount(t)}}const Vhe=(e,t)=>EA(e)?new qhe(t):new $he(t,{allowProjection:e!==A.Fragment}),Hhe=bue({...mfe,...Mhe,...jhe,...Rhe},Vhe),le=Mce(Hhe);function Ghe(e){e.values.forEach(t=>t.stop())}function sk(e,t){[...t].reverse().forEach(n=>{const a=e.getVariant(n);a&&$A(e,a),e.variantChildren&&e.variantChildren.forEach(i=>{sk(i,t)})})}function Yhe(e,t){if(Array.isArray(t))return sk(e,t);if(typeof t=="string")return sk(e,[t]);$A(e,t)}function Khe(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const a=[];return e.forEach(i=>{a.push(HK(i,r,{transitionOverride:n}))}),Promise.all(a)},set(r){return e.forEach(n=>{Yhe(n,r)})},stop(){e.forEach(r=>{Ghe(r)})},mount(){return()=>{t.stop()}}};return t}function Xhe(){const e=H5(Khe);return wA(e.mount,[]),e}const Ky=Xhe,Jhe={some:0,all:1};function Zhe(e,t,{root:r,margin:n,amount:a="some"}={}){const i=uK(e),s=new WeakMap,o=u=>{u.forEach(d=>{const f=s.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const p=t(d);typeof p=="function"?s.set(d.target,p):l.unobserve(d.target)}else typeof f=="function"&&(f(d),s.delete(d.target))})},l=new IntersectionObserver(o,{root:r,rootMargin:n,threshold:typeof a=="number"?a:Jhe[a]});return i.forEach(u=>l.observe(u)),()=>l.disconnect()}function Xy(e,{root:t,margin:r,amount:n,once:a=!1}={}){const[i,s]=A.useState(!1);return A.useEffect(()=>{if(!e.current||a&&i)return;const o=()=>(s(!0),a?void 0:()=>s(!1)),l={root:t&&t.current||void 0,margin:r,amount:n};return Zhe(e.current,o,l)},[t,e,r,a,n]),i}var pX={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yL=Me.createContext&&Me.createContext(pX),Qhe=["attr","size","title"];function epe(e,t){if(e==null)return{};var r=tpe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){rpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rpe(e,t,r){return t=npe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function npe(e){var t=ape(e,"string");return typeof t=="symbol"?t:t+""}function ape(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e){return e&&e.map((t,r)=>Me.createElement(t.tag,mw({key:r},t.attr),mX(t.child)))}function lt(e){return t=>Me.createElement(ipe,pw({attr:mw({},e.attr)},t),mX(e.child))}function ipe(e){var t=r=>{var{attr:n,size:a,title:i}=e,s=epe(e,Qhe),o=a||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),Me.createElement("svg",pw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:l,style:mw(mw({color:e.color||r.color},r.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Me.createElement("title",null,i),e.children)};return yL!==void 0?Me.createElement(yL.Consumer,null,r=>t(r)):t(pX)}function spe(e){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function gX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function Jg(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function ope(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function vX(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function lpe(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(e)}function G0(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function QA(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function xX(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function yX(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(e)}function cpe(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 160c44.2 0 80-35.8 80-80S236.2 0 192 0s-80 35.8-80 80 35.8 80 80 80zm-53.4 248.8l25.6-32-61.5-51.2L56.8 383c-11.4 14.2-11.7 34.4-.8 49l48 64c7.9 10.5 19.9 16 32 16 8.3 0 16.8-2.6 24-8 17.7-13.2 21.2-38.3 8-56l-29.4-39.2zm142.7-83.2l-61.5 51.2 25.6 32L216 448c-13.2 17.7-9.7 42.8 8 56 7.2 5.4 15.6 8 24 8 12.2 0 24.2-5.5 32-16l48-64c10.9-14.6 10.6-34.8-.8-49l-45.9-57.4zM376.7 145c-12.7-18.1-37.6-22.4-55.7-9.8l-40.6 28.5c-52.7 37-124.2 37-176.8 0L63 135.3C44.9 122.6 20 127 7.3 145-5.4 163.1-1 188 17 200.7l40.6 28.5c17 11.9 35.4 20.9 54.4 27.9V288h160v-30.8c19-7 37.4-16 54.4-27.9l40.6-28.5c18.1-12.8 22.4-37.7 9.7-55.8z"},child:[]}]})(e)}function eD(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function gu(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function upe(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 384c-28.02 0-31.26-32-74.5-32-43.43 0-46.825 32-74.75 32-27.695 0-31.454-32-74.75-32-42.842 0-47.218 32-74.5 32-28.148 0-31.202-32-74.75-32-43.547 0-46.653 32-74.75 32v-80c0-26.5 21.5-48 48-48h16V112h64v144h64V112h64v144h64V112h64v144h16c26.5 0 48 21.5 48 48v80zm0 128H0v-96c43.356 0 46.767-32 74.75-32 27.951 0 31.253 32 74.75 32 42.843 0 47.217-32 74.5-32 28.148 0 31.201 32 74.75 32 43.357 0 46.767-32 74.75-32 27.488 0 31.252 32 74.5 32v96zM96 96c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40zm128 0c-17.75 0-32-14.25-32-32 0-31 32-23 32-64 12 0 32 29.5 32 56s-14.25 40-32 40z"},child:[]}]})(e)}function dpe(e){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(e)}function tD(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(e)}function gw(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(e)}function Pi(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Wp(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function fpe(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h96c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-96zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function hpe(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm64-192c0-8.8 7.2-16 16-16h288c8.8 0 16 7.2 16 16v64c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-64zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function um(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function qa(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function ok(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function dm(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function bX(e){return lt({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(e)}function Pr(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function KN(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function Du(e){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function Tu(e){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function Yv(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function ri(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function ppe(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"},child:[]}]})(e)}function mpe(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 384h192c53 0 96-43 96-96h32c70.6 0 128-57.4 128-128S582.6 32 512 32H120c-13.3 0-24 10.7-24 24v232c0 53 43 96 96 96zM512 96c35.3 0 64 28.7 64 64s-28.7 64-64 64h-32V96h32zm47.7 384H48.3c-47.6 0-61-64-36-64h583.3c25 0 11.8 64-35.9 64z"},child:[]}]})(e)}function gpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function vpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function rD(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V256H0v176zm192-68c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H204c-6.6 0-12-5.4-12-12v-40zm-128 0c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM576 80v48H0V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48z"},child:[]}]})(e)}function xpe(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"},child:[]}]})(e)}function wL(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function qs(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function tl(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Ga(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function w0(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ju(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ype(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function bpe(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function sl(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function O2(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function XN(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm192.81 248H304c8.84 0 16 7.16 16 16s-7.16 16-16 16h-47.19c-16.45 0-31.27-9.14-38.64-23.86-2.95-5.92-8.09-6.52-10.17-6.52s-7.22.59-10.02 6.19l-7.67 15.34a15.986 15.986 0 0 1-14.31 8.84c-.38 0-.75-.02-1.14-.05-6.45-.45-12-4.75-14.03-10.89L144 354.59l-10.61 31.88c-5.89 17.66-22.38 29.53-41 29.53H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h12.39c4.83 0 9.11-3.08 10.64-7.66l18.19-54.64c3.3-9.81 12.44-16.41 22.78-16.41s19.48 6.59 22.77 16.41l13.88 41.64c19.77-16.19 54.05-9.7 66 14.16 2.02 4.06 5.96 6.5 10.16 6.5zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function wpe(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Zg(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(e)}function Npe(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Q5(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function lk(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(e)}function Mx(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(e)}function Spe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M336 448H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h320c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm157.2-340.7l-81-81c-6.2-6.2-16.4-6.2-22.6 0l-11.3 11.3c-6.2 6.2-6.2 16.4 0 22.6L416 97.9V160c0 28.1 20.9 51.3 48 55.2V376c0 13.2-10.8 24-24 24s-24-10.8-24-24v-32c0-48.6-39.4-88-88-88h-8V64c0-35.3-28.7-64-64-64H96C60.7 0 32 28.7 32 64v352h288V304h8c22.1 0 40 17.9 40 40v27.8c0 37.7 27 72 64.5 75.9 43 4.3 79.5-29.5 79.5-71.7V152.6c0-17-6.8-33.3-18.8-45.3zM256 192H96V64h160v128z"},child:[]}]})(e)}function jpe(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M485.5 0L576 160H474.9L405.7 0h79.8zm-128 0l69.2 160H149.3L218.5 0h139zm-267 0h79.8l-69.2 160H0L90.5 0zM0 192h100.7l123 251.7c1.5 3.1-2.7 5.9-5 3.3L0 192zm148.2 0h279.6l-137 318.2c-1 2.4-4.5 2.4-5.5 0L148.2 192zm204.1 251.7l123-251.7H576L357.3 446.9c-2.3 2.7-6.5-.1-5-3.2z"},child:[]}]})(e)}function Cpe(e){return lt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(e)}function Ws(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function vu(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function ck(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function _pe(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M360 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24 0 90.965 51.016 167.734 120.842 192C75.016 280.266 24 357.035 24 448c-13.255 0-24 10.745-24 24v16c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24 0-90.965-51.016-167.734-120.842-192C308.984 231.734 360 154.965 360 64c13.255 0 24-10.745 24-24V24c0-13.255-10.745-24-24-24zm-75.078 384H99.08c17.059-46.797 52.096-80 92.92-80 40.821 0 75.862 33.196 92.922 80zm.019-256H99.078C91.988 108.548 88 86.748 88 64h208c0 22.805-3.987 44.587-11.059 64z"},child:[]}]})(e)}function Epe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function fm(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"},child:[]}]})(e)}function Ppe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function ty(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function Ou(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function kpe(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function nD(e){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(e)}function Cn(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function wX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(e)}function NL(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(e)}function NX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function vw(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M144 479H48c-26.5 0-48-21.5-48-48V79c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48zm304-48V79c0-26.5-21.5-48-48-48h-96c-26.5 0-48 21.5-48 48v352c0 26.5 21.5 48 48 48h96c26.5 0 48-21.5 48-48z"},child:[]}]})(e)}function Ape(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M109.25 173.25c24.99-24.99 24.99-65.52 0-90.51-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 25 25 65.52 25 90.51 0zm256 165.49c-24.99-24.99-65.52-24.99-90.51 0-24.99 24.99-24.99 65.52 0 90.51 24.99 24.99 65.52 24.99 90.51 0 25-24.99 25-65.51 0-90.51zm-1.94-231.43l-22.62-22.62c-12.5-12.5-32.76-12.5-45.25 0L20.69 359.44c-12.5 12.5-12.5 32.76 0 45.25l22.62 22.62c12.5 12.5 32.76 12.5 45.25 0l274.75-274.75c12.5-12.49 12.5-32.75 0-45.25z"},child:[]}]})(e)}function qi(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function ry(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function bs(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function SX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"},child:[]}]})(e)}function Dpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 256h-80v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8c-88.4 0-160 71.6-160 160v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48zm-288 0H96v-64c0-35.3 28.7-64 64-64h8c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24h-8C71.6 32 0 103.6 0 192v240c0 26.5 21.5 48 48 48h128c26.5 0 48-21.5 48-48V304c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function em(e){return lt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Tpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(e)}function Ope(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 64C110.06 64 0 125.91 0 208v98.13C0 384.48 114.62 448 256 448s256-63.52 256-141.87V208c0-82.09-110.06-144-256-144zm0 64c106.04 0 192 35.82 192 80 0 9.26-3.97 18.12-10.91 26.39C392.15 208.21 328.23 192 256 192s-136.15 16.21-181.09 42.39C67.97 226.12 64 217.26 64 208c0-44.18 85.96-80 192-80zM120.43 264.64C155.04 249.93 201.64 240 256 240s100.96 9.93 135.57 24.64C356.84 279.07 308.93 288 256 288s-100.84-8.93-135.57-23.36z"},child:[]}]})(e)}function Ip(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function Ipe(e){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function rl(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(e)}function Y0(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Mpe(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function Rpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Lpe(e){return lt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm80 168c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm-160 0c17.7 0 32 14.3 32 32s-14.3 32-32 32-32-14.3-32-32 14.3-32 32-32zm194.8 170.2C334.3 380.4 292.5 400 248 400s-86.3-19.6-114.8-53.8c-13.6-16.3 11-36.7 24.6-20.5 22.4 26.9 55.2 42.2 90.2 42.2s67.8-15.4 90.2-42.2c13.4-16.2 38.1 4.2 24.6 20.5z"},child:[]}]})(e)}function Bd(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function N0(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function jX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function Fpe(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function Bpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function aD(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function CX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M149.333 56v80c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24h101.333c13.255 0 24 10.745 24 24zm181.334 240v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm32-240v80c0 13.255 10.745 24 24 24H488c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24zm-32 80V56c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.256 0 24.001-10.745 24.001-24zm-205.334 56H24c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24zM0 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm386.667-56H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zm0 160H488c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H386.667c-13.255 0-24 10.745-24 24v80c0 13.255 10.745 24 24 24zM181.333 376v80c0 13.255 10.745 24 24 24h101.333c13.255 0 24-10.745 24-24v-80c0-13.255-10.745-24-24-24H205.333c-13.255 0-24 10.745-24 24z"},child:[]}]})(e)}function ny(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function pr(e){return lt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function zpe(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(e)}function bh(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Wpe(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function Upe(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"},child:[]}]})(e)}function SL(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M115.38 136.9l102.11 37.18c35.19-81.54 86.21-144.29 139-173.7-95.88-4.89-188.78 36.96-248.53 111.8-6.69 8.4-2.66 21.05 7.42 24.72zm132.25 48.16l238.48 86.83c35.76-121.38 18.7-231.66-42.63-253.98-7.4-2.7-15.13-4-23.09-4-58.02.01-128.27 69.17-172.76 171.15zM521.48 60.5c6.22 16.3 10.83 34.6 13.2 55.19 5.74 49.89-1.42 108.23-18.95 166.98l102.62 37.36c10.09 3.67 21.31-3.43 21.57-14.17 2.32-95.69-41.91-187.44-118.44-245.36zM560 447.98H321.06L386 269.5l-60.14-21.9-72.9 200.37H16c-8.84 0-16 7.16-16 16.01v32.01C0 504.83 7.16 512 16 512h544c8.84 0 16-7.17 16-16.01v-32.01c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function iD(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(e)}function _X(e){return lt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function uk(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function dk(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function hn(e){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Qg(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function EX(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function PX(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zM461.64 256l45.64-45.64c6.3-6.3 6.3-16.52 0-22.82l-22.82-22.82c-6.3-6.3-16.52-6.3-22.82 0L416 210.36l-45.64-45.64c-6.3-6.3-16.52-6.3-22.82 0l-22.82 22.82c-6.3 6.3-6.3 16.52 0 22.82L370.36 256l-45.63 45.63c-6.3 6.3-6.3 16.52 0 22.82l22.82 22.82c6.3 6.3 16.52 6.3 22.82 0L416 301.64l45.64 45.64c6.3 6.3 16.52 6.3 22.82 0l22.82-22.82c6.3-6.3 6.3-16.52 0-22.82L461.64 256z"},child:[]}]})(e)}function kX(e){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M215.03 71.05L126.06 160H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V88.02c0-21.46-25.96-31.98-40.97-16.97zm233.32-51.08c-11.17-7.33-26.18-4.24-33.51 6.95-7.34 11.17-4.22 26.18 6.95 33.51 66.27 43.49 105.82 116.6 105.82 195.58 0 78.98-39.55 152.09-105.82 195.58-11.17 7.32-14.29 22.34-6.95 33.5 7.04 10.71 21.93 14.56 33.51 6.95C528.27 439.58 576 351.33 576 256S528.27 72.43 448.35 19.97zM480 256c0-63.53-32.06-121.94-85.77-156.24-11.19-7.14-26.03-3.82-33.12 7.46s-3.78 26.21 7.41 33.36C408.27 165.97 432 209.11 432 256s-23.73 90.03-63.48 115.42c-11.19 7.14-14.5 22.07-7.41 33.36 6.51 10.36 21.12 15.14 33.12 7.46C447.94 377.94 480 319.54 480 256zm-141.77-76.87c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 228.28 336 241.63 336 256c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.86z"},child:[]}]})(e)}function Ob(e){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function $pe(e){return lt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(e)}const sD=({isOpen:e,onClose:t})=>{const[r,n]=A.useState(1),[a,i]=A.useState({clientName:"",email:"",phone:"",alternatePhone:"",eventType:"",eventDate:"",eventTime:"",venue:"",venueAddress:"",guestCount:"",packageCategory:"",budget:"",customRequirements:"",source:"Website",status:"New Lead",createdAt:new Date().toISOString()}),[s,o]=A.useState({}),[l,u]=A.useState(!1),[d,f]=A.useState(!1),p=4,h=[{value:"Wedding",icon:"",label:"Wedding",color:"from-pink-500 to-rose-500"},{value:"Pre-Wedding",icon:"",label:"Pre-Wedding",color:"from-purple-500 to-pink-500"},{value:"Birthday",icon:"",label:"Birthday",color:"from-yellow-500 to-orange-500"},{value:"Anniversary",icon:"",label:"Anniversary",color:"from-red-500 to-pink-500"},{value:"Corporate",icon:"",label:"Corporate",color:"from-blue-500 to-indigo-500"},{value:"Other",icon:"",label:"Other",color:"from-gray-500 to-gray-600"}],g={Wedding:[{value:"Basic Wedding",price:"35,000",features:["6 Hours Coverage","300 Edited Photos","1 Videographer"]},{value:"Premium Wedding",price:"75,000",features:["Full Day Coverage","600+ Photos","Drone Shots","2 Videographers"]},{value:"Luxury Wedding",price:"1,50,000",features:["2 Days Coverage","1000+ Photos","Full Team","Premium Album"]}],"Pre-Wedding":[{value:"Standard Pre-Wedding",price:"25,000",features:["4 Hours","200 Photos","1 Location"]},{value:"Premium Pre-Wedding",price:"45,000",features:["8 Hours","400 Photos","2 Locations"]}],Birthday:[{value:"Basic Birthday",price:"8,000",features:["3 Hours","150 Photos"]},{value:"Premium Birthday",price:"15,000",features:["5 Hours","300 Photos","Video"]}],Corporate:[{value:"Half Day Corporate",price:"12,000",features:["4 Hours","200 Photos"]},{value:"Full Day Corporate",price:"20,000",features:["8 Hours","500 Photos"]}],Anniversary:[{value:"Couple Shoot",price:"10,000",features:["2 Hours","100 Photos"]},{value:"Celebration Package",price:"18,000",features:["4 Hours","250 Photos"]}],Other:[{value:"Custom Package",price:"Quote Based",features:["Customized as per your needs"]}]},y=w=>{const{name:C,value:E}=w.target;i(I=>({...I,[C]:E})),s[C]&&o(I=>({...I,[C]:""}))},x=w=>{const C={};return w===1&&(a.clientName.trim()||(C.clientName="Name is required"),a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(C.email="Invalid email"):C.email="Email is required",a.phone.trim()?/^\d{10}$/.test(a.phone.replace(/\s/g,""))||(C.phone="Invalid phone number"):C.phone="Phone is required"),w===2&&(a.eventType||(C.eventType="Select event type"),a.eventDate||(C.eventDate="Event date is required"),a.venue.trim()||(C.venue="Venue is required")),o(C),Object.keys(C).length===0},b=()=>{x(r)&&n(w=>Math.min(w+1,p))},N=()=>{n(w=>Math.max(w-1,1))},j=async()=>{if(x(r)){u(!0);try{const w="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec",C={action:"addLead",...a,submittedAt:new Date().toISOString()};console.log(" Sending to GAS:",C);const E=await fetch(w,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(C),redirect:"follow"});console.log(" Response status:",E.status);const I=await E.text();console.log(" Response text:",I);let D;try{D=JSON.parse(I)}catch(O){throw console.error(" JSON parse error:",O),new Error("Invalid response from server")}if(console.log(" Parsed result:",D),D.success)f(!0),i({clientName:"",email:"",phone:"",alternatePhone:"",eventType:"",eventDate:"",eventTime:"",venue:"",venueAddress:"",guestCount:"",packageCategory:"",budget:"",customRequirements:"",source:"Website",status:"New Lead",createdAt:new Date().toISOString()}),setTimeout(()=>{f(!1),t(),n(1)},3e3);else throw new Error(D.error||"Submission failed")}catch(w){console.error(" Submission error:",w),alert(` Submission Failed

Error: `+w.message+`

Please try again or contact us:
 +91 82393 72489
 info@rnphotofilms.com`)}finally{u(!1)}}};return e?c.jsx(Kt,{children:e&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:t,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},onClick:w=>w.stopPropagation(),className:"relative w-full max-w-3xl max-h-[90vh] overflow-y-auto bg-white rounded-3xl shadow-2xl",children:[c.jsx("button",{onClick:t,className:"absolute top-6 right-6 z-10 p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:c.jsx(pr,{className:"text-gray-600",size:20})}),c.jsx(Kt,{children:d&&c.jsx(le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"absolute inset-0 z-20 flex items-center justify-center bg-white/95 backdrop-blur-sm rounded-3xl",children:c.jsxs("div",{className:"text-center p-8",children:[c.jsx(le.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},children:c.jsx(Pr,{className:"text-green-500 text-7xl mx-auto mb-6"})}),c.jsx("h3",{className:"text-3xl font-bold text-charcoal mb-3",children:"Booking Received!"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"We'll contact you within 24 hours"})]})})}),c.jsxs("div",{className:"p-8 pb-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-3xl font-playfair font-bold text-charcoal mb-2",children:"Book Your Session"}),c.jsx("p",{className:"text-gray-600",children:"Let's capture your precious moments together"}),c.jsx("div",{className:"mt-6 flex items-center justify-between",children:[1,2,3,4].map(w=>c.jsxs(Me.Fragment,{children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all ${w<=r?"bg-gradient-to-r from-gold to-amber-500 text-white shadow-lg":"bg-gray-200 text-gray-400"}`,children:w}),c.jsx("span",{className:`text-xs mt-2 ${w<=r?"text-gold font-semibold":"text-gray-400"}`,children:w===1?"Contact":w===2?"Event":w===3?"Package":"Review"})]}),w<4&&c.jsx("div",{className:`flex-1 h-1 mx-2 rounded-full transition-all ${w<r?"bg-gradient-to-r from-gold to-amber-500":"bg-gray-200"}`})]},w))})]}),c.jsx("div",{className:"p-8",children:c.jsxs(Kt,{mode:"wait",children:[r===1&&c.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-bold text-charcoal flex items-center gap-3 mb-6",children:[c.jsx(hn,{className:"text-gold"}),"Your Information"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Full Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"clientName",value:a.clientName,onChange:y,placeholder:"Enter your full name",className:`w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${s.clientName?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-gold focus:ring-gold/20"}`}),s.clientName&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.clientName})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Email Address ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"email",name:"email",value:a.email,onChange:y,placeholder:"your@email.com",className:`w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${s.email?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-gold focus:ring-gold/20"}`}),s.email&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Phone Number ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:y,placeholder:"10-digit mobile",className:`w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${s.phone?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-gold focus:ring-gold/20"}`}),s.phone&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.phone})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Alternate Phone ",c.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),c.jsx("input",{type:"tel",name:"alternatePhone",value:a.alternatePhone,onChange:y,placeholder:"Backup contact",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20 transition-all"})]})]},"step1"),r===2&&c.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-bold text-charcoal flex items-center gap-3 mb-6",children:[c.jsx(qa,{className:"text-gold"}),"Event Details"]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-3",children:["Event Type ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:h.map(w=>c.jsxs("button",{type:"button",onClick:()=>i(C=>({...C,eventType:w.value,packageCategory:""})),className:`p-4 rounded-xl border-2 transition-all hover:scale-105 ${a.eventType===w.value?"border-gold bg-gold/10 shadow-lg":"border-gray-200 hover:border-gold"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:w.icon}),c.jsx("div",{className:"text-sm font-semibold text-charcoal",children:w.label})]},w.value))}),s.eventType&&c.jsx("p",{className:"text-red-500 text-sm mt-2",children:s.eventType})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Event Date ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"date",name:"eventDate",value:a.eventDate,onChange:y,min:new Date().toISOString().split("T")[0],className:`w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${s.eventDate?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-gold focus:ring-gold/20"}`}),s.eventDate&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.eventDate})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:"Event Time"}),c.jsx("input",{type:"time",name:"eventTime",value:a.eventTime,onChange:y,className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20 transition-all"})]})]}),c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Venue Name ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"text",name:"venue",value:a.venue,onChange:y,placeholder:"e.g., Taj Hotel, Home",className:`w-full px-4 py-3 border-2 rounded-xl focus:outline-none focus:ring-2 transition-all ${s.venue?"border-red-500 focus:ring-red-200":"border-gray-200 focus:border-gold focus:ring-gold/20"}`}),s.venue&&c.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.venue})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:"Guest Count"}),c.jsx("input",{type:"number",name:"guestCount",value:a.guestCount,onChange:y,placeholder:"Approx guests",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20 transition-all"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:"Venue Address"}),c.jsx("textarea",{name:"venueAddress",value:a.venueAddress,onChange:y,placeholder:"Full address with landmark",rows:"2",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20 transition-all resize-none"})]})]},"step2"),r===3&&c.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-bold text-charcoal flex items-center gap-3 mb-6",children:[c.jsx(Ipe,{className:"text-gold"}),"Select Package"]}),a.eventType&&g[a.eventType]?c.jsx("div",{className:"space-y-4",children:g[a.eventType].map(w=>c.jsxs("button",{type:"button",onClick:()=>i(C=>({...C,packageCategory:w.value})),className:`w-full p-6 rounded-xl border-2 text-left transition-all hover:scale-[1.02] ${a.packageCategory===w.value?"border-gold bg-gold/10 shadow-lg":"border-gray-200 hover:border-gold"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("div",{className:"font-bold text-lg text-charcoal",children:w.value}),c.jsx("div",{className:"text-2xl font-bold text-gold",children:w.price})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:w.features.map((C,E)=>c.jsx("span",{className:"text-sm bg-white px-3 py-1 rounded-full border border-gray-200",children:C},E))})]},w.value))}):c.jsx("div",{className:"text-center py-12 text-gray-400",children:"Please select an event type first"}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:["Your Budget ",c.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),c.jsx("input",{type:"text",name:"budget",value:a.budget,onChange:y,placeholder:"e.g., 50,000 - 75,000",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20 transition-all"})]})]},"step3"),r===4&&c.jsxs(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[c.jsxs("h3",{className:"text-2xl font-bold text-charcoal flex items-center gap-3 mb-6",children:[c.jsx(vpe,{className:"text-gold"}),"Review & Submit"]}),c.jsxs("div",{className:"bg-cream rounded-xl p-6 space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Name:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.clientName})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Email:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.email})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Phone:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.phone})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Event:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.eventType})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Date:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.eventDate})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Venue:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.venue})]}),a.packageCategory&&c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600",children:"Package:"}),c.jsx("span",{className:"font-semibold text-charcoal",children:a.packageCategory})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:"Special Requirements"}),c.jsx("textarea",{name:"customRequirements",value:a.customRequirements,onChange:y,placeholder:"Any specific requirements or questions...",rows:"4",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold focus:ring-2 focus:ring-gold/20 transition-all resize-none"})]}),c.jsx("p",{className:"text-center text-sm text-gray-500",children:" Your information is secure and encrypted"})]},"step4")]})}),c.jsxs("div",{className:"p-8 pt-0 flex gap-4",children:[r>1&&c.jsxs("button",{onClick:N,className:"flex-1 py-3 rounded-full border-2 border-gray-300 font-semibold text-gray-700 hover:border-gold hover:text-gold transition-all flex items-center justify-center gap-2",children:[c.jsx(G0,{}),"Previous"]}),r<p?c.jsxs("button",{onClick:b,className:"flex-1 py-3 rounded-full bg-gradient-to-r from-gold via-amber-500 to-orange-500 font-semibold text-white hover:shadow-xl transition-all flex items-center justify-center gap-2",children:["Next",c.jsx(QA,{})]}):c.jsxs("button",{onClick:j,disabled:l,className:`flex-1 py-3 rounded-full font-semibold text-white transition-all flex items-center justify-center gap-2 ${l?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-gold via-amber-500 to-orange-500 hover:shadow-xl"}`,children:[l?"Submitting...":"Submit Inquiry",c.jsx(Pr,{})]})]})]})})}):null},qpe=()=>{const[e,t]=A.useState(!1),[r,n]=A.useState(!1),a=Am(),[i,s]=A.useState(!1),o=a.pathname.includes("/crm");A.useEffect(()=>{const u=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const l=[{name:"Home",href:"#home"},{name:"About",href:"#about"},{name:"Portfolio",href:"#portfolio"},{name:"Services",href:"#services"},{name:"Testimonials",href:"#testimonials"},{name:"Blog",href:"#blog"},{name:"Contact",href:"#contact"}];return o?null:c.jsxs(c.Fragment,{children:[c.jsx(le.div,{initial:{y:-50},animate:{y:r?-50:0},transition:{duration:.3},className:"fixed top-0 w-full bg-charcoal text-white z-50 py-2 text-sm",children:c.jsxs("div",{className:"container mx-auto px-6 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("a",{href:"tel:+918239372489",className:"flex items-center gap-2 hover:text-gold transition-colors",children:[c.jsx(qi,{className:"text-gold"}),"+91 82393 72489"]}),c.jsxs("a",{href:"mailto:rnstudio.x@gmail.com",className:"hidden md:flex items-center gap-2 hover:text-gold transition-colors",children:[c.jsx(Ga,{className:"text-gold"}),"info@rnphotofilms.com"]})]}),c.jsx("div",{className:"text-gold font-semibold",children:"4+ Years Excellence"})]})}),c.jsx(le.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:"easeOut"},className:`fixed w-full z-40 transition-all duration-500 ${r?"top-0 bg-white/95 backdrop-blur-xl shadow-2xl py-3":"top-10 bg-gradient-to-b from-black/60 to-transparent backdrop-blur-md py-5"}`,style:{backdropFilter:r?"blur(20px)":"blur(10px)",WebkitBackdropFilter:r?"blur(20px)":"blur(10px)"},children:c.jsx("div",{className:"container mx-auto px-6",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs(le.a,{href:"#home",whileHover:{scale:1.05},className:"relative group",children:[c.jsx(le.h1,{className:`text-3xl md:text-4xl font-playfair font-bold tracking-wide transition-all duration-300 ${r?"text-charcoal":"text-white"}`,children:"RN PhotoFilms"}),c.jsx(le.div,{initial:{width:0},whileHover:{width:"100%"},className:"h-0.5 bg-gold absolute bottom-0 left-0"}),c.jsx("p",{className:`text-xs font-lora italic mt-1 ${r?"text-gold":"text-gold/90"}`,children:"Your Emotions, Our Lens"})]}),c.jsxs("div",{className:"hidden lg:flex items-center space-x-1",children:[l.map((u,d)=>c.jsxs(le.a,{href:u.href,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},whileHover:{y:-2},className:`relative px-4 py-2 text-sm font-medium tracking-wide transition-all duration-300 group ${r?"text-charcoal":"text-white"}`,children:[u.name,c.jsx(le.span,{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gold transition-all duration-300 group-hover:w-full"})]},u.name)),c.jsxs(le.a,{onClick:()=>s(!0),initial:{scale:0},animate:{scale:1},transition:{delay:.8,type:"spring"},whileHover:{scale:1.1,boxShadow:"0 10px 30px rgba(212, 165, 116, 0.5)",rotate:[0,-5,5,0]},whileTap:{scale:.95},className:"relative ml-4 bg-gradient-to-r from-gold to-amber-600 text-white px-8 py-3 rounded-full font-semibold text-sm shadow-lg overflow-hidden group",children:[c.jsxs(le.span,{className:"relative z-10 flex items-center gap-2",children:["Book Now",c.jsx(le.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:""})]}),c.jsx(le.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent",animate:{x:["-200%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:1}})]})]}),c.jsx(le.button,{onClick:()=>t(!e),whileTap:{scale:.9},className:`lg:hidden text-2xl transition-colors ${r?"text-charcoal":"text-white"}`,children:c.jsx(le.div,{animate:{rotate:e?180:0},transition:{duration:.3},children:e?c.jsx(pr,{}):c.jsx(eD,{})})})]})})}),c.jsx(Kt,{children:e&&c.jsxs(le.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.4,ease:"easeInOut"},className:"fixed top-0 right-0 h-full w-80 bg-white/95 backdrop-blur-xl shadow-2xl z-50 lg:hidden",children:[c.jsx("button",{onClick:()=>t(!1),className:"absolute top-6 right-6 text-charcoal text-2xl",children:c.jsx(pr,{})}),c.jsxs("div",{className:"flex flex-col h-full pt-20 pb-8 px-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-3xl font-playfair font-bold text-charcoal mb-2",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-gold font-lora italic",children:"Your Emotions, Our Lens"})]}),c.jsx("div",{className:"flex-1 flex flex-col space-y-2",children:l.map((u,d)=>c.jsx(le.a,{href:u.href,initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:d*.1},onClick:()=>t(!1),className:"text-charcoal font-medium text-lg py-3 px-4 rounded-lg hover:bg-cream hover:text-gold transition-all",children:u.name},u.name))}),c.jsx(le.a,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.8},onClick:()=>{t(!1),s(!0)},className:"bg-gold text-white px-8 py-4 rounded-full font-semibold text-center shadow-lg",children:"Book Now"})]})]})}),c.jsx(Kt,{children:e&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden"})}),c.jsx(sD,{isOpen:i,onClose:()=>s(!1)})]})},Vpe=()=>{const[e,t]=A.useState(0),[r,n]=A.useState(0),[a,i]=A.useState(!1),s=[{name:"Weddings",image:"https://images.unsplash.com/photo-1519741497674-611481863552?w=1920",href:"#portfolio"},{name:"Events",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=1920",href:"#portfolio"},{name:"Love Stories",image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=1920",href:"#portfolio"},{name:"Maternity",image:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e?w=1920",href:"#portfolio"},{name:"Memories",image:"https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=1920",href:"#portfolio"}];return A.useEffect(()=>{if(r<s[e].name.length){const o=setTimeout(()=>{n(r+1)},100);return()=>clearTimeout(o)}else{const o=setTimeout(()=>{n(0),t((e+1)%s.length)},2e3);return()=>clearTimeout(o)}},[r,e]),c.jsxs("section",{id:"home",className:"relative min-h-screen w-full overflow-hidden",children:[c.jsxs("div",{className:"pt-24 md:pt-28 min-h-screen flex flex-col",children:[c.jsx(Kt,{mode:"wait",children:c.jsx(le.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:1.5},className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url('${s[e].image}')`}},e)}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/80"}),c.jsxs("div",{className:"relative z-10 flex-1 flex flex-col items-center justify-center text-center px-6 py-12",children:[c.jsxs(le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1},className:"mb-8 md:mb-12",children:[c.jsx(le.h1,{className:"text-5xl md:text-7xl lg:text-8xl font-playfair font-bold text-white mb-4",style:{textShadow:"0 10px 30px rgba(0,0,0,0.7)"},children:"RN PhotoFilms"}),c.jsx(le.p,{className:"text-xl md:text-3xl font-lora italic text-gold",style:{textShadow:"0 5px 15px rgba(0,0,0,0.5)"},children:"Your Emotions, Our Lens"})]}),c.jsxs("div",{className:"mb-8 md:mb-12",children:[c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-lg md:text-2xl text-white/80 mb-4 tracking-widest",children:"WE CAPTURE"}),c.jsx("div",{className:"h-24 md:h-40 flex items-center justify-center",children:c.jsxs(le.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"text-6xl md:text-8xl lg:text-9xl font-playfair font-bold",style:{background:"linear-gradient(135deg, #fff 0%, #D4A574 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textShadow:"0 0 40px rgba(212, 165, 116, 0.5)"},children:[s[e].name.substring(0,r),c.jsx(le.span,{animate:{opacity:[1,0,1]},transition:{duration:.8,repeat:1/0},className:"inline-block w-1 md:w-2 h-16 md:h-28 bg-gold ml-2 align-middle"})]},e)})]}),c.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:1},className:"flex flex-col sm:flex-row gap-4 md:gap-6 mb-8 md:mb-12",children:[c.jsxs(le.a,{href:"#portfolio",whileHover:{scale:1.08,boxShadow:"0 20px 40px rgba(212, 165, 116, 0.6)",y:-5},whileTap:{scale:.95},className:"group relative bg-gold text-white px-8 md:px-12 py-4 rounded-full text-base md:text-lg font-semibold shadow-2xl overflow-hidden",children:[c.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["View Portfolio",c.jsx(le.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:""})]}),c.jsx(le.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",initial:{x:"-200%"},whileHover:{x:"200%"},transition:{duration:.6}})]}),c.jsx(le.a,{onClick:()=>i(!0),whileHover:{scale:1.08,backgroundColor:"rgba(255,255,255,1)",color:"#2C2C2C",y:-5},whileTap:{scale:.95},className:"bg-transparent border-2 border-white text-white px-8 md:px-12 py-4 rounded-full text-base md:text-lg font-semibold backdrop-blur-sm transition-all shadow-2xl",children:"Book a Session"})]}),c.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},className:"w-full max-w-4xl",children:[c.jsx(le.p,{className:"text-white/70 text-sm md:text-base mb-4 tracking-wider",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.7},children:"EXPLORE OUR WORK"}),c.jsx("div",{className:"flex flex-wrap gap-3 md:gap-4 justify-center",children:s.map((o,l)=>c.jsx(le.a,{href:o.href,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1.8+l*.1,type:"spring"},whileHover:{scale:1.15,backgroundColor:"#D4A574",borderColor:"#D4A574",y:-3},whileTap:{scale:.95},className:"px-5 md:px-7 py-2 md:py-3 bg-white/10 backdrop-blur-lg border-2 border-white/30 rounded-full text-white text-sm md:text-base font-medium cursor-pointer transition-all hover:shadow-2xl",children:o.name},o.name))})]})]}),c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:2.5},className:"relative z-10 pb-8 flex justify-center",children:c.jsxs(le.div,{animate:{y:[0,15,0]},transition:{duration:2,repeat:1/0},className:"flex flex-col items-center gap-2",children:[c.jsx("span",{className:"text-white/60 text-xs tracking-widest",children:"SCROLL"}),c.jsx("div",{className:"w-6 h-10 border-2 border-white/40 rounded-full flex justify-center pt-2",children:c.jsx(le.div,{animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0},className:"w-1.5 h-1.5 bg-gold rounded-full"})})]})})]}),c.jsx(le.div,{animate:{y:[0,-30,0],rotate:[0,10,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0},className:"absolute top-32 left-10 w-32 h-32 bg-gold/20 rounded-full blur-3xl"}),c.jsx(le.div,{animate:{y:[0,30,0],rotate:[0,-10,0],scale:[1,1.3,1]},transition:{duration:10,repeat:1/0},className:"absolute bottom-32 right-10 w-40 h-40 bg-teal/20 rounded-full blur-3xl"}),c.jsx(sD,{isOpen:a,onClose:()=>i(!1)})]})},Hpe=()=>{const e=A.useRef(null),t=Xy(e,{once:!0,margin:"-100px"}),r=Ky();A.useEffect(()=>{t&&r.start("visible")},[t,r]);const n=[{icon:c.jsx(Qg,{}),number:"500+",label:"Happy Clients",color:"text-gold"},{icon:c.jsx(qa,{}),number:"1000+",label:"Events Covered",color:"text-teal"},{icon:c.jsx(Ws,{}),number:"10+",label:"Years Experience",color:"text-gold"},{icon:c.jsx(yX,{}),number:"50+",label:"Awards Won",color:"text-teal"}];return c.jsxs("section",{id:"about",className:"relative py-24 md:py-32 bg-cream overflow-hidden",ref:e,children:[c.jsxs("div",{className:"absolute inset-0 opacity-5",children:[c.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-gold rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-teal rounded-full blur-3xl"})]}),c.jsxs("div",{className:"container mx-auto px-6 relative z-10",children:[c.jsxs(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8}}},className:"text-center mb-20",children:[c.jsx(le.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-gold text-sm font-semibold tracking-widest uppercase mb-4 block",children:"Our Story"}),c.jsx("h2",{className:"text-5xl md:text-6xl lg:text-7xl font-playfair font-bold text-charcoal mb-6",children:"About Us"}),c.jsx(le.div,{initial:{width:0},animate:r,variants:{visible:{width:"100px",transition:{duration:.8,delay:.4}}},className:"h-1 bg-gold mx-auto"})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center mb-20",children:[c.jsxs(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,x:-80},visible:{opacity:1,x:0,transition:{duration:1,delay:.3}}},className:"relative",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs(le.div,{whileHover:{scale:1.05,zIndex:10},className:"col-span-2 relative overflow-hidden rounded-2xl shadow-2xl",children:[c.jsx("img",{src:"https://images.unsplash.com/photo-1542038784456-1ea8e935640e?w=800&q=80",alt:"Photography Team",className:"w-full h-80 object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),c.jsx(le.div,{whileHover:{scale:1.05},className:"relative overflow-hidden rounded-2xl shadow-xl",children:c.jsx("img",{src:"https://images.unsplash.com/photo-1554048612-b6a482bc67e5?w=400&q=80",alt:"Behind the scenes",className:"w-full h-48 object-cover"})}),c.jsx(le.div,{whileHover:{scale:1.05},className:"relative overflow-hidden rounded-2xl shadow-xl",children:c.jsx("img",{src:"https://images.unsplash.com/photo-1452587925148-ce544e77e70d?w=400&q=80",alt:"Equipment",className:"w-full h-48 object-cover"})})]}),c.jsxs(le.div,{initial:{scale:0,rotate:-180},animate:r,variants:{visible:{scale:1,rotate:0,transition:{duration:.8,delay:.8}}},className:"absolute -top-6 -right-6 bg-gold text-white w-32 h-32 rounded-full flex flex-col items-center justify-center shadow-2xl",children:[c.jsx("span",{className:"text-3xl font-bold",children:"10+"}),c.jsx("span",{className:"text-xs font-semibold",children:"Years"})]})]}),c.jsxs(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,x:80},visible:{opacity:1,x:0,transition:{duration:1,delay:.5}}},children:[c.jsxs("h3",{className:"text-3xl md:text-4xl font-playfair font-semibold text-charcoal mb-6 leading-tight",children:["Capturing Life's",c.jsx("br",{}),c.jsx("span",{className:"text-gold",children:"Precious Moments"})]}),c.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[c.jsxs("p",{children:["At ",c.jsx("strong",{className:"text-charcoal",children:"RN PhotoFilms"}),", we believe every moment tells a unique story. With over a decade of experience in wedding, event, and lifestyle photography, our passionate team transforms fleeting emotions into timeless visual narratives."]}),c.jsxs("p",{children:["Our approach combines ",c.jsx("span",{className:"text-gold font-semibold",children:"artistic vision"})," with technical excellence, ensuring each frame reflects authenticity, elegance, and the unique essence of your celebration. From intimate pre-wedding shoots to grand wedding ceremonies, we're dedicated to preserving your most cherished memories."]}),c.jsx("p",{className:"text-gray-600 italic border-l-4 border-gold pl-6 py-2",children:'"Photography is the art of frozen time... the ability to store emotion and feelings within a frame." - Meshack Otieno'})]}),c.jsxs(le.a,{href:"#contact",whileHover:{scale:1.05,x:10},whileTap:{scale:.95},className:"inline-flex items-center gap-3 mt-8 bg-gold text-white px-8 py-4 rounded-full font-semibold shadow-lg hover:shadow-2xl transition-all group",children:["Get in Touch",c.jsx(le.span,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:""})]})]})]}),c.jsx(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8,delay:.8}}},className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:n.map((a,i)=>c.jsxs(le.div,{initial:{opacity:0,y:30},animate:r,variants:{visible:{opacity:1,y:0,transition:{delay:1+i*.1}}},whileHover:{y:-10,transition:{duration:.3}},className:"text-center bg-white rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all",children:[c.jsx("div",{className:`text-5xl ${a.color} mb-4 flex justify-center`,children:a.icon}),c.jsx("h4",{className:"text-4xl font-bold text-charcoal mb-2",children:a.number}),c.jsx("p",{className:"text-gray-600 font-medium",children:a.label})]},i))})]})]})};function Gpe(e,t){if(e==null)return{};var r=Ype(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ype(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function xw(){return xw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(this,arguments)}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){Kpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kpe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Xpe={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},JN=2;class AX extends Me.Component{constructor(t){super(t),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let r;this.props.breakpointCols&&this.props.breakpointCols.default?r=this.props.breakpointCols.default:r=parseInt(this.props.breakpointCols)||JN,this.state={columnCount:r}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const t=window&&window.innerWidth||1/0;let r=this.props.breakpointCols;typeof r!="object"&&(r={default:parseInt(r)||JN});let n=1/0,a=r.default||JN;for(let i in r){const s=parseInt(i);s>0&&t<=s&&s<n&&(n=s,a=r[i])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){const t=this.state.columnCount,r=new Array(t),n=Me.Children.toArray(this.props.children);for(let a=0;a<n.length;a++){const i=a%t;r[i]||(r[i]=[]),r[i].push(n[a])}return r}renderColumns(){const{column:t,columnAttrs:r={},columnClassName:n}=this.props,a=this.itemsInColumns(),i=`${100/a.length}%`;let s=n;s&&typeof s!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof s>"u"&&(s="my-masonry-grid_column"));const o=Kv(Kv(Kv({},t),r),{},{style:Kv(Kv({},r.style),{},{width:i}),className:s});return a.map((l,u)=>Me.createElement("div",xw({},o,{key:u}),l))}logDeprecated(t){console.error("[Masonry]",t)}render(){const t=this.props,{children:r,breakpointCols:n,columnClassName:a,columnAttrs:i,column:s,className:o}=t,l=Gpe(t,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let u=o;return typeof o!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof o>"u"&&(u="my-masonry-grid")),Me.createElement("div",xw({},l,{className:u}),this.renderColumns())}}AX.defaultProps=Xpe;const Jpe=({images:e,currentIndex:t,onClose:r})=>{const[n,a]=A.useState(t);A.useEffect(()=>{const o=l=>{l.key==="Escape"&&r(),l.key==="ArrowLeft"&&s(),l.key==="ArrowRight"&&i()};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[n]);const i=()=>{a((n+1)%e.length)},s=()=>{a((n-1+e.length)%e.length)};return c.jsx(Kt,{children:c.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-black bg-opacity-95 z-50 flex items-center justify-center",children:[c.jsx("button",{onClick:r,className:"absolute top-6 right-6 text-white text-3xl hover:text-gold transition-colors z-50",children:c.jsx(pr,{})}),c.jsx("button",{onClick:o=>{o.stopPropagation(),s()},className:"absolute left-6 text-white text-4xl hover:text-gold transition-colors z-50",children:c.jsx(Du,{})}),c.jsx(le.img,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},src:e[n],alt:"Gallery",className:"max-w-[90vw] max-h-[90vh] object-contain",onClick:o=>o.stopPropagation()},n),c.jsx("button",{onClick:o=>{o.stopPropagation(),i()},className:"absolute right-6 text-white text-4xl hover:text-gold transition-colors z-50",children:c.jsx(Tu,{})}),c.jsxs("div",{className:"absolute bottom-6 text-white text-lg",children:[n+1," / ",e.length]})]})})},Zpe=()=>{const e=A.useRef(null),t=Xy(e,{once:!0}),r=Ky(),[n,a]=A.useState("All"),[i,s]=A.useState(!1),[o,l]=A.useState(0);A.useEffect(()=>{t&&r.start("visible")},[t,r]);const u=["All","Weddings","Pre-Weddings","Events","Maternity","Corporate","Fashion"],d=[{id:1,category:"Weddings",image:"https://images.unsplash.com/photo-1519741497674-611481863552?w=600",title:"Wedding Ceremony"},{id:2,category:"Pre-Weddings",image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=600",title:"Love Story"},{id:3,category:"Events",image:"https://images.unsplash.com/photo-1464366400600-7168b8af9bc3?w=600",title:"Corporate Event"},{id:4,category:"Maternity",image:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e?w=600",title:"Maternity Shoot"},{id:5,category:"Corporate",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?w=600",title:"Business Portrait"},{id:6,category:"Fashion",image:"https://images.unsplash.com/photo-1529139574466-a303027c1d8b?w=600",title:"Fashion Editorial"},{id:7,category:"Weddings",image:"https://images.unsplash.com/photo-1606800052052-a08af7148866?w=600",title:"Bride Portrait"},{id:8,category:"Pre-Weddings",image:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=600",title:"Couple Shoot"},{id:9,category:"Events",image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?w=600",title:"Party Photography"},{id:10,category:"Weddings",image:"https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=600",title:"Reception"},{id:11,category:"Fashion",image:"https://images.unsplash.com/photo-1558769132-cb1aea398f70?w=600",title:"Model Portfolio"},{id:12,category:"Corporate",image:"https://images.unsplash.com/photo-1556761175-b413da4baf72?w=600",title:"Team Photo"}],f=n==="All"?d:d.filter(y=>y.category===n),p={default:3,1100:2,700:1},h=y=>{l(y),s(!0)},g=y=>{a(y)};return c.jsxs("section",{id:"portfolio",className:"py-20 bg-white",ref:e,children:[c.jsxs("div",{className:"container mx-auto px-6",children:[c.jsxs(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.8}}},className:"text-center mb-16",children:[c.jsx(le.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-gold text-sm font-semibold tracking-widest uppercase mb-4 block",children:"Our Work"}),c.jsx("h2",{className:"text-5xl md:text-6xl lg:text-7xl font-playfair font-bold text-charcoal mb-6",children:"Our Portfolio"}),c.jsx(le.div,{initial:{width:0},animate:r,variants:{visible:{width:"100px",transition:{duration:.8,delay:.4}}},className:"h-1 bg-gold mx-auto mb-6"}),c.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Explore our collection of captured emotions and timeless memories across various genres."})]}),c.jsx(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,delay:.2}}},className:"flex flex-wrap justify-center gap-3 md:gap-4 mb-12",children:u.map((y,x)=>c.jsx(le.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.3+x*.1,type:"spring"},onClick:()=>g(y),whileHover:{scale:1.08,y:-3},whileTap:{scale:.95},className:`px-6 py-3 rounded-full font-medium transition-all shadow-md ${n===y?"bg-gold text-white shadow-lg scale-105":"bg-lightGrey text-charcoal hover:bg-gray-200"}`,children:y},y))}),c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center mb-8",children:c.jsx(Kt,{mode:"wait",children:c.jsxs(le.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-gray-600",children:["Showing ",c.jsx("span",{className:"font-semibold text-gold",children:f.length})," ",n==="All"?"images":`${n} images`]},n)})}),c.jsx(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,delay:.4}}},children:c.jsx(Kt,{mode:"wait",children:c.jsx(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5},children:c.jsx(AX,{breakpointCols:p,className:"flex gap-6 -ml-6",columnClassName:"pl-6 bg-clip-padding",children:f.map((y,x)=>c.jsxs(le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:x*.1},whileHover:{scale:1.03,zIndex:10},onClick:()=>h(x),className:"mb-6 cursor-pointer overflow-hidden rounded-lg shadow-lg group relative",children:[c.jsx("img",{src:y.image,alt:y.title,className:"w-full h-auto object-cover transition-transform duration-500 group-hover:scale-110"}),c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300 flex flex-col items-center justify-end p-6",children:[c.jsx(le.p,{initial:{y:20,opacity:0},whileHover:{y:0,opacity:1},transition:{delay:.1},className:"text-white text-xl font-playfair font-semibold mb-2",children:y.title}),c.jsx(le.span,{initial:{y:20,opacity:0},whileHover:{y:0,opacity:1},transition:{delay:.2},className:"text-gold text-sm font-medium",children:y.category})]}),c.jsx("div",{className:"absolute top-4 right-4 bg-gold text-white px-3 py-1 rounded-full text-xs font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:"View"})]},y.id))})},n)})}),f.length===0&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:c.jsx("p",{className:"text-gray-500 text-xl",children:"No images found in this category."})}),c.jsx(le.div,{initial:{opacity:0,y:30},animate:r,variants:{visible:{opacity:1,y:0,transition:{duration:.8,delay:.8}}},className:"text-center mt-12",children:c.jsx(le.a,{href:"#contact",whileHover:{scale:1.05,boxShadow:"0 10px 30px rgba(212, 165, 116, 0.4)"},whileTap:{scale:.95},className:"inline-block bg-gold text-white px-10 py-4 rounded-full font-semibold text-lg shadow-lg hover:bg-opacity-90 transition-all",children:"Want to see more? Contact Us"})})]}),i&&c.jsx(Jpe,{images:f.map(y=>y.image),currentIndex:o,onClose:()=>s(!1)})]})},Qpe=()=>{const e=A.useRef(null),t=Xy(e,{once:!0}),r=Ky(),[n,a]=A.useState(0),[i,s]=A.useState(null),[o,l]=A.useState(!1),[u,d]=A.useState(!1),[f,p]=A.useState(!1),h=A.useRef(null);A.useEffect(()=>{const w=()=>{p(window.innerWidth<768)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]),A.useEffect(()=>{t&&r.start("visible")},[t,r]),A.useEffect(()=>(!u&&!o&&!f&&(h.current=setInterval(()=>{a(w=>(w+1)%g.length)},4e3)),()=>{h.current&&clearInterval(h.current)}),[u,o,f]);const g=[{id:1,icon:c.jsx(Ope,{}),title:"Wedding Photography",tagline:"Your Love Story, Forever Captured",description:"Cinematic wedding coverage that tells your unique love story",image:"https://images.unsplash.com/photo-1519741497674-611481863552?w=800",gradient:"from-pink-500 via-rose-500 to-red-500",bgColor:"bg-pink-50",packages:[{name:"Bronze",price:"17,999",duration:"6 Hours",emoji:"",features:["Traditional Photography","Unlimited Softcopies","Traditional FHD Video (3-4M)","One Pendrive"],savings:"15% OFF"},{name:"Silver",price:"34,999",duration:"8 Hours",emoji:"",popular:!0,features:["Traditional Photography","Unlimited Softcopies","Traditional FHD Video (3-4M)","One Photobook Album (30 pages)","One Mini Book","One Calander","One Pendrive"],savings:"20% OFF"},{name:"Gold",price:"49,999",duration:"Full Day",emoji:"",features:["Traditional Photography","Unlimited Softcopies","Traditional FHD Video (3-4M)","Candid Photography with Light Setup","One Photobook Album (30 pages)","One Mini Book","One Calander","One Pendrive"],savings:"Best Value"}]},{id:2,icon:c.jsx(Ws,{}),title:"Pre-Wedding Shoot",tagline:"Before The Big Day Magic",description:"Romantic outdoor sessions capturing your chemistry",image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=800",gradient:"from-purple-500 via-pink-500 to-rose-500",bgColor:"bg-purple-50",packages:[{name:"Basic",price:"14,999",duration:"4 Hours",emoji:"",features:["1 Location","150+ Edited Photos","Unlimited Softcopies","1 Costume Change","Online Gallery"]},{name:"Premium",price:"25,000",duration:"6 Hours",emoji:"",popular:!0,features:["2-3 Locations","300+ Edited Photos","Cinematic Video Shoot","2 Costume Changes","Printed Album","Same Day Edit"]},{name:"Luxury",price:"40,000",duration:"Full Day",emoji:"",features:["Multiple Locations","500+ Edited Photos","4K Cinematic Video","Unlimited Costumes","Drone Shots","Premium Album","Save The Date Video"]}]},{id:3,icon:c.jsx(EX,{}),title:"Event Photography",tagline:"Every Celebration Deserves Excellence",description:"Professional coverage for birthdays, festivals & celebrations",image:"https://images.unsplash.com/photo-1464366400600-7168b8af9bc3?w=800",gradient:"from-blue-500 via-cyan-500 to-teal-500",bgColor:"bg-blue-50",packages:[{name:"Essential",price:"12,000",duration:"3 Hours",emoji:"",features:["200+ Photos","Basic Editing","Online Gallery","Quick Delivery"]},{name:"Professional",price:"20,000",duration:"6 Hours",emoji:"",popular:!0,features:["400+ Photos","Video Highlights","Premium Editing","Printed Album","Same Day Sneak Peek"]},{name:"Premium",price:"35,000",duration:"Full Event",emoji:"",features:["Unlimited Photos","Full HD Video","Multiple Photographers","Luxury Album","Live Streaming Option"]}]},{id:4,icon:c.jsx(cpe,{}),title:"Maternity & Newborn",tagline:"Celebrating New Beginnings",description:"Gentle photography celebrating motherhood & baby's first moments",image:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e?w=800",gradient:"from-amber-400 via-yellow-500 to-orange-500",bgColor:"bg-amber-50",packages:[{name:"Basic",price:"5,999",duration:"1 Hour",emoji:"",features:["Studio Session","10 Edited Pictures","Unlimited Softcopies","1 Maternity Costume","A4 Photo Frame"],savings:"15% OFF"},{name:"Standard",price:"6,999",duration:"2 Hours",emoji:"",popular:!0,features:["Studio Session","15 Edited Pictures","Unlimited Softcopies","2 Maternity Costumes","A4 Photo Frame"],savings:"20% OFF"},{name:"Premium",price:"7,999",duration:"3 Hours",emoji:"",features:["Studio Session","19 Edited Pictures","Unlimited Softcopies","All Maternity Costumes","A4 Photo Frame","All Maternity Costume & Gowns"],savings:"Special Offer"}]},{id:5,icon:c.jsx(tD,{}),title:"Corporate Photography",tagline:"Professional Brand Identity",description:"Headshots, team photos & corporate event coverage",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?w=800",gradient:"from-gray-600 via-slate-700 to-zinc-800",bgColor:"bg-gray-50",packages:[{name:"Headshots",price:"8,000",duration:"2 Hours",emoji:"",features:["20 Team Members","Professional Backdrop","Quick Turnaround","High-res Files"]},{name:"Event",price:"18,000",duration:"4 Hours",emoji:"",popular:!0,features:["Full Coverage","300+ Photos","Video Highlights","Same Day Preview","Branded Watermark"]},{name:"Complete",price:"35,000",duration:"Full Day",emoji:"",features:["Headshots + Event","Unlimited Photos","4K Video","Drone Coverage","Dedicated Team"]}]},{id:6,icon:c.jsx(Upe,{}),title:"Fashion Photography",tagline:"Where Style Meets Art",description:"Editorial shoots for portfolios, brands & magazines",image:"https://images.unsplash.com/photo-1529139574466-a303027c1d8b?w=800",gradient:"from-indigo-500 via-purple-600 to-fuchsia-600",bgColor:"bg-indigo-50",packages:[{name:"Portfolio",price:"15,000",duration:"3 Hours",emoji:"",features:["Studio Shoot","50+ Edited Photos","3 Outfit Changes","Professional Retouching"]},{name:"Editorial",price:"30,000",duration:"6 Hours",emoji:"",popular:!0,features:["Studio + Location","100+ Edited Photos","Unlimited Outfits","Creative Direction","Magazine-Ready"]},{name:"Campaign",price:"60,000",duration:"Full Day",emoji:"",features:["Multiple Locations","200+ Photos","Video Content","Art Direction","Full Production Team"]}]}],y=w=>{a(w),l(!0),d(!0)},x=()=>{a(w=>(w+1)%g.length)},b=()=>{a(w=>(w-1+g.length)%g.length)},N=()=>{d(!u)},j=(w,C)=>{C.offset.x>50?b():C.offset.x<-50&&x()};return c.jsxs("section",{id:"services",className:"relative py-16 md:py-24 bg-gradient-to-br from-cream via-white to-lightGrey overflow-hidden",ref:e,children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx(le.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.05,.1,.05]},transition:{duration:30,repeat:1/0},className:"absolute -top-40 -left-40 w-96 h-96 bg-gold rounded-full blur-3xl"}),c.jsx(le.div,{animate:{scale:[1,1.3,1],rotate:[360,180,0],opacity:[.05,.1,.05]},transition:{duration:35,repeat:1/0},className:"absolute -bottom-40 -right-40 w-96 h-96 bg-teal rounded-full blur-3xl"})]}),c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:[c.jsxs(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"text-center mb-12 md:mb-20",children:[c.jsx(le.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,type:"spring"},className:"inline-block text-gold text-xs sm:text-sm font-semibold tracking-widest uppercase mb-3 sm:mb-4 px-4 sm:px-6 py-1.5 sm:py-2 bg-gold/10 rounded-full",children:" Our Services & Packages"}),c.jsxs("h2",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-playfair font-bold text-charcoal mb-4 sm:mb-6 px-4",children:["Crafted"," ",c.jsxs("span",{className:"relative inline-block",children:[c.jsx("span",{className:"relative z-10 bg-gradient-to-r from-gold via-amber-500 to-orange-500 bg-clip-text text-transparent",children:"Experiences"}),c.jsx(le.div,{animate:{scaleX:[0,1,1],opacity:[0,1,1]},transition:{duration:1,delay:.5},className:"absolute bottom-1 sm:bottom-2 left-0 right-0 h-2 sm:h-4 bg-gold/20"})]})]}),c.jsx("p",{className:"text-sm sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Award-winning photography packages designed to capture every emotion, every moment, every memory."})]}),c.jsxs(le.div,{initial:{opacity:0},animate:r,variants:{visible:{opacity:1,transition:{duration:.6,delay:.3}}},className:"mb-12 md:mb-16",children:[c.jsxs("div",{className:"md:hidden",children:[c.jsx(le.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:j,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.4},className:"mx-auto max-w-sm touch-pan-y",children:c.jsxs("div",{onClick:()=>y(n),className:"relative w-full h-96 rounded-3xl overflow-hidden shadow-2xl border-4 border-gold cursor-pointer",children:[c.jsx("img",{src:g[n].image,alt:g[n].title,className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${g[n].gradient} opacity-70`}),c.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 text-white",children:[c.jsx(le.div,{className:"text-5xl mb-3",animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:.6},children:g[n].icon}),c.jsx("h3",{className:"text-2xl font-playfair font-bold mb-1",children:g[n].title}),c.jsx("p",{className:"text-sm italic opacity-90 mb-4",children:g[n].tagline}),c.jsx("p",{className:"text-xs opacity-80",children:g[n].description})]}),c.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full text-white text-xs font-semibold flex items-center gap-2",children:" Swipe "}),c.jsxs(le.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 right-4 bg-gold text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",children:[c.jsx(lk,{})," Active"]})]})},n),c.jsx("div",{className:"flex justify-center gap-2 mt-6",children:g.map((w,C)=>c.jsx("button",{onClick:()=>a(C),className:`transition-all duration-300 rounded-full ${n===C?"w-8 h-2 bg-gold":"w-2 h-2 bg-gray-300"}`},C))}),c.jsxs("div",{className:"flex gap-3 mt-6 px-4",children:[c.jsxs(le.button,{onClick:b,whileTap:{scale:.9},className:"flex-1 bg-white text-charcoal py-3 px-4 rounded-xl shadow-lg font-semibold flex items-center justify-center gap-2",children:[c.jsx(Du,{})," Prev"]}),c.jsx(le.button,{onClick:()=>y(n),whileTap:{scale:.9},className:"flex-1 bg-gradient-to-r from-gold to-amber-600 text-white py-3 px-4 rounded-xl shadow-lg font-semibold",children:"View Packages"}),c.jsxs(le.button,{onClick:x,whileTap:{scale:.9},className:"flex-1 bg-white text-charcoal py-3 px-4 rounded-xl shadow-lg font-semibold flex items-center justify-center gap-2",children:["Next ",c.jsx(Tu,{})]})]})]}),c.jsxs("div",{className:"hidden md:block",children:[c.jsx("div",{className:"relative h-[500px] flex items-center justify-center mb-12",style:{perspective:"2000px"},children:g.map((w,C)=>{const E=C-n,I=g.length;let D={x:0,z:0,scale:1,opacity:1,rotateY:0};if(E===0)D={x:0,z:0,scale:1,opacity:1,rotateY:0};else if(E>0||E<-I/2){const O=E>0?E:I+E;D={x:40+O*15,z:-100*O,scale:1-O*.1,opacity:Math.max(.3,1-O*.2),rotateY:-10-O*5}}else{const O=Math.abs(E);D={x:-40-O*15,z:-100*O,scale:1-O*.1,opacity:Math.max(.3,1-O*.2),rotateY:10+O*5}}return c.jsx(le.div,{animate:{x:`${D.x}%`,z:D.z,scale:D.scale,opacity:D.opacity,rotateY:D.rotateY},transition:{type:"spring",stiffness:100,damping:20,duration:.8},onClick:()=>y(C),className:"absolute cursor-pointer",style:{transformStyle:"preserve-3d",zIndex:C===n?50:40-Math.abs(C-n)},children:c.jsxs("div",{className:`w-80 h-96 rounded-3xl overflow-hidden shadow-2xl border-4 transition-all duration-500 ${n===C?"border-gold":"border-white/50"}`,children:[c.jsx("img",{src:w.image,alt:w.title,className:"absolute inset-0 w-full h-full object-cover"}),c.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${w.gradient} opacity-70`}),c.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 text-white",children:[c.jsx(le.div,{className:"text-5xl mb-3",animate:{scale:n===C?[1,1.2,1]:1,rotate:n===C?[0,360]:0},transition:{duration:.6},children:w.icon}),c.jsx("h3",{className:"text-2xl font-playfair font-bold mb-1",children:w.title}),c.jsx("p",{className:"text-sm italic opacity-90",children:w.tagline})]}),n===C&&c.jsxs(le.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-4 right-4 bg-gold text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1 shadow-lg",children:[c.jsx(lk,{})," Active"]})]})},w.id)})}),c.jsxs("div",{className:"flex items-center justify-center gap-6",children:[c.jsx(le.button,{onClick:b,whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-white text-charcoal p-4 rounded-full shadow-xl hover:bg-gold hover:text-white transition-all",children:c.jsx(Du,{className:"text-xl"})}),c.jsx(le.button,{onClick:N,whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-gold text-white px-6 py-3 rounded-full shadow-xl hover:bg-amber-600 transition-all font-semibold flex items-center gap-2",children:u?c.jsxs(c.Fragment,{children:[c.jsx(ry,{})," Resume"]}):c.jsxs(c.Fragment,{children:[c.jsx(vw,{})," Pause"]})}),c.jsx(le.button,{onClick:x,whileHover:{scale:1.1},whileTap:{scale:.9},className:"bg-white text-charcoal p-4 rounded-full shadow-xl hover:bg-gold hover:text-white transition-all",children:c.jsx(Tu,{className:"text-xl"})})]}),c.jsx("div",{className:"flex justify-center gap-2 mt-6",children:g.map((w,C)=>c.jsx("button",{onClick:()=>{a(C),d(!0)},className:`transition-all duration-300 rounded-full ${n===C?"w-12 h-3 bg-gold":"w-3 h-3 bg-gray-300 hover:bg-gray-400"}`},C))}),!o&&c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"text-center mt-8",children:c.jsx(le.button,{onClick:()=>y(n),whileHover:{scale:1.05,boxShadow:"0 20px 40px rgba(212, 165, 116, 0.4)"},whileTap:{scale:.95},className:"bg-gradient-to-r from-gold via-amber-500 to-orange-500 text-white px-12 py-5 rounded-full text-xl font-bold shadow-2xl",children:"Explore Packages "})})]})]}),c.jsx(Kt,{children:o&&c.jsxs(le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},transition:{duration:.5},className:"mb-12 md:mb-16",children:[c.jsxs("div",{className:`${g[n].bgColor} rounded-2xl sm:rounded-3xl p-6 sm:p-8 md:p-12 mb-6 sm:mb-8 border-2 border-gold/20 shadow-xl relative`,children:[c.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 md:hidden bg-white text-charcoal p-2 rounded-full shadow-lg",children:c.jsx(pr,{})}),c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 sm:gap-8",children:[c.jsx(le.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},className:`text-5xl sm:text-6xl md:text-7xl bg-gradient-to-br ${g[n].gradient} bg-clip-text text-transparent`,children:g[n].icon}),c.jsxs("div",{className:"flex-1 text-center md:text-left",children:[c.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-playfair font-bold text-charcoal mb-2 sm:mb-3",children:g[n].title}),c.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gold font-semibold mb-1 sm:mb-2",children:g[n].tagline}),c.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600",children:g[n].description})]}),c.jsx(le.button,{onClick:()=>l(!1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"hidden md:block bg-white text-charcoal px-6 py-3 rounded-full font-semibold shadow-lg hover:bg-gold hover:text-white transition-all whitespace-nowrap",children:"Change Service"})]})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:g[n].packages.map((w,C)=>c.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:C*.15,duration:.5},whileTap:{scale:.98},onClick:()=>s(`${n}-${C}`),className:`relative cursor-pointer rounded-2xl sm:rounded-3xl overflow-hidden transition-all duration-300 ${w.popular?"bg-gradient-to-br from-gold via-amber-500 to-orange-500 sm:scale-105 shadow-2xl":"bg-white shadow-xl"} ${i===`${n}-${C}`?"ring-4 ring-gold":""}`,children:[w.popular&&c.jsx("div",{className:"absolute -top-3 -right-3 z-20",children:c.jsx(le.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"bg-white text-gold w-16 h-16 sm:w-20 sm:h-20 rounded-full flex items-center justify-center shadow-2xl font-bold text-xs border-4 border-gold",children:c.jsxs("div",{className:"text-center",children:[c.jsx(xpe,{className:"text-xl sm:text-2xl mx-auto mb-1"}),c.jsx("span",{className:"text-xs",children:"POPULAR"})]})})}),w.savings&&!w.popular&&c.jsx("div",{className:"absolute top-3 right-3 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold animate-pulse",children:w.savings}),c.jsxs("div",{className:`p-6 sm:p-8 ${w.popular?"text-white":"text-charcoal"}`,children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx(le.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"text-5xl sm:text-6xl mb-4",children:w.emoji}),c.jsx("h4",{className:`text-2xl sm:text-3xl font-playfair font-bold mb-2 ${w.popular?"text-white":"text-charcoal"}`,children:w.name}),c.jsx("div",{className:`text-3xl sm:text-4xl md:text-5xl font-bold mb-1 ${w.popular?"text-white":"bg-gradient-to-r from-gold to-amber-600 bg-clip-text text-transparent"}`,children:w.price}),c.jsx("p",{className:`text-xs sm:text-sm ${w.popular?"text-white/80":"text-gray-500"}`,children:w.duration})]}),c.jsx("ul",{className:"space-y-2 sm:space-y-3 mb-6 sm:mb-8",children:w.features.map((E,I)=>c.jsxs(le.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3+I*.1},className:`flex items-start gap-2 sm:gap-3 text-xs sm:text-sm ${w.popular?"text-white":"text-gray-700"}`,children:[c.jsx(Pr,{className:`flex-shrink-0 mt-0.5 sm:mt-1 ${w.popular?"text-white":"text-gold"}`}),c.jsx("span",{children:E})]},I))}),c.jsx(le.a,{href:"#booking",whileTap:{scale:.95},className:`block w-full py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg text-center transition-all ${w.popular?"bg-white text-gold shadow-xl":"bg-gradient-to-r from-gold to-amber-600 text-white shadow-lg"}`,children:"Book Now "})]}),c.jsx(le.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent pointer-events-none",animate:{x:["-200%","200%"]},transition:{duration:3,repeat:1/0,repeatDelay:2}})]},`${n}-${C}`))}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"text-center mt-8 sm:mt-12",children:c.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl p-4 sm:p-6 inline-block shadow-xl border border-gold/20 mx-4",children:[c.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-3",children:"Need a custom package? Let's create something perfect for you!"}),c.jsxs(le.a,{href:"#contact",whileTap:{scale:.95},className:"inline-flex items-center gap-2 bg-gradient-to-r from-gold to-amber-600 text-white px-6 sm:px-8 py-3 rounded-full font-semibold shadow-lg text-sm sm:text-base",children:[c.jsx(jpe,{})," Get Custom Quote"]})]})}),c.jsx("div",{className:"md:hidden text-center mt-6",children:c.jsx(le.button,{onClick:()=>l(!1),whileTap:{scale:.95},className:"bg-white text-charcoal px-8 py-3 rounded-full font-semibold shadow-lg",children:" Back to Services"})})]})})]}),c.jsx("div",{className:"hidden md:block absolute bottom-0 left-0 right-0 h-16 bg-charcoal overflow-hidden opacity-10",children:c.jsx("div",{className:"flex gap-4 h-full items-center animate-marquee",children:[...Array(20)].map((w,C)=>c.jsx("div",{className:"w-12 h-8 bg-gold/30 rounded flex-shrink-0"},C))})})]})},eme=[{id:1,image:"https://images.unsplash.com/photo-1465495976277-4387d4b0b4c6?w=400",likes:234},{id:2,image:"https://images.unsplash.com/photo-1519741497674-611481863552?w=400",likes:456},{id:3,image:"https://images.unsplash.com/photo-1606216794074-735e91aa2c92?w=400",likes:678},{id:4,image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=400",likes:345},{id:5,image:"https://images.unsplash.com/photo-1591604466107-ec97de577aff?w=400",likes:567},{id:6,image:"https://images.unsplash.com/photo-1522673607200-164d1b6ce486?w=400",likes:789},{id:7,image:"https://images.unsplash.com/photo-1464366400600-7168b8af9bc3?w=400",likes:412},{id:8,image:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e?w=400",likes:382},{id:9,image:"https://images.unsplash.com/photo-1511578314322-379afb476865?w=400",likes:592}],tme=({posts:e})=>{const t=Array.isArray(e)&&e.length?e:eme,[r,n]=A.useState(0),[a,i]=A.useState(!0);A.useEffect(()=>{if(!a)return;const l=setInterval(()=>{n(u=>(u+1)%t.length)},4200);return()=>clearInterval(l)},[a,t.length]);const o=(()=>{const l=t.slice(1,9);return[l.slice(0,4),l.slice(4,8)]})();return c.jsx("section",{className:"relative bg-gradient-to-br from-cream via-white to-lightGrey py-16 overflow-hidden min-h-[600px]",children:c.jsxs("div",{className:"container mx-auto px-4 md:px-8 flex flex-col items-center",children:[c.jsxs("div",{className:"flex flex-col md:flex-row items-center mb-8 gap-5 w-full justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[c.jsx(Jg,{className:"text-4xl text-gradient-gold animate-pulse"}),c.jsx("h2",{className:"text-2xl md:text-3xl font-playfair font-bold text-charcoal",children:"@rn.photo.films"})]}),c.jsxs("a",{href:"https://www.instagram.com/rn.photo.films/",target:"_blank",rel:"noopener noreferrer",className:"sticky top-3 z-40 py-2 px-6 bg-gradient-to-r from-pink-500 to-gold rounded-2xl text-white font-bold shadow-xl hover:scale-105 transition space-x-2 flex items-center",children:[c.jsx(Jg,{className:"text-xl"}),c.jsx("span",{children:"Follow "})]})]}),c.jsxs("div",{className:"flex flex-col md:flex-row w-full gap-8 md:gap-12 items-start justify-between",children:[c.jsx(Kt,{mode:"wait",children:c.jsxs(le.div,{initial:{opacity:0,x:-40,scale:.92},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:30,scale:.92},transition:{duration:.6,type:"spring"},className:"flex flex-col items-center gap-3 md:sticky md:top-36 md:w-[340px] w-full mx-auto z-10",style:{minWidth:240},children:[c.jsxs(le.div,{className:"relative overflow-hidden w-full rounded-3xl shadow-xl border-4 border-gold cursor-pointer",style:{aspectRatio:"1/1.18",background:"#4442"},whileHover:{scale:1.03},onMouseEnter:()=>i(!1),onMouseLeave:()=>i(!0),onClick:()=>window.open("https://www.instagram.com/rn.photo.films/","_blank"),children:[c.jsx("img",{src:t[r]?.image,alt:"Insta highlight",className:"w-full h-full object-cover",loading:"lazy"}),c.jsxs(le.div,{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-5 text-lg font-bold text-white flex items-center gap-4",animate:{backgroundColor:["#0e0c0cbb","#d4a57477","#0e0c0cbb"]},transition:{duration:4,repeat:1/0,repeatType:"reverse"},children:[c.jsx(Ws,{className:"text-rose-400"}),c.jsx("span",{className:"text-xl font-semibold",children:t[r]?.likes}),c.jsx("span",{className:"italic text-gold ml-auto text-xs",children:"Hero Reel"})]}),c.jsx(le.div,{className:"absolute top-0 left-0 right-0 h-1.5 opacity-60 bg-gradient-to-r from-white via-gold to-transparent pointer-events-none",animate:{x:[-200,400]},transition:{duration:1.8,repeat:1/0}})]}),c.jsx("div",{className:"mx-auto mt-2 rounded-full bg-gold text-white px-5 py-2 text-xs font-bold shadow-md select-none",children:"Best Of RN.Photo.Films"})]},t[r]?.id)}),c.jsx("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-4 gap-5",children:o.flat().map((l,u)=>c.jsxs(le.div,{whileHover:{scale:1.07,zIndex:11},className:"relative overflow-hidden rounded-2xl shadow-md group cursor-pointer aspect-[1/1.08] bg-white",onClick:()=>window.open("https://www.instagram.com/rn.photo.films/","_blank"),children:[c.jsx("img",{src:l.image,alt:"Instagram grid",className:"object-cover w-full h-full group-hover:scale-110 transition-transform duration-200"}),c.jsxs(le.div,{className:"absolute bottom-3 left-1/2 -translate-x-1/2 bg-black/60 text-gold font-semibold flex items-center gap-1 px-3 py-1 rounded-full text-xs opacity-0 group-hover:opacity-100 transition",children:[c.jsx(Ws,{className:"text-rose-400"}),l.likes]}),c.jsx(le.div,{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-white via-gold/30 to-transparent opacity-0 group-hover:opacity-100",animate:{x:[-120,240]},transition:{duration:2.2,repeat:1/0}})]},l.id))})]}),c.jsx("div",{className:"w-full flex justify-center mt-12 overflow-x-hidden",children:c.jsx(le.div,{className:"bg-white/70 rounded-full px-7 py-3 shadow flex items-center gap-6 text-charcoal font-bold whitespace-nowrap text-md",animate:{x:[0,-450,0]},transition:{duration:32,repeat:1/0,ease:"linear"},children:t.map((l,u)=>c.jsxs("span",{className:"flex items-center font-medium",children:[c.jsx(Jg,{className:"text-pink-500 mr-2"}),"@","rn.photo.films","",c.jsx("span",{className:"ml-2",children:(l.caption||"Captured Moment").slice(0,35)}),c.jsx("span",{className:"mx-5",children:"|"})]},l.id))})})]})})},CL=[{name:"Priya & Rahul",event:"Wedding Photography",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200",rating:5,text:"RN PhotoFilms captured our wedding day beautifully! Every emotion, every moment preserved perfectly."},{name:"Anjali Sharma",event:"Maternity Shoot",image:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200",rating:5,text:"The maternity shoot was incredible! They made me feel comfortable and beautiful. Highly recommended!"},{name:"Tech Corp India",event:"Corporate Event",image:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=200",rating:5,text:"Professional, punctual, and creative. RN PhotoFilms documented our conference flawlessly."},{name:"Sneha & Arjun",event:"Pre-Wedding Shoot",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200",rating:5,text:"Our pre-wedding shoot was magical! Beautiful locations, amazing candid moments. Thank you!"},{name:"Ravi Kumar",event:"Birthday Photography",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200",rating:5,text:"They captured my daughter's 1st birthday perfectly. Professional team with creative ideas!"},{name:"Meera & Vikram",event:"Anniversary Shoot",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=200",rating:5,text:"Beautiful memories captured for our 10th anniversary. Couldn't be happier with the results!"}],rme=[...CL,...CL],nme=()=>{const[e,t]=A.useState(!1),r=A.useRef(null);return A.useEffect(()=>{const n=r.current;if(!n)return;const a=()=>t(!0),i=()=>t(!1);return n.addEventListener("mouseenter",a),n.addEventListener("mouseleave",i),n.addEventListener("touchstart",a),n.addEventListener("touchend",i),()=>{n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",i),n.removeEventListener("touchstart",a),n.removeEventListener("touchend",i)}},[]),c.jsx("section",{className:"relative py-10 bg-gradient-to-br from-cream via-white to-lightGrey overflow-hidden",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-2",children:[c.jsxs("h2",{className:"text-center text-2xl md:text-3xl font-playfair font-bold text-charcoal mb-8 flex items-center gap-2 justify-center",children:[c.jsx(Dpe,{className:"text-gold"}),"Why our clients love us"]}),c.jsx("div",{ref:r,className:"relative overflow-x-hidden w-full select-none",style:{maskImage:"linear-gradient(90deg, transparent, #fff 60%, #fff 96%, transparent)"},children:c.jsx(le.div,{className:"flex gap-5 items-stretch",animate:{x:e?0:["0%","-50%"]},transition:{duration:32,ease:"linear",repeat:1/0,repeatType:"loop"},children:rme.map((n,a)=>c.jsxs(le.div,{whileHover:{scale:1.07,y:-8,boxShadow:"0 8px 24px #f6e0aa88"},className:"relative min-w-[290px] max-w-sm bg-white/80 backdrop-blur-xl rounded-2xl p-4 mx-1 shadow-md border border-gold/10 cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("img",{src:n.image,alt:n.name,className:"w-12 h-12 rounded-full object-cover border-2 border-gold shadow",loading:"lazy"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-charcoal",children:n.name}),c.jsx("div",{className:"text-xs text-gold",children:n.event})]})]}),c.jsxs("div",{className:"italic text-gray-700 mt-2 mb-2 text-sm",children:['"',n.text,'"']}),c.jsx("div",{className:"flex gap-1 mt-3",children:[...Array(n.rating)].map((i,s)=>c.jsx(N0,{className:"text-yellow-400 text-xs"},s))})]},a))})}),c.jsx("div",{className:"text-center mt-5 text-sm text-gray-500",children:c.jsx("span",{children:"Hover or tap to pause scrolling"})})]})})},ZN=[{id:1,slug:"perfect-wedding-photography-tips",title:"10 Tips for Perfect Wedding Photography",excerpt:"Discover essential tips to ensure your wedding day is captured beautifully, from lighting to candid moments.",image:"https://images.unsplash.com/photo-1519741497674-611481863552?w=800",author:"Raj Nair",authorImage:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100",date:"October 1, 2025",readTime:"5 min read",category:"Wedding",tags:["Wedding","Tips","Photography"],content:`
      <h2>Introduction</h2>
      <p>Wedding photography is one of the most rewarding yet challenging genres in photography. Capturing the magic, emotions, and fleeting moments of someone's special day requires skill, preparation, and creativity.</p>

      <h2>1. Scout the Location Beforehand</h2>
      <p>Visit the wedding venue before the big day. Understand the lighting conditions, identify the best photo spots, and plan your shots.</p>

      <h2>2. Communicate with the Couple</h2>
      <p>Understanding the couple's vision is crucial. Discuss their preferences, must-have shots, and any special moments they want captured.</p>

      <h2>3. Master Natural Light</h2>
      <p>Natural light creates magical wedding photos. Use golden hour for romantic portraits. Learn to work with window light during indoor ceremonies.</p>

      <h2>4. Capture Candid Moments</h2>
      <p>The most memorable wedding photos are often unposed. Keep your camera ready to capture genuine emotions and spontaneous interactions.</p>

      <h2>5. Use Multiple Angles</h2>
      <p>Don't shoot everything from eye level. Get creative with low angles, high perspectives, and unique compositions.</p>

      <h2>Conclusion</h2>
      <p>Wedding photography combines technical skill with emotional storytelling. Practice these tips to create stunning albums couples will treasure forever!</p>
    `},{id:2,slug:"pre-wedding-shoot-locations",title:"Choosing the Right Location for Pre-Wedding Shoots",excerpt:"Learn how to select stunning backdrops that complement your love story and personality.",image:"https://images.unsplash.com/photo-1583939003579-730e3918a45a?w=800",author:"Neha Sharma",authorImage:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100",date:"September 25, 2025",readTime:"4 min read",category:"Pre-Wedding",tags:["Pre-Wedding","Locations","Outdoor"],content:`
      <h2>Why Location Matters</h2>
      <p>The location of your pre-wedding shoot sets the tone for your entire photo story. It should reflect your personality as a couple.</p>

      <h2>Urban vs. Natural Settings</h2>
      <p>Urban locations offer modern architecture and city energy. Natural settings provide romantic landscapes and serene atmospheres.</p>

      <h2>Popular Locations</h2>
      <ul>
        <li><strong>Beaches:</strong> Romantic sunsets and ocean waves</li>
        <li><strong>Mountains:</strong> Dramatic vistas</li>
        <li><strong>Heritage Sites:</strong> Timeless architecture</li>
        <li><strong>Gardens:</strong> Colorful blooms</li>
      </ul>

      <h2>Final Tips</h2>
      <p>Choose locations meaningful to you. Whether it's where you first met or your favorite cafe, personal connections make photos special!</p>
    `},{id:3,slug:"art-of-maternity-photography",title:"The Art of Maternity Photography",excerpt:"Explore techniques for capturing the beauty and emotion of motherhood in elegant portraits.",image:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e?w=800",author:"Raj Nair",authorImage:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100",date:"September 20, 2025",readTime:"6 min read",category:"Maternity",tags:["Maternity","Portrait","Studio"],content:`
      <h2>Celebrating Motherhood</h2>
      <p>Maternity photography celebrates the journey of pregnancy, creating memories cherished for generations.</p>

      <h2>Best Timing</h2>
      <p>The ideal time is between 28-36 weeks when the baby bump is beautifully prominent.</p>

      <h2>Lighting Techniques</h2>
      <p>Soft, diffused lighting is key. Window light works wonderfully for natural, glowing looks.</p>

      <h2>Posing Tips</h2>
      <p>Focus on poses emphasizing the baby bump. Side profiles, hands cradling belly, and partner shots work beautifully.</p>

      <h2>Conclusion</h2>
      <p>Maternity photography celebrates life, love, and anticipation. Approach with sensitivity and creativity!</p>
    `}],ame=({onPostClick:e})=>{const t=A.useRef(null),r=Xy(t,{once:!0}),n=Ky(),[a,i]=A.useState("All");A.useEffect(()=>{r&&n.start("visible")},[r,n]);const s=["All",...new Set(ZN.map(l=>l.category))],o=a==="All"?ZN:ZN.filter(l=>l.category===a);return c.jsxs("section",{id:"blog",className:"relative py-12 md:py-20 bg-gradient-to-br from-cream via-white to-lightGrey overflow-hidden",ref:t,children:[c.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:c.jsx(le.div,{animate:{scale:[1,1.2,1],rotate:[0,180,360],opacity:[.05,.1,.05]},transition:{duration:30,repeat:1/0},className:"absolute -top-40 -left-40 w-96 h-96 bg-gold rounded-full blur-3xl"})}),c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:[c.jsxs(le.div,{initial:"hidden",animate:n,variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"text-center mb-10 md:mb-16",children:[c.jsx(le.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,type:"spring"},className:"inline-block text-gold text-xs sm:text-sm font-semibold tracking-widest uppercase mb-3 sm:mb-4 px-4 sm:px-6 py-1.5 sm:py-2 bg-gold/10 rounded-full",children:" Our Blog"}),c.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-playfair font-bold text-charcoal mb-4 sm:mb-6 px-4",children:["Latest from"," ",c.jsxs("span",{className:"relative inline-block",children:[c.jsx("span",{className:"relative z-10 bg-gradient-to-r from-gold via-amber-500 to-orange-500 bg-clip-text text-transparent",children:"Our Studio"}),c.jsx(le.div,{animate:{scaleX:[0,1,1],opacity:[0,1,1]},transition:{duration:1,delay:.5},className:"absolute bottom-1 sm:bottom-2 left-0 right-0 h-2 sm:h-4 bg-gold/20"})]})]}),c.jsx("p",{className:"text-sm sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-4",children:"Photography tips, behind-the-scenes stories, and inspiration for your next shoot"})]}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:n,variants:{visible:{opacity:1,y:0,transition:{duration:.6,delay:.3}}},className:"flex flex-wrap justify-center gap-2 sm:gap-3 mb-8 md:mb-12",children:s.map(l=>c.jsx(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(l),className:`px-4 sm:px-6 py-2 rounded-full font-semibold transition-all text-sm sm:text-base ${a===l?"bg-gold text-white shadow-lg":"bg-white text-charcoal hover:bg-gold/10"}`,children:l},l))}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:o.map((l,u)=>c.jsxs(le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-30},transition:{duration:.4,delay:u*.1},whileHover:{y:-8,boxShadow:"0 20px 40px rgba(0,0,0,0.15)"},onClick:()=>e&&e(l),className:"bg-white rounded-2xl md:rounded-3xl overflow-hidden shadow-xl transition-all duration-300 cursor-pointer",children:[c.jsxs("div",{className:"relative h-48 sm:h-56 md:h-64 overflow-hidden",children:[c.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 hover:scale-110"}),c.jsx("div",{className:"absolute top-3 right-3 sm:top-4 sm:right-4 bg-gold text-white px-2 sm:px-3 py-1 rounded-full text-xs font-bold",children:l.category})]}),c.jsxs("div",{className:"p-4 sm:p-6",children:[c.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 text-xs sm:text-sm text-gray-500 mb-3 sm:mb-4",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(hn,{className:"text-gold text-xs"}),c.jsx("span",{children:l.author})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ri,{className:"text-gold text-xs"}),c.jsx("span",{children:l.readTime})]})]}),c.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-playfair font-bold text-charcoal mb-2 sm:mb-3 hover:text-gold transition-colors line-clamp-2",children:l.title}),c.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4 line-clamp-2 sm:line-clamp-3",children:l.excerpt}),c.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mb-3 sm:mb-4",children:l.tags.slice(0,2).map((d,f)=>c.jsxs("span",{className:"text-xs bg-gold/10 text-gold px-2 sm:px-3 py-1 rounded-full",children:["#",d]},f))}),c.jsxs("div",{className:"flex items-center justify-between pt-3 sm:pt-4 border-t border-gray-200",children:[c.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:l.date}),c.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-gold font-semibold text-sm sm:text-base hover:gap-2 sm:hover:gap-3 transition-all",children:["Read More",c.jsx(QA,{className:"text-xs sm:text-sm"})]})]})]})]},`${l.id}-${a}`))}),o.length===0&&c.jsx(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16 sm:py-20",children:c.jsx("p",{className:"text-xl sm:text-2xl text-gray-500",children:"No posts found in this category"})})]})]})},ime=()=>{const e=A.useRef(null),t=Xy(e,{once:!0}),r=Ky(),[n,a]=A.useState({name:"",email:"",phone:"",message:""}),[i,s]=A.useState(!1),[o,l]=A.useState(!1);A.useEffect(()=>{t&&r.start("visible")},[t,r]);const u=h=>{a({...n,[h.target.name]:h.target.value})},d=async h=>{h.preventDefault(),s(!0),setTimeout(()=>{s(!1),l(!0),a({name:"",email:"",phone:"",message:""}),setTimeout(()=>l(!1),5e3)},2e3)},f=[{icon:c.jsx(qi,{}),title:"Call Us",details:["+91 82393 72489","+91 78287 20365"],color:"from-green-500 to-emerald-600",link:"tel:+918239372489"},{icon:c.jsx(Ga,{}),title:"Email Us",details:["rbaria736@gmail.com","rnstudio.x@gmail.com"],color:"from-blue-500 to-cyan-600",link:"mailto:rbaria736@gmail.com"},{icon:c.jsx(Ou,{}),title:"Visit Us",details:["Church Gali, Thandla","Jhabua, MP 457777"],color:"from-red-500 to-orange-600",link:"https://maps.google.com/?q=Church+Gali+Thandla+Jhabua"}],p=[{icon:c.jsx(Jg,{}),name:"Instagram",url:"https://instagram.com/rn.photo.films",color:"bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500"},{icon:c.jsx(gX,{}),name:"Facebook",url:"#",color:"bg-blue-600"},{icon:c.jsx(vX,{}),name:"WhatsApp",url:"https://wa.me/918239372489",color:"bg-green-500"}];return c.jsxs("section",{id:"contact",className:"relative py-16 md:py-20 bg-gradient-to-br from-cream via-white to-lightGrey overflow-hidden",ref:e,children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[c.jsx(le.div,{animate:{scale:[1,1.3,1],rotate:[0,180,360],opacity:[.03,.06,.03]},transition:{duration:25,repeat:1/0},className:"absolute -top-40 -right-40 w-96 h-96 bg-gold rounded-full blur-3xl"}),c.jsx(le.div,{animate:{scale:[1,1.2,1],rotate:[360,180,0],opacity:[.03,.06,.03]},transition:{duration:30,repeat:1/0},className:"absolute -bottom-40 -left-40 w-96 h-96 bg-teal rounded-full blur-3xl"})]}),c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 relative z-10",children:[c.jsxs(le.div,{initial:"hidden",animate:r,variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.6}}},className:"text-center mb-12 md:mb-16",children:[c.jsx(le.span,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2,type:"spring"},className:"inline-block text-gold text-xs sm:text-sm font-semibold tracking-widest uppercase mb-3 sm:mb-4 px-4 sm:px-6 py-1.5 sm:py-2 bg-gold/10 rounded-full",children:" Get In Touch"}),c.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-playfair font-bold text-charcoal mb-4 sm:mb-6",children:["Let's Create"," ",c.jsxs("span",{className:"relative inline-block",children:[c.jsx("span",{className:"relative z-10 bg-gradient-to-r from-gold via-amber-500 to-orange-500 bg-clip-text text-transparent",children:"Magic Together"}),c.jsx(le.div,{animate:{scaleX:[0,1,1],opacity:[0,1,1]},transition:{duration:1,delay:.5},className:"absolute bottom-1 sm:bottom-2 left-0 right-0 h-2 sm:h-4 bg-gold/20"})]})]}),c.jsx("p",{className:"text-sm sm:text-lg text-gray-600 max-w-2xl mx-auto px-4",children:"Have questions? We'd love to hear from you. Send us a message and we'll respond as soon as possible."})]}),c.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12 max-w-7xl mx-auto",children:[c.jsxs(le.div,{initial:{opacity:0,x:-50},animate:r,variants:{visible:{opacity:1,x:0,transition:{duration:.6,delay:.3}}},className:"space-y-6",children:[c.jsx("h3",{className:"text-2xl md:text-3xl font-playfair font-bold text-charcoal mb-6",children:"Reach Out Through"}),f.map((h,g)=>c.jsx(le.a,{href:h.link,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:r,variants:{visible:{opacity:1,y:0,transition:{duration:.5,delay:.4+g*.1}}},whileHover:{scale:1.03,y:-5},className:"block bg-white/80 backdrop-blur-xl rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300 border border-gold/10",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(le.div,{whileHover:{rotate:360,scale:1.1},transition:{duration:.6},className:`w-14 h-14 rounded-full bg-gradient-to-br ${h.color} flex items-center justify-center text-white text-xl shadow-lg`,children:h.icon}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold text-charcoal mb-1",children:h.title}),h.details.map((y,x)=>c.jsx("p",{className:"text-gray-600 text-sm",children:y},x))]})]})},g)),c.jsxs("div",{className:"pt-6",children:[c.jsx("h4",{className:"text-lg font-bold text-charcoal mb-4",children:"Connect With Us"}),c.jsx("div",{className:"flex gap-4",children:p.map((h,g)=>c.jsx(le.a,{href:h.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.15,y:-5},whileTap:{scale:.95},className:`w-12 h-12 rounded-full ${h.color} flex items-center justify-center text-white text-xl shadow-lg hover:shadow-2xl transition-all`,children:h.icon},g))})]}),c.jsx(le.div,{initial:{opacity:0,scale:.9},animate:r,variants:{visible:{opacity:1,scale:1,transition:{duration:.6,delay:.7}}},className:"rounded-2xl overflow-hidden shadow-xl border-4 border-gold/20 h-64",children:c.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3672.3263955302664!2d74.5811578!3d23.011785000000003!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39613fb059c6fa65%3A0x1baf7defdb7dee00!2sRN%20Studio!5e0!3m2!1sen!2sin!4v1759750119769!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"RN PhotoFilms Location"})})]}),c.jsx(le.div,{initial:{opacity:0,x:50},animate:r,variants:{visible:{opacity:1,x:0,transition:{duration:.6,delay:.4}}},children:c.jsxs("div",{className:"bg-white/90 backdrop-blur-2xl rounded-3xl p-6 sm:p-8 md:p-10 shadow-2xl border border-gold/20",children:[c.jsx("h3",{className:"text-2xl md:text-3xl font-playfair font-bold text-charcoal mb-6",children:"Send Us a Message"}),o&&c.jsxs(le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 bg-green-50 border border-green-200 rounded-xl p-4 flex items-center gap-3",children:[c.jsx(Pr,{className:"text-green-500 text-2xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-green-700 font-semibold",children:"Message Sent Successfully!"}),c.jsx("p",{className:"text-green-600 text-sm",children:"We'll get back to you soon."})]})]}),c.jsxs("form",{onSubmit:d,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-charcoal mb-2",children:"Your Name *"}),c.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-gold focus:outline-none transition-all bg-white/50 backdrop-blur-sm",placeholder:"John Doe"})]}),c.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-charcoal mb-2",children:"Email *"}),c.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:u,required:!0,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-gold focus:outline-none transition-all bg-white/50 backdrop-blur-sm",placeholder:"john@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-charcoal mb-2",children:"Phone"}),c.jsx("input",{type:"tel",id:"phone",name:"phone",value:n.phone,onChange:u,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-gold focus:outline-none transition-all bg-white/50 backdrop-blur-sm",placeholder:"+91 98765 43210"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-charcoal mb-2",children:"Your Message *"}),c.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:u,required:!0,rows:"5",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 focus:border-gold focus:outline-none transition-all resize-none bg-white/50 backdrop-blur-sm",placeholder:"Tell us about your project..."})]}),c.jsx(le.button,{type:"submit",disabled:i,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gold via-amber-500 to-orange-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-2xl transition-all duration-300 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:i?c.jsxs(c.Fragment,{children:[c.jsx(le.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):c.jsxs(c.Fragment,{children:[c.jsx(NX,{}),"Send Message"]})})]})]})})]})]})]})},sme=({isOpen:e,onClose:t})=>{const[r,n]=A.useState(""),[a,i]=A.useState(!1),[s,o]=A.useState(""),[l,u]=A.useState(!1),d=No(),f="RNPhoto@2025",p=h=>{h.preventDefault(),u(!0),o(""),setTimeout(()=>{r===f?(localStorage.setItem("adminAuth","true"),localStorage.setItem("adminLoginTime",new Date().toISOString()),d("/crm"),t()):(o("Invalid password! Please try again."),n("")),u(!1)},500)};return e?c.jsx(Kt,{children:c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",onClick:t,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:50},transition:{type:"spring",damping:25},onClick:h=>h.stopPropagation(),className:"bg-white rounded-3xl max-w-md w-full shadow-2xl overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-charcoal to-gray-800 text-white p-6 relative",children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-white/80 hover:text-white text-2xl",children:c.jsx(pr,{})}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 bg-gold rounded-full flex items-center justify-center",children:c.jsx(ty,{className:"text-3xl text-charcoal"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Admin Login"}),c.jsx("p",{className:"text-sm text-gray-300",children:"Enter password to access CRM"})]})]})]}),c.jsxs("form",{onSubmit:p,className:"p-8 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-charcoal mb-2",children:"Admin Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:a?"text":"password",value:r,onChange:h=>{n(h.target.value),o("")},placeholder:"Enter admin password",className:"w-full px-4 py-3 pr-12 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-gold transition-all",autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gold transition-colors",children:a?c.jsx(bpe,{}):c.jsx(sl,{})})]}),s&&c.jsxs(le.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-500 text-sm mt-2 flex items-center gap-2",children:[c.jsx("span",{children:""})," ",s]})]}),c.jsx(le.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:l||!r,className:"w-full bg-gradient-to-r from-gold via-amber-500 to-orange-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?c.jsxs(c.Fragment,{children:[c.jsx(le.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Verifying..."]}):c.jsxs(c.Fragment,{children:[c.jsx(ty,{})," Access CRM"]})}),c.jsx("p",{className:"text-xs text-center text-gray-500",children:" Authorized access only. All activities are logged."})]})]})})}):null},ome=()=>{const e=No(),[t,r]=A.useState(!1),[n,a]=A.useState(0),[i,s]=A.useState(!1),[o,l]=A.useState([]),[u,d]=A.useState(""),[f,p]=A.useState(!1),h="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec",g=()=>{a(N=>N+1),n+1>=5&&setTimeout(()=>a(0),1e4)},y=()=>{const N=localStorage.getItem("guestToken"),j=localStorage.getItem("guestData");if(N&&j)try{const w=JSON.parse(j);e(`/guest/gallery/${w.eventId}`)}catch{localStorage.removeItem("guestToken"),localStorage.removeItem("guestData"),s(!0),x()}else s(!0),x()},x=async()=>{p(!0);try{const j=await(await fetch(h,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPublicEvents"})})).json();if(j.success){const w=[...j.leads,...j.events].filter(C=>C.status!=="Completed").sort((C,E)=>new Date(E.eventDate)-new Date(C.eventDate));l(w)}}catch(N){console.error("Error fetching events:",N),alert("Failed to load events. Please try again.")}finally{p(!1)}},b=()=>{if(!u){alert("Please select an event");return}s(!1),e(`/guest/register/${u}`)};return c.jsxs(c.Fragment,{children:[c.jsx(sme,{isOpen:t,onClose:()=>r(!1)}),c.jsx(Kt,{children:i&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>s(!1),children:c.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:c.jsx(uk,{className:"text-white text-xl"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Guest Portal"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Select your event"})]})]}),c.jsx("button",{onClick:()=>s(!1),className:"w-10 h-10 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:c.jsx(pr,{className:"text-gray-600"})})]}),c.jsx("div",{className:"mb-6",children:f?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Loading events..."})]}):o.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx("p",{className:"text-gray-600 mb-2",children:"No upcoming events found"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Please contact us for access"})]}):c.jsxs(c.Fragment,{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Event:"}),c.jsxs("select",{value:u,onChange:N=>d(N.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent focus:outline-none",children:[c.jsx("option",{value:"",children:"-- Select Event --"}),o.map(N=>c.jsxs("option",{value:N.id,children:[N.eventType," - ",N.clientName,"(",new Date(N.eventDate).toLocaleDateString(),")"]},N.id))]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:" Select the event you attended to find your photos"})]})}),o.length>0&&c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:b,disabled:!u,className:"flex-1 px-4 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continue"})]})]})})}),c.jsx("footer",{className:"bg-gray-900 text-white pt-12 pb-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[c.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold mb-4 bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Capturing your precious moments with artistic excellence and technical perfection."}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:c.jsx(spe,{})}),c.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:c.jsx(Jg,{})}),c.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:c.jsx(ope,{})}),c.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors",children:c.jsx(lpe,{})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),c.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[c.jsx("li",{children:c.jsx("a",{href:"#home",className:"hover:text-white transition-colors",children:"Home"})}),c.jsx("li",{children:c.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:"About Us"})}),c.jsx("li",{children:c.jsx("a",{href:"#portfolio",className:"hover:text-white transition-colors",children:"Portfolio"})}),c.jsx("li",{children:c.jsx("a",{href:"#services",className:"hover:text-white transition-colors",children:"Services"})}),c.jsx("li",{children:c.jsx("a",{href:"#contact",className:"hover:text-white transition-colors",children:"Contact"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Our Services"}),c.jsxs("ul",{className:"space-y-2 text-gray-400 text-sm",children:[c.jsx("li",{children:"Wedding Photography"}),c.jsx("li",{children:"Pre-Wedding Shoots"}),c.jsx("li",{children:"Event Coverage"}),c.jsx("li",{children:"Maternity Photography"}),c.jsx("li",{children:"Corporate Events"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Portals"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>e("/client/login"),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors text-sm font-medium",children:[c.jsx(hn,{}),c.jsx("span",{children:"Client Login"})]}),c.jsxs("button",{onClick:y,className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg transition-colors text-sm font-medium",children:[c.jsx(uk,{}),c.jsx("span",{children:"Guest Portal"})]}),n>=5&&c.jsxs(le.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},onClick:()=>r(!0),className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors text-sm font-medium",children:[c.jsx(ty,{}),c.jsx("span",{children:"Admin Login"})]})]})]})]}),c.jsx("div",{className:"pt-6 border-t border-gray-800",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[c.jsx("p",{className:"text-gray-400 text-sm cursor-pointer",onClick:g,children:" 2025 RN PhotoFilms. All rights reserved."}),c.jsxs("p",{className:"text-gray-400 text-sm flex items-center mt-2 md:mt-0",children:["Made with ",c.jsx(Ws,{className:"text-red-500 mx-1"})," in India"]})]})})]})})]})},lme=({post:e,onClose:t})=>(A.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),e?c.jsx(Kt,{children:c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:t,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:50},transition:{type:"spring",damping:25},className:"bg-white rounded-3xl max-w-4xl w-full max-h-[90vh] overflow-y-auto relative shadow-2xl",onClick:r=>r.stopPropagation(),children:[c.jsx("button",{onClick:t,className:"sticky top-4 right-4 float-right bg-red-500 text-white p-3 rounded-full shadow-lg hover:bg-red-600 transition-all z-10",children:c.jsx(pr,{})}),c.jsxs("div",{className:"relative h-[40vh] overflow-hidden rounded-t-3xl",children:[c.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 text-white",children:[c.jsx("div",{className:"inline-block bg-gold text-white px-4 py-1 rounded-full text-sm font-bold mb-4",children:e.category}),c.jsx("h1",{className:"text-3xl md:text-5xl font-playfair font-bold mb-4",children:e.title}),c.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-white/90",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("img",{src:e.authorImage,alt:e.author,className:"w-10 h-10 rounded-full border-2 border-white"}),c.jsx("span",{className:"font-semibold",children:e.author})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(um,{}),c.jsx("span",{children:e.date})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ri,{}),c.jsx("span",{children:e.readTime})]})]})]})]}),c.jsxs("div",{className:"p-8 md:p-12",children:[c.jsx("article",{className:"prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:e.content},style:{fontFamily:"inherit",lineHeight:"1.8",color:"#333"}}),c.jsx("div",{className:"mt-12 pt-8 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[c.jsx(Bpe,{className:"text-gold"}),e.tags.map((r,n)=>c.jsxs("span",{className:"bg-gold/10 text-gold px-4 py-2 rounded-full text-sm font-semibold",children:["#",r]},n))]})})]})]})})}):null),cme=()=>{const e=No(),[t,r]=A.useState("phone"),[n,a]=A.useState(""),[i,s]=A.useState(""),[o,l]=A.useState(!1),[u,d]=A.useState(""),f="https://script.google.com/macros/s/AKfycbzWJS6fKlFs-K5oU23TgtI6kcu9TVAlsQq4sQac79_IdTh09z-qOAPcx2uZhB-pKzFlRA/exec",p=async h=>{h.preventDefault(),d(""),l(!0);try{const y=await(await fetch(f,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"authenticateClient",phone:t==="phone"?n:"",email:t==="email"?i:""})})).text();console.log(" Response received:",y);const x=JSON.parse(y);console.log(" Parsed result:",x),x&&x.success===!0?(console.log(" Login successful!"),localStorage.setItem("clientToken",x.token),localStorage.setItem("clientData",JSON.stringify(x.client)),console.log(" Data saved to localStorage"),console.log("Token:",x.token),console.log("Client:",x.client),console.log("Saved client ID:",x.client.id),console.log(" Navigating to dashboard..."),e("/client/dashboard",{replace:!0})):(console.error(" Login failed:",x?.message),d(x?.message||"Login failed. Please check your details."))}catch(g){console.error(" Login error:",g),d("Connection error: "+g.message)}finally{l(!1)}};return c.jsx("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4 overflow-auto",children:c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(le.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"inline-block mb-4",children:c.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto",children:c.jsx(hn,{className:"text-3xl text-white"})})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Client Portal"}),c.jsx("p",{className:"text-gray-600",children:"RN PhotoFilms"})]}),c.jsxs(le.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 text-center",children:"Welcome Back!"}),c.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[c.jsxs("button",{onClick:()=>r("phone"),className:`flex-1 py-2 px-4 rounded-md transition-all ${t==="phone"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:[c.jsx(qi,{className:"inline mr-2"}),"Phone"]}),c.jsxs("button",{onClick:()=>r("email"),className:`flex-1 py-2 px-4 rounded-md transition-all ${t==="email"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-800"}`,children:[c.jsx(Ga,{className:"inline mr-2"}),"Email"]})]}),c.jsxs("form",{onSubmit:p,className:"space-y-4",children:[t==="phone"?c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"tel",value:n,onChange:h=>a(h.target.value),placeholder:"Enter your phone number",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}):c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"email",value:i,onChange:h=>s(h.target.value),placeholder:"Enter your email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),u&&c.jsx(le.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),c.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?c.jsxs(c.Fragment,{children:[c.jsx(Bd,{className:"animate-spin"}),c.jsx("span",{children:"Logging in..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(ty,{}),c.jsx("span",{children:"Login"})]})})]}),c.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[c.jsx("p",{children:"Use the phone number or email you provided when booking your event."}),c.jsxs("p",{className:"mt-2",children:["Need help?"," ",c.jsx("a",{href:"/contact",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Contact Support"})]})]})]}),c.jsx("div",{className:"text-center mt-6",children:c.jsx("button",{onClick:()=>e("/"),className:"text-gray-600 hover:text-gray-800 font-medium",children:" Back to Home"})})]})})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var DX;function gt(){return DX.apply(null,arguments)}function ume(e){DX=e}function Tc(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function tm(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Vr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oD(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Vr(e,t))return!1;return!0}function co(e){return e===void 0}function Zd(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Jy(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function TX(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function hh(e,t){for(var r in t)Vr(t,r)&&(e[r]=t[r]);return Vr(t,"toString")&&(e.toString=t.toString),Vr(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Bu(e,t,r,n){return tJ(e,t,r,n,!0).utc()}function dme(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function br(e){return e._pf==null&&(e._pf=dme()),e._pf}var fk;Array.prototype.some?fk=Array.prototype.some:fk=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function lD(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=br(e),r=fk.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function e4(e){var t=Bu(NaN);return e!=null?hh(br(t),e):br(t).userInvalidated=!0,t}var _L=gt.momentProperties=[],QN=!1;function cD(e,t){var r,n,a,i=_L.length;if(co(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),co(t._i)||(e._i=t._i),co(t._f)||(e._f=t._f),co(t._l)||(e._l=t._l),co(t._strict)||(e._strict=t._strict),co(t._tzm)||(e._tzm=t._tzm),co(t._isUTC)||(e._isUTC=t._isUTC),co(t._offset)||(e._offset=t._offset),co(t._pf)||(e._pf=br(t)),co(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)n=_L[r],a=t[n],co(a)||(e[n]=a);return e}function Zy(e){cD(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),QN===!1&&(QN=!0,gt.updateOffset(this),QN=!1)}function Oc(e){return e instanceof Zy||e!=null&&e._isAMomentObject!=null}function OX(e){gt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Jl(e,t){var r=!0;return hh(function(){if(gt.deprecationHandler!=null&&gt.deprecationHandler(null,e),r){var n=[],a,i,s,o=arguments.length;for(i=0;i<o;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(s in arguments[0])Vr(arguments[0],s)&&(a+=s+": "+arguments[0][s]+", ");a=a.slice(0,-2)}else a=arguments[i];n.push(a)}OX(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var EL={};function IX(e,t){gt.deprecationHandler!=null&&gt.deprecationHandler(e,t),EL[e]||(OX(t),EL[e]=!0)}gt.suppressDeprecationWarnings=!1;gt.deprecationHandler=null;function zu(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function fme(e){var t,r;for(r in e)Vr(e,r)&&(t=e[r],zu(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function hk(e,t){var r=hh({},e),n;for(n in t)Vr(t,n)&&(tm(e[n])&&tm(t[n])?(r[n]={},hh(r[n],e[n]),hh(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Vr(e,n)&&!Vr(t,n)&&tm(e[n])&&(r[n]=hh({},r[n]));return r}function uD(e){e!=null&&this.set(e)}var pk;Object.keys?pk=Object.keys:pk=function(e){var t,r=[];for(t in e)Vr(e,t)&&r.push(t);return r};var hme={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function pme(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return zu(n)?n.call(t,r):n}function Iu(e,t,r){var n=""+Math.abs(e),a=t-n.length,i=e>=0;return(i?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var dD=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I2=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,e6={},e0={};function Xt(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(e0[e]=a),t&&(e0[t[0]]=function(){return Iu(a.apply(this,arguments),t[1],t[2])}),r&&(e0[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function mme(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function gme(e){var t=e.match(dD),r,n;for(r=0,n=t.length;r<n;r++)e0[t[r]]?t[r]=e0[t[r]]:t[r]=mme(t[r]);return function(a){var i="",s;for(s=0;s<n;s++)i+=zu(t[s])?t[s].call(a,e):t[s];return i}}function Ib(e,t){return e.isValid()?(t=MX(t,e.localeData()),e6[t]=e6[t]||gme(t),e6[t](e)):e.localeData().invalidDate()}function MX(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(I2.lastIndex=0;r>=0&&I2.test(e);)e=e.replace(I2,n),I2.lastIndex=0,r-=1;return e}var vme={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function xme(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(dD).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var yme="Invalid date";function bme(){return this._invalidDate}var wme="%d",Nme=/\d{1,2}/;function Sme(e){return this._ordinal.replace("%d",e)}var jme={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Cme(e,t,r,n){var a=this._relativeTime[r];return zu(a)?a(e,t,r,n):a.replace(/%d/i,e)}function _me(e,t){var r=this._relativeTime[e>0?"future":"past"];return zu(r)?r(t):r.replace(/%s/i,t)}var PL={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Zl(e){return typeof e=="string"?PL[e]||PL[e.toLowerCase()]:void 0}function fD(e){var t={},r,n;for(n in e)Vr(e,n)&&(r=Zl(n),r&&(t[r]=e[n]));return t}var Eme={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Pme(e){var t=[],r;for(r in e)Vr(e,r)&&t.push({unit:r,priority:Eme[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var RX=/\d/,dl=/\d\d/,LX=/\d{3}/,hD=/\d{4}/,t4=/[+-]?\d{6}/,Fn=/\d\d?/,FX=/\d\d\d\d?/,BX=/\d\d\d\d\d\d?/,r4=/\d{1,3}/,pD=/\d{1,4}/,n4=/[+-]?\d{1,6}/,K0=/\d+/,a4=/[+-]?\d+/,kme=/Z|[+-]\d\d:?\d\d/gi,i4=/Z|[+-]\d\d(?::?\d\d)?/gi,Ame=/[+-]?\d+(\.\d{1,3})?/,Qy=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,X0=/^[1-9]\d?/,mD=/^([1-9]\d|\d)/,yw;yw={};function kt(e,t,r){yw[e]=zu(t)?t:function(n,a){return n&&r?r:t}}function Dme(e,t){return Vr(yw,e)?yw[e](t._strict,t._locale):new RegExp(Tme(e))}function Tme(e){return Gd(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,i){return r||n||a||i}))}function Gd(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Bl(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Dr(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Bl(t)),r}var mk={};function pn(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),Zd(t)&&(n=function(i,s){s[t]=Dr(i)}),a=e.length,r=0;r<a;r++)mk[e[r]]=n}function e1(e,t){pn(e,function(r,n,a,i){a._w=a._w||{},t(r,a._w,a,i)})}function Ome(e,t,r){t!=null&&Vr(mk,e)&&mk[e](t,r._a,r,e)}function s4(e){return e%4===0&&e%100!==0||e%400===0}var Ns=0,zd=1,hu=2,ni=3,Pc=4,Wd=5,Hp=6,Ime=7,Mme=8;Xt("Y",0,0,function(){var e=this.year();return e<=9999?Iu(e,4):"+"+e});Xt(0,["YY",2],0,function(){return this.year()%100});Xt(0,["YYYY",4],0,"year");Xt(0,["YYYYY",5],0,"year");Xt(0,["YYYYYY",6,!0],0,"year");kt("Y",a4);kt("YY",Fn,dl);kt("YYYY",pD,hD);kt("YYYYY",n4,t4);kt("YYYYYY",n4,t4);pn(["YYYYY","YYYYYY"],Ns);pn("YYYY",function(e,t){t[Ns]=e.length===2?gt.parseTwoDigitYear(e):Dr(e)});pn("YY",function(e,t){t[Ns]=gt.parseTwoDigitYear(e)});pn("Y",function(e,t){t[Ns]=parseInt(e,10)});function Rx(e){return s4(e)?366:365}gt.parseTwoDigitYear=function(e){return Dr(e)+(Dr(e)>68?1900:2e3)};var zX=J0("FullYear",!0);function Rme(){return s4(this.year())}function J0(e,t){return function(r){return r!=null?(WX(this,e,r),gt.updateOffset(this,t),this):ay(this,e)}}function ay(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function WX(e,t,r){var n,a,i,s,o;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,s=e.month(),o=e.date(),o=o===29&&s===1&&!s4(i)?28:o,a?n.setUTCFullYear(i,s,o):n.setFullYear(i,s,o)}}function Lme(e){return e=Zl(e),zu(this[e])?this[e]():this}function Fme(e,t){if(typeof e=="object"){e=fD(e);var r=Pme(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=Zl(e),zu(this[e]))return this[e](t);return this}function Bme(e,t){return(e%t+t)%t}var Ta;Array.prototype.indexOf?Ta=Array.prototype.indexOf:Ta=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function gD(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Bme(t,12);return e+=(t-r)/12,r===1?s4(e)?29:28:31-r%7%2}Xt("M",["MM",2],"Mo",function(){return this.month()+1});Xt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});Xt("MMMM",0,0,function(e){return this.localeData().months(this,e)});kt("M",Fn,X0);kt("MM",Fn,dl);kt("MMM",function(e,t){return t.monthsShortRegex(e)});kt("MMMM",function(e,t){return t.monthsRegex(e)});pn(["M","MM"],function(e,t){t[zd]=Dr(e)-1});pn(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[zd]=a:br(r).invalidMonth=e});var zme="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),UX="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),$X=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Wme=Qy,Ume=Qy;function $me(e,t){return e?Tc(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||$X).test(t)?"format":"standalone"][e.month()]:Tc(this._months)?this._months:this._months.standalone}function qme(e,t){return e?Tc(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[$X.test(t)?"format":"standalone"][e.month()]:Tc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Vme(e,t,r){var n,a,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=Bu([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?t==="MMM"?(a=Ta.call(this._shortMonthsParse,s),a!==-1?a:null):(a=Ta.call(this._longMonthsParse,s),a!==-1?a:null):t==="MMM"?(a=Ta.call(this._shortMonthsParse,s),a!==-1?a:(a=Ta.call(this._longMonthsParse,s),a!==-1?a:null)):(a=Ta.call(this._longMonthsParse,s),a!==-1?a:(a=Ta.call(this._shortMonthsParse,s),a!==-1?a:null))}function Hme(e,t,r){var n,a,i;if(this._monthsParseExact)return Vme.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Bu([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function qX(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Dr(t);else if(t=e.localeData().monthsParse(t),!Zd(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,gD(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function VX(e){return e!=null?(qX(this,e),gt.updateOffset(this,!0),this):ay(this,"Month")}function Gme(){return gD(this.year(),this.month())}function Yme(e){return this._monthsParseExact?(Vr(this,"_monthsRegex")||HX.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Vr(this,"_monthsShortRegex")||(this._monthsShortRegex=Wme),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Kme(e){return this._monthsParseExact?(Vr(this,"_monthsRegex")||HX.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Vr(this,"_monthsRegex")||(this._monthsRegex=Ume),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function HX(){function e(l,u){return u.length-l.length}var t=[],r=[],n=[],a,i,s,o;for(a=0;a<12;a++)i=Bu([2e3,a]),s=Gd(this.monthsShort(i,"")),o=Gd(this.months(i,"")),t.push(s),r.push(o),n.push(o),n.push(s);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Xme(e,t,r,n,a,i,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,r,n,a,i,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,r,n,a,i,s),o}function iy(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bw(e,t,r){var n=7+t-r,a=(7+iy(e,0,n).getUTCDay()-t)%7;return-a+n-1}function GX(e,t,r,n,a){var i=(7+r-n)%7,s=bw(e,n,a),o=1+7*(t-1)+i+s,l,u;return o<=0?(l=e-1,u=Rx(l)+o):o>Rx(e)?(l=e+1,u=o-Rx(e)):(l=e,u=o),{year:l,dayOfYear:u}}function sy(e,t,r){var n=bw(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,i,s;return a<1?(s=e.year()-1,i=a+Yd(s,t,r)):a>Yd(e.year(),t,r)?(i=a-Yd(e.year(),t,r),s=e.year()+1):(s=e.year(),i=a),{week:i,year:s}}function Yd(e,t,r){var n=bw(e,t,r),a=bw(e+1,t,r);return(Rx(e)-n+a)/7}Xt("w",["ww",2],"wo","week");Xt("W",["WW",2],"Wo","isoWeek");kt("w",Fn,X0);kt("ww",Fn,dl);kt("W",Fn,X0);kt("WW",Fn,dl);e1(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Dr(e)});function Jme(e){return sy(e,this._week.dow,this._week.doy).week}var Zme={dow:0,doy:6};function Qme(){return this._week.dow}function ege(){return this._week.doy}function tge(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function rge(e){var t=sy(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}Xt("d",0,"do","day");Xt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});Xt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});Xt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});Xt("e",0,0,"weekday");Xt("E",0,0,"isoWeekday");kt("d",Fn);kt("e",Fn);kt("E",Fn);kt("dd",function(e,t){return t.weekdaysMinRegex(e)});kt("ddd",function(e,t){return t.weekdaysShortRegex(e)});kt("dddd",function(e,t){return t.weekdaysRegex(e)});e1(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:br(r).invalidWeekday=e});e1(["d","e","E"],function(e,t,r,n){t[n]=Dr(e)});function nge(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function age(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function vD(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ige="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),YX="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sge="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oge=Qy,lge=Qy,cge=Qy;function uge(e,t){var r=Tc(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?vD(r,this._week.dow):e?r[e.day()]:r}function dge(e){return e===!0?vD(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function fge(e){return e===!0?vD(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function hge(e,t,r){var n,a,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=Bu([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?t==="dddd"?(a=Ta.call(this._weekdaysParse,s),a!==-1?a:null):t==="ddd"?(a=Ta.call(this._shortWeekdaysParse,s),a!==-1?a:null):(a=Ta.call(this._minWeekdaysParse,s),a!==-1?a:null):t==="dddd"?(a=Ta.call(this._weekdaysParse,s),a!==-1||(a=Ta.call(this._shortWeekdaysParse,s),a!==-1)?a:(a=Ta.call(this._minWeekdaysParse,s),a!==-1?a:null)):t==="ddd"?(a=Ta.call(this._shortWeekdaysParse,s),a!==-1||(a=Ta.call(this._weekdaysParse,s),a!==-1)?a:(a=Ta.call(this._minWeekdaysParse,s),a!==-1?a:null)):(a=Ta.call(this._minWeekdaysParse,s),a!==-1||(a=Ta.call(this._weekdaysParse,s),a!==-1)?a:(a=Ta.call(this._shortWeekdaysParse,s),a!==-1?a:null))}function pge(e,t,r){var n,a,i;if(this._weekdaysParseExact)return hge.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Bu([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function mge(e){if(!this.isValid())return e!=null?this:NaN;var t=ay(this,"Day");return e!=null?(e=nge(e,this.localeData()),this.add(e-t,"d")):t}function gge(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function vge(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=age(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function xge(e){return this._weekdaysParseExact?(Vr(this,"_weekdaysRegex")||xD.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Vr(this,"_weekdaysRegex")||(this._weekdaysRegex=oge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function yge(e){return this._weekdaysParseExact?(Vr(this,"_weekdaysRegex")||xD.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Vr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=lge),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bge(e){return this._weekdaysParseExact?(Vr(this,"_weekdaysRegex")||xD.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Vr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cge),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function xD(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],a=[],i,s,o,l,u;for(i=0;i<7;i++)s=Bu([2e3,1]).day(i),o=Gd(this.weekdaysMin(s,"")),l=Gd(this.weekdaysShort(s,"")),u=Gd(this.weekdays(s,"")),t.push(o),r.push(l),n.push(u),a.push(o),a.push(l),a.push(u);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function yD(){return this.hours()%12||12}function wge(){return this.hours()||24}Xt("H",["HH",2],0,"hour");Xt("h",["hh",2],0,yD);Xt("k",["kk",2],0,wge);Xt("hmm",0,0,function(){return""+yD.apply(this)+Iu(this.minutes(),2)});Xt("hmmss",0,0,function(){return""+yD.apply(this)+Iu(this.minutes(),2)+Iu(this.seconds(),2)});Xt("Hmm",0,0,function(){return""+this.hours()+Iu(this.minutes(),2)});Xt("Hmmss",0,0,function(){return""+this.hours()+Iu(this.minutes(),2)+Iu(this.seconds(),2)});function KX(e,t){Xt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}KX("a",!0);KX("A",!1);function XX(e,t){return t._meridiemParse}kt("a",XX);kt("A",XX);kt("H",Fn,mD);kt("h",Fn,X0);kt("k",Fn,X0);kt("HH",Fn,dl);kt("hh",Fn,dl);kt("kk",Fn,dl);kt("hmm",FX);kt("hmmss",BX);kt("Hmm",FX);kt("Hmmss",BX);pn(["H","HH"],ni);pn(["k","kk"],function(e,t,r){var n=Dr(e);t[ni]=n===24?0:n});pn(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});pn(["h","hh"],function(e,t,r){t[ni]=Dr(e),br(r).bigHour=!0});pn("hmm",function(e,t,r){var n=e.length-2;t[ni]=Dr(e.substr(0,n)),t[Pc]=Dr(e.substr(n)),br(r).bigHour=!0});pn("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[ni]=Dr(e.substr(0,n)),t[Pc]=Dr(e.substr(n,2)),t[Wd]=Dr(e.substr(a)),br(r).bigHour=!0});pn("Hmm",function(e,t,r){var n=e.length-2;t[ni]=Dr(e.substr(0,n)),t[Pc]=Dr(e.substr(n))});pn("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[ni]=Dr(e.substr(0,n)),t[Pc]=Dr(e.substr(n,2)),t[Wd]=Dr(e.substr(a))});function Nge(e){return(e+"").toLowerCase().charAt(0)==="p"}var Sge=/[ap]\.?m?\.?/i,jge=J0("Hours",!0);function Cge(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var JX={calendar:hme,longDateFormat:vme,invalidDate:yme,ordinal:wme,dayOfMonthOrdinalParse:Nme,relativeTime:jme,months:zme,monthsShort:UX,week:Zme,weekdays:ige,weekdaysMin:sge,weekdaysShort:YX,meridiemParse:Sge},Hn={},Xv={},oy;function _ge(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function kL(e){return e&&e.toLowerCase().replace("_","-")}function Ege(e){for(var t=0,r,n,a,i;t<e.length;){for(i=kL(e[t]).split("-"),r=i.length,n=kL(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=o4(i.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&_ge(i,n)>=r-1)break;r--}t++}return oy}function Pge(e){return!!(e&&e.match("^[^/\\\\]*$"))}function o4(e){var t=null,r;if(Hn[e]===void 0&&typeof module<"u"&&module&&module.exports&&Pge(e))try{t=oy._abbr,r=require,r("./locale/"+e),wh(t)}catch{Hn[e]=null}return Hn[e]}function wh(e,t){var r;return e&&(co(t)?r=lf(e):r=bD(e,t),r?oy=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),oy._abbr}function bD(e,t){if(t!==null){var r,n=JX;if(t.abbr=e,Hn[e]!=null)IX("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Hn[e]._config;else if(t.parentLocale!=null)if(Hn[t.parentLocale]!=null)n=Hn[t.parentLocale]._config;else if(r=o4(t.parentLocale),r!=null)n=r._config;else return Xv[t.parentLocale]||(Xv[t.parentLocale]=[]),Xv[t.parentLocale].push({name:e,config:t}),null;return Hn[e]=new uD(hk(n,t)),Xv[e]&&Xv[e].forEach(function(a){bD(a.name,a.config)}),wh(e),Hn[e]}else return delete Hn[e],null}function kge(e,t){if(t!=null){var r,n,a=JX;Hn[e]!=null&&Hn[e].parentLocale!=null?Hn[e].set(hk(Hn[e]._config,t)):(n=o4(e),n!=null&&(a=n._config),t=hk(a,t),n==null&&(t.abbr=e),r=new uD(t),r.parentLocale=Hn[e],Hn[e]=r),wh(e)}else Hn[e]!=null&&(Hn[e].parentLocale!=null?(Hn[e]=Hn[e].parentLocale,e===wh()&&wh(e)):Hn[e]!=null&&delete Hn[e]);return Hn[e]}function lf(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return oy;if(!Tc(e)){if(t=o4(e),t)return t;e=[e]}return Ege(e)}function Age(){return pk(Hn)}function wD(e){var t,r=e._a;return r&&br(e).overflow===-2&&(t=r[zd]<0||r[zd]>11?zd:r[hu]<1||r[hu]>gD(r[Ns],r[zd])?hu:r[ni]<0||r[ni]>24||r[ni]===24&&(r[Pc]!==0||r[Wd]!==0||r[Hp]!==0)?ni:r[Pc]<0||r[Pc]>59?Pc:r[Wd]<0||r[Wd]>59?Wd:r[Hp]<0||r[Hp]>999?Hp:-1,br(e)._overflowDayOfYear&&(t<Ns||t>hu)&&(t=hu),br(e)._overflowWeeks&&t===-1&&(t=Ime),br(e)._overflowWeekday&&t===-1&&(t=Mme),br(e).overflow=t),e}var Dge=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oge=/Z|[+-]\d\d(?::?\d\d)?/,M2=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],t6=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ige=/^\/?Date\((-?\d+)/i,Mge=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Rge={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ZX(e){var t,r,n=e._i,a=Dge.exec(n)||Tge.exec(n),i,s,o,l,u=M2.length,d=t6.length;if(a){for(br(e).iso=!0,t=0,r=u;t<r;t++)if(M2[t][1].exec(a[1])){s=M2[t][0],i=M2[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(a[3]){for(t=0,r=d;t<r;t++)if(t6[t][1].exec(a[3])){o=(a[2]||" ")+t6[t][0];break}if(o==null){e._isValid=!1;return}}if(!i&&o!=null){e._isValid=!1;return}if(a[4])if(Oge.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=s+(o||"")+(l||""),SD(e)}else e._isValid=!1}function Lge(e,t,r,n,a,i){var s=[Fge(e),UX.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return i&&s.push(parseInt(i,10)),s}function Fge(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Bge(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function zge(e,t,r){if(e){var n=YX.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return br(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Wge(e,t,r){if(e)return Rge[e];if(t)return 0;var n=parseInt(r,10),a=n%100,i=(n-a)/100;return i*60+a}function QX(e){var t=Mge.exec(Bge(e._i)),r;if(t){if(r=Lge(t[4],t[3],t[2],t[5],t[6],t[7]),!zge(t[1],r,e))return;e._a=r,e._tzm=Wge(t[8],t[9],t[10]),e._d=iy.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),br(e).rfc2822=!0}else e._isValid=!1}function Uge(e){var t=Ige.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(ZX(e),e._isValid===!1)delete e._isValid;else return;if(QX(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:gt.createFromInputFallback(e)}gt.createFromInputFallback=Jl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Rg(e,t,r){return e??t??r}function $ge(e){var t=new Date(gt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ND(e){var t,r,n=[],a,i,s;if(!e._d){for(a=$ge(e),e._w&&e._a[hu]==null&&e._a[zd]==null&&qge(e),e._dayOfYear!=null&&(s=Rg(e._a[Ns],a[Ns]),(e._dayOfYear>Rx(s)||e._dayOfYear===0)&&(br(e)._overflowDayOfYear=!0),r=iy(s,0,e._dayOfYear),e._a[zd]=r.getUTCMonth(),e._a[hu]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ni]===24&&e._a[Pc]===0&&e._a[Wd]===0&&e._a[Hp]===0&&(e._nextDay=!0,e._a[ni]=0),e._d=(e._useUTC?iy:Xme).apply(null,n),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ni]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(br(e).weekdayMismatch=!0)}}function qge(e){var t,r,n,a,i,s,o,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,r=Rg(t.GG,e._a[Ns],sy(Rn(),1,4).year),n=Rg(t.W,1),a=Rg(t.E,1),(a<1||a>7)&&(l=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=sy(Rn(),i,s),r=Rg(t.gg,e._a[Ns],u.year),n=Rg(t.w,u.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(l=!0)):a=i),n<1||n>Yd(r,i,s)?br(e)._overflowWeeks=!0:l!=null?br(e)._overflowWeekday=!0:(o=GX(r,n,a,i,s),e._a[Ns]=o.year,e._dayOfYear=o.dayOfYear)}gt.ISO_8601=function(){};gt.RFC_2822=function(){};function SD(e){if(e._f===gt.ISO_8601){ZX(e);return}if(e._f===gt.RFC_2822){QX(e);return}e._a=[],br(e).empty=!0;var t=""+e._i,r,n,a,i,s,o=t.length,l=0,u,d;for(a=MX(e._f,e._locale).match(dD)||[],d=a.length,r=0;r<d;r++)i=a[r],n=(t.match(Dme(i,e))||[])[0],n&&(s=t.substr(0,t.indexOf(n)),s.length>0&&br(e).unusedInput.push(s),t=t.slice(t.indexOf(n)+n.length),l+=n.length),e0[i]?(n?br(e).empty=!1:br(e).unusedTokens.push(i),Ome(i,n,e)):e._strict&&!n&&br(e).unusedTokens.push(i);br(e).charsLeftOver=o-l,t.length>0&&br(e).unusedInput.push(t),e._a[ni]<=12&&br(e).bigHour===!0&&e._a[ni]>0&&(br(e).bigHour=void 0),br(e).parsedDateParts=e._a.slice(0),br(e).meridiem=e._meridiem,e._a[ni]=Vge(e._locale,e._a[ni],e._meridiem),u=br(e).era,u!==null&&(e._a[Ns]=e._locale.erasConvertYear(u,e._a[Ns])),ND(e),wD(e)}function Vge(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Hge(e){var t,r,n,a,i,s,o=!1,l=e._f.length;if(l===0){br(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)i=0,s=!1,t=cD({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],SD(t),lD(t)&&(s=!0),i+=br(t).charsLeftOver,i+=br(t).unusedTokens.length*10,br(t).score=i,o?i<n&&(n=i,r=t):(n==null||i<n||s)&&(n=i,r=t,s&&(o=!0));hh(e,r||t)}function Gge(e){if(!e._d){var t=fD(e._i),r=t.day===void 0?t.date:t.day;e._a=TX([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),ND(e)}}function Yge(e){var t=new Zy(wD(eJ(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function eJ(e){var t=e._i,r=e._f;return e._locale=e._locale||lf(e._l),t===null||r===void 0&&t===""?e4({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Oc(t)?new Zy(wD(t)):(Jy(t)?e._d=t:Tc(r)?Hge(e):r?SD(e):Kge(e),lD(e)||(e._d=null),e))}function Kge(e){var t=e._i;co(t)?e._d=new Date(gt.now()):Jy(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Uge(e):Tc(t)?(e._a=TX(t.slice(0),function(r){return parseInt(r,10)}),ND(e)):tm(t)?Gge(e):Zd(t)?e._d=new Date(t):gt.createFromInputFallback(e)}function tJ(e,t,r,n,a){var i={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(tm(e)&&oD(e)||Tc(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=r,i._i=e,i._f=t,i._strict=n,Yge(i)}function Rn(e,t,r,n){return tJ(e,t,r,n,!1)}var Xge=Jl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Rn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:e4()}),Jge=Jl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Rn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:e4()});function rJ(e,t){var r,n;if(t.length===1&&Tc(t[0])&&(t=t[0]),!t.length)return Rn();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Zge(){var e=[].slice.call(arguments,0);return rJ("isBefore",e)}function Qge(){var e=[].slice.call(arguments,0);return rJ("isAfter",e)}var e0e=function(){return Date.now?Date.now():+new Date},Jv=["year","quarter","month","week","day","hour","minute","second","millisecond"];function t0e(e){var t,r=!1,n,a=Jv.length;for(t in e)if(Vr(e,t)&&!(Ta.call(Jv,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[Jv[n]]){if(r)return!1;parseFloat(e[Jv[n]])!==Dr(e[Jv[n]])&&(r=!0)}return!0}function r0e(){return this._isValid}function n0e(){return Rc(NaN)}function l4(e){var t=fD(e),r=t.year||0,n=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=t0e(t),this._milliseconds=+d+u*1e3+l*6e4+o*1e3*60*60,this._days=+s+i*7,this._months=+a+n*3+r*12,this._data={},this._locale=lf(),this._bubble()}function Mb(e){return e instanceof l4}function gk(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function a0e(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)Dr(e[s])!==Dr(t[s])&&i++;return i+a}function nJ(e,t){Xt(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Iu(~~(r/60),2)+t+Iu(~~r%60,2)})}nJ("Z",":");nJ("ZZ","");kt("Z",i4);kt("ZZ",i4);pn(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=jD(i4,e)});var i0e=/([\+\-]|\d\d)/gi;function jD(e,t){var r=(t||"").match(e),n,a,i;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(i0e)||["-",0,0],i=+(a[1]*60)+Dr(a[2]),i===0?0:a[0]==="+"?i:-i)}function CD(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Oc(e)||Jy(e)?e.valueOf():Rn(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),gt.updateOffset(r,!1),r):Rn(e).local()}function vk(e){return-Math.round(e._d.getTimezoneOffset())}gt.updateOffset=function(){};function s0e(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=jD(i4,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=vk(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?sJ(this,Rc(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,gt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:vk(this)}function o0e(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function l0e(e){return this.utcOffset(0,e)}function c0e(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(vk(this),"m")),this}function u0e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=jD(kme,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function d0e(e){return this.isValid()?(e=e?Rn(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function f0e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function h0e(){if(!co(this._isDSTShifted))return this._isDSTShifted;var e={},t;return cD(e,this),e=eJ(e),e._a?(t=e._isUTC?Bu(e._a):Rn(e._a),this._isDSTShifted=this.isValid()&&a0e(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function p0e(){return this.isValid()?!this._isUTC:!1}function m0e(){return this.isValid()?this._isUTC:!1}function aJ(){return this.isValid()?this._isUTC&&this._offset===0:!1}var g0e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,v0e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Rc(e,t){var r=e,n=null,a,i,s;return Mb(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Zd(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=g0e.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:Dr(n[hu])*a,h:Dr(n[ni])*a,m:Dr(n[Pc])*a,s:Dr(n[Wd])*a,ms:Dr(gk(n[Hp]*1e3))*a}):(n=v0e.exec(e))?(a=n[1]==="-"?-1:1,r={y:Pp(n[2],a),M:Pp(n[3],a),w:Pp(n[4],a),d:Pp(n[5],a),h:Pp(n[6],a),m:Pp(n[7],a),s:Pp(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=x0e(Rn(r.from),Rn(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),i=new l4(r),Mb(e)&&Vr(e,"_locale")&&(i._locale=e._locale),Mb(e)&&Vr(e,"_isValid")&&(i._isValid=e._isValid),i}Rc.fn=l4.prototype;Rc.invalid=n0e;function Pp(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function AL(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function x0e(e,t){var r;return e.isValid()&&t.isValid()?(t=CD(t,e),e.isBefore(t)?r=AL(e,t):(r=AL(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function iJ(e,t){return function(r,n){var a,i;return n!==null&&!isNaN(+n)&&(IX(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),a=Rc(r,n),sJ(this,a,e),this}}function sJ(e,t,r,n){var a=t._milliseconds,i=gk(t._days),s=gk(t._months);e.isValid()&&(n=n??!0,s&&qX(e,ay(e,"Month")+s*r),i&&WX(e,"Date",ay(e,"Date")+i*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&gt.updateOffset(e,i||s))}var y0e=iJ(1,"add"),b0e=iJ(-1,"subtract");function oJ(e){return typeof e=="string"||e instanceof String}function w0e(e){return Oc(e)||Jy(e)||oJ(e)||Zd(e)||S0e(e)||N0e(e)||e===null||e===void 0}function N0e(e){var t=tm(e)&&!oD(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,s=n.length;for(a=0;a<s;a+=1)i=n[a],r=r||Vr(e,i);return t&&r}function S0e(e){var t=Tc(e),r=!1;return t&&(r=e.filter(function(n){return!Zd(n)&&oJ(e)}).length===0),t&&r}function j0e(e){var t=tm(e)&&!oD(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<n.length;a+=1)i=n[a],r=r||Vr(e,i);return t&&r}function C0e(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function _0e(e,t){arguments.length===1&&(arguments[0]?w0e(arguments[0])?(e=arguments[0],t=void 0):j0e(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Rn(),n=CD(r,this).startOf("day"),a=gt.calendarFormat(this,n)||"sameElse",i=t&&(zu(t[a])?t[a].call(this,r):t[a]);return this.format(i||this.localeData().calendar(a,this,Rn(r)))}function E0e(){return new Zy(this)}function P0e(e,t){var r=Oc(e)?e:Rn(e);return this.isValid()&&r.isValid()?(t=Zl(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function k0e(e,t){var r=Oc(e)?e:Rn(e);return this.isValid()&&r.isValid()?(t=Zl(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function A0e(e,t,r,n){var a=Oc(e)?e:Rn(e),i=Oc(t)?t:Rn(t);return this.isValid()&&a.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(i,r):!this.isAfter(i,r))):!1}function D0e(e,t){var r=Oc(e)?e:Rn(e),n;return this.isValid()&&r.isValid()?(t=Zl(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function T0e(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function O0e(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function I0e(e,t,r){var n,a,i;if(!this.isValid())return NaN;if(n=CD(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=Zl(t),t){case"year":i=Rb(this,n)/12;break;case"month":i=Rb(this,n);break;case"quarter":i=Rb(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-a)/864e5;break;case"week":i=(this-n-a)/6048e5;break;default:i=this-n}return r?i:Bl(i)}function Rb(e,t){if(e.date()<t.date())return-Rb(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,i;return t-n<0?(a=e.clone().add(r-1,"months"),i=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),i=(t-n)/(a-n)),-(r+i)||0}gt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";gt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function M0e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function R0e(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Ib(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zu(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Ib(r,"Z")):Ib(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function L0e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(r+n+a+i)}function F0e(e){e||(e=this.isUtc()?gt.defaultFormatUtc:gt.defaultFormat);var t=Ib(this,e);return this.localeData().postformat(t)}function B0e(e,t){return this.isValid()&&(Oc(e)&&e.isValid()||Rn(e).isValid())?Rc({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function z0e(e){return this.from(Rn(),e)}function W0e(e,t){return this.isValid()&&(Oc(e)&&e.isValid()||Rn(e).isValid())?Rc({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function U0e(e){return this.to(Rn(),e)}function lJ(e){var t;return e===void 0?this._locale._abbr:(t=lf(e),t!=null&&(this._locale=t),this)}var cJ=Jl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function uJ(){return this._locale}var ww=1e3,t0=60*ww,Nw=60*t0,dJ=(365*400+97)*24*Nw;function r0(e,t){return(e%t+t)%t}function fJ(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-dJ:new Date(e,t,r).valueOf()}function hJ(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-dJ:Date.UTC(e,t,r)}function $0e(e){var t,r;if(e=Zl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?hJ:fJ,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=r0(t+(this._isUTC?0:this.utcOffset()*t0),Nw);break;case"minute":t=this._d.valueOf(),t-=r0(t,t0);break;case"second":t=this._d.valueOf(),t-=r0(t,ww);break}return this._d.setTime(t),gt.updateOffset(this,!0),this}function q0e(e){var t,r;if(e=Zl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?hJ:fJ,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Nw-r0(t+(this._isUTC?0:this.utcOffset()*t0),Nw)-1;break;case"minute":t=this._d.valueOf(),t+=t0-r0(t,t0)-1;break;case"second":t=this._d.valueOf(),t+=ww-r0(t,ww)-1;break}return this._d.setTime(t),gt.updateOffset(this,!0),this}function V0e(){return this._d.valueOf()-(this._offset||0)*6e4}function H0e(){return Math.floor(this.valueOf()/1e3)}function G0e(){return new Date(this.valueOf())}function Y0e(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function K0e(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function X0e(){return this.isValid()?this.toISOString():null}function J0e(){return lD(this)}function Z0e(){return hh({},br(this))}function Q0e(){return br(this).overflow}function eve(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Xt("N",0,0,"eraAbbr");Xt("NN",0,0,"eraAbbr");Xt("NNN",0,0,"eraAbbr");Xt("NNNN",0,0,"eraName");Xt("NNNNN",0,0,"eraNarrow");Xt("y",["y",1],"yo","eraYear");Xt("y",["yy",2],0,"eraYear");Xt("y",["yyy",3],0,"eraYear");Xt("y",["yyyy",4],0,"eraYear");kt("N",_D);kt("NN",_D);kt("NNN",_D);kt("NNNN",dve);kt("NNNNN",fve);pn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?br(r).era=a:br(r).invalidEra=e});kt("y",K0);kt("yy",K0);kt("yyy",K0);kt("yyyy",K0);kt("yo",hve);pn(["y","yy","yyy","yyyy"],Ns);pn(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ns]=r._locale.eraYearOrdinalParse(e,a):t[Ns]=parseInt(e,10)});function tve(e,t){var r,n,a,i=this._eras||lf("en")._eras;for(r=0,n=i.length;r<n;++r){switch(typeof i[r].since){case"string":a=gt(i[r].since).startOf("day"),i[r].since=a.valueOf();break}switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":a=gt(i[r].until).startOf("day").valueOf(),i[r].until=a.valueOf();break}}return i}function rve(e,t,r){var n,a,i=this.eras(),s,o,l;for(e=e.toUpperCase(),n=0,a=i.length;n<a;++n)if(s=i[n].name.toUpperCase(),o=i[n].abbr.toUpperCase(),l=i[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(o===e)return i[n];break;case"NNNN":if(s===e)return i[n];break;case"NNNNN":if(l===e)return i[n];break}else if([s,o,l].indexOf(e)>=0)return i[n]}function nve(e,t){var r=e.since<=e.until?1:-1;return t===void 0?gt(e.since).year():gt(e.since).year()+(t-e.offset)*r}function ave(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function ive(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function sve(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function ove(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-gt(a[e].since).year())*r+a[e].offset;return this.year()}function lve(e){return Vr(this,"_erasNameRegex")||ED.call(this),e?this._erasNameRegex:this._erasRegex}function cve(e){return Vr(this,"_erasAbbrRegex")||ED.call(this),e?this._erasAbbrRegex:this._erasRegex}function uve(e){return Vr(this,"_erasNarrowRegex")||ED.call(this),e?this._erasNarrowRegex:this._erasRegex}function _D(e,t){return t.erasAbbrRegex(e)}function dve(e,t){return t.erasNameRegex(e)}function fve(e,t){return t.erasNarrowRegex(e)}function hve(e,t){return t._eraYearOrdinalRegex||K0}function ED(){var e=[],t=[],r=[],n=[],a,i,s,o,l,u=this.eras();for(a=0,i=u.length;a<i;++a)s=Gd(u[a].name),o=Gd(u[a].abbr),l=Gd(u[a].narrow),t.push(s),e.push(o),r.push(l),n.push(s),n.push(o),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Xt(0,["gg",2],0,function(){return this.weekYear()%100});Xt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function c4(e,t){Xt(0,[e,e.length],0,t)}c4("gggg","weekYear");c4("ggggg","weekYear");c4("GGGG","isoWeekYear");c4("GGGGG","isoWeekYear");kt("G",a4);kt("g",a4);kt("GG",Fn,dl);kt("gg",Fn,dl);kt("GGGG",pD,hD);kt("gggg",pD,hD);kt("GGGGG",n4,t4);kt("ggggg",n4,t4);e1(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Dr(e)});e1(["gg","GG"],function(e,t,r,n){t[n]=gt.parseTwoDigitYear(e)});function pve(e){return pJ.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function mve(e){return pJ.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function gve(){return Yd(this.year(),1,4)}function vve(){return Yd(this.isoWeekYear(),1,4)}function xve(){var e=this.localeData()._week;return Yd(this.year(),e.dow,e.doy)}function yve(){var e=this.localeData()._week;return Yd(this.weekYear(),e.dow,e.doy)}function pJ(e,t,r,n,a){var i;return e==null?sy(this,n,a).year:(i=Yd(e,n,a),t>i&&(t=i),bve.call(this,e,t,r,n,a))}function bve(e,t,r,n,a){var i=GX(e,t,r,n,a),s=iy(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}Xt("Q",0,"Qo","quarter");kt("Q",RX);pn("Q",function(e,t){t[zd]=(Dr(e)-1)*3});function wve(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}Xt("D",["DD",2],"Do","date");kt("D",Fn,X0);kt("DD",Fn,dl);kt("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});pn(["D","DD"],hu);pn("Do",function(e,t){t[hu]=Dr(e.match(Fn)[0])});var mJ=J0("Date",!0);Xt("DDD",["DDDD",3],"DDDo","dayOfYear");kt("DDD",r4);kt("DDDD",LX);pn(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Dr(e)});function Nve(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}Xt("m",["mm",2],0,"minute");kt("m",Fn,mD);kt("mm",Fn,dl);pn(["m","mm"],Pc);var Sve=J0("Minutes",!1);Xt("s",["ss",2],0,"second");kt("s",Fn,mD);kt("ss",Fn,dl);pn(["s","ss"],Wd);var jve=J0("Seconds",!1);Xt("S",0,0,function(){return~~(this.millisecond()/100)});Xt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Xt(0,["SSS",3],0,"millisecond");Xt(0,["SSSS",4],0,function(){return this.millisecond()*10});Xt(0,["SSSSS",5],0,function(){return this.millisecond()*100});Xt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Xt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Xt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Xt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});kt("S",r4,RX);kt("SS",r4,dl);kt("SSS",r4,LX);var ph,gJ;for(ph="SSSS";ph.length<=9;ph+="S")kt(ph,K0);function Cve(e,t){t[Hp]=Dr(("0."+e)*1e3)}for(ph="S";ph.length<=9;ph+="S")pn(ph,Cve);gJ=J0("Milliseconds",!1);Xt("z",0,0,"zoneAbbr");Xt("zz",0,0,"zoneName");function _ve(){return this._isUTC?"UTC":""}function Eve(){return this._isUTC?"Coordinated Universal Time":""}var vt=Zy.prototype;vt.add=y0e;vt.calendar=_0e;vt.clone=E0e;vt.diff=I0e;vt.endOf=q0e;vt.format=F0e;vt.from=B0e;vt.fromNow=z0e;vt.to=W0e;vt.toNow=U0e;vt.get=Lme;vt.invalidAt=Q0e;vt.isAfter=P0e;vt.isBefore=k0e;vt.isBetween=A0e;vt.isSame=D0e;vt.isSameOrAfter=T0e;vt.isSameOrBefore=O0e;vt.isValid=J0e;vt.lang=cJ;vt.locale=lJ;vt.localeData=uJ;vt.max=Jge;vt.min=Xge;vt.parsingFlags=Z0e;vt.set=Fme;vt.startOf=$0e;vt.subtract=b0e;vt.toArray=Y0e;vt.toObject=K0e;vt.toDate=G0e;vt.toISOString=R0e;vt.inspect=L0e;typeof Symbol<"u"&&Symbol.for!=null&&(vt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});vt.toJSON=X0e;vt.toString=M0e;vt.unix=H0e;vt.valueOf=V0e;vt.creationData=eve;vt.eraName=ave;vt.eraNarrow=ive;vt.eraAbbr=sve;vt.eraYear=ove;vt.year=zX;vt.isLeapYear=Rme;vt.weekYear=pve;vt.isoWeekYear=mve;vt.quarter=vt.quarters=wve;vt.month=VX;vt.daysInMonth=Gme;vt.week=vt.weeks=tge;vt.isoWeek=vt.isoWeeks=rge;vt.weeksInYear=xve;vt.weeksInWeekYear=yve;vt.isoWeeksInYear=gve;vt.isoWeeksInISOWeekYear=vve;vt.date=mJ;vt.day=vt.days=mge;vt.weekday=gge;vt.isoWeekday=vge;vt.dayOfYear=Nve;vt.hour=vt.hours=jge;vt.minute=vt.minutes=Sve;vt.second=vt.seconds=jve;vt.millisecond=vt.milliseconds=gJ;vt.utcOffset=s0e;vt.utc=l0e;vt.local=c0e;vt.parseZone=u0e;vt.hasAlignedHourOffset=d0e;vt.isDST=f0e;vt.isLocal=p0e;vt.isUtcOffset=m0e;vt.isUtc=aJ;vt.isUTC=aJ;vt.zoneAbbr=_ve;vt.zoneName=Eve;vt.dates=Jl("dates accessor is deprecated. Use date instead.",mJ);vt.months=Jl("months accessor is deprecated. Use month instead",VX);vt.years=Jl("years accessor is deprecated. Use year instead",zX);vt.zone=Jl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",o0e);vt.isDSTShifted=Jl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",h0e);function Pve(e){return Rn(e*1e3)}function kve(){return Rn.apply(null,arguments).parseZone()}function vJ(e){return e}var Yr=uD.prototype;Yr.calendar=pme;Yr.longDateFormat=xme;Yr.invalidDate=bme;Yr.ordinal=Sme;Yr.preparse=vJ;Yr.postformat=vJ;Yr.relativeTime=Cme;Yr.pastFuture=_me;Yr.set=fme;Yr.eras=tve;Yr.erasParse=rve;Yr.erasConvertYear=nve;Yr.erasAbbrRegex=cve;Yr.erasNameRegex=lve;Yr.erasNarrowRegex=uve;Yr.months=$me;Yr.monthsShort=qme;Yr.monthsParse=Hme;Yr.monthsRegex=Kme;Yr.monthsShortRegex=Yme;Yr.week=Jme;Yr.firstDayOfYear=ege;Yr.firstDayOfWeek=Qme;Yr.weekdays=uge;Yr.weekdaysMin=fge;Yr.weekdaysShort=dge;Yr.weekdaysParse=pge;Yr.weekdaysRegex=xge;Yr.weekdaysShortRegex=yge;Yr.weekdaysMinRegex=bge;Yr.isPM=Nge;Yr.meridiem=Cge;function Sw(e,t,r,n){var a=lf(),i=Bu().set(n,t);return a[r](i,e)}function xJ(e,t,r){if(Zd(e)&&(t=e,e=void 0),e=e||"",t!=null)return Sw(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=Sw(e,n,r,"month");return a}function PD(e,t,r,n){typeof e=="boolean"?(Zd(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Zd(t)&&(r=t,t=void 0),t=t||"");var a=lf(),i=e?a._week.dow:0,s,o=[];if(r!=null)return Sw(t,(r+i)%7,n,"day");for(s=0;s<7;s++)o[s]=Sw(t,(s+i)%7,n,"day");return o}function Ave(e,t){return xJ(e,t,"months")}function Dve(e,t){return xJ(e,t,"monthsShort")}function Tve(e,t,r){return PD(e,t,r,"weekdays")}function Ove(e,t,r){return PD(e,t,r,"weekdaysShort")}function Ive(e,t,r){return PD(e,t,r,"weekdaysMin")}wh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Dr(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});gt.lang=Jl("moment.lang is deprecated. Use moment.locale instead.",wh);gt.langData=Jl("moment.langData is deprecated. Use moment.localeData instead.",lf);var Pd=Math.abs;function Mve(){var e=this._data;return this._milliseconds=Pd(this._milliseconds),this._days=Pd(this._days),this._months=Pd(this._months),e.milliseconds=Pd(e.milliseconds),e.seconds=Pd(e.seconds),e.minutes=Pd(e.minutes),e.hours=Pd(e.hours),e.months=Pd(e.months),e.years=Pd(e.years),this}function yJ(e,t,r,n){var a=Rc(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function Rve(e,t){return yJ(this,e,t,1)}function Lve(e,t){return yJ(this,e,t,-1)}function DL(e){return e<0?Math.floor(e):Math.ceil(e)}function Fve(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,i,s,o,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=DL(xk(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=Bl(e/1e3),n.seconds=a%60,i=Bl(a/60),n.minutes=i%60,s=Bl(i/60),n.hours=s%24,t+=Bl(s/24),l=Bl(bJ(t)),r+=l,t-=DL(xk(l)),o=Bl(r/12),r%=12,n.days=t,n.months=r,n.years=o,this}function bJ(e){return e*4800/146097}function xk(e){return e*146097/4800}function Bve(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=Zl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+bJ(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(xk(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function cf(e){return function(){return this.as(e)}}var wJ=cf("ms"),zve=cf("s"),Wve=cf("m"),Uve=cf("h"),$ve=cf("d"),qve=cf("w"),Vve=cf("M"),Hve=cf("Q"),Gve=cf("y"),Yve=wJ;function Kve(){return Rc(this)}function Xve(e){return e=Zl(e),this.isValid()?this[e+"s"]():NaN}function Tm(e){return function(){return this.isValid()?this._data[e]:NaN}}var Jve=Tm("milliseconds"),Zve=Tm("seconds"),Qve=Tm("minutes"),exe=Tm("hours"),txe=Tm("days"),rxe=Tm("months"),nxe=Tm("years");function axe(){return Bl(this.days()/7)}var Id=Math.round,Yg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ixe(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function sxe(e,t,r,n){var a=Rc(e).abs(),i=Id(a.as("s")),s=Id(a.as("m")),o=Id(a.as("h")),l=Id(a.as("d")),u=Id(a.as("M")),d=Id(a.as("w")),f=Id(a.as("y")),p=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||s<=1&&["m"]||s<r.m&&["mm",s]||o<=1&&["h"]||o<r.h&&["hh",o]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(p=p||d<=1&&["w"]||d<r.w&&["ww",d]),p=p||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=n,ixe.apply(null,p)}function oxe(e){return e===void 0?Id:typeof e=="function"?(Id=e,!0):!1}function lxe(e,t){return Yg[e]===void 0?!1:t===void 0?Yg[e]:(Yg[e]=t,e==="s"&&(Yg.ss=t-1),!0)}function cxe(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Yg,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Yg,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),i=sxe(this,!r,n,a),r&&(i=a.pastFuture(+this,i)),a.postformat(i)}var r6=Math.abs;function Cg(e){return(e>0)-(e<0)||+e}function u4(){if(!this.isValid())return this.localeData().invalidDate();var e=r6(this._milliseconds)/1e3,t=r6(this._days),r=r6(this._months),n,a,i,s,o=this.asSeconds(),l,u,d,f;return o?(n=Bl(e/60),a=Bl(n/60),e%=60,n%=60,i=Bl(r/12),r%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=o<0?"-":"",u=Cg(this._months)!==Cg(o)?"-":"",d=Cg(this._days)!==Cg(o)?"-":"",f=Cg(this._milliseconds)!==Cg(o)?"-":"",l+"P"+(i?u+i+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(a||n||e?"T":"")+(a?f+a+"H":"")+(n?f+n+"M":"")+(e?f+s+"S":"")):"P0D"}var Rr=l4.prototype;Rr.isValid=r0e;Rr.abs=Mve;Rr.add=Rve;Rr.subtract=Lve;Rr.as=Bve;Rr.asMilliseconds=wJ;Rr.asSeconds=zve;Rr.asMinutes=Wve;Rr.asHours=Uve;Rr.asDays=$ve;Rr.asWeeks=qve;Rr.asMonths=Vve;Rr.asQuarters=Hve;Rr.asYears=Gve;Rr.valueOf=Yve;Rr._bubble=Fve;Rr.clone=Kve;Rr.get=Xve;Rr.milliseconds=Jve;Rr.seconds=Zve;Rr.minutes=Qve;Rr.hours=exe;Rr.days=txe;Rr.weeks=axe;Rr.months=rxe;Rr.years=nxe;Rr.humanize=cxe;Rr.toISOString=u4;Rr.toString=u4;Rr.toJSON=u4;Rr.locale=lJ;Rr.localeData=uJ;Rr.toIsoString=Jl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",u4);Rr.lang=cJ;Xt("X",0,0,"unix");Xt("x",0,0,"valueOf");kt("x",a4);kt("X",Ame);pn("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});pn("x",function(e,t,r){r._d=new Date(Dr(e))});//! moment.js
gt.version="2.30.1";ume(Rn);gt.fn=vt;gt.min=Zge;gt.max=Qge;gt.now=e0e;gt.utc=Bu;gt.unix=Pve;gt.months=Ave;gt.isDate=Jy;gt.locale=wh;gt.invalid=e4;gt.duration=Rc;gt.isMoment=Oc;gt.weekdays=Tve;gt.parseZone=kve;gt.localeData=lf;gt.isDuration=Mb;gt.monthsShort=Dve;gt.weekdaysMin=Ive;gt.defineLocale=bD;gt.updateLocale=kge;gt.locales=Age;gt.weekdaysShort=Ove;gt.normalizeUnits=Zl;gt.relativeTimeRounding=oxe;gt.relativeTimeThreshold=lxe;gt.calendarFormat=C0e;gt.prototype=vt;gt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const uxe=()=>{const e=No(),[t,r]=A.useState(null),[n,a]=A.useState(null),[i,s]=A.useState([]),[o,l]=A.useState([]),[u,d]=A.useState(!0),[f,p]=A.useState(!1),[h,g]=A.useState(0),[y,x]=A.useState(""),b="https://script.google.com/macros/s/AKfycby6Ph2hqgkYfoeMu_rIrvPvf0dU-NoG8N8vXACD8O9pWqGvdxFbXZ176XZRhukvaBDUFg/exec";A.useEffect(()=>{N()},[]);const N=()=>{const E=localStorage.getItem("clientToken"),I=localStorage.getItem("clientData");if(!E||!I){e("/client/login");return}try{const D=JSON.parse(I);console.log(" Client data parsed:",D),r(D),d(!1),D.id?j(D.id,E):console.warn(" No client ID found, skipping data fetch")}catch(D){console.error(" Parse error:",D),e("/client/login")}},j=async(E,I)=>{console.log(" Fetching client data for ID:",E);try{const O=await(await fetch(b,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getClientData",clientId:E,token:I})})).text(),L=JSON.parse(O);console.log(" Client data fetched:",L),L.success?(s(L.events||[]),l(L.payments||[]),a(L.stats||{})):console.error(" Failed to fetch client data:",L.message)}catch(D){console.error(" Error fetching client data:",D)}},w=()=>{localStorage.removeItem("clientToken"),localStorage.removeItem("clientData"),e("/client/login")},C=async()=>{if(!h||!y.trim()){alert("Please provide rating and feedback");return}try{const I=await(await fetch(b,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"submitClientFeedback",clientId:t.id,clientName:t.name,rating:h,feedback:y})})).text();JSON.parse(I).success&&(alert("Thank you for your feedback! "),p(!1),g(0),x(""))}catch(E){console.error("Error submitting feedback:",E),alert("Failed to submit feedback")}};return u?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Bd,{className:"text-6xl text-blue-600 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your dashboard..."})]})}):t?c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 via-white to-purple-50 overflow-auto",children:[c.jsx(le.header,{initial:{y:-100},animate:{y:0},className:"bg-white shadow-md sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center",onClick:()=>e("/client/profile"),children:c.jsx(hn,{className:"text-white text-xl"})}),c.jsxs("div",{children:[c.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:["Welcome, ",t.name,"!"]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Client Portal"})]})]}),c.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:[c.jsx(Rpe,{}),c.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},whileHover:{scale:1.05},onClick:()=>e("/client/events"),className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Pi,{className:"text-3xl opacity-80"}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-4xl font-bold",children:n?.totalEvents||0}),c.jsx("p",{className:"text-sm opacity-80",children:"Total Events"})]})]})}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},whileHover:{scale:1.05},onClick:()=>e("/client/payments"),className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Cn,{className:"text-3xl opacity-80"}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-4xl font-bold",children:["",n?.totalPaid?.toLocaleString("en-IN")||0]}),c.jsx("p",{className:"text-sm opacity-80",children:"Total Paid"})]})]})}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.05},onClick:()=>e("/client/payments"),className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(w0,{className:"text-3xl opacity-80"}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-4xl font-bold",children:["",n?.pendingAmount?.toLocaleString("en-IN")||0]}),c.jsx("p",{className:"text-sm opacity-80",children:"Pending"})]})]})})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Your Event Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Pi,{className:"text-blue-600 text-xl mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Event Type"}),c.jsx("p",{className:"font-semibold text-gray-900",children:t.eventType})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ri,{className:"text-purple-600 text-xl mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Event Date"}),c.jsx("p",{className:"font-semibold text-gray-900",children:t.eventDate?gt(t.eventDate).format("MMMM DD, YYYY"):"TBD"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ou,{className:"text-red-600 text-xl mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Venue"}),c.jsx("p",{className:"font-semibold text-gray-900",children:t.venue||"TBD"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(qi,{className:"text-orange-600 text-xl mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Contact"}),c.jsx("p",{className:"font-semibold text-gray-900",children:t.phone})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ga,{className:"text-pink-600 text-xl mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),c.jsx("p",{className:"font-semibold text-gray-900",children:t.email})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Pr,{className:"text-green-600 text-xl mt-1"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),c.jsx("p",{className:"font-semibold text-gray-900",children:t.status})]})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(le.button,{whileHover:{scale:1.05},onClick:()=>p(!0),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[c.jsx(N0,{className:"text-4xl text-yellow-500 mb-3 mx-auto"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Give Feedback"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Share your experience"})]}),c.jsxs(le.button,{whileHover:{scale:1.05},className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[c.jsx(Npe,{className:"text-4xl text-red-500 mb-3 mx-auto"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Download Contract"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get your event contract"})]}),c.jsxs(le.button,{whileHover:{scale:1.05},onClick:()=>e("/client/gallery"),className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all",children:[c.jsx(fm,{className:"text-4xl text-blue-500 mb-3 mx-auto"}),c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"View Gallery"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Access your photos"})]})]})]}),c.jsx(Kt,{children:f&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>p(!1),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:E=>E.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Share Your Feedback"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Rate your experience"}),c.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(E=>c.jsx("button",{onClick:()=>g(E),children:c.jsx(N0,{className:`text-3xl ${E<=h?"text-yellow-500":"text-gray-300"}`})},E))})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Feedback"}),c.jsx("textarea",{value:y,onChange:E=>x(E.target.value),rows:"4",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about your experience..."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancel"}),c.jsx("button",{onClick:C,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Submit"})]})]})})})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-600 text-lg",children:"No client data found"}),c.jsx("button",{onClick:()=>e("/client/login"),className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg",children:"Back to Login"})]})})},dxe=()=>{const e=No(),[t,r]=A.useState(null),[n,a]=A.useState([]),[i,s]=A.useState(!0),[o,l]=A.useState("all"),u="https://script.google.com/macros/s/AKfycby6Ph2hqgkYfoeMu_rIrvPvf0dU-NoG8N8vXACD8O9pWqGvdxFbXZ176XZRhukvaBDUFg/exec";A.useEffect(()=>{d()},[]);const d=()=>{const y=localStorage.getItem("clientToken"),x=localStorage.getItem("clientData");if(!y||!x){e("/client/login");return}try{const b=JSON.parse(x);r(b),f(b.id,y)}catch(b){console.error("Auth error:",b),e("/client/login")}},f=async(y,x)=>{try{const N=await(await fetch(u,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getClientData",clientId:y,token:x})})).text(),j=JSON.parse(N);j.success&&a(j.events||[])}catch(b){console.error("Error fetching events:",b)}finally{s(!1)}},p=y=>{switch(y?.toLowerCase()){case"event completed":case"completed":return"bg-green-100 text-green-700";case"upcoming":case"confirmed":return"bg-blue-100 text-blue-700";case"in progress":return"bg-yellow-100 text-yellow-700";default:return"bg-gray-100 text-gray-700"}},h=y=>{switch(y?.toLowerCase()){case"event completed":case"completed":return c.jsx(Pr,{className:"text-green-600"});case"upcoming":case"confirmed":return c.jsx(_pe,{className:"text-blue-600"});default:return c.jsx(ri,{className:"text-gray-600"})}},g=n.filter(y=>o==="all"?!0:o==="upcoming"?y.status?.toLowerCase()==="upcoming"||y.status?.toLowerCase()==="confirmed":o==="completed"?y.status?.toLowerCase()==="completed"||y.status?.toLowerCase()==="event completed":!0);return i?c.jsx("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})}):c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 via-white to-purple-50 overflow-auto",children:[c.jsx("div",{className:"bg-white shadow-md sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>e("/client/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(G0,{className:"text-xl text-gray-700"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Events"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[t?.name,"'s event history"]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("span",{className:"text-sm text-gray-600",children:[g.length," Event",g.length!==1?"s":""]})})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"flex gap-4 mb-8 overflow-x-auto",children:[c.jsxs("button",{onClick:()=>l("all"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ${o==="all"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["All Events (",n.length,")"]}),c.jsxs("button",{onClick:()=>l("upcoming"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ${o==="upcoming"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["Upcoming (",n.filter(y=>y.status?.toLowerCase()==="upcoming"||y.status?.toLowerCase()==="confirmed").length,")"]}),c.jsxs("button",{onClick:()=>l("completed"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ${o==="completed"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["Completed (",n.filter(y=>y.status?.toLowerCase()==="completed"||y.status?.toLowerCase()==="event completed").length,")"]})]}),g.length===0?c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[c.jsx(Pi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Events Found"}),c.jsx("p",{className:"text-gray-600",children:o==="all"?"You don't have any events yet.":`No ${o} events found.`})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((y,x)=>c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all overflow-hidden group",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[h(y.status),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${p(y.status)}`,children:y.status||"Pending"})]})}),c.jsx("h3",{className:"text-xl font-bold mb-2",children:y.eventType||"Event"}),c.jsxs("p",{className:"text-sm opacity-90",children:["ID: ",y.id]})]}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Pi,{className:"text-blue-600 text-lg mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Event Date"}),c.jsx("p",{className:"font-semibold text-gray-900",children:y.eventDate?gt(y.eventDate).format("MMMM DD, YYYY"):"To be decided"})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Ou,{className:"text-red-600 text-lg mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Venue"}),c.jsx("p",{className:"font-semibold text-gray-900",children:y.venue||"To be decided"})]})]}),y.photographer&&c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(qa,{className:"text-purple-600 text-lg mt-1 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Photographer"}),c.jsx("p",{className:"font-semibold text-gray-900",children:y.photographer})]})]})]}),c.jsxs("div",{className:"px-6 pb-6 flex gap-3",children:[c.jsxs("button",{className:"flex-1 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center justify-center gap-2 font-semibold",children:[c.jsx(Epe,{}),"Gallery"]}),c.jsxs("button",{className:"flex-1 px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center justify-center gap-2 font-semibold",children:[c.jsx(EX,{}),"Videos"]})]})]},y.id||x))})]})]})},fxe=()=>{const e=No(),[t,r]=A.useState(null),[n,a]=A.useState([]),[i,s]=A.useState(null),[o,l]=A.useState(!0),[u,d]=A.useState("all"),[f,p]=A.useState(null),h="https://script.google.com/macros/s/AKfycby6Ph2hqgkYfoeMu_rIrvPvf0dU-NoG8N8vXACD8O9pWqGvdxFbXZ176XZRhukvaBDUFg/exec";A.useEffect(()=>{g()},[]);const g=()=>{const C=localStorage.getItem("clientToken"),E=localStorage.getItem("clientData");if(!C||!E){e("/client/login");return}try{const I=JSON.parse(E);r(I),y(I.id,C)}catch(I){console.error("Auth error:",I),e("/client/login")}},y=async(C,E)=>{try{const D=await(await fetch(h,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getClientData",clientId:C,token:E})})).text(),O=JSON.parse(D);O.success&&(a(O.payments||[]),s(O.stats||{}))}catch(I){console.error("Error fetching payments:",I)}finally{l(!1)}},x=C=>{switch(C?.toLowerCase()){case"received":case"paid":return"bg-green-100 text-green-700";case"pending":return"bg-yellow-100 text-yellow-700";case"overdue":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},b=C=>{switch(C?.toLowerCase()){case"received":case"paid":return c.jsx(Pr,{className:"text-green-600"});case"pending":return c.jsx(ri,{className:"text-yellow-600"});case"overdue":return c.jsx(w0,{className:"text-red-600"});default:return c.jsx(ri,{className:"text-gray-600"})}},N=C=>{switch(C?.toLowerCase()){case"cash":return c.jsx(Cn,{className:"text-green-600"});case"card":case"credit card":case"debit card":return c.jsx(rD,{className:"text-blue-600"});case"upi":case"online":return c.jsx(nD,{className:"text-purple-600"});case"bank transfer":case"neft":case"rtgs":return c.jsx(iD,{className:"text-indigo-600"});default:return c.jsx(em,{className:"text-gray-600"})}},j=n.filter(C=>u==="all"?!0:u==="received"?C.status?.toLowerCase()==="received":u==="pending"?C.status?.toLowerCase()==="pending":!0),w=C=>{alert(`Invoice ${C.invoiceNumber} download will be implemented with backend integration`)};return o?c.jsx("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading payment details..."})]})}):c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 via-white to-purple-50 overflow-auto",children:[c.jsx("div",{className:"bg-white shadow-md sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>e("/client/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(G0,{className:"text-xl text-gray-700"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Payment History"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Track all your payments & invoices"})]})]})})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl shadow-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-80 mb-1",children:"Total Amount"}),c.jsxs("p",{className:"text-3xl font-bold",children:["",((i?.totalPaid||0)+(i?.pendingAmount||0)).toLocaleString("en-IN")]})]}),c.jsx(dm,{className:"text-4xl opacity-50"})]})}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl shadow-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-80 mb-1",children:"Amount Paid"}),c.jsxs("p",{className:"text-3xl font-bold",children:["",(i?.totalPaid||0).toLocaleString("en-IN")]})]}),c.jsx(Pr,{className:"text-4xl opacity-50"})]})}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl shadow-lg p-6 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm opacity-80 mb-1",children:"Pending Amount"}),c.jsxs("p",{className:"text-3xl font-bold",children:["",(i?.pendingAmount||0).toLocaleString("en-IN")]})]}),c.jsx(w0,{className:"text-4xl opacity-50"})]})})]}),c.jsxs("div",{className:"flex gap-4 mb-8 overflow-x-auto",children:[c.jsxs("button",{onClick:()=>d("all"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ${u==="all"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["All Payments (",n.length,")"]}),c.jsxs("button",{onClick:()=>d("received"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ${u==="received"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["Received (",n.filter(C=>C.status?.toLowerCase()==="received").length,")"]}),c.jsxs("button",{onClick:()=>d("pending"),className:`px-6 py-3 rounded-lg font-semibold transition-all whitespace-nowrap ${u==="pending"?"bg-blue-600 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50"}`,children:["Pending (",n.filter(C=>C.status?.toLowerCase()==="pending").length,")"]})]}),j.length===0?c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[c.jsx(Cn,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Payments Found"}),c.jsx("p",{className:"text-gray-600",children:u==="all"?"No payment records available.":`No ${u} payments found.`})]}):c.jsx("div",{className:"space-y-4",children:j.map((C,E)=>c.jsxs(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all overflow-hidden",children:[c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white text-xl flex-shrink-0",children:N(C.paymentMode)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["",parseFloat(C.amount||0).toLocaleString("en-IN")]}),c.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${x(C.status)}`,children:[b(C.status),C.status||"Pending"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(Pi,{className:"text-blue-600"}),c.jsx("span",{children:C.date?gt(C.date).format("MMM DD, YYYY"):"Date not set"})]}),C.paymentMode&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[N(C.paymentMode),c.jsx("span",{className:"capitalize",children:C.paymentMode})]}),C.invoiceNumber&&c.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[c.jsx(Zg,{className:"text-purple-600"}),c.jsxs("span",{children:["Invoice: ",C.invoiceNumber]})]})]}),C.clientName&&c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Client: ",C.clientName]})]})]}),c.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[C.invoiceNumber&&c.jsxs("button",{onClick:()=>w(C),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center gap-2 font-semibold",children:[c.jsx(qs,{}),c.jsx("span",{className:"hidden sm:inline",children:"Invoice"})]}),c.jsxs("button",{onClick:()=>p(C),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors flex items-center gap-2 font-semibold",children:[c.jsx(em,{}),c.jsx("span",{className:"hidden sm:inline",children:"Details"})]})]})]})}),C.status?.toLowerCase()==="pending"&&c.jsxs("div",{className:"px-6 pb-4",children:[c.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-red-500 w-0 animate-pulse"})}),c.jsx("p",{className:"text-xs text-orange-600 mt-2 font-semibold",children:"Payment Pending - Please complete soon"})]})]},C.id||E))})]}),c.jsx(Kt,{children:f&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[10000] p-4",onClick:()=>p(null),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:C=>C.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Payment Details"}),c.jsx("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-600",children:"Amount"}),c.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:["",parseFloat(f.amount||0).toLocaleString("en-IN")]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-600",children:"Status"}),c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${x(f.status)}`,children:f.status})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-600",children:"Date"}),c.jsx("span",{className:"font-semibold",children:gt(f.date).format("MMMM DD, YYYY")})]}),f.paymentMode&&c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-600",children:"Payment Method"}),c.jsx("span",{className:"font-semibold capitalize",children:f.paymentMode})]}),f.invoiceNumber&&c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"text-gray-600",children:"Invoice Number"}),c.jsx("span",{className:"font-semibold",children:f.invoiceNumber})]})]}),c.jsx("div",{className:"mt-6 flex gap-3",children:c.jsxs("button",{onClick:()=>w(f),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-semibold",children:[c.jsx(qs,{}),"Download Invoice"]})})]})})})]})},hxe=()=>{const e=No(),[t,r]=A.useState(null),[n,a]=A.useState(!1),[i,s]=A.useState({}),[o,l]=A.useState(!0),[u,d]=A.useState(!1),[f,p]=A.useState(!1);A.useEffect(()=>{h()},[]);const h=()=>{const N=localStorage.getItem("clientToken"),j=localStorage.getItem("clientData");if(!N||!j){e("/client/login");return}try{const w=JSON.parse(j);r(w),s(w),l(!1)}catch(w){console.error("Auth error:",w),e("/client/login")}},g=()=>{a(!0),s(t)},y=()=>{a(!1),s(t)},x=async()=>{d(!0);try{localStorage.setItem("clientData",JSON.stringify(i)),r(i),setTimeout(()=>{d(!1),a(!1),alert("Profile updated successfully! ")},1e3)}catch(N){console.error("Error saving profile:",N),d(!1),alert("Failed to update profile")}},b=(N,j)=>{s(w=>({...w,[N]:j}))};return o?c.jsx("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-blue-50 via-white to-purple-50 overflow-auto",children:[c.jsx("div",{className:"bg-white shadow-md sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>e("/client/dashboard"),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:c.jsx(G0,{className:"text-xl text-gray-700"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Profile"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Manage your account settings"})]})]}),n?c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:[c.jsx(pr,{}),"Cancel"]}),c.jsxs("button",{onClick:x,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-semibold disabled:opacity-50",children:[c.jsx(rl,{}),u?"Saving...":"Save"]})]}):c.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:[c.jsx(tl,{}),"Edit Profile"]})]})})}),c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl shadow-xl p-8 mb-8 text-white",children:c.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-32 h-32 bg-white rounded-full flex items-center justify-center shadow-lg",children:c.jsx(hn,{className:"text-6xl text-blue-600"})}),n&&c.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-colors",children:c.jsx(qa,{className:"text-white"})})]}),c.jsxs("div",{className:"flex-1 text-center md:text-left",children:[c.jsx("h2",{className:"text-3xl font-bold mb-2",children:t.name}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 text-sm opacity-90",children:[c.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[c.jsx(qi,{}),c.jsx("span",{children:t.phone})]}),c.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start",children:[c.jsx(Ga,{}),c.jsx("span",{children:t.email})]})]}),t.createdAt&&c.jsxs("p",{className:"text-sm opacity-75 mt-3",children:["Member since ",gt(t.createdAt).format("MMMM YYYY")]})]}),c.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-6 py-3 rounded-xl",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Pr,{className:"text-3xl mx-auto mb-2"}),c.jsx("p",{className:"text-sm font-semibold",children:"Verified Client"})]})})]})}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[c.jsx(hn,{className:"text-blue-600"}),"Personal Information"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),n?c.jsx("input",{type:"text",value:i.name||"",onChange:N=>b("name",N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),n?c.jsx("input",{type:"tel",value:i.phone||"",onChange:N=>b("phone",N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.phone})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),n?c.jsx("input",{type:"email",value:i.email||"",onChange:N=>b("email",N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.eventType})]})]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[c.jsx(Pi,{className:"text-purple-600"}),"Event Information"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.eventDate?gt(t.eventDate).format("MMMM DD, YYYY"):"Not scheduled yet"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Venue"}),n?c.jsx("input",{type:"text",value:i.venue||"",onChange:N=>b("venue",N.target.value),placeholder:"Enter venue name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.venue||"To be decided"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),c.jsx("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:t.status})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Amount"}),c.jsxs("p",{className:"text-gray-900 font-semibold px-4 py-3 bg-gray-50 rounded-lg",children:["",parseFloat(t.amount||0).toLocaleString("en-IN")]})]})]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[c.jsx(gu,{className:"text-orange-600"}),"Preferences & Settings"]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(gu,{className:"text-blue-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),c.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ty,{className:"text-purple-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900",children:"Security"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Change your password"})]})]}),c.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 transition-colors font-semibold",children:"Change"})]})]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-pink-100 to-purple-100 rounded-2xl shadow-lg p-8 text-center",children:[c.jsx(Ws,{className:"text-5xl text-pink-600 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Thank You for Choosing Us!"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"We're committed to capturing your special moments perfectly."}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Client ID: ",t.id,"  Joined: ",gt(t.createdAt).format("MMM YYYY")]})]})]}),c.jsx(Kt,{children:f&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[10000] p-4",onClick:()=>p(!1),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:N=>N.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),c.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter current password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter new password"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password"})]})]}),c.jsxs("div",{className:"mt-6 flex gap-3",children:[c.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),c.jsx("button",{className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold",children:"Update Password"})]})]})})})]})},pxe=()=>{const e=No(),[t,r]=A.useState(null),[n,a]=A.useState(null),[i,s]=A.useState([]),[o,l]=A.useState(!0),[u,d]=A.useState(null),[f,p]=A.useState([]),[h,g]=A.useState(""),[y,x]=A.useState("masonry"),[b,N]=A.useState([]),[j,w]=A.useState(0),[C,E]=A.useState({}),[I,D]=A.useState(!1),[O,L]=A.useState(3e3),[R,P]=A.useState({}),[F,V]=A.useState(!1),[X,te]=A.useState(!1),[q,U]=A.useState(.5),[Q,se]=A.useState(!1);A.useRef(!1);const K=A.useRef(null),T=A.useRef({}),W=A.useRef(null),J="https://script.google.com/macros/s/AKfycby6Ph2hqgkYfoeMu_rIrvPvf0dU-NoG8N8vXACD8O9pWqGvdxFbXZ176XZRhukvaBDUFg/exec",Y="https://cdn.pixabay.com/audio/2021/11/23/audio_64b2dd1bce.mp3",ee=i.filter(Fe=>Fe.name.toLowerCase().includes(h.toLowerCase())),ae=(Fe,at="hd")=>{const ct={thumb:"w400",preview:"w800",hd:"w1600",full:"w2048"};return`https://drive.google.com/thumbnail?id=${Fe.id}&sz=${ct[at]}`},pe=Fe=>{for(let at=1;at<=3;at++){const ct=(Fe+at)%ee.length,wt=ee[ct];if(wt&&!T.current[wt.id]){const Nt=new Image;Nt.src=ae(wt,"hd"),T.current[wt.id]=Nt}}};A.useEffect(()=>(W.current=new Audio(Y),W.current.loop=!0,W.current.volume=q,()=>{W.current&&(W.current.pause(),W.current=null)}),[]);const de=()=>{W.current&&(X?(W.current.pause(),te(!1)):W.current.play().then(()=>te(!0)).catch(Fe=>console.log("Audio play failed:",Fe)))},we=Fe=>{const at=parseFloat(Fe.target.value);U(at),W.current&&(W.current.volume=at)},Ae=()=>{W.current&&(W.current.muted=!Q,se(!Q))};A.useEffect(()=>{Se();const Fe=document.querySelector("nav");return Fe&&(Fe.style.display="none"),()=>{Fe&&(Fe.style.display="")}},[]),A.useEffect(()=>{const Fe=at=>{u&&(at.key==="ArrowLeft"&&Ve(),at.key==="ArrowRight"&&_e(),at.key==="Escape"&&(d(null),Re()),at.key===" "&&(at.preventDefault(),Xe()),(at.key==="m"||at.key==="M")&&de())};return window.addEventListener("keydown",Fe),()=>window.removeEventListener("keydown",Fe)},[u,j,ee,I,X]),A.useEffect(()=>(I&&u?(pe(j),!X&&W.current&&de(),K.current=setInterval(()=>{_e()},O)):(K.current&&clearInterval(K.current),X&&W.current&&(W.current.pause(),te(!1))),()=>{K.current&&clearInterval(K.current)}),[I,u,O,j]),A.useEffect(()=>{u&&pe(j)},[u,j]),A.useEffect(()=>{if(!u)return;let Fe=0,at=0;const ct=_r=>{Fe=_r.changedTouches[0].screenX},wt=_r=>{at=_r.changedTouches[0].screenX,Nt()},Nt=()=>{at<Fe-50&&_e(),at>Fe+50&&Ve()};return window.addEventListener("touchstart",ct),window.addEventListener("touchend",wt),()=>{window.removeEventListener("touchstart",ct),window.removeEventListener("touchend",wt)}},[u,j]);const Se=()=>{const Fe=localStorage.getItem("clientToken"),at=localStorage.getItem("clientData");if(!Fe||!at){e("/client/login",{replace:!0});return}try{const ct=JSON.parse(at);r(ct),Ge(ct.id,Fe)}catch(ct){console.error("Auth error:",ct),e("/client/login",{replace:!0})}},Ge=async(Fe,at)=>{l(!0);try{const Nt=await(await fetch(J,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getClientGallery",clientId:Fe,token:at})})).json();Nt.success&&(a(Nt.event),s(Nt.photos||[]))}catch(ct){console.error("Fetch error:",ct)}finally{l(!1)}},ke=Fe=>{window.open(Fe.downloadUrl,"_blank")},Z=()=>{if(f.length===0){alert("Please select photos to download");return}f.forEach((Fe,at)=>{const ct=i.find(wt=>wt.id===Fe);ct&&setTimeout(()=>ke(ct),at*500)}),alert(`Downloading ${f.length} photos...`),p([])},Qe=(Fe,at)=>{at&&at.stopPropagation(),p(ct=>ct.includes(Fe)?ct.filter(wt=>wt!==Fe):[...ct,Fe])},Ne=(Fe,at)=>{at&&at.stopPropagation(),N(ct=>ct.includes(Fe)?ct.filter(wt=>wt!==Fe):[...ct,Fe])},ze=()=>{f.length===ee.length?p([]):p(ee.map(Fe=>Fe.id))},De=(Fe,at)=>{at&&at.stopPropagation();const ct=ee.findIndex(wt=>wt.id===Fe.id);w(ct),d(Fe)},me=Fe=>{V(!0),setTimeout(()=>{w(Fe),d(ee[Fe]),V(!1)},150)},_e=()=>{const Fe=(j+1)%ee.length;me(Fe)},Ve=()=>{const Fe=(j-1+ee.length)%ee.length;me(Fe)},Xe=()=>{D(Fe=>!Fe)},Re=()=>{D(!1),K.current&&clearInterval(K.current),W.current&&X&&(W.current.pause(),te(!1))},st=()=>{!u&&ee.length>0&&(w(0),d(ee[0])),D(!0)},pt=Fe=>{const at=["row-span-2","col-span-2","row-span-2 col-span-2","","","row-span-2","","col-span-2"];return at[Fe%at.length]};return o?c.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center",children:c.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[c.jsxs("div",{className:"relative w-24 h-24 mx-auto mb-6",children:[c.jsx(le.div,{animate:{rotate:360},transition:{duration:1.5,repeat:1/0,ease:"linear"},className:"absolute inset-0 rounded-full border-4 border-transparent border-t-yellow-500 border-r-yellow-500"}),c.jsx(le.div,{animate:{rotate:-360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-2 rounded-full border-4 border-transparent border-b-orange-500 border-l-orange-500"}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(qa,{className:"text-3xl text-yellow-500"})})]}),c.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Loading Your Gallery"}),c.jsx("p",{className:"text-gray-400",children:"Preparing beautiful memories..."})]})}):c.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-white",children:[c.jsxs(le.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative overflow-hidden bg-gradient-to-b from-gray-900 to-[#0a0a0a] border-b border-white/10",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDIpIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=')] opacity-50"}),c.jsx("div",{className:"relative px-4 sm:px-6 py-8 sm:py-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs(le.button,{whileHover:{scale:1.05,x:-5},whileTap:{scale:.95},onClick:()=>e("/client/dashboard"),className:"flex items-center gap-2 text-yellow-500 hover:text-yellow-400 mb-4 sm:mb-6 transition-colors font-medium text-sm sm:text-base",children:[c.jsx(G0,{})," Back to Dashboard"]}),c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 sm:gap-6",children:[c.jsxs("div",{children:[c.jsxs(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[c.jsx("div",{className:"p-2 sm:p-3 bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl sm:rounded-2xl shadow-lg shadow-yellow-500/30",children:c.jsx(qa,{className:"text-xl sm:text-2xl text-black"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:[n?.eventType,"  ",n?.eventDate?new Date(n.eventDate).toLocaleDateString():""]}),c.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white",children:n?.name||"Wedding Gallery"})]})]}),c.jsxs("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 flex items-center gap-2",children:[c.jsx(N0,{className:"text-yellow-500 text-sm sm:text-base"}),i.length," beautiful moments"]})]}),c.jsx(le.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3},className:"text-left md:text-right",children:c.jsxs("div",{className:"inline-block p-3 sm:p-4 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 backdrop-blur-sm rounded-xl sm:rounded-2xl border border-yellow-500/30",children:[c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mb-1",children:"Powered by"}),c.jsx("h2",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-xs text-gray-400 mt-1 italic",children:"Your Emotions, Our Lens"})]})})]})]})})]}),c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-r from-gray-900/50 via-gray-800/50 to-gray-900/50 border-b border-white/10",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[{icon:fm,color:"from-yellow-500 to-orange-500",label:"Photos",value:i.length},{icon:Pr,color:"from-green-500 to-emerald-500",label:"Selected",value:f.length},{icon:Ws,color:"from-pink-500 to-rose-500",label:"Favorites",value:b.length},{icon:Mx,color:"from-blue-500 to-cyan-500",label:"MB",value:(i.reduce((Fe,at)=>Fe+at.size,0)/(1024*1024)).toFixed(1)}].map((Fe,at)=>c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+at*.1},whileHover:{scale:1.05,y:-2},className:"text-center p-3 sm:p-4 bg-gradient-to-br from-white/5 to-white/10 rounded-xl sm:rounded-2xl border border-white/10 backdrop-blur-sm",children:[c.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 sm:mb-3 rounded-lg sm:rounded-xl bg-gradient-to-br ${Fe.color} flex items-center justify-center`,children:c.jsx(Fe.icon,{className:"text-lg sm:text-2xl text-white"})}),c.jsx("p",{className:"text-2xl sm:text-3xl font-bold text-white",children:Fe.value}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:Fe.label})]},at))})})}),c.jsx("div",{className:"sticky top-0 z-40 bg-[#0a0a0a]/95 backdrop-blur-xl border-b border-white/10 shadow-lg",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-3 sm:gap-4 items-stretch md:items-center justify-between",children:[c.jsxs("div",{className:"relative flex-1 max-w-full md:max-w-md",children:[c.jsx(Y0,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-500 text-sm sm:text-base"}),c.jsx("input",{type:"text",placeholder:"Search photos...",value:h,onChange:Fe=>g(Fe.target.value),className:"w-full pl-9 sm:pl-12 pr-3 sm:pr-4 py-2.5 sm:py-3 bg-white/10 border border-white/20 rounded-lg sm:rounded-xl text-sm sm:text-base text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all"})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[c.jsxs(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:de,className:`px-3 sm:px-4 md:px-6 py-2.5 sm:py-3 rounded-lg sm:rounded-xl transition-all flex items-center gap-2 font-medium text-xs sm:text-sm shadow-lg ${X?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-green-500/50":"bg-gradient-to-r from-gray-600 to-gray-700 text-white shadow-gray-500/50"}`,children:[c.jsx(wX,{className:X?"animate-pulse":""}),c.jsx("span",{className:"hidden sm:inline",children:X?"Music On":"Music Off"})]}),c.jsxs(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:st,className:"px-3 sm:px-4 md:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-lg sm:rounded-xl transition-all flex items-center gap-2 font-medium text-xs sm:text-sm shadow-lg shadow-purple-500/50",children:[c.jsx(ry,{className:"text-xs sm:text-base"}),c.jsx("span",{className:"hidden sm:inline",children:"Slideshow"})]}),c.jsxs("div",{className:"hidden sm:flex bg-white/10 rounded-xl p-1 border border-white/20",children:[c.jsxs("button",{onClick:()=>x("grid"),className:`px-3 md:px-4 py-2 rounded-lg transition-all flex items-center gap-2 text-xs sm:text-sm font-medium ${y==="grid"?"bg-yellow-500 text-black":"text-gray-400 hover:text-white"}`,children:[c.jsx(CX,{})," ",c.jsx("span",{className:"hidden md:inline",children:"Grid"})]}),c.jsxs("button",{onClick:()=>x("masonry"),className:`px-3 md:px-4 py-2 rounded-lg transition-all flex items-center gap-2 text-xs sm:text-sm font-medium ${y==="masonry"?"bg-yellow-500 text-black":"text-gray-400 hover:text-white"}`,children:[c.jsx(aD,{})," ",c.jsx("span",{className:"hidden md:inline",children:"Masonry"})]})]}),c.jsxs(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ze,className:"px-3 sm:px-4 md:px-6 py-2.5 sm:py-3 bg-white/10 hover:bg-white/20 text-white rounded-lg sm:rounded-xl border border-white/20 transition-all flex items-center gap-2 font-medium text-xs sm:text-sm",children:[c.jsx(Pr,{})," ",c.jsx("span",{className:"hidden md:inline",children:f.length===ee.length?"Deselect All":"Select All"}),c.jsx("span",{className:"md:hidden",children:"All"})]}),c.jsxs(le.button,{whileHover:{scale:f.length>0?1.05:1},whileTap:{scale:f.length>0?.95:1},onClick:Z,disabled:f.length===0,className:`px-3 sm:px-4 md:px-6 py-2.5 sm:py-3 rounded-lg sm:rounded-xl flex items-center gap-2 transition-all font-medium text-xs sm:text-sm ${f.length>0?"bg-gradient-to-r from-yellow-500 to-orange-500 text-black hover:shadow-lg hover:shadow-yellow-500/50":"bg-gray-700/50 text-gray-500 cursor-not-allowed"}`,children:[c.jsx(ppe,{})," (",f.length,")"]})]})]})})}),c.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 py-6 sm:py-8",children:ee.length===0?c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12 sm:py-20",children:[c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto mb-4 sm:mb-6 rounded-full bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center",children:c.jsx(fm,{className:"text-3xl sm:text-5xl text-gray-600"})}),c.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-2",children:h?"No photos found":"Gallery Empty"}),c.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:h?"Try a different search term":"Photos will appear here once uploaded"})]}):c.jsx("div",{className:y==="masonry"?"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 auto-rows-[200px] gap-2 sm:gap-3 md:gap-4":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 md:gap-6",children:ee.map((Fe,at)=>c.jsx(le.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:Math.min(at*.02,1),duration:.4},className:`relative group cursor-pointer ${y==="masonry"?pt(at):""}`,onClick:ct=>De(Fe,ct),children:c.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-xl sm:rounded-2xl shadow-2xl bg-gray-900/50 border border-white/10 backdrop-blur-sm",children:[!C[Fe.id]&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800/50 via-gray-700/50 to-gray-800/50",children:c.jsx("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-r from-transparent via-white/5 to-transparent",style:{animation:"shimmer 2s infinite"}})}),c.jsx("img",{src:ae(Fe,"preview"),alt:Fe.name,onLoad:()=>E(ct=>({...ct,[Fe.id]:!0})),className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110 group-hover:brightness-90",loading:"lazy",style:{opacity:C[Fe.id]?1:0,transition:"opacity 0.5s ease, transform 0.7s ease"}}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300",children:c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-2 sm:p-3 md:p-4",children:[c.jsx("p",{className:"text-white font-medium truncate text-xs sm:text-sm mb-2 sm:mb-3",children:Fe.name}),c.jsxs("div",{className:"grid grid-cols-4 gap-1 sm:gap-2",children:[c.jsx(le.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ct=>Qe(Fe.id,ct),className:`py-1.5 sm:py-2 rounded-md sm:rounded-lg transition-all font-medium ${f.includes(Fe.id)?"bg-yellow-500 text-black shadow-lg shadow-yellow-500/50":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"}`,children:c.jsx(Pr,{className:"mx-auto text-sm sm:text-lg"})}),c.jsx(le.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ct=>Ne(Fe.id,ct),className:`py-1.5 sm:py-2 rounded-md sm:rounded-lg transition-all ${b.includes(Fe.id)?"bg-pink-500 text-white shadow-lg shadow-pink-500/50":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"}`,children:c.jsx(Ws,{className:"mx-auto text-sm sm:text-lg"})}),c.jsx(le.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ct=>{ct.stopPropagation(),ke(Fe)},className:"py-1.5 sm:py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white rounded-md sm:rounded-lg transition-all",children:c.jsx(qs,{className:"mx-auto text-sm sm:text-lg"})}),c.jsx(le.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ct=>De(Fe,ct),className:"py-1.5 sm:py-2 bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white rounded-md sm:rounded-lg transition-all",children:c.jsx(ype,{className:"mx-auto text-sm sm:text-lg"})})]})]})}),c.jsx(Kt,{children:f.includes(Fe.id)&&c.jsx(le.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},exit:{scale:0,rotate:180},className:"absolute top-2 sm:top-3 right-2 sm:right-3 w-8 h-8 sm:w-10 sm:h-10 bg-yellow-500 rounded-full flex items-center justify-center shadow-lg shadow-yellow-500/50 border-2 border-white z-10",children:c.jsx(Pr,{className:"text-black text-base sm:text-xl"})})}),c.jsx(Kt,{children:b.includes(Fe.id)&&c.jsx(le.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute top-2 sm:top-3 left-2 sm:left-3 w-8 h-8 sm:w-10 sm:h-10 bg-pink-500 rounded-full flex items-center justify-center shadow-lg shadow-pink-500/50 border-2 border-white z-10",children:c.jsx(Ws,{className:"text-white text-sm sm:text-lg"})})})]})},Fe.id))})}),c.jsx(Kt,{children:u&&c.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 bg-black flex items-center justify-center",onClick:()=>{d(null),Re()},children:[c.jsx(le.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{duration:.3},className:"absolute top-0 left-0 right-0 p-3 sm:p-4 md:p-6 bg-gradient-to-b from-black/90 to-transparent z-20",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center gap-2",children:[c.jsxs("div",{className:"text-white flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm sm:text-base md:text-xl font-bold truncate",children:u.name}),c.jsxs("p",{className:"text-xs sm:text-sm text-gray-300 mt-1",children:[j+1,"/",ee.length,"  ",(u.size/(1024*1024)).toFixed(2)," MB"]})]}),c.jsxs("div",{className:"flex gap-1 sm:gap-2 md:gap-3 flex-shrink-0",children:[c.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 md:px-4 py-2 bg-white/10 rounded-lg md:rounded-xl border border-white/20",children:[c.jsx(le.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Fe=>{Fe.stopPropagation(),Ae()},className:"text-white",children:Q?c.jsx(PX,{className:"text-base md:text-xl"}):c.jsx(kX,{className:"text-base md:text-xl"})}),c.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:q,onChange:we,onClick:Fe=>Fe.stopPropagation(),className:"w-12 md:w-20 accent-yellow-500"})]}),c.jsxs("select",{value:O,onChange:Fe=>L(Number(Fe.target.value)),onClick:Fe=>Fe.stopPropagation(),className:"px-2 sm:px-3 md:px-4 py-2 bg-white/10 border border-white/20 rounded-lg md:rounded-xl text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all",children:[c.jsx("option",{value:"2000",className:"bg-gray-900",children:"2s"}),c.jsx("option",{value:"3000",className:"bg-gray-900",children:"3s"}),c.jsx("option",{value:"5000",className:"bg-gray-900",children:"5s"}),c.jsx("option",{value:"10000",className:"bg-gray-900",children:"10s"})]}),c.jsx(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Fe=>{Fe.stopPropagation(),Xe()},className:`px-3 sm:px-4 md:px-6 py-2 rounded-lg md:rounded-xl flex items-center gap-1 sm:gap-2 font-medium text-xs sm:text-sm transition-all ${I?"bg-red-500 hover:bg-red-600 text-white shadow-lg shadow-red-500/50":"bg-purple-500 hover:bg-purple-600 text-white shadow-lg shadow-purple-500/50"}`,children:I?c.jsxs(c.Fragment,{children:[c.jsx(vw,{})," ",c.jsx("span",{className:"hidden sm:inline",children:"Pause"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ry,{})," ",c.jsx("span",{className:"hidden sm:inline",children:"Play"})]})}),c.jsx(le.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:Fe=>{Fe.stopPropagation(),d(null),Re()},className:"w-10 h-10 sm:w-12 sm:h-12 bg-red-500/20 hover:bg-red-500 rounded-full flex items-center justify-center text-white transition-all border border-red-500",children:c.jsx(pr,{className:"text-lg sm:text-xl"})})]})]})}),c.jsx(le.button,{whileHover:{scale:1.1,x:-5},whileTap:{scale:.9},onClick:Fe=>{Fe.stopPropagation(),Ve()},className:"absolute left-2 sm:left-4 md:left-6 top-1/2 -translate-y-1/2 z-10 w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all backdrop-blur-sm border-2 border-white/20",children:c.jsx(Du,{className:"text-xl sm:text-2xl md:text-3xl"})}),c.jsx(le.button,{whileHover:{scale:1.1,x:5},whileTap:{scale:.9},onClick:Fe=>{Fe.stopPropagation(),_e()},className:"absolute right-2 sm:right-4 md:right-6 top-1/2 -translate-y-1/2 z-10 w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-all backdrop-blur-sm border-2 border-white/20",children:c.jsx(Tu,{className:"text-xl sm:text-2xl md:text-3xl"})}),c.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-3 sm:p-6 md:p-12 lg:p-20",onClick:Fe=>Fe.stopPropagation(),children:c.jsx(Kt,{mode:"wait",children:c.jsx(le.img,{initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.4,ease:"easeInOut"},src:ae(u,"hd"),alt:u.name,onError:Fe=>{Fe.target.dataset.fallback||(Fe.target.dataset.fallback="true",Fe.target.src=ae(u,"preview"))},className:"max-w-full max-h-full object-contain rounded-lg shadow-2xl"},u.id)})}),c.jsxs(le.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{duration:.3},className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 md:p-6 bg-gradient-to-t from-black/90 to-transparent z-20",children:[c.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col sm:flex-row justify-center gap-2 sm:gap-3 md:gap-4",children:[c.jsxs(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Fe=>{Fe.stopPropagation(),Ne(u.id,Fe)},className:`px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 rounded-lg md:rounded-xl transition-all font-medium flex items-center justify-center gap-2 text-xs sm:text-sm md:text-base ${b.includes(u.id)?"bg-pink-500 text-white shadow-lg shadow-pink-500/50":"bg-white/10 text-white hover:bg-white/20 border border-white/20 backdrop-blur-sm"}`,children:[c.jsx(Ws,{})," ",c.jsx("span",{className:"hidden sm:inline",children:b.includes(u.id)?"Favorited":"Add to Favorites"}),c.jsx("span",{className:"sm:hidden",children:"Favorite"})]}),c.jsxs(le.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Fe=>{Fe.stopPropagation(),ke(u)},className:"px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-black rounded-lg md:rounded-xl transition-all font-medium flex items-center justify-center gap-2 shadow-lg shadow-yellow-500/50 text-xs sm:text-sm md:text-base",children:[c.jsx(qs,{})," ",c.jsx("span",{className:"hidden sm:inline",children:"Download Full Quality"}),c.jsx("span",{className:"sm:hidden",children:"Download"})]})]}),c.jsxs("p",{className:"text-center text-xs sm:text-sm text-gray-300 mt-3 sm:mt-4",children:[c.jsx("span",{className:"hidden sm:inline",children:"  Navigate  SPACE Play/Pause  M Music  ESC Close  "}),c.jsx("span",{className:"sm:hidden",children:"Swipe to navigate  "}),"Perfect for SmartTV "]})]})]})}),c.jsx("div",{className:"bg-gradient-to-t from-gray-900 to-transparent border-t border-white/10 mt-8 sm:mt-12",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6 sm:py-8 text-center",children:c.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-2 sm:space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[c.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-yellow-500 to-orange-500 flex items-center justify-center",children:c.jsx(qa,{className:"text-base sm:text-xl text-black"})}),c.jsx("h3",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-yellow-500 to-orange-500 bg-clip-text text-transparent",children:"RN PhotoFilms"})]}),c.jsx("p",{className:"text-sm sm:text-base text-gray-400 italic",children:"Your Emotions, Our Lens"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:" 2025 RN PhotoFilms  All rights reserved"})]})})}),c.jsx("style",{children:`
        @keyframes shimmer {
          0% { transform: translateX(-100%); }
          100% { transform: translateX(100%); }
        }
      `})]})};var Lb={exports:{}},mxe=Lb.exports,TL;function gxe(){return TL||(TL=1,(function(e,t){(function(n,a){e.exports=a(Yi())})(mxe,function(r){return(function(n){var a={};function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=a,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:l})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(o&1&&(s=i(s)),o&8||o&4&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(i.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),o&2&&typeof s!="string")for(var u in s)i.d(l,u,(function(d){return s[d]}).bind(null,u));return l},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s="./src/react-webcam.tsx")})({"./src/react-webcam.tsx":(function(n,a,i){i.r(a);var s=i("react"),o=(function(){var p=function(h,g){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var b in x)x.hasOwnProperty(b)&&(y[b]=x[b])},p(h,g)};return function(h,g){p(h,g);function y(){this.constructor=h}h.prototype=g===null?Object.create(g):(y.prototype=g.prototype,new y)}})(),l=function(){return l=Object.assign||function(p){for(var h,g=1,y=arguments.length;g<y;g++){h=arguments[g];for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(p[x]=h[x])}return p},l.apply(this,arguments)},u=function(p,h){var g={};for(var y in p)Object.prototype.hasOwnProperty.call(p,y)&&h.indexOf(y)<0&&(g[y]=p[y]);if(p!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,y=Object.getOwnPropertySymbols(p);x<y.length;x++)h.indexOf(y[x])<0&&Object.prototype.propertyIsEnumerable.call(p,y[x])&&(g[y[x]]=p[y[x]]);return g};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(h){var g=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return g?new Promise(function(y,x){g.call(navigator,h,y,x)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function d(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var f=(function(p){o(h,p);function h(g){var y=p.call(this,g)||this;return y.canvas=null,y.ctx=null,y.requestUserMediaId=0,y.unmounted=!1,y.state={hasUserMedia:!1},y}return h.prototype.componentDidMount=function(){var g=this,y=g.state,x=g.props;if(this.unmounted=!1,!d()){x.onUserMediaError("getUserMedia not supported");return}y.hasUserMedia||this.requestUserMedia(),x.children&&typeof x.children!="function"&&console.warn("children must be a function")},h.prototype.componentDidUpdate=function(g){var y=this.props;if(!d()){y.onUserMediaError("getUserMedia not supported");return}var x=JSON.stringify(g.audioConstraints)!==JSON.stringify(y.audioConstraints),b=JSON.stringify(g.videoConstraints)!==JSON.stringify(y.videoConstraints),N=g.minScreenshotWidth!==y.minScreenshotWidth,j=g.minScreenshotHeight!==y.minScreenshotHeight;(b||N||j)&&(this.canvas=null,this.ctx=null),(x||b)&&(this.stopAndCleanup(),this.requestUserMedia())},h.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},h.stopMediaStream=function(g){g&&(g.getVideoTracks&&g.getAudioTracks?(g.getVideoTracks().map(function(y){g.removeTrack(y),y.stop()}),g.getAudioTracks().map(function(y){g.removeTrack(y),y.stop()})):g.stop())},h.prototype.stopAndCleanup=function(){var g=this.state;g.hasUserMedia&&(h.stopMediaStream(this.stream),g.src&&window.URL.revokeObjectURL(g.src))},h.prototype.getScreenshot=function(g){var y=this,x=y.state,b=y.props;if(!x.hasUserMedia)return null;var N=this.getCanvas(g);return N&&N.toDataURL(b.screenshotFormat,b.screenshotQuality)},h.prototype.getCanvas=function(g){var y=this,x=y.state,b=y.props;if(!this.video||!x.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var N=this.video.videoWidth,j=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var w=N/j;N=b.minScreenshotWidth||this.video.clientWidth,j=N/w,b.minScreenshotHeight&&j<b.minScreenshotHeight&&(j=b.minScreenshotHeight,N=j*w)}this.canvas=document.createElement("canvas"),this.canvas.width=g?.width||N,this.canvas.height=g?.height||j,this.ctx=this.canvas.getContext("2d")}var C=this,E=C.ctx,I=C.canvas;return E&&I&&(I.width=g?.width||I.width,I.height=g?.height||I.height,b.mirrored&&(E.translate(I.width,0),E.scale(-1,1)),E.imageSmoothingEnabled=b.imageSmoothing,E.drawImage(this.video,0,0,g?.width||I.width,g?.height||I.height),b.mirrored&&(E.scale(-1,1),E.translate(-I.width,0))),I},h.prototype.requestUserMedia=function(){var g=this,y=this.props,x=function(j,w){var C={video:typeof w<"u"?w:!0};y.audio&&(C.audio=typeof j<"u"?j:!0),g.requestUserMediaId++;var E=g.requestUserMediaId;navigator.mediaDevices.getUserMedia(C).then(function(I){g.unmounted||E!==g.requestUserMediaId?h.stopMediaStream(I):g.handleUserMedia(null,I)}).catch(function(I){g.handleUserMedia(I)})};if("mediaDevices"in navigator)x(y.audioConstraints,y.videoConstraints);else{var b=function(j){return{optional:[{sourceId:j}]}},N=function(j){var w=j.deviceId;return typeof w=="string"?w:Array.isArray(w)&&w.length>0?w[0]:typeof w=="object"&&w.ideal?w.ideal:null};MediaStreamTrack.getSources(function(j){var w=null,C=null;j.forEach(function(D){D.kind==="audio"?w=D.id:D.kind==="video"&&(C=D.id)});var E=N(y.audioConstraints);E&&(w=E);var I=N(y.videoConstraints);I&&(C=I),x(b(w),b(C))})}},h.prototype.handleUserMedia=function(g,y){var x=this.props;if(g||!y){this.setState({hasUserMedia:!1}),x.onUserMediaError(g);return}this.stream=y;try{this.video&&(this.video.srcObject=y),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(y)})}x.onUserMedia(y)},h.prototype.render=function(){var g=this,y=this,x=y.state,b=y.props,N=b.audio;b.forceScreenshotSourceSize;var j=b.disablePictureInPicture;b.onUserMedia,b.onUserMediaError,b.screenshotFormat,b.screenshotQuality,b.minScreenshotWidth,b.minScreenshotHeight,b.audioConstraints,b.videoConstraints,b.imageSmoothing;var w=b.mirrored,C=b.style,E=C===void 0?{}:C,I=b.children,D=u(b,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),O=w?l(l({},E),{transform:(E.transform||"")+" scaleX(-1)"}):E,L={getScreenshot:this.getScreenshot.bind(this)};return s.createElement(s.Fragment,null,s.createElement("video",l({autoPlay:!0,disablePictureInPicture:j,src:x.src,muted:!N,playsInline:!0,ref:function(R){g.video=R},style:O},D)),I&&I(L))},h.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},h})(s.Component);a.default=f}),react:(function(n,a){n.exports=r})}).default})})(Lb)),Lb.exports}var vxe=gxe();const xxe=Ln(vxe);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var NJ=function(e,t){return(NJ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(e,t)};function Lc(e,t){function r(){this.constructor=e}NJ(e,t),e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Rt(e,t,r,n){return new(r||(r=Promise))((function(a,i){function s(u){try{l(n.next(u))}catch(d){i(d)}}function o(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?a(u.value):new r((function(d){d(u.value)})).then(s,o)}l((n=n.apply(e,[])).next())}))}function Lt(e,t){var r,n,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(l){return function(u){return(function(d){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&d[0]?n.return:d[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,d[1])).done)return a;switch(n=0,a&&(d=[2&d[0],a.value]),d[0]){case 0:case 1:a=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,n=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){s=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){s.label=d[1];break}if(d[0]===6&&s.label<a[1]){s.label=a[1],a=d;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(d);break}a[2]&&s.ops.pop(),s.trys.pop();continue}d=t.call(e,s)}catch(f){d=[6,f],n=0}finally{r=a=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}})([l,u])}}}var yxe=(function(){function e(t){this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(t,r){this.platform!=null&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+r+"."),this.platformName=t,this.platform=r},e.prototype.registerFlag=function(t,r,n){if(this.flagRegistry[t]={evaluationFn:r,setHook:n},this.urlFlags[t]!=null){var a=this.urlFlags[t];console.warn("Setting feature override from URL "+t+": "+a+"."),this.set(t,a)}},e.prototype.get=function(t){return t in this.flags?this.flags[t]:(this.flags[t]=this.evaluateFlag(t),this.flags[t])},e.prototype.getNumber=function(t){return this.get(t)},e.prototype.getBool=function(t){return this.get(t)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(t,r){if(this.flagRegistry[t]==null)throw new Error("Cannot set flag "+t+" as it has not been registered.");this.flags[t]=r,this.flagRegistry[t].setHook!=null&&this.flagRegistry[t].setHook(r)},e.prototype.evaluateFlag=function(t){if(this.flagRegistry[t]==null)throw new Error("Cannot evaluate flag '"+t+"': no evaluation function found.");return this.flagRegistry[t].evaluationFn()},e.prototype.setFlags=function(t){this.flags=Object.assign({},t)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var t=this;if(this.global!==void 0&&this.global.location!==void 0&&this.global.location.search!==void 0){var r,n,a=(r=this.global.location.search,n={},r.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return bxe(n,s[0],s[1]),s.join("=")})),n);"tfjsflags"in a&&a.tfjsflags.split(",").forEach((function(i){var s=i.split(":"),o=s[0],l=s[1];t.urlFlags[o]=(function(u,d){if((d=d.toLowerCase())==="true"||d==="false")return d==="true";if(""+ +d===d)return+d;throw new Error("Could not parse value flag value "+d+" for flag "+u+".")})(o,l)}))}},e})();function bxe(e,t,r){e[decodeURIComponent(t)]=decodeURIComponent(r||"")}function nt(){return SJ}var SJ=null,jw=new Map,yk=new Map;function jJ(e,t){var r=_J(e,t);return jw.get(r)}function wxe(e){return yk.get(e)}function OL(e){for(var t=jw.entries(),r=[];;){var n=t.next(),a=n.done,i=n.value;if(a)break;var s=i[0],o=i[1];s.split("_")[0]===e&&r.push(o)}return r}function CJ(e){var t=e.kernelName,r=e.backendName,n=_J(t,r);if(jw.has(n))throw new Error("The kernel '"+t+"' for backend '"+r+"' is already registered");jw.set(n,e)}function Nxe(e){var t=e.kernelName;yk.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),yk.set(t,e)}function _J(e,t){return t+"_"+e}function bk(e,t,r){return Math.max(e,Math.min(t,r))}function EJ(e){return e%2==0?e:e+1}function Sxe(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t}function ye(e,t){if(!e)throw new Error(typeof t=="string"?t:t())}function rn(e,t,r){r===void 0&&(r=""),ye(ki(e,t),(function(){return r+" Shapes "+e+" and "+t+" must match"}))}function Z0(e){ye(e!=null,(function(){return"The input to the tensor constructor must be a non-null value."}))}function S0(e,t,r){if(t===void 0&&(t=[]),r===void 0&&(r=!1),t==null&&(t=[]),Array.isArray(e)||Cu(e)&&!r)for(var n=0;n<e.length;++n)S0(e[n],t,r);else t.push(e);return t}function Ut(e){if(e.length===0)return 1;for(var t=e[0],r=1;r<e.length;r++)t*=e[r];return t}function ki(e,t){if(e===t)return!0;if(e==null||t==null||e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function La(e){return e%1==0}function jxe(e){if(Math.tanh!=null)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function wk(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function n0(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function IL(e,t,r){return t===void 0&&(t=function(n){return 0}),new Promise((function(n,a){var i=0,s=function(){if(e())n();else{i++;var o=t(i);r!=null&&i>=r?a():setTimeout(s,o)}};s()}))}function Cxe(e,t){for(var r=1,n=-1,a=0;a<e.length;++a)if(e[a]>=0)r*=e[a];else if(e[a]===-1){if(n!==-1)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+n+" and dim "+a);n=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found "+e[a]+" at dim "+a);if(n===-1){if(t>0&&t!==r)throw Error("Size("+t+") must match the product of shape "+e);return e}if(r===0)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%r!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+r);var i=e.slice();return i[n]=t/r,i}function li(e,t){var r=t.length;return ye((e=e==null?t.map((function(n,a){return a})):[].concat(e)).every((function(n){return n>=-r&&n<r})),(function(){return"All values in axis param must be in range [-"+r+", "+r+") but got axis "+e})),ye(e.every((function(n){return La(n)})),(function(){return"All values in axis param must be integers but got axis "+e})),e.map((function(n){return n<0?r+n:n}))}function Up(e,t){for(var r=[],n=[],a=t!=null&&Array.isArray(t)&&t.length===0,i=t==null||a?null:li(t,e).sort(),s=0,o=0;o<e.length;++o){if(i!=null){if(i[s]===o&&e[o]!==1)throw new Error("Can't squeeze axis "+o+" since its dim '"+e[o]+"' is not 1");(i[s]==null||i[s]>o)&&e[o]===1&&(r.push(e[o]),n.push(o)),i[s]<=o&&s++}e[o]!==1&&(r.push(e[o]),n.push(o))}return{newShape:r,keptDims:n}}function ly(e,t){var r=null;if(e==null||e==="float32")r=new Float32Array(t);else if(e==="int32")r=new Int32Array(t);else{if(e!=="bool")throw new Error("Unknown data type "+e);r=new Uint8Array(t)}return r}function Cw(e,t){var r=null;if(e==null||e==="float32")r=new Float32Array(t);else if(e==="int32")r=new Int32Array(t);else if(e==="bool")r=new Uint8Array(t);else{if(e!=="string")throw new Error("Unknown data type "+e);r=new Array(t)}return r}function _xe(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(isNaN(n)||!isFinite(n))throw Error("A tensor of type "+t+" being uploaded contains "+n+".")}}function Exe(e){return e==="bool"||e==="complex64"||e==="float32"||e==="int32"||e==="string"}function Pxe(e,t){return t!=="complex64"&&(t!=="float32"||e==="complex64")&&(t!=="int32"||e==="float32"||e==="complex64")&&(t!=="bool"||e!=="bool")}function Cu(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function PJ(e){if(e==="float32"||e==="int32")return 4;if(e==="complex64")return 8;if(e==="bool")return 1;throw new Error("Unknown dtype "+e)}function kxe(e){if(e==null)return 0;var t=0;return e.forEach((function(r){return t+=r.length})),t}function kD(e){return typeof e=="string"||e instanceof String}function Axe(e){return typeof e=="boolean"}function Dxe(e){return typeof e=="number"}function t1(e){return Array.isArray(e)?t1(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":Dxe(e)?"float32":kD(e)?"string":Axe(e)?"bool":"float32"}function Nk(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Sk(e,t){for(var r=t;r<e;++r)if(e%r==0)return r;return e}function _u(e){var t=e.length;if(t<2)return[];var r=new Array(t-1);r[t-2]=e[t-1];for(var n=t-3;n>=0;--n)r[n]=r[n+1]*e[n+1];return r}function kJ(e,t,r){if(t==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=S0(e)),r&&_xe(e,t),(function(i,s){return i instanceof Float32Array&&s==="float32"||i instanceof Int32Array&&s==="int32"||i instanceof Uint8Array&&s==="bool"})(e,t))return e;if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool"){for(var n=new Uint8Array(e.length),a=0;a<n.length;++a)Math.round(e[a])!==0&&(n[a]=1);return n}throw new Error("Unknown data type "+t)}function ML(e,t){if(e.length===0)return t[0];var r=e.reduce((function(n,a){return n*a}));if(r===0)return[];if(r!==t.length)throw new Error("["+e+"] does not match the input size.");return(function n(a,i,s){var o=new Array;if(i.length===1)for(var l=i[0],u=0;u<l;u++)o[u]=s[a+u];else{l=i[0];var d=i.slice(1),f=d.reduce((function(p,h){return p*h}));for(u=0;u<l;u++)o[u]=n(a+u*f,d,s)}return o})(0,e,t)}function AJ(e,t){for(var r=r1(e,t),n=0;n<r.length;n++)r[n]=1;return r}function r1(e,t){if(t==null||t==="float32"||t==="complex64")return new Float32Array(e);if(t==="int32")return new Int32Array(e);if(t==="bool")return new Uint8Array(e);throw new Error("Unknown data type "+t)}function fu(){return nt().platform.now()}function DJ(e){e.forEach((function(t){ye(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."}))}))}function Txe(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",nt().platform.encode(e,t)}function _w(e,t){return t===void 0&&(t="utf-8"),t=t||"utf-8",nt().platform.decode(e,t)}function RL(e,t,r){if(t===0)return 0;if(t===1)return e[0];for(var n=e[e.length-1],a=0;a<e.length-1;++a)n+=r[a]*e[a];return n}function Oxe(e,t,r){if(t===0)return[];if(t===1)return[e];for(var n=new Array(t),a=0;a<n.length-1;++a)n[a]=Math.floor(e/r[a]),e-=n[a]*r[a];return n[n.length-1]=e,n}var Ixe=(function(){function e(t,r){this.backendTimer=t,this.logger=r,r==null&&(this.logger=new Mxe)}return e.prototype.profileKernel=function(t,r,n){var a,i=this,s=this.backendTimer.time((function(){a=n()}));return a.forEach((function(o){o.data().then((function(l){(function(u,d,f){if(d!=="float32")return!1;for(var p=0;p<u.length;p++){var h=u[p];if(isNaN(h)||!isFinite(h))return console.warn("Found "+h+" in the result of '"+f+"'"),!0}})(l,o.dtype,t),s.then((function(u){var d="";u.getExtraProfileInfo!=null&&(d=u.getExtraProfileInfo()),i.logger.logKernelProfile(t,o,l,u.kernelMs,r,d)}))}))})),a},e})(),Mxe=(function(){function e(){}return e.prototype.logKernelProfile=function(t,r,n,a,i,s){var o=typeof a=="number"?n0(a+"ms",9):a.error,l=n0(t,25),u=r.rank,d=r.size,f=n0(r.shape.toString(),14),p="";for(var h in i){var g=i[h].shape||r.shape,y=g.length;p+=h+": "+y+"D "+(y>0?g:"")+" "}console.log("%c"+l+"	%c"+o+"	%c"+u+"D "+f+"	%c"+d+"	%c"+p+"	%c"+s,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e})(),LL=20,Zv=3,n6=7;function Rxe(e,t,r,n){var a=_u(t),i=(function(u,d,f,p){var h=Ut(d),g=p[p.length-1],y=new Array(g).fill(0),x=d.length,b=f==="complex64"?ex(u):u;if(x>1)for(var N=0;N<h/g;N++)for(var j=N*g,w=0;w<g;w++)y[w]=Math.max(y[w],Qv(b[j+w],0,f).length);return y})(e,t,r,a),s=t.length,o=(function u(d,f,p,h,g,y){y===void 0&&(y=!0);var x=p==="complex64"?2:1,b=f[0],N=f.length;if(N===0)return p==="complex64"?[Qv(ex(d)[0],0,p)]:p==="bool"?[TJ(d[0])]:[d[0].toString()];if(N===1){if(b>LL){var j=Zv*x,w=Array.from(d.slice(0,j)),C=Array.from(d.slice((b-Zv)*x,b*x));return p==="complex64"&&(w=ex(w),C=ex(C)),["["+w.map((function(X,te){return Qv(X,g[te],p)})).join(", ")+", ..., "+C.map((function(X,te){return Qv(X,g[b-Zv+te],p)})).join(", ")+"]"]}return["["+(p==="complex64"?ex(d):Array.from(d)).map((function(X,te){return Qv(X,g[te],p)})).join(", ")+"]"]}var E=f.slice(1),I=h.slice(1),D=h[0]*x,O=[];if(b>LL){for(var L=0;L<Zv;L++){var R=(P=L*D)+D;O.push.apply(O,u(d.slice(P,R),E,p,I,g,!1))}for(O.push("..."),L=b-Zv;L<b;L++)R=(P=L*D)+D,O.push.apply(O,u(d.slice(P,R),E,p,I,g,L===b-1))}else for(L=0;L<b;L++){var P;R=(P=L*D)+D,O.push.apply(O,u(d.slice(P,R),E,p,I,g,L===b-1))}var F=N===2?",":"";for(O[0]="["+O[0]+F,L=1;L<O.length-1;L++)O[L]=" "+O[L]+F;var V=`,
`;for(L=2;L<N;L++)V+=`
`;return O[O.length-1]=" "+O[O.length-1]+"]"+(y?"":V),O})(e,t,r,a,i),l=["Tensor"];return n&&(l.push("  dtype: "+r),l.push("  rank: "+s),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(o.map((function(u){return"    "+u})).join(`
`)),l.join(`
`)}function Qv(e,t,r){return n0(Array.isArray(e)?parseFloat(e[0].toFixed(n6))+" + "+parseFloat(e[1].toFixed(n6))+"j":kD(e)?"'"+e+"'":r==="bool"?TJ(e):parseFloat(e.toFixed(n6)).toString(),t)}function TJ(e){return e===0?"false":"true"}function ex(e){for(var t=[],r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return t}var cy=(function(){function e(t,r,n){var a=this;if(this.dtype=r,this.shape=t.slice(),this.size=Ut(t),n!=null){var i=n.length;ye(i===this.size,(function(){return"Length of values '"+i+"' does not match the size inferred by the shape '"+a.size+"'."}))}if(r==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Cw(r,this.size),this.strides=_u(t)}return e.prototype.set=function(t){for(var r=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];n.length===0&&(n=[0]),ye(n.length===this.rank,(function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+r.rank+")"}));var i=this.locToIndex(n);this.values[i]=t},e.prototype.get=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.length===0&&(t=[0]);for(var n=0,a=0,i=t;a<i.length;a++){var s=i[a];if(s<0||s>=this.shape[n]){var o="Requested out of range element at "+t+".   Buffer shape="+this.shape;throw new Error(o)}n++}for(var l=t[t.length-1],u=0;u<t.length-1;++u)l+=this.strides[u]*t[u];return this.values[l]},e.prototype.locToIndex=function(t){if(this.rank===0)return 0;if(this.rank===1)return t[0];for(var r=t[t.length-1],n=0;n<t.length-1;++n)r+=this.strides[n]*t[n];return r},e.prototype.indexToLoc=function(t){if(this.rank===0)return[];if(this.rank===1)return[t];for(var r=new Array(this.shape.length),n=0;n<r.length-1;++n)r[n]=Math.floor(t/this.strides[n]),t-=r[n]*this.strides[n];return r[r.length-1]=t,r},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return pu().makeTensor(this.values,this.shape,this.dtype)},e})(),pu=null,Je=null,OJ=null,oa=(function(){function e(t,r,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=r||"float32",this.size=Ut(t),this.strides=_u(t),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),ye(this.size===1,(function(){return"The array must have only 1 element."})),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(t,r){return this.throwIfDisposed(),this.reshape([t,r])},e.prototype.as3D=function(t,r,n){return this.throwIfDisposed(),this.reshape([t,r,n])},e.prototype.as4D=function(t,r,n,a){return this.throwIfDisposed(),this.reshape([t,r,n,a])},e.prototype.as5D=function(t,r,n,a,i){return this.throwIfDisposed(),this.reshape([t,r,n,a,i])},e.prototype.asType=function(t){return this.throwIfDisposed(),Je.cast(this,t)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Rt(this,void 0,void 0,(function(){var t;return Lt(this,(function(r){switch(r.label){case 0:return[4,this.data()];case 1:return t=r.sent(),[2,Je.buffer(this.shape,this.dtype,t)]}}))}))},e.prototype.bufferSync=function(){return Je.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Rt(this,void 0,void 0,(function(){var t;return Lt(this,(function(r){switch(r.label){case 0:return[4,this.data()];case 1:return t=r.sent(),[2,ML(this.shape,t)]}}))}))},e.prototype.arraySync=function(){return ML(this.shape,this.dataSync())},e.prototype.data=function(){return Rt(this,void 0,void 0,(function(){var t,r;return Lt(this,(function(n){switch(n.label){case 0:return this.throwIfDisposed(),t=pu().read(this.dataId),this.dtype!=="string"?[3,2]:[4,t];case 1:r=n.sent();try{return[2,r.map((function(a){return _w(a)}))]}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}n.label=2;case 2:return[2,t]}}))}))},e.prototype.dataSync=function(){this.throwIfDisposed();var t=pu().readSync(this.dataId);if(this.dtype==="string")try{return t.map((function(r){return _w(r)}))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return t},e.prototype.bytes=function(){return Rt(this,void 0,void 0,(function(){var t;return Lt(this,(function(r){switch(r.label){case 0:return this.throwIfDisposed(),[4,pu().read(this.dataId)];case 1:return t=r.sent(),this.dtype==="string"?[2,t]:[2,new Uint8Array(t.buffer)]}}))}))},e.prototype.dispose=function(){this.isDisposed||(pu().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(t){return t===void 0&&(t=!1),Je.print(this,t)},e.prototype.reshape=function(t){return this.throwIfDisposed(),Je.reshape(this,t)},e.prototype.reshapeAs=function(t){return this.throwIfDisposed(),this.reshape(t.shape)},e.prototype.expandDims=function(t){return t===void 0&&(t=0),Je.expandDims(this,t)},e.prototype.cumsum=function(t,r,n){return t===void 0&&(t=0),r===void 0&&(r=!1),n===void 0&&(n=!1),Je.cumsum(this,t,r,n)},e.prototype.squeeze=function(t){return this.throwIfDisposed(),Je.squeeze(this,t)},e.prototype.clone=function(){return this.throwIfDisposed(),Je.clone(this)},e.prototype.oneHot=function(t,r,n){return this.throwIfDisposed(),Je.oneHot(this,t,r,n)},e.prototype.toString=function(t){return t===void 0&&(t=!1),Rxe(this.dataSync(),this.shape,this.dtype,t)},e.prototype.tile=function(t){return this.throwIfDisposed(),Je.tile(this,t)},e.prototype.gather=function(t,r){return r===void 0&&(r=0),this.throwIfDisposed(),Je.gather(this,t,r)},e.prototype.matMul=function(t,r,n){return r===void 0&&(r=!1),n===void 0&&(n=!1),this.throwIfDisposed(),Je.matMul(this,t,r,n)},e.prototype.dot=function(t){return this.throwIfDisposed(),Je.dot(this,t)},e.prototype.norm=function(t,r,n){return t===void 0&&(t="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1),this.throwIfDisposed(),Je.norm(this,t,r,n)},e.prototype.slice=function(t,r){return this.throwIfDisposed(),Je.slice(this,t,r)},e.prototype.reverse=function(t){return this.throwIfDisposed(),Je.reverse(this,t)},e.prototype.concat=function(t,r){return r===void 0&&(r=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),Je.concat([this].concat(t),r)},e.prototype.split=function(t,r){return r===void 0&&(r=0),this.throwIfDisposed(),Je.split(this,t,r)},e.prototype.stack=function(t,r){return r===void 0&&(r=0),Je.stack([this,t],r)},e.prototype.unstack=function(t){return t===void 0&&(t=0),Je.unstack(this,t)},e.prototype.pad=function(t,r){return r===void 0&&(r=0),Je.pad(this,t,r)},e.prototype.batchNormalization=function(t,r,n,a,i){return n===void 0&&(n=.001),OJ("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(t,r,i,a,n)},e.prototype.batchNorm=function(t,r,n,a,i){return i===void 0&&(i=.001),this.throwIfDisposed(),Je.batchNorm(this,t,r,n,a,i)},e.prototype.all=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.all(this,t,r)},e.prototype.any=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.any(this,t,r)},e.prototype.logSumExp=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.logSumExp(this,t,r)},e.prototype.sum=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.sum(this,t,r)},e.prototype.prod=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.prod(this,t,r)},e.prototype.mean=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.mean(this,t,r)},e.prototype.min=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.min(this,t,r)},e.prototype.max=function(t,r){return t===void 0&&(t=null),r===void 0&&(r=!1),this.throwIfDisposed(),Je.max(this,t,r)},e.prototype.argMin=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),Je.argMin(this,t)},e.prototype.argMax=function(t){return t===void 0&&(t=null),this.throwIfDisposed(),Je.argMax(this,t)},e.prototype.cast=function(t){return this.throwIfDisposed(),Je.cast(this,t)},e.prototype.add=function(t){return this.throwIfDisposed(),Je.add(this,t)},e.prototype.addStrict=function(t){return this.throwIfDisposed(),Je.addStrict(this,t)},e.prototype.atan2=function(t){return this.throwIfDisposed(),Je.atan2(this,t)},e.prototype.sub=function(t){return this.throwIfDisposed(),Je.sub(this,t)},e.prototype.subStrict=function(t){return this.throwIfDisposed(),Je.subStrict(this,t)},e.prototype.pow=function(t){return this.throwIfDisposed(),Je.pow(this,t)},e.prototype.powStrict=function(t){return this.throwIfDisposed(),Je.powStrict(this,t)},e.prototype.mul=function(t){return this.throwIfDisposed(),Je.mul(this,t)},e.prototype.mulStrict=function(t){return this.throwIfDisposed(),Je.mulStrict(this,t)},e.prototype.div=function(t){return this.throwIfDisposed(),Je.div(this,t)},e.prototype.divNoNan=function(t){return this.throwIfDisposed(),Je.divNoNan(this,t)},e.prototype.floorDiv=function(t){return this.throwIfDisposed(),Je.floorDiv(this,t)},e.prototype.divStrict=function(t){return this.throwIfDisposed(),Je.divStrict(this,t)},e.prototype.minimum=function(t){return this.throwIfDisposed(),Je.minimum(this,t)},e.prototype.minimumStrict=function(t){return this.throwIfDisposed(),Je.minimumStrict(this,t)},e.prototype.maximum=function(t){return this.throwIfDisposed(),Je.maximum(this,t)},e.prototype.maximumStrict=function(t){return this.throwIfDisposed(),Je.maximumStrict(this,t)},e.prototype.mod=function(t){return this.throwIfDisposed(),Je.mod(this,t)},e.prototype.modStrict=function(t){return this.throwIfDisposed(),Je.modStrict(this,t)},e.prototype.squaredDifferenceStrict=function(t){return this.throwIfDisposed(),Je.squaredDifferenceStrict(this,t)},e.prototype.transpose=function(t){return this.throwIfDisposed(),Je.transpose(this,t)},e.prototype.notEqual=function(t){return this.throwIfDisposed(),Je.notEqual(this,t)},e.prototype.notEqualStrict=function(t){return this.throwIfDisposed(),Je.notEqualStrict(this,t)},e.prototype.less=function(t){return this.throwIfDisposed(),Je.less(this,t)},e.prototype.lessStrict=function(t){return this.throwIfDisposed(),Je.lessStrict(this,t)},e.prototype.equal=function(t){return this.throwIfDisposed(),Je.equal(this,t)},e.prototype.equalStrict=function(t){return this.throwIfDisposed(),Je.equalStrict(this,t)},e.prototype.lessEqual=function(t){return this.throwIfDisposed(),Je.lessEqual(this,t)},e.prototype.lessEqualStrict=function(t){return this.throwIfDisposed(),Je.lessEqualStrict(this,t)},e.prototype.greater=function(t){return this.throwIfDisposed(),Je.greater(this,t)},e.prototype.greaterStrict=function(t){return this.throwIfDisposed(),Je.greaterStrict(this,t)},e.prototype.greaterEqual=function(t){return this.throwIfDisposed(),Je.greaterEqual(this,t)},e.prototype.greaterEqualStrict=function(t){return this.throwIfDisposed(),Je.greaterEqualStrict(this,t)},e.prototype.logicalAnd=function(t){return this.throwIfDisposed(),Je.logicalAnd(this,t)},e.prototype.logicalOr=function(t){return this.throwIfDisposed(),Je.logicalOr(this,t)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),Je.logicalNot(this)},e.prototype.logicalXor=function(t){return this.throwIfDisposed(),Je.logicalXor(this,t)},e.prototype.where=function(t,r){return this.throwIfDisposed(),Je.where(t,this,r)},e.prototype.neg=function(){return this.throwIfDisposed(),Je.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),Je.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),Je.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),Je.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),Je.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),Je.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),Je.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),Je.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),Je.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),Je.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),Je.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),Je.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),Je.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),Je.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),Je.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),Je.abs(this)},e.prototype.clipByValue=function(t,r){return this.throwIfDisposed(),Je.clipByValue(this,t,r)},e.prototype.relu=function(){return this.throwIfDisposed(),Je.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),Je.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),Je.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),Je.selu(this)},e.prototype.leakyRelu=function(t){return t===void 0&&(t=.2),this.throwIfDisposed(),Je.leakyRelu(this,t)},e.prototype.prelu=function(t){return this.throwIfDisposed(),Je.prelu(this,t)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),Je.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),Je.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),Je.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),Je.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),Je.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),Je.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),Je.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),Je.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),Je.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),Je.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),Je.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),Je.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),Je.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),Je.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),Je.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),Je.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),Je.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),Je.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),Je.round(this)},e.prototype.step=function(t){return t===void 0&&(t=0),this.throwIfDisposed(),Je.step(this,t)},e.prototype.softmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),Je.softmax(this,t)},e.prototype.logSoftmax=function(t){return t===void 0&&(t=-1),this.throwIfDisposed(),Je.logSoftmax(this,t)},e.prototype.resizeBilinear=function(t,r){return r===void 0&&(r=!1),this.throwIfDisposed(),Je.image.resizeBilinear(this,t,r)},e.prototype.resizeNearestNeighbor=function(t,r){return r===void 0&&(r=!1),this.throwIfDisposed(),Je.image.resizeNearestNeighbor(this,t,r)},e.prototype.conv1d=function(t,r,n,a,i,s){return a===void 0&&(a="NWC"),i===void 0&&(i=1),this.throwIfDisposed(),Je.conv1d(this,t,r,n,a,i,s)},e.prototype.conv2d=function(t,r,n,a,i,s){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),Je.conv2d(this,t,r,n,a,i,s)},e.prototype.conv2dTranspose=function(t,r,n,a,i){return this.throwIfDisposed(),Je.conv2dTranspose(this,t,r,n,a,i)},e.prototype.depthwiseConv2D=function(t,r,n,a,i,s){return a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]),this.throwIfDisposed(),Je.depthwiseConv2d(this,t,r,n,a,i,s)},e.prototype.separableConv2d=function(t,r,n,a,i,s){return i===void 0&&(i=[1,1]),s===void 0&&(s="NHWC"),this.throwIfDisposed(),Je.separableConv2d(this,t,r,n,a,i,s)},e.prototype.avgPool=function(t,r,n,a){return this.throwIfDisposed(),Je.avgPool(this,t,r,n,a)},e.prototype.maxPool=function(t,r,n,a){return this.throwIfDisposed(),Je.maxPool(this,t,r,n,a)},e.prototype.localResponseNormalization=function(t,r,n,a){return t===void 0&&(t=5),r===void 0&&(r=1),n===void 0&&(n=1),a===void 0&&(a=.5),Je.localResponseNormalization(this,t,r,n,a)},e.prototype.pool=function(t,r,n,a,i){return this.throwIfDisposed(),Je.pool(this,t,r,n,a,i)},e.prototype.variable=function(t,r,n){return t===void 0&&(t=!0),this.throwIfDisposed(),pu().makeVariable(this,t,r,n)},e.prototype.unsortedSegmentSum=function(t,r){return this.throwIfDisposed(),Je.unsortedSegmentSum(this,t,r)},e.prototype.batchToSpaceND=function(t,r){return this.throwIfDisposed(),Je.batchToSpaceND(this,t,r)},e.prototype.spaceToBatchND=function(t,r){return this.throwIfDisposed(),Je.spaceToBatchND(this,t,r)},e.prototype.topk=function(t,r){return t===void 0&&(t=1),r===void 0&&(r=!0),this.throwIfDisposed(),Je.topk(this,t,r)},e.prototype.stridedSlice=function(t,r,n,a,i,s,o,l){return a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=0),o===void 0&&(o=0),l===void 0&&(l=0),this.throwIfDisposed(),Je.stridedSlice(this,t,r,n,a,i,s,o,l)},e.prototype.depthToSpace=function(t,r){return this.throwIfDisposed(),Je.depthToSpace(this,t,r)},e.prototype.fft=function(){return this.throwIfDisposed(),Je.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),Je.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),Je.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),Je.spectral.irfft(this)},e})();Object.defineProperty(oa,Symbol.hasInstance,{value:function(e){return!!e&&e.dataId!=null&&e.shape!=null&&e.dtype!=null}});var FL,jk,Ck,_k,Ek,j0=(function(e){function t(r,n,a,i){var s=e.call(this,r.shape,r.dtype,r.dataId,i)||this;return s.trainable=n,s.name=a,s}return Lc(t,e),t.prototype.assign=function(r){if(r.dtype!==this.dtype)throw new Error("dtype of the new value ("+r.dtype+") and previous value ("+this.dtype+") must match");if(!ki(r.shape,this.shape))throw new Error("shape of the new value ("+r.shape+") and previous value ("+this.shape+") must match");pu().disposeTensor(this),this.dataId=r.dataId,pu().incRef(this,null)},t.prototype.dispose=function(){pu().disposeVariable(this),this.isDisposedInternal=!0},t})(oa);Object.defineProperty(j0,Symbol.hasInstance,{value:function(e){return e instanceof oa&&e.assign!=null&&e.assign instanceof Function}}),(function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"})(FL||(FL={})),(function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"})(jk||(jk={})),(function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"})(Ck||(Ck={})),(function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"})(_k||(_k={})),(function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"})(Ek||(Ek={}));var Lxe={float32:_k,int32:jk,bool:Ck,complex64:Ek};function zi(e,t){if(e==="string"||t==="string"){if(e==="string"&&t==="string")return"string";throw new Error("Can not upcast "+e+" with "+t)}return Lxe[e][t]}function a6(e){return zi(e,"int32")}function ua(e,t){if(e.dtype===t.dtype)return[e,t];var r=zi(e.dtype,t.dtype);return[e.cast(r),t.cast(r)]}function Fxe(e,t){ye(e.dtype===t.dtype,(function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"}))}function IJ(e){var t=[];return(function r(n,a,i){if(n!=null){if(n instanceof oa)return void a.push(n);if(s=n,!(!Array.isArray(s)&&typeof s!="object")){var s,o=n;for(var l in o){var u=o[l];i.has(u)||(i.add(u),r(u,a,i))}}}})(e,t,new Set),t}var i6,BL=(function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var t in this.registeredVariables)this.registeredVariables[t].dispose()},e})(),Bxe=(function(){function e(t){this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new BL}return e.prototype.ready=function(){return Rt(this,void 0,void 0,(function(){var t,r,n;return Lt(this,(function(a){switch(a.label){case 0:if(this.pendingBackendInit!=null)return[2,this.pendingBackendInit.then((function(){}))];if(this.backendInstance!=null)return[2];t=this.getSortedBackends(),r=0,a.label=1;case 1:return r<t.length?(n=t[r],[4,this.initializeBackend(n).success]):[3,5];case 2:return a.sent()?[4,this.setBackend(n)]:[3,4];case 3:return a.sent(),[2];case 4:return r++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}}))}))},Object.defineProperty(e.prototype,"backend",{get:function(){if(this.pendingBackendInit!=null)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(this.backendInstance==null){var t=this.initializeBackendsAndReturnBest(),r=t.name;if(t.asyncInit)throw new Error("The highest priority backend '"+r+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(r)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(t){return!(t in this.registry)&&(!(t in this.registryFactory)||this.initializeBackend(t).asyncInit)?null:this.registry[t]},e.prototype.findBackendFactory=function(t){return t in this.registryFactory?this.registryFactory[t].factory:null},e.prototype.registerBackend=function(t,r,n){return n===void 0&&(n=1),t in this.registryFactory?(console.warn(t+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[t]={factory:r,priority:n},!0)},e.prototype.setBackend=function(t){return Rt(this,void 0,void 0,(function(){var r,n,a;return Lt(this,(function(i){switch(i.label){case 0:if(this.registryFactory[t]==null)throw new Error("Backend name '"+t+"' not found in registry");return this.backendName=t,this.registry[t]!=null?[3,4]:(this.backendInstance=null,r=this.initializeBackend(t),n=r.success,r.asyncInit?[4,n]:[3,2]);case 1:return a=i.sent(),[3,3];case 2:a=n,i.label=3;case 3:if(!a)return[2,!1];i.label=4;case 4:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new Ixe(this.backendInstance),[2,!0]}}))}))},e.prototype.setupRegisteredKernels=function(){var t=this;OL(this.backendName).forEach((function(r){r.setupFunc!=null&&r.setupFunc(t.backendInstance)}))},e.prototype.disposeRegisteredKernels=function(t){var r=this;OL(t).forEach((function(n){n.disposeFunc!=null&&n.disposeFunc(r.registry[t])}))},e.prototype.initializeBackend=function(t){var r=this,n=this.registryFactory[t];if(n==null)throw new Error("Cannot initialize backend "+t+", no registration found.");try{var a=n.factory();if(Promise.resolve(a)===a){var i=++this.pendingBackendInitId,s=a.then((function(o){return!(i<r.pendingBackendInitId)&&(r.registry[t]=o,r.pendingBackendInit=null,!0)})).catch((function(o){return!(i<r.pendingBackendInitId)&&(r.pendingBackendInit=null,console.warn("Initialization of backend "+t+" failed"),console.warn(o.stack||o.message),!1)}));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}return this.registry[t]=a,{success:!0,asyncInit:!1}}catch(o){return console.warn("Initialization of backend "+t+" failed"),console.warn(o.stack||o.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(t){if(!(t in this.registryFactory))throw new Error(t+" backend not found in registry");this.backendName===t&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,t in this.registry&&(this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t]),delete this.registryFactory[t],this.backendName===t&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var t=this;if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(r,n){return t.registryFactory[n].priority-t.registryFactory[r].priority}))},e.prototype.initializeBackendsAndReturnBest=function(){for(var t=this.getSortedBackends(),r=0;r<t.length;r++){var n=t[r],a=this.initializeBackend(n),i=a.success,s=a.asyncInit;if(s||i)return{name:n,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(t,r){var n=this.state.tensorInfo.get(r),a=n.backend,i=this.readSync(r);a.disposeData(r),n.backend=t,t.move(r,i,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(t,r){var n,a=this,i=null;if(r==null){if(typeof t!="function")throw new Error("Please provide a function to tidy()");r=t}else{if(typeof t!="string"&&!(t instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof r!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=t}return this.scopedRun((function(){return a.startScope(i)}),(function(){return a.endScope(n)}),(function(){return(n=r())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))},e.prototype.scopedRun=function(t,r,n){t();try{var a=n();return r(),a}catch(i){throw r(),i}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(t){var r=this.makeTensorFromDataId(t.dataId,t.shape,t.dtype),n={x:t};return this.addTapeNode(this.state.activeScope.name,n,[r],(function(a){return{x:function(){return a.toFloat()}}}),[]),r},e.prototype.runKernel=function(t,r,n,a,i){return this.runKernelFunc(null,r,null,t,n,a,i)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(t,r,n){var a=this.backend.numDataIds(),i=0;n.forEach((function(l){i+=l.dtype==="complex64"?3:1}));var s=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=a-r-i-s;if(o>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+o+" data ids) after running '"+t+"'")},e.prototype.runKernelFunc=function(t,r,n,a,i,s,o){var l,u=this;s===void 0&&(s=[]),o===void 0&&(o=[]);var d=[],f=this.isTapeOn();a==null&&(a=this.state.activeScope!=null?this.state.activeScope.name:"");var p,h=function(N){f&&(d=N.map((function(j){return u.keep(u.clone(j))})))},g=this.state.numBytes,y=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var x,b=jJ(a,this.backendName);return p=b!=null?function(){var N=u.backend.numDataIds();x=b.kernelFunc({inputs:r,attrs:i,backend:u.backend});var j=Array.isArray(x)?x:[x];u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(a,N,j);var w=j.map((function(E){var I=E.dataId,D=E.shape,O=E.dtype;return u.makeTensorFromDataId(I,D,O)})),C=w.filter((function(E,I){return o[I]}));return h((s||[]).slice().concat(C)),w}:function(){var N=u.backend.numDataIds();x=u.tidy((function(){return t(u.backend,h)}));var j=Array.isArray(x)?x:[x];return u.shouldCheckForMemLeaks()&&u.checkKernelForMemLeak(a,N,j),j},this.scopedRun((function(){return u.state.kernelDepth++}),(function(){return u.state.kernelDepth--}),(function(){l=u.ENV.getBool("DEBUG")?u.profiler.profileKernel(a,r,(function(){return p()})):p()})),f&&this.addTapeNode(a,r,l,n,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:a,bytesAdded:this.state.numBytes-g,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-y,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(r).map((function(N){return r[N].shape})),outputShapes:l.map((function(N){return N.shape}))}),Array.isArray(x)?l:l[0]},e.prototype.makeTensor=function(t,r,n,a){if(t==null)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;var i=t;n==="string"&&kD(t[0])&&(i=t.map((function(d){return Txe(d)})));var s=a.write(i,r,n),o=new oa(r,n,s,this.nextTensorId());if(this.incRef(o,a),n==="string"){var l=this.state.tensorInfo.get(s),u=kxe(i);this.state.numBytes+=u-l.bytes,l.bytes=u}return o},e.prototype.makeTensorFromDataId=function(t,r,n,a){var i=new oa(r,n=n||"float32",t,this.nextTensorId());return this.incRef(i,a),i},e.prototype.makeVariable=function(t,r,n,a){r===void 0&&(r=!0),n=n||this.nextVariableId().toString(),a!=null&&a!==t.dtype&&(t=t.asType(a));var i=new j0(t,r,n,this.nextTensorId());if(this.state.registeredVariables[i.name]!=null)throw new Error("Variable with name "+i.name+" was already registered");return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i},e.prototype.incRef=function(t,r){var n=this.state.tensorInfo.has(t.dataId)?this.state.tensorInfo.get(t.dataId).refCount:0;if(this.state.numTensors++,t.dtype==="string"&&this.state.numStringTensors++,n===0){this.state.numDataBuffers++;var a=0;t.dtype!=="complex64"&&t.dtype!=="string"&&(a=t.size*PJ(t.dtype)),this.state.tensorInfo.set(t.dataId,{backend:r||this.backend,dtype:t.dtype,shape:t.shape,bytes:a,refCount:0}),this.state.numBytes+=a}this.state.tensorInfo.get(t.dataId).refCount++,t instanceof j0||this.track(t)},e.prototype.disposeTensor=function(t){if(this.state.tensorInfo.has(t.dataId)){this.state.numTensors--,t.dtype==="string"&&this.state.numStringTensors--;var r=this.state.tensorInfo.get(t.dataId);r.refCount<=1?(t.dtype!=="complex64"&&(this.state.numBytes-=r.bytes),this.state.numDataBuffers--,r.backend.disposeData(t.dataId),this.state.tensorInfo.delete(t.dataId)):this.state.tensorInfo.get(t.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var t in this.state.registeredVariables){var r=this.state.registeredVariables[t];this.disposeVariable(r)}},e.prototype.disposeVariable=function(t){this.disposeTensor(t),this.state.registeredVariables[t.name]!=null&&delete this.state.registeredVariables[t.name]},e.prototype.memory=function(){var t=this.backend.memory();return t.numTensors=this.state.numTensors,t.numDataBuffers=this.state.numDataBuffers,t.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(t.unreliable=!0,t.reasons==null&&(t.reasons=[]),t.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),t},e.prototype.profile=function(t){return Rt(this,void 0,void 0,(function(){var r,n;return Lt(this,(function(a){return this.state.profiling=!0,r=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=t(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map((function(i){return i.totalBytesSnapshot}))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]}))}))},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&this.state.kernelDepth===0},e.prototype.addTapeNode=function(t,r,n,a,i){var s=this,o={id:this.state.nextTapeNodeId++,kernelName:t,inputs:r,outputs:n,saved:i},l=wxe(t);l!=null&&(a=l.gradFunc),a!=null&&(o.gradient=function(u){return u=u.map((function(d,f){if(d==null){var p=n[f],h=r1(p.size,p.dtype);return s.makeTensor(h,p.shape,p.dtype)}return d})),a(u.length>1?u:u[0],i)}),this.state.activeTape.push(o)},e.prototype.keep=function(t){return t.kept=!0,t},e.prototype.startTape=function(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(t){var r={track:[],name:"unnamed scope",id:this.state.nextScopeId++};t&&(r.name=t),this.state.scopeStack.push(r),this.state.activeScope=r},e.prototype.endScope=function(t){for(var r=this,n=IJ(t),a=new Set(n.map((function(l){return l.id}))),i=0;i<this.state.activeScope.track.length;i++){var s=this.state.activeScope.track[i];s.kept||a.has(s.id)||s.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(l){l.kept||l.scopeId!==o.id||r.track(l)}))},e.prototype.gradients=function(t,r,n,a){var i=this;if(a===void 0&&(a=!1),ye(r.length>0,(function(){return"gradients() received an empty list of xs."})),n!=null&&n.dtype!=="float32")throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var s=this.scopedRun((function(){return i.startTape()}),(function(){return i.endTape()}),(function(){return i.tidy("forward",t)}));ye(s instanceof oa,(function(){return"The result y returned by f() must be a tensor."}));var o=(function(l,u,d){for(var f={},p={},h=0;h<u.length;h++)f[u[h].id]=!0;for(h=0;h<l.length;h++){var g=(E=l[h]).inputs;for(var y in g){for(var x=g[y],b=!1,N=0;N<u.length;N++)if(f[x.id]){E.outputs.forEach((function(L){return f[L.id]=!0})),b=!0,p[E.id]=!0;break}if(b)break}}var j={};j[d.id]=!0;var w={};for(h=l.length-1;h>=0;h--)for(g=(E=l[h]).inputs,N=0;N<E.outputs.length;N++)if(j[E.outputs[N].id]){for(var y in g)j[g[y].id]=!0,w[E.id]=!0;break}var C=[];for(h=0;h<l.length;h++){var E;if(p[(E=l[h]).id]&&w[E.id]){var I={};for(var y in E.inputs){var D=E.inputs[y];f[D.id]&&(I[y]=D)}var O=Object.assign({},E);O.inputs=I,O.outputs=E.outputs,C.push(O)}}return C})(this.state.activeTape,r,s);if(!a&&o.length===0&&r.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var l,u,d={};d[s.id]=n??(l=s.shape,u=AJ(Ut(l),"float32"),Oe.makeTensor(u,l,"float32")),(function(p,h,g){for(var y=function(b){var N=h[b],j=[];if(N.outputs.forEach((function(I){var D=p[I.id];D!=null?j.push(D):j.push(null)})),N.gradient==null)throw new Error("Cannot compute gradient: gradient function not found for "+N.kernelName+".");var w=N.gradient(j),C=function(I){if(!(I in w))throw new Error("Cannot backprop through input "+I+". Available gradients found: "+Object.keys(w)+".");var D=g((function(){return w[I]()}));if(D.dtype!=="float32")throw new Error("Error in gradient for op "+N.kernelName+". The gradient of input "+I+" must have 'float32' dtype, but has '"+D.dtype+"'");var O=N.inputs[I];if(!ki(D.shape,O.shape))throw new Error("Error in gradient for op "+N.kernelName+". The gradient of input '"+I+"' has shape '"+D.shape+"', which does not match the shape of the input '"+O.shape+"'");if(p[O.id]==null)p[O.id]=D;else{var L=p[O.id];p[O.id]=L.add(D),L.dispose()}};for(var E in N.inputs)C(E)},x=h.length-1;x>=0;x--)y(x)})(d,o,(function(p){return i.tidy(p)}));var f=r.map((function(p){return d[p.id]}));return i.state.gradientDepth===0&&(i.state.activeTape.forEach((function(p){for(var h=0,g=p.saved;h<g.length;h++)g[h].dispose()})),i.state.activeTape=null),{value:s,grads:f}}))},e.prototype.customGrad=function(t){var r=this;return ye(Nk(t),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];ye(a.every((function(o){return o instanceof oa})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var s={};return a.forEach((function(o,l){s[l]=o})),r.runKernelFunc((function(o,l){return ye((n=t.apply(void 0,a.concat([l]))).value instanceof oa,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),ye(Nk(n.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),n.value}),s,(function(o,l){var u=n.gradFunc(o,l),d=Array.isArray(u)?u:[u];ye(d.length===a.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),ye(d.every((function(p){return p instanceof oa})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var f={};return d.forEach((function(p,h){f[h]=function(){return p}})),f}))}},e.prototype.readSync=function(t){return this.state.tensorInfo.get(t).backend.readSync(t)},e.prototype.read=function(t){return this.state.tensorInfo.get(t).backend.read(t)},e.prototype.time=function(t){return Rt(this,void 0,void 0,(function(){var r,n;return Lt(this,(function(a){switch(a.label){case 0:return r=fu(),[4,this.backend.time(t)];case 1:return(n=a.sent()).wallMs=fu()-r,[2,n]}}))}))},e.prototype.track=function(t){return this.state.activeScope!=null&&(t.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(t)),t},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var t in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new BL,this.registry)this.disposeRegisteredKernels(t),this.registry[t].dispose(),delete this.registry[t];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e})(),Oe=(function(){var e=(function(){if(i6==null){var r=void 0;if(typeof window<"u")r=window;else if(typeof global<"u")r=global;else if(typeof process<"u")r=process;else{if(typeof self>"u")throw new Error("Could not find a global object");r=self}i6=r}return i6})();if(e._tfengine==null){var t=new yxe(e);e._tfengine=new Bxe(t)}return(function(r){SJ=r})(e._tfengine.ENV),pu=function(){return e._tfengine},e._tfengine})();function MJ(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}var kd=nt();kd.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),kd.registerFlag("IS_BROWSER",(function(){return MJ()})),kd.registerFlag("IS_NODE",(function(){return typeof process<"u"&&process.versions!==void 0&&process.versions.node!==void 0})),kd.registerFlag("IS_CHROME",(function(){return typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),kd.registerFlag("PROD",(function(){return!1})),kd.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return kd.getBool("DEBUG")})),kd.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),kd.registerFlag("IS_TEST",(function(){return!1}));var uy,Xo,Go,Mp={},s6={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function zxe(e,t){Mp[e]=t}function Wu(e){e in Mp||(Mp[e]=(function(r){if(r!==1&&r!==2)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=(function(a){if(typeof OffscreenCanvas<"u"&&a===2)return new OffscreenCanvas(300,150);if(typeof document<"u")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")})(r);return n.addEventListener("webglcontextlost",(function(a){a.preventDefault(),delete Mp[r]}),!1),r===1?n.getContext("webgl",s6)||n.getContext("experimental-webgl",s6):n.getContext("webgl2",s6)})(e));var t=Mp[e];return t.isContextLost()?(delete Mp[e],Wu(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),Mp[e])}function d4(e,t){return[t,e]}function Lx(e){var t=Ut(e);return wk(Math.ceil(t/4))}function n1(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function AD(e,t){var r,n,a,i,s,o,l,u,d,f=e;return nt().getNumber("WEBGL_VERSION")===2?(r=f.R32F,n=f.R16F,a=f.RGBA16F,i=f.RGBA32F,s=f.RED,o=4,l=1,u=f.HALF_FLOAT,d=f.FLOAT):(r=e.RGBA,n=e.RGBA,a=e.RGBA,i=f.RGBA,s=e.RGBA,o=4,l=4,u=t!=null?t.HALF_FLOAT_OES:null,d=e.FLOAT),{internalFormatFloat:r,internalFormatHalfFloat:n,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:s,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:o,defaultNumChannels:l,textureTypeHalfFloat:u,textureTypeFloat:d}}function Gt(e,t,r){var n=r();return t&&(function(a){var i=a.getError();if(i!==a.NO_ERROR)throw new Error("WebGL Error: "+qxe(a,i))})(e),n}(function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"})(uy||(uy={})),(function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"})(Xo||(Xo={})),(function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"})(Go||(Go={}));var Wxe=596e-10,Uxe=65504;function $xe(e){return!!(nt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||e===0||Wxe<Math.abs(e)&&Math.abs(e)<Uxe)}function qxe(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function R2(e,t,r){return uf(e,t,(function(){return e.getExtension(r)}),'Extension "'+r+'" not supported on this browser.')}function Vxe(e,t,r){var n=uf(e,t,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Gt(e,t,(function(){return e.shaderSource(n,r)})),Gt(e,t,(function(){return e.compileShader(n)})),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function Hxe(e,t,r){var n=uf(e,t,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Gt(e,t,(function(){return e.shaderSource(n,r)})),Gt(e,t,(function(){return e.compileShader(n)})),e.getShaderParameter(n,e.COMPILE_STATUS)===!1)throw(function(a,i){var s=Gxe.exec(i);if(s==null)return console.log("Couldn't parse line number in error: "+i),void console.log(a);for(var o=+s[1],l=a.split(`
`),u=l.length.toString().length+2,d=l.map((function(x,b){return n0((b+1).toString(),u)+x})),f=0,p=0;p<d.length;p++)f=Math.max(d[p].length,f);var h=d.slice(0,o-1),g=d.slice(o-1,o),y=d.slice(o);console.log(h.join(`
`)),console.log(i.split(`
`)[0]),console.log("%c "+n0(g[0],f),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(y.join(`
`))})(r,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var o6,l6,Gxe=/ERROR: [0-9]+:([0-9]+):/g;function Yxe(e,t){return uf(e,t,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function Kxe(e,t,r){if(Gt(e,t,(function(){return e.linkProgram(r)})),e.getProgramParameter(r,e.LINK_STATUS)===!1)throw console.log(e.getProgramInfoLog(r)),new Error("Failed to link vertex and fragment shaders.")}function c6(e,t,r){if(Gt(e,t,(function(){return e.validateProgram(r)})),e.getProgramParameter(r,e.VALIDATE_STATUS)===!1)throw console.log(e.getProgramInfoLog(r)),new Error("Shader program validation failed.")}function Xxe(e,t,r){var n=uf(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Gt(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),Gt(e,t,(function(){return e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)})),n}function Jxe(e,t,r){var n=uf(e,t,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Gt(e,t,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),Gt(e,t,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.STATIC_DRAW)})),n}function Zxe(e,t){return uf(e,t,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function Qxe(e,t){var r=nt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var n="["+e+"x"+t+"]";throw new Error("Requested texture size "+n+" is invalid.")}if(e>r||t>r)throw n="["+e+"x"+t+"]",new Error("Requested texture size "+n+" greater than WebGL maximum on this browser / GPU "+("["+r+"x"+r+"]")+".")}function eye(e,t){return uf(e,t,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function zL(e,t,r,n,a,i,s,o){var l=e.getAttribLocation(r,n);return l!==-1&&(Gt(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,a)})),Gt(e,t,(function(){return e.vertexAttribPointer(l,i,e.FLOAT,!1,s,o)})),Gt(e,t,(function(){return e.enableVertexAttribArray(l)})),!0)}function tye(e,t,r,n){sye(e,n),Gt(e,t,(function(){return e.activeTexture(e.TEXTURE0+n)})),Gt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,r)}))}function rye(e,t,r,n){return uf(e,t,(function(){return e.getUniformLocation(r,n)}),'uniform "'+n+'" not present in program.')}function nye(e,t,r){return e.getUniformLocation(t,r)}function aye(e,t,r,n,a,i){Gt(e,t,(function(){return tye(e,t,n,i)})),Gt(e,t,(function(){return e.uniform1i(a,i)}))}function u6(e,t,r,n){Gt(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Gt(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0)}))}function WL(e,t,r){Gt(e,t,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)})),Gt(e,t,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function L2(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+iye(e,t))}function iye(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function uf(e,t,r,n){var a=Gt(e,t,(function(){return r()}));if(a==null)throw new Error(n);return a}function sye(e,t){var r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,n=t+e.TEXTURE0;if(n<e.TEXTURE0||n>r)throw new Error("textureUnit must be in "+("[gl.TEXTURE0, gl.TEXTURE"+r+"]")+".")}function Ew(e,t){return t===void 0&&(t=2),Ut(e.slice(0,e.length-t))}function Pw(e){if(e.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function d6(e){var t=[1,1,1];return e.length===0||e.length===1&&e[0]===1||(t=[Ew(e)].concat(Pw(e))),t}function oye(e,t){var r;t===void 0&&(t=!1);var n=nt().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,(e=e.map((function(u,d){return d>=e.length-2?EJ(e[d]):e[d]}))).length===1&&(e=[2,e[0]])),e.length!==2){var a=Up(e);e=a.newShape}var i=Ut(e);if(e.length<=1&&i<=n)return[1,i];if(e.length===2&&e[0]<=n&&e[1]<=n)return e;if(e.length===3&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(e.length===3&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(e.length===4&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(e.length===4&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var s=Ew(e),o=2,l=2;return e.length&&(o=(r=Pw(e))[0],l=r[1]),wk(i=s*(o/2)*(l/2)).map((function(u){return 2*u}))}return wk(i)}function F2(e){return e%2==0}function B2(e,t){if(ki(e=e.slice(-2),t=t.slice(-2))||!e.length||!t.length||e[0]===0||e[1]===0||t[0]===0||t[1]===0)return!0;if(e.length!==t.length){var r=e.slice(-1)[0],n=t.slice(-1)[0];if(r===n||F2(r)&&F2(n)&&(e[0]===1||t[0]===1))return!0}return e[1]===t[1]&&F2(e[0])&&F2(t[0])}function lye(e){if(o6==null){var t=Wu(e);o6=t.getParameter(t.MAX_TEXTURE_SIZE)}return o6}function cye(e){if(l6==null){var t=Wu(e);l6=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,l6)}function uye(e){if(e===0)return 0;var t=Wu(e);return ql(t,"EXT_disjoint_timer_query_webgl2")&&e===2?2:ql(t,"EXT_disjoint_timer_query")?1:0}function ql(e,t){return e.getExtension(t)!=null}function UL(e){try{if(Wu(e)!=null)return!0}catch{return!1}return!1}function dye(e){if(e===0)return!1;var t=Wu(e);if(e===1){if(!ql(t,"OES_texture_float"))return!1}else if(!ql(t,"EXT_color_buffer_float"))return!1;return Pk(t)}function fye(e){if(e===0)return!1;var t=Wu(e);if(e!==1){if(ql(t,"EXT_color_buffer_float"))return Pk(t);if(ql(t,"EXT_color_buffer_half_float")){var r=t.getExtension("EXT_color_buffer_half_float");return(function(n,a){var i=AD(n,a),s=n.createTexture();n.bindTexture(n.TEXTURE_2D,s),n.texImage2D(n.TEXTURE_2D,0,i.internalFormatHalfFloat,1,1,0,i.textureFormatFloat,i.textureTypeHalfFloat,null);var o=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,o),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,s,0);var l=n.checkFramebufferStatus(n.FRAMEBUFFER)===n.FRAMEBUFFER_COMPLETE;return n.bindTexture(n.TEXTURE_2D,null),n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteTexture(s),n.deleteFramebuffer(o),l})(t,r)}return!1}return!!ql(t,"OES_texture_float")&&!!ql(t,"WEBGL_color_buffer_float")&&Pk(t)}function Pk(e){var t=AD(e),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(n),a}function hye(e){return e===2&&Wu(e).fenceSync!=null}var dr=nt();function RJ(e){nt().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function Pt(e,t){return Oe.tidy(e,t)}function go(e){IJ(e).forEach((function(t){return t.dispose()}))}function pye(e){return Oe.keep(e)}function kw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];nt().getBool("IS_TEST")||console.warn.apply(console,e)}function zh(e,t){var r=e;if(Cu(e))return t==="string"?[]:[e.length];if(!Array.isArray(e))return[];for(var n=[];Array.isArray(r)||Cu(r)&&t!=="string";)n.push(r.length),r=r[0];return Array.isArray(e)&&nt().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&(function a(i,s,o){if(o=o||[],!Array.isArray(i)&&!Cu(i))return void ye(s.length===0,(function(){return"Element arr["+o.join("][")+"] is a primitive, but should be an array/TypedArray of "+s[0]+" elements"}));ye(s.length>0,(function(){return"Element arr["+o.join("][")+"] should be a primitive, but is an array of "+i.length+" elements"})),ye(i.length===s[0],(function(){return"Element arr["+o.join("][")+"] should have "+s[0]+" elements, but has "+i.length+" elements"}));for(var l=s.slice(1),u=0;u<i.length;++u)a(i[u],l,o.concat(u))})(e,n,[]),n}function $L(e,t,r,n){if(e!=null&&(e!=="numeric"&&e!==t||e==="numeric"&&t==="string"))throw new Error("Argument '"+r+"' passed to '"+n+"' must be "+e+" tensor, but got "+t+" tensor")}function he(e,t,r,n){if(n===void 0&&(n="numeric"),e instanceof oa)return $L(n,e.dtype,t,r),e;var a=t1(e);if(a!=="string"&&["bool","int32","float32"].indexOf(n)>=0&&(a=n),$L(n,a,t,r),e==null||!Cu(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string"){var i=e==null?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+r+"' must be a Tensor or TensorLike, but got '"+i+"'")}var s=zh(e,a);Cu(e)||Array.isArray(e)||(e=[e]);var o=a!=="string"?kJ(e,a,nt().getBool("DEBUG")):S0(e,[],!0);return Oe.makeTensor(o,s,a)}function Aw(e,t,r,n){if(n===void 0&&(n="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+r+" must be a `Tensor[]` or `TensorLike[]`");return e.map((function(a,i){return he(a,t+"["+i+"]",r)}),n)}function LJ(e,t){for(var r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0}function mye(e,t,r){for(var n=e.length+t.length,a=[],i=0,s=0,o=0;o<n;o++)r.indexOf(o)===-1?a.push(e[i++]):a.push(t[s++]);return a}function ps(e,t){for(var r=[],n=e.length,a=0;a<n;a++)t.indexOf(a)===-1&&r.push(e[a]);return[r,t.map((function(i){return e[i]}))]}function bo(e,t){return mye(e,t.map((function(r){return 1})),t)}function Vo(e,t,r){ye(LJ(t,r),(function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+r+" input."}))}function Uu(e,t){if(LJ(e,t))return null;for(var r=[],n=0;n<t;++n)e.indexOf(n)===-1&&r.push(n);return e.forEach((function(a){return r.push(a)})),r}function DD(e){return e.map((function(t,r){return[r,t]})).sort((function(t,r){return t[1]-r[1]})).map((function(t){return t[0]}))}function $u(e,t){for(var r=[],n=t-e;n<t;++n)r.push(n);return r}function gye(e,t){var r=e[0].length;e.forEach((function(a,i){ye(a.length===r,(function(){return"Error in concat"+r+"D: rank of tensors["+i+"] must be the same as the rank of the rest ("+r+")"}))})),ye(t>=0&&t<r,(function(){return"Error in concat"+r+"D: axis must be between 0 and "+(r-1)+"."}));var n=e[0];e.forEach((function(a,i){for(var s=0;s<r;s++)ye(s===t||a[s]===n[s],(function(){return"Error in concat"+r+"D: Shape of tensors["+i+"] ("+a+") does not match the shape of the rest ("+n+") along the non-concatenated axis "+i+"."}))}))}function C0(e,t){for(var r=e[0].slice(),n=1;n<e.length;n++)r[t]+=e[n][t];return r}function Ce(e){var t=Object.keys(e);if(t.length!==1)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var r=t[0],n=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1));var a=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];Oe.startScope(r);try{var o=n.apply(void 0,i);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),Oe.endScope(o),o}catch(l){throw Oe.endScope(null),l}};return Object.defineProperty(a,"name",{value:r,configurable:!0}),a}dr.registerFlag("HAS_WEBGL",(function(){return dr.getNumber("WEBGL_VERSION")>0})),dr.registerFlag("WEBGL_VERSION",(function(){return UL(2)?2:UL(1)?1:0})),dr.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return dr.get("WEBGL_VERSION")===2})),dr.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),dr.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),dr.registerFlag("WEBGL_PACK",(function(){return dr.getBool("HAS_WEBGL")})),dr.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_PACK_CLIP",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return!1})),dr.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_PACK_REDUCE",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_CONV_IM2COL",(function(){return dr.getBool("WEBGL_PACK")})),dr.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return lye(dr.getNumber("WEBGL_VERSION"))})),dr.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return cye(dr.getNumber("WEBGL_VERSION"))})),dr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=dr.getNumber("WEBGL_VERSION");return e===0?0:uye(e)})),dr.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return dr.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e})),dr.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return dye(dr.getNumber("WEBGL_VERSION"))})),dr.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!dr.getBool("WEBGL_FORCE_F16_TEXTURES")&&dr.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),dr.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return fye(dr.getNumber("WEBGL_VERSION"))})),dr.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return hye(dr.getNumber("WEBGL_VERSION"))})),dr.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return dr.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),OJ=RJ;var Bi=Ce({complex_:function(e,t){var r=he(e,"real","complex"),n=he(t,"imag","complex");return rn(r.shape,n.shape,"real and imag shapes, "+r.shape+" and "+n.shape+", must match in call to tf.complex()."),Oe.runKernelFunc((function(a){return a.complex(r,n)}),{$real:r,$imag:n})}}),$l=Ce({real_:function(e){var t=he(e,"input","real");return Oe.runKernelFunc((function(r){return r.real(t)}),{$input:t})}}),mu=Ce({imag_:function(e){var t=he(e,"input","imag");return Oe.runKernelFunc((function(r){return r.imag(t)}),{$input:t})}});function Ui(e,t,r){return Wh(e,t,zh(e,r),r)}function Wh(e,t,r,n){if(n==null&&(n=t1(e)),n==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!Cu(e)&&!Array.isArray(e)&&typeof e!="number"&&typeof e!="boolean"&&typeof e!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(t!=null){DJ(t);var a=Ut(t),i=Ut(r);ye(a===i,(function(){return"Based on the provided shape, ["+t+"], the tensor should have "+a+" values but has "+i}));for(var s=0;s<r.length;++s){var o=r[s],l=s!==r.length-1||o!==Ut(t.slice(s));ye(r[s]===t[s]||!l,(function(){return"Error creating a new Tensor. Inferred shape ("+r+") does not match the provided shape ("+t+"). "}))}}return Cu(e)||Array.isArray(e)||(e=[e]),t=t||r,e=n!=="string"?kJ(e,n,nt().getBool("DEBUG")):S0(e,[],!0),Oe.makeTensor(e,t,n)}function St(e,t){if((Cu(e)&&t!=="string"||Array.isArray(e))&&t!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(t==="string"&&Cu(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return Wh(e,[],[],t)}function $a(e,t){Z0(e);var r=zh(e,t);if(r.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return Wh(e,null,r,t)}function Nh(e,t,r){if(Z0(e),t!=null&&t.length!==2)throw new Error("tensor2d() requires shape to have two numbers");var n=zh(e,r);if(n.length!==2&&n.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return Wh(e,t,n,r)}function TD(e,t,r){if(Z0(e),t!=null&&t.length!==3)throw new Error("tensor3d() requires shape to have three numbers");var n=zh(e,r);if(n.length!==3&&n.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return Wh(e,t,n,r)}function fo(e,t,r){if(Z0(e),t!=null&&t.length!==4)throw new Error("tensor4d() requires shape to have four numbers");var n=zh(e,r);if(n.length!==4&&n.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return Wh(e,t,n,r)}function vye(e,t,r){if(Z0(e),t!=null&&t.length!==5)throw new Error("tensor5d() requires shape to have five numbers");var n=zh(e,r);if(n.length!==5&&n.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return Wh(e,t,n,r)}function xye(e,t,r){if(Z0(e),t!=null&&t.length!==6)throw new Error("tensor6d() requires shape to have six numbers");var n=zh(e,r);if(n.length!==6&&n.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(n.length===1&&t==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return Wh(e,t=t||n,n,r)}function yye(e,t,r,n){return t===void 0&&(t=!0),Oe.makeVariable(e,t,r,n)}function Q0(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var r=Q0(e,"float32"),n=Dn(e,"float32");return Bi(r,n)}var a=AJ(Ut(e),t);return Oe.makeTensor(a,e,t)}function Dn(e,t){if(t===void 0&&(t="float32"),t==="complex64"){var r=Dn(e,"float32"),n=Dn(e,"float32");return Bi(r,n)}var a=r1(Ut(e),t);return Oe.makeTensor(a,e,t)}function Eu(e,t,r){return Oe.runKernelFunc((function(n){return n.fill(e,t,r)}),{})}function bye(e,t,r){if(r<=0)throw new Error("The number of values should be positive.");return Oe.runKernelFunc((function(n){return n.linspace(e,t,r)}),{})}function Dw(e,t,r,n){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r===0)throw new Error("Cannot have a step of zero");if(e===t||e<t&&r<0||t<e&&r>1)return Dn([0],n);var a=r1(Math.abs(Math.ceil((t-e)/r)),n);t<e&&r===1&&(r=-1),a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+r;return $a(a,n)}var FJ=Ce({onesLike_:function(e){var t=he(e,"x","onesLike");if(t.dtype==="complex64"){var r=FJ($l(t)),n=Mr(mu(t));return Bi(r,n)}return Oe.runKernelFunc((function(a){return a.onesLike(t)}),{$x:t},(function(a,i){return{$x:function(){return Mr(a)}}}))}}),Mr=Ce({zerosLike_:function(e){var t=he(e,"x","zerosLike");return Oe.runKernelFunc((function(r){return r.zerosLike(t)}),{$x:t},(function(r,n){return{$x:function(){return Mr(r)}}}))}}),ai=Ce({concat_:function(e,t){t===void 0&&(t=0),ye(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var r=Aw(e,"tensors","concat");r[0].dtype==="complex64"&&r.forEach((function(o){if(o.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype `+o.dtype+". ")})),t=li(t,r[0].shape)[0];var n=C0(r.map((function(o){return o.shape})),t);if(Ut(n)===0)return Ui([],n);if((r=r.filter((function(o){return o.size>0}))).length===1)return r[0];var a=r.map((function(o){return o.shape}));gye(a,t);var i=r,s={axis:t};return Oe.runKernelFunc((function(o){return o.concat(r,t)}),i,(function(o){var l=a.map((function(u){return u[t]}));return OD(o,l,t).map((function(u){return function(){return u}}))}),"Concat",s)}}),wye=Ce({concat1d_:function(e){return ai(e,0)}}),Nye=Ce({concat2d_:function(e,t){return ai(e,t)}}),Sye=Ce({concat3d_:function(e,t){return ai(e,t)}}),jye=Ce({concat4d_:function(e,t){return ai(e,t)}}),OD=Ce({split_:function(e,t,r){r===void 0&&(r=0);var n,a=he(e,"x","split");return r=li(r,a.shape)[0],typeof t=="number"?(ye(a.shape[r]%t==0,(function(){return"Number of splits must evenly divide the axis."})),n=new Array(t).fill(a.shape[r]/t)):(ye(a.shape[r]===t.reduce((function(i,s){return i+s})),(function(){return"The sum of sizes must match the size of the axis dimension."})),n=t),Oe.runKernelFunc((function(i){return i.split(a,n,r)}),{$x:a},(function(i){return{$x:function(){return ai(i,r)}}}))}});function Om(e,t){return e(t={exports:{}},t.exports),t.exports}var Cye=Om((function(e){(function(t,r,n){function a(o){var l,u=this,d=(l=4022871197,function(f){f=f.toString();for(var p=0;p<f.length;p++){var h=.02519603282416938*(l+=f.charCodeAt(p));h-=l=h>>>0,l=(h*=l)>>>0,l+=4294967296*(h-=l)}return 23283064365386963e-26*(l>>>0)});u.next=function(){var f=2091639*u.s0+23283064365386963e-26*u.c;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=0|f)},u.c=1,u.s0=d(" "),u.s1=d(" "),u.s2=d(" "),u.s0-=d(o),u.s0<0&&(u.s0+=1),u.s1-=d(o),u.s1<0&&(u.s1+=1),u.s2-=d(o),u.s2<0&&(u.s2+=1),d=null}function i(o,l){return l.c=o.c,l.s0=o.s0,l.s1=o.s1,l.s2=o.s2,l}function s(o,l){var u=new a(o),d=l&&l.state,f=u.next;return f.int32=function(){return 4294967296*u.next()|0},f.double=function(){return f()+11102230246251565e-32*(2097152*f()|0)},f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}r&&r.exports?r.exports=s:this.alea=s})(0,e)})),_ye=Om((function(e){(function(t,r,n){function a(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},o===(0|o)?l.x=o:u+=o;for(var d=0;d<u.length+64;d++)l.x^=0|u.charCodeAt(d),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function s(o,l){var u=new a(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(p===0);return p},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}r&&r.exports?r.exports=s:this.xor128=s})(0,e)})),Eye=Om((function(e){(function(t,r,n){function a(o){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^f^f<<1)|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(0|o)?l.x=o:u+=o;for(var d=0;d<u.length+64;d++)l.x^=0|u.charCodeAt(d),d==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function s(o,l){var u=new a(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(p===0);return p},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}r&&r.exports?r.exports=s:this.xorwow=s})(0,e)})),Pye=Om((function(e){(function(t,r,n){function a(o){var l=this;l.next=function(){var u,d,f=l.x,p=l.i;return u=f[p],d=(u^=u>>>7)^u<<24,d^=(u=f[p+1&7])^u>>>10,d^=(u=f[p+3&7])^u>>>3,d^=(u=f[p+4&7])^u<<7,u=f[p+7&7],d^=(u^=u<<13)^u<<9,f[p]=d,l.i=p+1&7,d},(function(u,d){var f,p=[];if(d===(0|d))p[0]=d;else for(d=""+d,f=0;f<d.length;++f)p[7&f]=p[7&f]<<15^d.charCodeAt(f)+p[f+1&7]<<13;for(;p.length<8;)p.push(0);for(f=0;f<8&&p[f]===0;++f);for(f==8?p[7]=-1:p[f],u.x=p,u.i=0,f=256;f>0;--f)u.next()})(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function s(o,l){o==null&&(o=+new Date);var u=new a(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(p===0);return p},f.int32=u.next,f.quick=f,d&&(d.x&&i(d,u),f.state=function(){return i(u,{})}),f}r&&r.exports?r.exports=s:this.xorshift7=s})(0,e)})),kye=Om((function(e){(function(t,r,n){function a(o){var l=this;l.next=function(){var u,d,f=l.w,p=l.X,h=l.i;return l.w=f=f+1640531527|0,d=p[h+34&127],u=p[h=h+1&127],d^=d<<13,u^=u<<17,d^=d>>>15,u^=u>>>12,d=p[h]=d^u,l.i=h,d+(f^f>>>16)|0},(function(u,d){var f,p,h,g,y,x=[],b=128;for(d===(0|d)?(p=d,d=null):(d+="\0",p=0,b=Math.max(b,d.length)),h=0,g=-32;g<b;++g)d&&(p^=d.charCodeAt((g+32)%d.length)),g===0&&(y=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,g>=0&&(y=y+1640531527|0,h=(f=x[127&g]^=p+y)==0?h+1:0);for(h>=128&&(x[127&(d&&d.length||0)]=-1),h=127,g=512;g>0;--g)p=x[h+34&127],f=x[h=h+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,x[h]=p^f;u.w=y,u.X=x,u.i=h})(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function s(o,l){o==null&&(o=+new Date);var u=new a(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(p===0);return p},f.int32=u.next,f.quick=f,d&&(d.X&&i(d,u),f.state=function(){return i(u,{})}),f}r&&r.exports?r.exports=s:this.xor4096=s})(0,e)})),Aye=Om((function(e){(function(t,r,n){function a(o){var l=this,u="";l.next=function(){var f=l.b,p=l.c,h=l.d,g=l.a;return f=f<<25^f>>>7^p,p=p-h|0,h=h<<24^h>>>8^g,g=g-f|0,l.b=f=f<<20^f>>>12^p,l.c=p=p-h|0,l.d=h<<16^p>>>16^g,l.a=g-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=0|o):u+=o;for(var d=0;d<u.length+20;d++)l.b^=0|u.charCodeAt(d),l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function s(o,l){var u=new a(o),d=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var p=((u.next()>>>11)+(u.next()>>>0)/4294967296)/2097152;while(p===0);return p},f.int32=u.next,f.quick=f,d&&(typeof d=="object"&&i(d,u),f.state=function(){return i(u,{})}),f}r&&r.exports?r.exports=s:this.tychei=s})(0,e)})),Rp=Om((function(e){(function(t,r){var n,a=this,i=256,s=6,o="random",l=r.pow(i,s),u=r.pow(2,52),d=2*u,f=i-1;function p(b,N,j){var w=[],C=y((function D(O,L){var R,P=[],F=typeof O;if(L&&F=="object")for(R in O)try{P.push(D(O[R],L-1))}catch{}return P.length?P:F=="string"?O:O+"\0"})((N=N==1?{entropy:!0}:N||{}).entropy?[b,x(t)]:b??(function(){try{var D;return n&&(D=n.randomBytes)?D=D(i):(D=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(D)),x(D)}catch{var O=a.navigator,L=O&&O.plugins;return[+new Date,a,L,a.screen,x(t)]}})(),3),w),E=new h(w),I=function(){for(var D=E.g(s),O=l,L=0;D<u;)D=(D+L)*i,O*=i,L=E.g(1);for(;D>=d;)D/=2,O/=2,L>>>=1;return(D+L)/O};return I.int32=function(){return 0|E.g(4)},I.quick=function(){return E.g(4)/4294967296},I.double=I,y(x(E.S),t),(N.pass||j||function(D,O,L,R){return R&&(R.S&&g(R,E),D.state=function(){return g(E,{})}),L?(r[o]=D,O):D})(I,C,"global"in N?N.global:this==r,N.state)}function h(b){var N,j=b.length,w=this,C=0,E=w.i=w.j=0,I=w.S=[];for(j||(b=[j++]);C<i;)I[C]=C++;for(C=0;C<i;C++)I[C]=I[E=f&E+b[C%j]+(N=I[C])],I[E]=N;(w.g=function(D){for(var O,L=0,R=w.i,P=w.j,F=w.S;D--;)O=F[R=f&R+1],L=L*i+F[f&(F[R]=F[P=f&P+O])+(F[P]=O)];return w.i=R,w.j=P,L})(i)}function g(b,N){return N.i=b.i,N.j=b.j,N.S=b.S.slice(),N}function y(b,N){for(var j,w=b+"",C=0;C<w.length;)N[f&C]=f&(j^=19*N[f&C])+w.charCodeAt(C++);return x(N)}function x(b){return String.fromCharCode.apply(0,b)}if(r["seed"+o]=p,y(r.random(),t),e.exports){e.exports=p;try{n=require("crypto")}catch{}}})([],Math)}));Rp.alea=Cye,Rp.xor128=_ye,Rp.xorwow=Eye,Rp.xorshift7=Pye,Rp.xor4096=kye,Rp.tychei=Aye;var f4=Rp.alea,ID=(function(){function e(t,r,n,a,i){this.mean=t,this.stdDev=r,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var s=i||Math.random();this.random=f4(s.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var t=this.nextVal;return this.nextVal=NaN,t}for(var r,n,a=!1;!a;){var i=void 0,s=void 0,o=void 0;do o=(i=2*this.random()-1)*i+(s=2*this.random()-1)*s;while(o>=1||o===0);var l=Math.sqrt(-2*Math.log(o)/o);r=this.mean+this.stdDev*i*l,n=this.mean+this.stdDev*s*l,this.truncated&&!this.isValidTruncated(r)||(a=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(r)},e.prototype.convertValue=function(t){return this.dtype==null||this.dtype==="float32"?t:Math.round(t)},e.prototype.isValidTruncated=function(t){return t<=this.upper&&t>=this.lower},e})(),Dye=(function(){function e(t,r,n,a){this.alpha=t,this.beta=1/r,this.dtype=n;var i=a||Math.random();this.randu=f4(i.toString()),this.randn=new ID(0,1,n,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var t,r,n,a,i,s;;){do a=this.randn.nextValue(),s=1+this.c*a;while(s<=0);if(s*=s*s,r=1-.331*(t=a*a)*t,n=.5*t+this.d*(1-s+Math.log(s)),(i=this.randu())<r||Math.log(i)<n)break}return s=1/this.beta*this.d*s,this.alpha<1&&(s*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(s)},e.prototype.convertValue=function(t){return this.dtype==="float32"?t:Math.round(t)},e})(),Tye=(function(){function e(t,r,n,a){var i=this;if(t===void 0&&(t=0),r===void 0&&(r=1),this.canReturnFloat=function(){return i.dtype==null||i.dtype==="float32"},this.min=t,this.range=r-t,this.dtype=n,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+t+" - "+r+" <= 1 and dtype is not float");this.random=f4(a)}return e.prototype.convertValue=function(t){return this.canReturnFloat()?t:Math.round(t)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e})();function vr(e,t,r){return t===void 0&&(t="float32"),t=t||"float32",DJ(e),new cy(e,t,r)}function Oye(e,t){t===void 0&&(t=!1),console.log(e.toString(t))}var BJ=Ce({batchToSpaceND_:function(e,t,r){var n=he(e,"x","batchToSpaceND"),a=t.reduce((function(i,s){return i*s}));return ye(n.rank>=1+t.length,(function(){return"input rank is "+n.rank+" but should be > than blockShape.length "+t.length})),ye(r.length===t.length,(function(){return"crops.length is "+r.length+" but should be equal to blockShape.length  "+t.length})),ye(n.shape[0]%a==0,(function(){return"input tensor batch is "+n.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+a})),Oe.runKernelFunc((function(i){return i.batchToSpaceND(n,t,r)}),{$x:n},(function(i){return{$x:function(){return i.spaceToBatchND(t,r)}}}))}}),Iye=Ce({broadcastTo_:function(e,t){var r=he(e,"broadcastTo","x"),n=r.shape;if(t.some((function(l){return!(l>0)||l%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<r.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+r.rank+".");if(t.length>r.rank){for(var a=r.shape.slice();a.length<t.length;)a.unshift(1);r=r.reshape(a)}for(var i=Array.from(t),s=t.length-1;s>=0;s--)if(r.shape[s]===t[s])i[s]=1;else if(r.shape[s]!==1)throw new Error("broadcastTo(): ["+n+"] cannot be broadcast to ["+t+"].");var o=i.map((function(l,u){return l>1?u:-1})).filter((function(l){return l>=0}));return o.length===0?r.clone():Oe.runKernelFunc((function(l){return l.tile(r,i)}),{input:r},(function(l){return{input:function(){return l.sum(o,!0)}}}))}}),Mye=Ce({cast_:function(e,t){var r=he(e,"x","cast");if(!Exe(t))throw new Error("Failed to cast to unknown dtype "+t);if(t==="string"&&r.dtype!=="string"||t!=="string"&&r.dtype==="string")throw new Error("Only strings can be casted to strings");var n={dtype:t};return Oe.runKernelFunc((function(a){return a.cast(r,t)}),{x:r},(function(a){return{x:function(){return a.clone()}}}),"Cast",n)}}),Rye=Ce({clone_:function(e){var t=he(e,"x","clone",null);return Oe.runKernelFunc((function(){return Oe.makeTensorFromDataId(t.dataId,t.shape,t.dtype)}),{$x:t},(function(r){return{$x:function(){return r.toFloat()}}}))}}),Lye=Ce({cumsum_:function(e,t,r,n){t===void 0&&(t=0),r===void 0&&(r=!1),n===void 0&&(n=!1);var a=he(e,"x","cumsum"),i=Uu([t|=0],a.rank),s=a;i!=null&&(s=a.transpose(i));var o=$u(1,a.rank)[0],l=Oe.runKernelFunc((function(u){return u.cumsum(s,o,r,n)}),{permutedX:s},(function(u){return{permutedX:function(){return u.cumsum(t,r,!n)}}}));return i!=null&&(l=l.transpose(i)),l}}),Fye=Ce({depthToSpace_:function(e,t,r){r===void 0&&(r="NHWC");var n=he(e,"x","depthToSpace"),a=r==="NHWC"?n.shape[1]:n.shape[2],i=r==="NHWC"?n.shape[2]:n.shape[3],s=r==="NHWC"?n.shape[3]:n.shape[1];return ye(a*t>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+a+" and "+t+`  for depthToSpace with input shape
      `+n.shape})),ye(i*t>=0,(function(){return`Negative dimension size caused by overflow when multiplying
      `+i+" and "+t+` for depthToSpace with input shape
          `+n.shape})),ye(s%(t*t)==0,(function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+s+" for depthToSpace with input shape "+n.shape})),Oe.runKernelFunc((function(o){return o.depthToSpace(n,t,r)}),{$x:n})}}),zl=Ce({expandDims_:function(e,t){t===void 0&&(t=0);var r=he(e,"x","expandDims",null);ye(t<=r.rank,(function(){return"Axis must be <= rank of the tensor"}));var n=r.shape.slice();return t<0&&(ye(-(r.rank+1)<=t,(function(){return"Axis must be in the interval ["+-(r.rank+1)+", "+r.rank+"]"})),t=r.rank+t+1),n.splice(t,0,1),kc(r,n)}}),zJ=Ce({eye_:function(e,t,r,n){n===void 0&&(n="float32"),t==null&&(t=e);for(var a=vr([e,t],n),i=e<=t?e:t,s=0;s<i;++s)a.set(1,s,s);var o=a.toTensor().as2D(e,t);if(r==null)return o;if(r.length===1)return a0(zl(o,0),[r[0],1,1]);if(r.length===2)return a0(zl(zl(o,0),0),[r[0],r[1],1,1]);if(r.length===3)return a0(zl(zl(zl(o,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+r.length+"D.")}}),Bye=Ce({multinomial_:function(e,t,r,n){n===void 0&&(n=!1);var a=he(e,"logits","multinomial"),i=a.size,s=a.rank;if(i<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+i+".");if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+s);r=r||Math.random();var o=s===1?a.as2D(1,-1):a,l=Oe.runKernelFunc((function(u){return u.multinomial(o,n,t,r)}),{logits2D:o});return s===1?l.as1D():l}}),kk=Ce({oneHot_:function(e,t,r,n){if(r===void 0&&(r=1),n===void 0&&(n=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var a=he(e,"indices","oneHot","int32"),i=a.shape.concat([t]);return a=a.flatten(),Oe.runKernelFunc((function(s){return s.oneHot(a,t,r,n)}),{$indices:a},(function(s){return{$indices:function(){return Dn(a.shape,"float32")}}})).reshape(i)}}),Im=Ce({pad_:function(e,t,r){r===void 0&&(r=0);var n=he(e,"x","pad");if(n.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var a={paddings:t,constantValue:r};return Oe.runKernelFunc((function(i){return i.pad(n,t,r)}),{x:n},(function(i){var s=t.map((function(o){return o[0]}));return{x:function(){return i.slice(s,n.shape)}}}),"PadV2",a)}}),zye=Ce({pad1d_:function(e,t,r){return r===void 0&&(r=0),ye(t.length===2,(function(){return"Invalid number of paddings. Must be length of 2."})),Im(e,[t],r)}}),Wye=Ce({pad2d_:function(e,t,r){return r===void 0&&(r=0),ye(t.length===2&&t[0].length===2&&t[1].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Im(e,t,r)}}),Uye=Ce({pad3d_:function(e,t,r){return r===void 0&&(r=0),ye(t.length===3&&t[0].length===2&&t[1].length===2&&t[2].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Im(e,t,r)}}),$ye=Ce({pad4d_:function(e,t,r){return r===void 0&&(r=0),ye(t.length===4&&t[0].length===2&&t[1].length===2&&t[2].length===2&&t[3].length===2,(function(){return"Invalid number of paddings. Must be length of 2 each."})),Im(e,t,r)}}),qye=Ce({rand_:function(e,t,r){var n=Ut(e),a=null;if(r==null||r==="float32")a=new Float32Array(n);else if(r==="int32")a=new Int32Array(n);else{if(r!=="bool")throw new Error("Unknown data type "+r);a=new Uint8Array(n)}for(var i=0;i<n;i++)a[i]=t();return Oe.makeTensor(a,e,r)}}),Vye=Ce({randomNormal_:function(e,t,r,n,a){if(t===void 0&&(t=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var i=new ID(t,r,n,!1,a),s=vr(e,n),o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}}),Hye=Ce({randomGamma_:function(e,t,r,n,a){if(r===void 0&&(r=1),n===void 0&&(n="float32"),r==null&&(r=1),n==null&&(n="float32"),n!=="float32"&&n!=="int32")throw new Error("Unsupported data type "+n);for(var i=new Dye(t,r,n,a),s=vr(e,n),o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}}),WJ=Ce({randomUniform_:function(e,t,r,n,a){t===void 0&&(t=0),r===void 0&&(r=1),n===void 0&&(n="float32");for(var i=vr(e,n),s=new Tye(t,r,null,a),o=0;o<i.values.length;o++)i.values[o]=s.nextValue();return i.toTensor()}}),kc=Ce({reshape_:function(e,t){var r=he(e,"x","reshape",null);t=Cxe(t,r.size),ye(r.size===Ut(t),(function(){return"new shape and old shape must have the same number of elements."}));var n={shape:t};return Oe.runKernelFunc((function(a){return a.reshape(r,t)}),{x:r},(function(a){return{x:function(){return a.reshape(r.shape)}}}),"Reshape",n)}}),UJ=Ce({spaceToBatchND_:function(e,t,r){var n=he(e,"x","spaceToBatchND");return ye(n.rank>=1+t.length,(function(){return"input rank "+n.rank+" should be > than [blockShape] "+t.length})),ye(r.length===t.length,(function(){return"paddings.shape[0] "+r.length+" must be equal to [blockShape] "+t.length})),ye(n.shape.reduce((function(a,i,s){return s>0&&s<=t.length?a&&(i+r[s-1][0]+r[s-1][1])%t[s-1]==0:a}),!0),(function(){return"input spatial dimensions "+n.shape.slice(1)+" with paddings "+r.toString()+" must be divisible by blockShapes "+t.toString()})),Oe.runKernelFunc((function(a){return a.spaceToBatchND(n,t,r)}),{$x:n},(function(a){return{$x:function(){return a.batchToSpaceND(t,r)}}}))}}),$J=Ce({squeeze_:function(e,t){var r=he(e,"x","squeeze");return kc(r,Up(r.shape,t).newShape)}}),nl=Ce({stack_:function(e,t){t===void 0&&(t=0);var r=Aw(e,"tensors","stack");if(ye(r.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),r.length===1)return r[0].expandDims(t);var n=r[0].rank,a=r[0].shape,i=r[0].dtype;ye(t<=n,(function(){return"Axis must be <= rank of the tensor"})),r.forEach((function(o){rn(a,o.shape,"All tensors passed to stack must have matching shapes")})),r.forEach((function(o){ye(i===o.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=r.map((function(o){return o.expandDims(t)}));return ai(s,t)}}),a0=Ce({tile_:function(e,t){var r=he(e,"x","tile",null);ye(r.rank===t.length,(function(){return"Error in transpose: rank of input "+r.rank+" must match length of reps "+t+"."}));var n=[r],a={reps:t};return Oe.runKernelFunc((function(i,s){var o=i.tile(r,t);return s([r]),o}),{x:r},(function(i,s){var o=s[0];return{x:function(){var l=Mr(o);if(o.rank===1)for(var u=0;u<t[0];++u)l=l.add(i.slice([u*o.shape[0]],[o.shape[0]]));else if(o.rank===2)for(u=0;u<t[0];++u)for(var d=0;d<t[1];++d)l=l.add(i.slice([u*o.shape[0],d*o.shape[1]],[o.shape[0],o.shape[1]]));else if(o.rank===3)for(u=0;u<t[0];++u)for(d=0;d<t[1];++d)for(var f=0;f<t[2];++f)l=l.add(i.slice([u*o.shape[0],d*o.shape[1],f*o.shape[2]],[o.shape[0],o.shape[1],o.shape[2]]));else{if(o.rank!==4)throw new Error("Gradient for tile operation is not implemented for rank-"+o.rank+" tensors yet.");for(u=0;u<t[0];++u)for(d=0;d<t[1];++d)for(f=0;f<t[2];++f)for(var p=0;p<t[3];++p)l=l.add(i.slice([u*o.shape[0],d*o.shape[1],f*o.shape[2],p*o.shape[3]],[o.shape[0],o.shape[1],o.shape[2],o.shape[3]]))}return l}}}),"Tile",a,n)}}),Gye=Ce({truncatedNormal_:function(e,t,r,n,a){if(t===void 0&&(t=0),r===void 0&&(r=1),n!=null&&n==="bool")throw new Error("Unsupported data type "+n);for(var i=new ID(t,r,n,!0,a),s=vr(e,n),o=0;o<s.values.length;o++)s.values[o]=i.nextValue();return s.toTensor()}}),ii=Ce({unstack_:function(e,t){t===void 0&&(t=0),t=t||0;var r=he(e,"x","unstack");ye(t>=-r.shape.length&&t<r.shape.length,(function(){return"Axis = "+t+" is not in [-"+r.shape.length+", "+r.shape.length+")"})),t<0&&(t+=r.shape.length);var n={axis:t};return Oe.runKernelFunc((function(a){return a.unstack(r,t)}),{x:r},(function(a){return{x:function(){return nl(a,t)}}}),"Unpack",n)}}),Yye=function(e,t){return Rt(this,void 0,void 0,(function(){var r,n,a,i,s,o,l,u,d,f;return Lt(this,(function(p){switch(p.label){case 0:return r=he(e,"x","setdiff1d"),n=he(t,"y","setdiff1d"),ye(r.dtype===n.dtype,(function(){return"x and y should have the same dtype, but got x ("+r.dtype+") and y ("+n.dtype+")."})),ye(r.rank===1,(function(){return"x should be 1D tensor, but got x ("+r.shape+")."})),ye(n.rank===1,(function(){return"y should be 1D tensor, but got y ("+n.shape+")."})),[4,r.data()];case 1:return a=p.sent(),[4,n.data()];case 2:for(i=p.sent(),s=new Set(i),o=0,d=0;d<a.length;d++)s.has(a[d])||o++;for(l=new cy([o],r.dtype),u=new cy([o],"int32"),d=0,f=0;d<a.length;d++)s.has(a[d])||(l.values[f]=a[d],u.values[f]=d,f++);return[2,[l.toTensor(),u.toTensor()]]}}))}))};function Tw(e,t,r,n){n===void 0&&(n=!0);var a=[];if(n)(a=a.concat(t.slice(0))).push(e[0]/r),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var i=t.length,s=0;s<i;++s)a=a.concat([e[s+1]/t[s],t[s]]);a=a.concat(e.slice(i+1))}return a}function Ow(e,t,r){r===void 0&&(r=!0);var n=[];if(r){n.push(t);for(var a=t+1;a<e;++a)a<=2*t?(n.push(a),n.push(a-(t+1))):n.push(a)}else{var i=[],s=[];for(a=1;a<e;++a)a>=2*t+1||a%2==1?s.push(a):i.push(a);n.push.apply(n,i),n.push(0),n.push.apply(n,s)}return n}function Iw(e,t,r,n){n===void 0&&(n=!0);var a=[];n?a.push(e[0]/r):a.push(e[0]*r);for(var i=1;i<e.length;++i)i<=t.length?n?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function qJ(e,t){for(var r=[0],n=0;n<t;++n)r.push(e[n][0]);return r}function VJ(e,t,r){for(var n=e.slice(0,1),a=0;a<r;++a)n.push(e[a+1]-t[a][0]-t[a][1]);return n}function HJ(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(t.dtype!=="int32")throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(e.size===0)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var r=t.shape,n=r[r.length-1],a=1,i=0;i<r.length-1;++i)a*=r[i];var s=e.shape,o=r.slice();o.pop();var l=1;for(i=n;i<e.rank;++i)l*=s[i],o.push(s[i]);var u=_u(e.shape).map((function(d){return d/l})).concat([1]).slice(0,n);return[o,a,l,u]}var GJ=30;function f6(e){return e<=GJ?e:Sk(e,Math.floor(Math.sqrt(e)))}function Kye(e,t,r){var n=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+r.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+n+", and batchDim: "+a+".";if(r.rank<a)throw new Error(i+" update.rank < "+a+". ");if(e.length<n+(r.rank-a))throw new Error(i+" Output shape length < "+(n+(r.rank-a)));if(r.rank!==a+e.length-n)throw new Error(i+" update.rank != "+(a+e.length-n));for(var s=0;s<a;++s)if(r.shape[s]!==t.shape[s])throw new Error(i+" updates.shape["+s+"] ("+r.shape[s]+") != indices.shape["+s+"] ("+t.shape[s]+").");for(s=0;s<r.rank-a;++s)if(r.shape[s+a]!==e[s+n])throw new Error(i+" updates.shape["+(s+a)+"] ("+r.shape[s+a]+") != shape["+(s+a)+"] ("+e[s+a]+")")}function Xye(e,t,r){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if(t.dtype!=="int32")throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+r);if(r.length===0){if(t.size===0)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(e.size===0)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}Kye(r,t,e)}function Mw(e,t,r){for(var n=t.shape.length,a=n>1?t.shape[n-1]:1,i=r.length,s=1,o=a;o<i;++o)s*=r[o];var l=a<1?1:a;return{sliceRank:a,numUpdates:Ut(t.shape)/l,sliceSize:s,strides:_u(r.slice(0,a)).concat([1]),outputSize:Ut(r)}}function Jye(e,t,r){ye(e.rank===t.length,(function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."})),ye(e.rank===r.length,(function(){return"Error in slice"+e.rank+"D: Length of size "+r+" must match the rank of the array ("+e.rank+")."}));for(var n=function(i){ye(t[i]+r[i]<=e.shape[i],(function(){return"Error in slice"+e.rank+"D: begin["+i+"] + size["+i+"] ("+(t[i]+r[i])+") would overflow input.shape["+i+"] ("+e.shape[i]+")"}))},a=0;a<e.rank;++a)n(a)}function qL(e){for(var t=[],r=0;e>0;)1&e&&t.push(r),e/=2,r++;return t}function MD(e,t,r){for(var n=[],a=0;a<e.length;a++)n[a]=Math.ceil((t[a]-e[a])/r[a]);return n}function Zye(e,t,r,n,a){var i=t[a],s=r[a]||1;(e&1<<a||i==null)&&(i=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var o=n[a];return i<0&&(i+=o),i=bk(0,i,o-1)}function Qye(e,t,r,n,a){var i=t[a],s=r[a]||1;(e&1<<a||i==null)&&(i=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var o=n[a];return i<0&&(i+=o),i=s>0?bk(0,i,o):bk(-1,i,o-1)}function YJ(e,t,r){for(var n=r.length,a=0;a<r.length;a++)if(r[a]>1){n=a;break}for(a=n+1;a<r.length;a++)if(t[a]>0||r[a]!==e[a])return!1;return!0}function KJ(e,t){for(var r=e.length>0?e[e.length-1]:1,n=0;n<e.length-1;n++)r+=e[n]*t[n];return r}function e1e(e,t){ye(Nk(e),(function(){return"The f passed in variableGrads(f) must be a function"})),ye(t==null||Array.isArray(t)&&t.every((function(d){return d instanceof j0})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var r=t!=null;if(!r)for(var n in t=[],Oe.registeredVariables)t.push(Oe.registeredVariables[n]);var a=r?t.filter((function(d){return!d.trainable})):null,i=t.length;ye((t=t.filter((function(d){return d.trainable}))).length>0,(function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+i+" variables is trainable."}));var s=Oe.gradients(e,t,null,!0),o=s.value,l=s.grads;ye(l.some((function(d){return d!=null})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),ye(o.rank===0,(function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+o.rank+" tensor"}));var u={};return t.forEach((function(d,f){l[f]!=null&&(u[d.name]=l[f])})),a?.forEach((function(d){return u[d.name]=null})),{value:o,grads:u}}function h4(e){return Oe.customGrad(e)}var df=Ce({softmax_:function(e,t){t===void 0&&(t=-1);var r=he(e,"logits","softmax","float32");if(t===-1&&(t=r.rank-1),t!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+r.rank+" and dim was "+t);return Oe.runKernelFunc((function(n,a){var i=n.softmax(r,t);return a([i]),i}),{logits:r},(function(n,a){var i=a[0],s=n.mul(i);return{logits:function(){return s.sub(s.sum([t],!0).mul(i))}}}),"Softmax",{dim:t},[],[!0])}}),t1e=Ce({logSoftmax_:function(e,t){t===void 0&&(t=-1);var r=he(e,"logits","logSoftmax");if(t===-1&&(t=r.rank-1),t!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+r.rank+" and axis was "+t);return h4((function(n,a){var i=n.max(t,!0),s=n.sub(i),o=s.toFloat().sub(s.exp().sum(t,!0).log());return a([o]),{value:o,gradFunc:function(l,u){var d=u[0].exp();return l.sub(l.sum(t,!0).mul(d))}}}))(r)}}),XJ=(function(){function e(t,r){this.backend=t,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(t){return this.data.has(t)||this.dataMover.moveData(this.backend,t),this.data.get(t)},e.prototype.set=function(t,r){this.dataIdsCount++,this.data.set(t,r)},e.prototype.has=function(t){return this.data.has(t)},e.prototype.delete=function(t){return this.dataIdsCount--,this.data.delete(t)},e.prototype.numDataIds=function(){return this.dataIdsCount},e})(),JJ=(function(){function e(){}return e.prototype.time=function(t){return Ye("time")},e.prototype.read=function(t){return Ye("read")},e.prototype.readSync=function(t){return Ye("readSync")},e.prototype.numDataIds=function(){return Ye("numDataIds")},e.prototype.disposeData=function(t){return Ye("disposeData")},e.prototype.write=function(t,r,n){return Ye("write")},e.prototype.move=function(t,r,n,a){return Ye("move")},e.prototype.memory=function(){return Ye("memory")},e.prototype.floatPrecision=function(){return Ye("floatPrecision")},e.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},e.prototype.batchMatMul=function(t,r,n,a){return Ye("batchMatMul")},e.prototype.fusedBatchMatMul=function(t){return t.a,t.b,t.transposeA,t.transposeB,t.bias,t.activation,t.preluActivationWeights,Ye("fusedBatchMatMul")},e.prototype.slice=function(t,r,n){return Ye("slice")},e.prototype.stridedSlice=function(t,r,n,a){return Ye("stridedSlice")},e.prototype.unstack=function(t,r){return Ye("unstack")},e.prototype.reverse=function(t,r){return Ye("reverse")},e.prototype.concat=function(t,r){return Ye("concat")},e.prototype.neg=function(t){return Ye("neg")},e.prototype.add=function(t,r){return Ye("add")},e.prototype.addN=function(t){return Ye("addN")},e.prototype.subtract=function(t,r){return Ye("subtract")},e.prototype.multiply=function(t,r){return Ye("multiply")},e.prototype.realDivide=function(t,r){return Ye("realDivide")},e.prototype.floorDiv=function(t,r){return Ye("floorDiv")},e.prototype.sum=function(t,r){return Ye("sum")},e.prototype.prod=function(t,r){return Ye("prod")},e.prototype.unsortedSegmentSum=function(t,r,n){return Ye("unsortedSegmentSum")},e.prototype.argMin=function(t,r){return Ye("argMin")},e.prototype.argMax=function(t,r){return Ye("argMax")},e.prototype.equal=function(t,r){return Ye("equal")},e.prototype.notEqual=function(t,r){return Ye("notEqual")},e.prototype.less=function(t,r){return Ye("less")},e.prototype.lessEqual=function(t,r){return Ye("lessEqual")},e.prototype.greater=function(t,r){return Ye("greater")},e.prototype.greaterEqual=function(t,r){return Ye("greaterEqual")},e.prototype.logicalNot=function(t){return Ye("logicalNot")},e.prototype.logicalAnd=function(t,r){return Ye("logicalAnd")},e.prototype.logicalOr=function(t,r){return Ye("logicalOr")},e.prototype.where=function(t){return Ye("where")},e.prototype.select=function(t,r,n){return Ye("select")},e.prototype.topk=function(t,r,n){return Ye("topk")},e.prototype.min=function(t,r){return Ye("min")},e.prototype.minimum=function(t,r){return Ye("minimum")},e.prototype.mod=function(t,r){return Ye("mod")},e.prototype.max=function(t,r){return Ye("max")},e.prototype.maximum=function(t,r){return Ye("maximum")},e.prototype.all=function(t,r){return Ye("all")},e.prototype.any=function(t,r){return Ye("any")},e.prototype.squaredDifference=function(t,r){return Ye("squaredDifference")},e.prototype.ceil=function(t){return Ye("ceil")},e.prototype.floor=function(t){return Ye("floor")},e.prototype.round=function(t){return Ye("round")},e.prototype.sign=function(t){return Ye("sign")},e.prototype.isNaN=function(t){return Ye("isNaN")},e.prototype.isInf=function(t){return Ye("isInf")},e.prototype.isFinite=function(t){return Ye("isFinite")},e.prototype.pow=function(t,r){return Ye("pow")},e.prototype.exp=function(t){return Ye("exp")},e.prototype.expm1=function(t){return Ye("expm1")},e.prototype.softmax=function(t,r){return Ye("softmax")},e.prototype.log=function(t){return Ye("log")},e.prototype.log1p=function(t){return Ye("log1p")},e.prototype.sqrt=function(t){return Ye("sqrt")},e.prototype.rsqrt=function(t){return Ye("rsqrt")},e.prototype.square=function(t){return Ye("square")},e.prototype.reciprocal=function(t){return Ye("reciprocal")},e.prototype.relu=function(t){return Ye("relu")},e.prototype.relu6=function(t){return Ye("relu6")},e.prototype.prelu=function(t,r){return Ye("prelu")},e.prototype.elu=function(t){return Ye("elu")},e.prototype.eluDer=function(t,r){return Ye("eluDer")},e.prototype.selu=function(t){return Ye("selu")},e.prototype.int=function(t){return Ye("int")},e.prototype.clip=function(t,r,n){return Ye("clip")},e.prototype.abs=function(t){return Ye("abs")},e.prototype.complexAbs=function(t){return Ye("complexAbs")},e.prototype.sigmoid=function(t){return Ye("sigmoid")},e.prototype.softplus=function(t){return Ye("softplus")},e.prototype.sin=function(t){return Ye("sin")},e.prototype.cos=function(t){return Ye("cos")},e.prototype.tan=function(t){return Ye("tan")},e.prototype.asin=function(t){return Ye("asin")},e.prototype.acos=function(t){return Ye("acos")},e.prototype.atan=function(t){return Ye("atan")},e.prototype.atan2=function(t,r){return Ye("atan2")},e.prototype.sinh=function(t){return Ye("sinh")},e.prototype.cosh=function(t){return Ye("cosh")},e.prototype.tanh=function(t){return Ye("tanh")},e.prototype.asinh=function(t){return Ye("asinh")},e.prototype.acosh=function(t){return Ye("acosh")},e.prototype.atanh=function(t){return Ye("atanh")},e.prototype.erf=function(t){return Ye("erf")},e.prototype.step=function(t,r){return Ye("step")},e.prototype.fusedConv2d=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ye("fusedConv2d")},e.prototype.conv2d=function(t,r,n){return Ye("conv2d")},e.prototype.conv2dDerInput=function(t,r,n){return Ye("conv2dDerInput")},e.prototype.conv2dDerFilter=function(t,r,n){return Ye("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(t){return t.input,t.filter,t.convInfo,t.bias,t.activation,t.preluActivationWeights,Ye("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(t,r,n){return Ye("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(t,r,n){return Ye("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(t,r,n){return Ye("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(t,r,n){return Ye("conv3d")},e.prototype.conv3dDerInput=function(t,r,n){return Ye("conv3dDerInput")},e.prototype.conv3dDerFilter=function(t,r,n){return Ye("conv3dDerFilter")},e.prototype.maxPool=function(t,r){return Ye("maxPool")},e.prototype.maxPoolBackprop=function(t,r,n,a){return Ye("maxPoolBackprop")},e.prototype.avgPool=function(t,r){return Ye("avgPool")},e.prototype.avgPoolBackprop=function(t,r,n){return Ye("avgPoolBackprop")},e.prototype.avgPool3d=function(t,r){return Ye("avgPool3d")},e.prototype.avgPool3dBackprop=function(t,r,n){return Ye("avgPool3dBackprop")},e.prototype.maxPool3d=function(t,r){return Ye("maxPool3d")},e.prototype.maxPool3dBackprop=function(t,r,n,a){return Ye("maxPool3dBackprop")},e.prototype.reshape=function(t,r){return Ye("reshape")},e.prototype.cast=function(t,r){return Ye("cast")},e.prototype.tile=function(t,r){return Ye("tile")},e.prototype.pad=function(t,r,n){return Ye("pad")},e.prototype.transpose=function(t,r){return Ye("transpose")},e.prototype.gather=function(t,r,n){return Ye("gather")},e.prototype.gatherND=function(t,r){return Ye("gatherND")},e.prototype.scatterND=function(t,r,n){return Ye("scatterND")},e.prototype.batchToSpaceND=function(t,r,n){return Ye("batchToSpaceND")},e.prototype.spaceToBatchND=function(t,r,n){return Ye("spaceToBatchND")},e.prototype.resizeBilinear=function(t,r,n,a){return Ye("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(t,r,n){return Ye("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(t,r,n,a){return Ye("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(t,r,n){return Ye("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(t,r,n,a,i,s){return Ye("batchNormalization")},e.prototype.localResponseNormalization4D=function(t,r,n,a,i){return Ye("localResponseNormalization4D")},e.prototype.LRNGrad=function(t,r,n,a,i,s,o){return Ye("LRNGrad")},e.prototype.multinomial=function(t,r,n,a){return Ye("multinomial")},e.prototype.oneHot=function(t,r,n,a){return Ye("oneHot")},e.prototype.cumsum=function(t,r,n,a){return Ye("cumsum")},e.prototype.nonMaxSuppression=function(t,r,n,a,i){return Ye("nonMaxSuppression")},e.prototype.fft=function(t){return Ye("fft")},e.prototype.ifft=function(t){return Ye("ifft")},e.prototype.complex=function(t,r){return Ye("complex")},e.prototype.real=function(t){return Ye("real")},e.prototype.imag=function(t){return Ye("imag")},e.prototype.cropAndResize=function(t,r,n,a,i,s){return Ye("cropAndResize")},e.prototype.depthToSpace=function(t,r,n){return Ye("depthToSpace")},e.prototype.split=function(t,r,n){return Ye("split")},e.prototype.sparseToDense=function(t,r,n,a){return Ye("sparseToDense")},e.prototype.diag=function(t){return Ye("diag")},e.prototype.fill=function(t,r,n){return Ye("fill")},e.prototype.onesLike=function(t){return Ye("onesLike")},e.prototype.zerosLike=function(t){return Ye("zerosLike")},e.prototype.linspace=function(t,r,n){return Ye("linspace")},e.prototype.dispose=function(){return Ye("dispose")},e})();function Ye(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function mh(e,t){for(var r=e.length,n=[],a=0;a<r;a++){var i=r-1-a,s=e[i]||1;(t[t.length-1-a]||1)>1&&s===1&&n.unshift(i)}return n}function si(e,t){for(var r=[],n=0;n<t.length;n++){var a=e[e.length-n-1],i=t.length-n-1,s=t[i];(a==null||a===1&&s>1)&&r.unshift(i)}return r}function kr(e,t){for(var r=[],n=Math.max(e.length,t.length),a=0;a<n;a++){var i=e[e.length-a-1];i==null&&(i=1);var s=t[t.length-a-1];if(s==null&&(s=1),i===1)r.unshift(s);else if(s===1)r.unshift(i);else{if(i!==s)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");r.unshift(i)}}return r}function dy(e,t,r,n,a,i,s){s===void 0&&(s="channelsLast");var o,l=Fw(t),u=l[0],d=l[1];if(s==="channelsLast")o=[u,d,e[3],e[3]];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);o=[u,d,e[1],e[1]]}return Mm(e,o,r,n,a,i,!1,s)}function Rw(e,t,r,n,a,i,s){s===void 0&&(s="NDHWC");var o,l,u=Ak(t),d=u[0],f=u[1],p=u[2];if(s==="NDHWC")l="channelsLast",o=[d,f,p,e[4],e[4]];else{if(s!=="NCDHW")throw new Error("Unknown dataFormat "+s);l="channelsFirst",o=[d,f,p,e[1],e[1]]}return Lw(e,o,r,n,a,!1,l,i)}function Mm(e,t,r,n,a,i,s,o){s===void 0&&(s=!1),o===void 0&&(o="channelsLast");var l=[-1,-1,-1,-1],u=l[0],d=l[1],f=l[2],p=l[3];if(o==="channelsLast")u=e[0],d=e[1],f=e[2],p=e[3];else{if(o!=="channelsFirst")throw new Error("Unknown dataFormat "+o);u=e[0],p=e[1],d=e[2],f=e[3]}var h,g=t[0],y=t[1],x=t[3],b=Fw(r),N=b[0],j=b[1],w=Fw(n),C=w[0],E=w[1],I=i0(g,C),D=i0(y,E),O=(function(V,X,te,q,U,Q,se,K){var T,W,J;if(typeof V=="number"){T={top:V,bottom:V,left:V,right:V,type:V===0?"VALID":"NUMBER"};var Y=(function(Ae,Se,Ge,ke,Z){ke==null&&(ke=ZJ(Ae,Se,Ge));var Qe=Ae[0],Ne=Ae[1],ze=Fx((Qe-Se+2*ke)/Ge+1,Z);ye(La(ze),(function(){return"The output # of rows ("+ze+") must be an integer. Change the stride and/or zero pad parameters"}));var De=Fx((Ne-Se+2*ke)/Ge+1,Z);return ye(La(De),(function(){return"The output # of columns ("+De+") must be an integer. Change the stride and/or zero pad parameters"})),[ze,De]})([X,te],Q,q,V,K);W=Y[0],J=Y[1]}else if(V==="same"){W=Math.ceil(X/q),J=Math.ceil(te/U);var ee=Math.max(0,(W-1)*q+Q-X),ae=Math.max(0,(J-1)*U+se-te),pe=Math.floor(ee/2),de=ee-pe,we=Math.floor(ae/2);T={top:pe,bottom:de,left:we,right:ae-we,type:"SAME"}}else{if(V!=="valid")throw Error("Unknown padding parameter: "+V);T={top:0,bottom:0,left:0,right:0,type:"VALID"},W=Math.ceil((X-Q+1)/q),J=Math.ceil((te-se+1)/U)}return{padInfo:T,outHeight:W,outWidth:J}})(a,d,f,N,j,I,D,i),L=O.padInfo,R=O.outHeight,P=O.outWidth,F=s?x*p:x;return o==="channelsFirst"?h=[u,F,R,P]:o==="channelsLast"&&(h=[u,R,P,F]),{batchSize:u,dataFormat:o,inHeight:d,inWidth:f,inChannels:p,outHeight:R,outWidth:P,outChannels:F,padInfo:L,strideHeight:N,strideWidth:j,filterHeight:g,filterWidth:y,effectiveFilterHeight:I,effectiveFilterWidth:D,dilationHeight:C,dilationWidth:E,inShape:e,outShape:h,filterShape:t}}function Lw(e,t,r,n,a,i,s,o){i===void 0&&(i=!1),s===void 0&&(s="channelsLast");var l=[-1,-1,-1,-1,-1],u=l[0],d=l[1],f=l[2],p=l[3],h=l[4];if(s==="channelsLast")u=e[0],d=e[1],f=e[2],p=e[3],h=e[4];else{if(s!=="channelsFirst")throw new Error("Unknown dataFormat "+s);u=e[0],h=e[1],d=e[2],f=e[3],p=e[4]}var g,y=t[0],x=t[1],b=t[2],N=t[4],j=Ak(r),w=j[0],C=j[1],E=j[2],I=Ak(n),D=I[0],O=I[1],L=I[2],R=i0(y,D),P=i0(x,O),F=i0(b,L),V=(function(se,K,T,W,J,Y,ee,ae,pe,de,we){var Ae,Se,Ge,ke;if(typeof se=="number"){Ae={top:se,bottom:se,left:se,right:se,front:se,back:se,type:se===0?"VALID":"NUMBER"};var Z=(function(Re,st,pt,Fe,at,ct){at==null&&(at=ZJ(Re,st,Fe));var wt=Re[0],Nt=Re[1],_r=Re[2],lr=Fx((wt-st+2*at)/Fe+1,ct);ye(La(lr),(function(){return"The output # of depths ("+lr+") must be an integer. Change the stride and/or zero pad parameters"}));var jt=Fx((Nt-st+2*at)/Fe+1,ct);ye(La(jt),(function(){return"The output # of rows ("+jt+") must be an integer. Change the stride and/or zero pad parameters"}));var nr=Fx((_r-st+2*at)/Fe+1,ct);return ye(La(nr),(function(){return"The output # of columns ("+nr+") must be an integer. Change the stride and/or zero pad parameters"})),[lr,jt,nr,pt]})([K,T,W,1],ae,1,J,se,we);Se=Z[0],Ge=Z[1],ke=Z[2]}else if(se==="same"){Se=Math.ceil(K/J),Ge=Math.ceil(T/Y),ke=Math.ceil(W/ee);var Qe=(Se-1)*J+ae-K,Ne=(Ge-1)*Y+pe-T,ze=(ke-1)*ee+de-W,De=Math.floor(Qe/2),me=Qe-De,_e=Math.floor(Ne/2),Ve=Ne-_e,Xe=Math.floor(ze/2);Ae={top:_e,bottom:Ve,left:Xe,right:ze-Xe,front:De,back:me,type:"SAME"}}else{if(se!=="valid")throw Error("Unknown padding parameter: "+se);Ae={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},Se=Math.ceil((K-ae+1)/J),Ge=Math.ceil((T-pe+1)/Y),ke=Math.ceil((W-de+1)/ee)}return{padInfo:Ae,outDepth:Se,outHeight:Ge,outWidth:ke}})(a,d,f,p,w,C,E,R,P,F,o),X=V.padInfo,te=V.outDepth,q=V.outHeight,U=V.outWidth,Q=i?N*h:N;return s==="channelsFirst"?g=[u,Q,te,q,U]:s==="channelsLast"&&(g=[u,te,q,U,Q]),{batchSize:u,dataFormat:s,inDepth:d,inHeight:f,inWidth:p,inChannels:h,outDepth:te,outHeight:q,outWidth:U,outChannels:Q,padInfo:X,strideDepth:w,strideHeight:C,strideWidth:E,filterDepth:y,filterHeight:x,filterWidth:b,effectiveFilterDepth:R,effectiveFilterHeight:P,effectiveFilterWidth:F,dilationDepth:D,dilationHeight:O,dilationWidth:L,inShape:e,outShape:g,filterShape:t}}function ZJ(e,t,r,n){n===void 0&&(n=1);var a=i0(t,n);return Math.floor((e[0]*(r-1)-r+a)/2)}function Fw(e){return typeof e=="number"?[e,e,e]:e.length===2?[e[0],e[1],1]:e}function Ak(e){return typeof e=="number"?[e,e,e]:e}function i0(e,t){return t<=1?e:e+(e-1)*(t-1)}function Fx(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function _0(e){var t=Fw(e),r=t[0],n=t[1],a=t[2];return r===1&&n===1&&a===1}function wo(e,t){return _0(e)||_0(t)}function RD(e){if(e==="NHWC")return"channelsLast";if(e==="NCHW")return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function QJ(e,t,r){if(t==="complex64"){if(e.dtype==="complex64")return e.clone();var n=Dn(e.shape),a=e.toFloat(),i=r.complex(a,n);return n.dispose(),a.dispose(),i}if(!Pxe(e.dtype,t))return Oe.makeTensorFromDataId(e.dataId,e.shape,t);if(e.dtype==="complex64"){var s=r.real(e);return i=s.cast(t),s.dispose(),i}if(t==="int32")return r.int(e);if(t==="bool"){var o=St(0,e.dtype);return i=r.notEqual(e,o),o.dispose(),i}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function Dk(e,t){return Oe.makeTensorFromDataId(e.dataId,t,e.dtype)}function eZ(e,t,r){var n=(t-e)/(r-1),a=r1(r,"float32");a[0]=e;for(var i=1;i<a.length;i++)a[i]=a[i-1]+n;return $a(a,"float32")}function Tk(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var r=new Float32Array(2*e.length),n=0;n<r.length;n+=2)r[n]=e[n/2],r[n+1]=t[n/2];return r}function VL(e,t){return{real:e[2*t],imag:e[2*t+1]}}function r1e(e,t,r,n){e[2*n]=t,e[2*n+1]=r}function n1e(e,t,r){var n=(r?2:-2)*Math.PI*(e/t);return{real:Math.cos(n),imag:Math.sin(n)}}function a1e(e,t,r){var n=(function(i,s,o){return(function(l,u,d){for(var f=0,p=l.length,h=0,g=!1;f<p;){var y=d(u,l[h=f+(p-f>>>1)]);y>0?f=h+1:(p=h,g=!y)}return g?f:-f-1})(i,s,o||i1e)})(e,t,r),a=n<0?-(n+1):n;e.splice(a,0,t)}function i1e(e,t){return e>t?1:e<t?-1:0}function LD(e,t,r,n,a){return tZ(e,t,r,n,a,0).selectedIndices}function FD(e,t,r,n,a,i){var s=tZ(e,t,r,n,a,i);return s.numValidOutputs.dispose(),{selectedIndices:s.selectedIndices,selectedScores:s.selectedScores}}function tZ(e,t,r,n,a,i,s,o){o===void 0&&(o=!1);for(var l=Array.from(t).map((function(w,C){return{score:w,boxIndex:C,suppressBeginIndex:0}})).filter((function(w){return w.score>a})).sort(HL),u=i>0?-.5/i:0,d=[],f=[];d.length<r&&l.length>0;){var p=l.pop(),h=p.score,g=p.boxIndex,y=p.suppressBeginIndex;if(h<a)break;for(var x=!1,b=d.length-1;b>=y;--b){var N=s1e(e,g,d[b]);if(N>=n){x=!0;break}if(p.score=p.score*o1e(n,u,N),p.score<=a)break}p.suppressBeginIndex=d.length,x||(p.score===h?(d.push(g),f.push(p.score)):p.score>a&&a1e(l,p,HL))}var j=d.length;return o&&(d.fill(0,j),f.fill(0,j)),{selectedIndices:$a(d,"int32"),selectedScores:$a(f,"float32"),numValidOutputs:St(j,"int32")}}function s1e(e,t,r){var n=e.subarray(4*t,4*t+4),a=e.subarray(4*r,4*r+4),i=Math.min(n[0],n[2]),s=Math.min(n[1],n[3]),o=Math.max(n[0],n[2]),l=Math.max(n[1],n[3]),u=Math.min(a[0],a[2]),d=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),h=(o-i)*(l-s),g=(f-u)*(p-d);if(h<=0||g<=0)return 0;var y=Math.max(i,u),x=Math.max(s,d),b=Math.min(o,f),N=Math.min(l,p),j=Math.max(b-y,0)*Math.max(N-x,0);return j/(h+g-j)}function o1e(e,t,r){var n=Math.exp(t*r*r);return r<=e?n:0}function HL(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function rZ(e,t,r){var n=new Array(e.rank).fill(0),a=e.shape.slice();return t.map((function(i){a[r]=i;var s=e.slice(n,a);return n[r]+=i,s}))}function nZ(e,t){for(var r=new Array(e.rank),n=0;n<r.length;n++)r[n]=e.shape[n]*t[n];var a=vr(r,e.dtype);for(n=0;n<a.values.length;++n){for(var i=a.indexToLoc(n),s=new Array(e.rank),o=0;o<s.length;o++)s[o]=i[o]%e.shape[o];var l=e.locToIndex(s);a.values[n]=e.values[l]}return a.toTensor()}function aZ(e,t,r,n,a){for(var i=t[t.length-1],s=[e.length/i,i],o=s[0],l=s[1],u=ly(r,o*n),d=ly("int32",o*n),f=0;f<o;f++){for(var p=f*l,h=e.subarray(p,p+l),g=[],y=0;y<h.length;y++)g.push({value:h[y],index:y});g.sort((function(w,C){return C.value-w.value}));var x=f*n,b=u.subarray(x,x+n),N=d.subarray(x,x+n);for(y=0;y<n;y++)b[y]=g[y].value,N[y]=g[y].index}var j=t.slice();return j[j.length-1]=n,[Ui(u,j,r),Ui(d,j,"int32")]}function BD(e,t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(n);var a=vr(e,"int32"),i=vr([r.length,e.length],"int32");for(n=0;n<r.length;n++){var s=a.indexToLoc(r[n]),o=n*e.length;i.values.set(s,o)}return i.toTensor()}var l1e=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((function(a,i){return"T"+i}));var r=[];this.variableNames.forEach((function(a){r.push("float v"+a+" = get"+a+"AtOutCoords();")}));var n=this.variableNames.map((function(a){return"v"+a})).join(" + ");this.userCode=`
      void main() {
        `+r.join(`
        `)+`

        float result = `+n+`;
        setOutput(result);
      }
    `},c1e=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((function(a,i){return"T"+i}));var r=[];this.variableNames.forEach((function(a){r.push("vec4 v"+a+" = get"+a+"AtOutCoords();")}));var n=this.variableNames.map((function(a){return"v"+a})).join(" + ");this.userCode=`
      void main() {
        `+r.join(`
        `)+`

        vec4 result = `+n+`;
        setOutput(result);
      }
    `},u1e=function(e,t,r){this.variableNames=["A"];var n=e.windowSize,a=e.batchSize,i=e.inSize,s=Math.ceil(i/n);r||this.variableNames.push("bestIndicesA"),this.outputShape=[a,s];var o=t==="max"?">":"<",l=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+n+`;

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < `+n+`; i++) {
          int inIdx = `+l+`;
          float candidate = getA(batch, inIdx);
          if (candidate `+o+` bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `};function iZ(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(r){return e+"."+r}))}function ho(e,t){return t===1?[e]:iZ(e,t)}function vs(){var e,t,r,n,a,i,s,o,l,u;return nt().getNumber("WEBGL_VERSION")===2?(e="#version 300 es",t="in",r="out",n="in",a="texture",i="outputColor",s="out vec4 outputColor;",o=`
      bool isnan_custom(float val) {
        return (val > 0.0 || val < 0.0) ? false : val != 0.0;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `,l="",u=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",r="varying",n="varying",a="texture2D",i="gl_FragColor",s="",o=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,l=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,u=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:r,varyingFs:n,texture2D:a,output:i,defineOutput:s,defineSpecialNaN:o,defineSpecialInf:l,defineRound:u}}function Gp(e,t,r){r===void 0&&(r="index");var n=_u(t);return n.map((function(a,i){return"int "+e[i]+" = "+r+" / "+a+"; "+(i===n.length-1?"int "+e[i+1]+" = "+r+" - "+e[i]+" * "+a:"index -= "+e[i]+" * "+a)+";"})).join("")}function zD(e){var t=_u(e).map((function(r){return r.toString()}));return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * `+t[0]+" + coords.y * "+t[1]+` + coords.z;
  }
`}var sZ=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`;function d1e(e,t,r,n){var a=[];e.forEach((function(h){var g=Ut(h.shapeInfo.logicalShape);h.shapeInfo.isUniform?a.push("uniform float "+h.name+(g>1?"["+g+"]":"")+";"):(a.push("uniform sampler2D "+h.name+";"),a.push("uniform int offset"+h.name+";"))}));var i,s,o=a.join(`
`),l=e.map((function(h){return(function(g,y,x){x===void 0&&(x=!1);var b="";b+=x?oZ(g):Lg(g);var N=g.shapeInfo.logicalShape,j=y.logicalShape;return N.length<=j.length&&(b+=x?(function(w,C){var E,I=w.name,D=I.charAt(0).toUpperCase()+I.slice(1),O="get"+D+"AtOutCoords",L=w.shapeInfo.logicalShape.length,R=C.logicalShape.length,P=mh(w.shapeInfo.logicalShape,C.logicalShape),F=En(R),V=R-L,X=["x","y","z","w","u","v"];E=L===0?"":R<2&&P.length>=1?"coords = 0;":P.map((function(T){return"coords."+X[T+V]+" = 0;"})).join(`
`);var te="";te=R<2&&L>0?"coords":w.shapeInfo.logicalShape.map((function(T,W){return"coords."+X[W+V]})).join(", ");var q="return outputValue;",U=Ut(w.shapeInfo.logicalShape)===1,Q=Ut(C.logicalShape)===1;if(L!==1||U||Q){if(U&&!Q)q=R===1?`
        return vec4(outputValue.x, outputValue.x, 0., 0.);
      `:`
        return vec4(outputValue.x);
      `;else if(P.length){var se=L-2,K=L-1;P.indexOf(se)>-1&&P.indexOf(K)>-1?q="return vec4(outputValue.x);":P.indexOf(se)>-1?q="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":P.indexOf(K)>-1&&(q="return vec4(outputValue.xx, outputValue.zz);")}}else q=`
      return vec4(outputValue.xy, outputValue.xy);
    `;return`
    vec4 `+O+`() {
      `+F+` coords = getOutputCoords();
      `+E+`
      vec4 outputValue = get`+D+"("+te+`);
      `+q+`
    }
  `})(g,y):(function(w,C){var E=w.name,I=E.charAt(0).toUpperCase()+E.slice(1),D="get"+I+"AtOutCoords",O=C.texShape,L=w.shapeInfo.texShape,R=w.shapeInfo.logicalShape.length,P=C.logicalShape.length;if(!w.shapeInfo.isUniform&&R===P&&w.shapeInfo.flatOffset==null&&ki(L,O))return`
      float `+D+`() {
        return sampleTexture(`+E+`, resultUV);
      }
    `;var F,V=En(P),X=mh(w.shapeInfo.logicalShape,C.logicalShape),te=P-R,q=["x","y","z","w","u","v"];F=R===0?"":P<2&&X.length>=1?"coords = 0;":X.map((function(Q){return"coords."+q[Q+te]+" = 0;"})).join(`
`);var U="";return U=P<2&&R>0?"coords":w.shapeInfo.logicalShape.map((function(Q,se){return"coords."+q[se+te]})).join(", "),`
    float `+D+`() {
      `+V+` coords = getOutputCoords();
      `+F+`
      return get`+I+"("+U+`);
    }
  `})(g,y)),b})(h,t,n)})).join(`
`),u=t.texShape,d=vs(),f=(function(h){return`
    float sampleTexture(sampler2D textureSampler, vec2 uv) {
      return `+h.texture2D+`(textureSampler, uv).r;
    }
  `})(d),p=(function(h){return h.version+`
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    `+h.varyingFs+` vec2 resultUV;
    `+h.defineOutput+`
    const vec2 halfCR = vec2(0.5, 0.5);

    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    uniform float NAN;
    `+h.defineSpecialNaN+`
    `+h.defineSpecialInf+`
    `+h.defineRound+`

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    int idiv(int a, int b, float sign) {
      int res = a / b;
      int mod = imod(a, b);
      if (sign < 0. && mod != 0) {
        res -= 1;
      }
      return res;
    }

    //Based on the work of Dave Hoskins
    //https://www.shadertoy.com/view/4djSRW
    #define HASHSCALE1 443.8975
    float random(float seed){
      vec2 p = resultUV * seed;
      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);
      p3 += dot(p3, p3.yzx + 19.19);
      return fract((p3.x + p3.y) * p3.z);
    }

    `+f1e+`
    `+h1e+`
    `+p1e+`
  `})(d);return t.isPacked?(i=(function(h,g){switch(h.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(w,C){var E=[Math.ceil(C[0]/2),Math.ceil(C[1]/2)];return E[0]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.x * `+E[1]+`.0);
      }
    `:E[1]===1?`
      int getOutputCoords() {
        return 2 * int(resultUV.y * `+E[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      return 2 * (resTexRC.x * `+E[1]+` + resTexRC.y);
    }
  `})(0,g);case 2:return(function(w,C){var E=[Math.ceil(C[0]/2),Math.ceil(C[1]/2)];if(ki(w,C))return`
      ivec2 getOutputCoords() {
        return 2 * ivec2(resultUV.yx * vec2(`+E[0]+", "+E[1]+`));
      }
    `;var I=Math.ceil(w[1]/2);return`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));

      int index = resTexRC.x * `+E[1]+` + resTexRC.y;
      int r = 2 * (index / `+I+`);
      int c = imod(index, `+I+`) * 2;

      return ivec2(r, c);
    }
  `})(h,g);case 3:return y=h,x=g,b=[Math.ceil(x[0]/2),Math.ceil(x[1]/2)],N=Math.ceil(y[2]/2),j=N*Math.ceil(y[1]/2),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+b[0]+", "+b[1]+`));
      int index = resTexRC.x * `+b[1]+` + resTexRC.y;

      int b = index / `+j+`;
      index -= b * `+j+`;

      int r = 2 * (index / `+N+`);
      int c = imod(index, `+N+`) * 2;

      return ivec3(b, r, c);
    }
  `;default:return(function(w,C){for(var E=[Math.ceil(C[0]/2),Math.ceil(C[1]/2)],I=Math.ceil(w[w.length-1]/2),D=I*Math.ceil(w[w.length-2]/2),O=D,L="",R="b, r, c",P=2;P<w.length-1;P++)O*=w[w.length-P-1],L=`
      int b`+P+" = index / "+O+`;
      index -= b`+P+" * "+O+`;
    `+L,R="b"+P+", "+R;return`
    ivec`+w.length+` getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+E[0]+", "+E[1]+`));
      int index = resTexRC.x * `+E[1]+` + resTexRC.y;

      `+L+`

      int b = index / `+D+`;
      index -= b * `+D+`;

      int r = 2 * (index / `+I+`);
      int c = imod(index, `+I+`) * 2;

      return ivec`+w.length+"("+R+`);
    }
  `})(h,g)}var y,x,b,N,j})(t.logicalShape,u),s=(function(h){return`
    void setOutput(vec4 val) {
      `+h.output+` = val;
    }
  `})(d)):(i=(function(h,g){switch(h.length){case 0:return`
    int getOutputCoords() {
      return 0;
    }
  `;case 1:return(function(b,N){return N[0]===1?`
      int getOutputCoords() {
        return int(resultUV.x * `+N[1]+`.0);
      }
    `:N[1]===1?`
      int getOutputCoords() {
        return int(resultUV.y * `+N[0]+`.0);
      }
    `:`
    int getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));
      return resTexRC.x * `+N[1]+` + resTexRC.y;
    }
  `})(0,g);case 2:return(function(b,N){return ki(b,N)?`
      ivec2 getOutputCoords() {
        return ivec2(resultUV.yx * vec2(`+N[0]+", "+N[1]+`));
      }
    `:b[1]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+N[0]+", "+N[1]+`));
        int index = resTexRC.x * `+N[1]+` + resTexRC.y;
        return ivec2(index, 0);
      }
    `:b[0]===1?`
      ivec2 getOutputCoords() {
        ivec2 resTexRC = ivec2(resultUV.yx *
                               vec2(`+N[0]+", "+N[1]+`));
        int index = resTexRC.x * `+N[1]+` + resTexRC.y;
        return ivec2(0, index);
      }
    `:`
    ivec2 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+N[0]+", "+N[1]+`));
      int index = resTexRC.x * `+N[1]+` + resTexRC.y;
      int r = index / `+b[1]+`;
      int c = index - r * `+b[1]+`;
      return ivec2(r, c);
    }
  `})(h,g);case 3:return y=g,x=Gp(["r","c","d"],h),`
    ivec3 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
                             vec2(`+y[0]+", "+y[1]+`));
      int index = resTexRC.x * `+y[1]+` + resTexRC.y;
      `+x+`
      return ivec3(r, c, d);
    }
  `;case 4:return(function(b,N){var j=Gp(["r","c","d","d2"],b);return`
    ivec4 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+N[0]+", "+N[1]+`));
      int index = resTexRC.x * `+N[1]+` + resTexRC.y;
      `+j+`
      return ivec4(r, c, d, d2);
    }
  `})(h,g);case 5:return(function(b,N){var j=Gp(["r","c","d","d2","d3"],b);return`
    ivec5 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx * vec2(`+N[0]+`,
                             `+N[1]+`));

      int index = resTexRC.x * `+N[1]+` + resTexRC.y;

      `+j+`

      ivec5 outShape = ivec5(r, c, d, d2, d3);
      return outShape;
    }
  `})(h,g);case 6:return(function(b,N){var j=Gp(["r","c","d","d2","d3","d4"],b);return`
    ivec6 getOutputCoords() {
      ivec2 resTexRC = ivec2(resultUV.yx *
        vec2(`+N[0]+", "+N[1]+`));
      int index = resTexRC.x * `+N[1]+` + resTexRC.y;

      `+j+`

      ivec6 result = ivec6(r, c, d, d2, d3, d4);
      return result;
    }
  `})(h,g);default:throw new Error(h.length+"-D output sampling is not yet supported")}var y,x})(t.logicalShape,u),s=(function(h){return`
    void setOutput(float val) {
      `+h.output+` = vec4(val, 0, 0, 0);
    }
  `})(d)),n&&(p+=m1e),[p,f,s,o,i,l,r].join(`
`)}function Lg(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return(function(r){var n=r.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(r.shapeInfo.isUniform)return"float "+a+"() {return "+n+";}";var i=r.shapeInfo.texShape,s=i[0],o=i[1];if(s===1&&o===1)return`
      float `+a+`() {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var l=r.shapeInfo.texShape,u=l[0],d=l[1],f=kp(n);return`
    float `+a+`() {
      vec2 uv = uvFromFlat(`+u+", "+d+", "+f+`);
      return sampleTexture(`+n+`, uv);
    }
  `})(e);case 1:return(function(r){var n=r.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(r.shapeInfo.isUniform)return`
      float `+a+`(int index) {
        `+_g(r)+`
      }
    `;var i=r.shapeInfo.texShape,s=i[0],o=i[1];if(o===1&&s===1)return`
      float `+a+`(int index) {
        return sampleTexture(`+n+`, halfCR);
      }
    `;var l=kp(n);return o===1?`
      float `+a+`(int index) {
        vec2 uv = vec2(0.5, (float(index + `+l+") + 0.5) / "+s+`.0);
        return sampleTexture(`+n+`, uv);
      }
    `:s===1?`
      float `+a+`(int index) {
        vec2 uv = vec2((float(index + `+l+") + 0.5) / "+o+`.0, 0.5);
        return sampleTexture(`+n+`, uv);
      }
    `:`
    float `+a+`(int index) {
      vec2 uv = uvFromFlat(`+s+", "+o+", index + "+l+`);
      return sampleTexture(`+n+`, uv);
    }
  `})(e);case 2:return(function(r){var n=r.shapeInfo.logicalShape,a=r.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=r.shapeInfo.texShape;if(s!=null&&ki(n,s)){var o=s[0],l=s[1];return`
    float `+i+`(int row, int col) {
      vec2 uv = (vec2(col, row) + halfCR) / vec2(`+l+".0, "+o+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `}var u=Up(n),d=u.newShape,f=u.keptDims,p=d;if(p.length<n.length){var h=Fg(r,p);return`
      `+Lg(h)+`
      float `+i+`(int row, int col) {
        return `+i+"("+Bg(["row","col"],f)+`);
      }
    `}if(r.shapeInfo.isUniform)return`
      float `+i+`(int row, int col) {
        int index = round(dot(vec2(row, col), vec2(`+n[1]+`, 1)));
        `+_g(r)+`
      }
    `;var g=s[0],y=s[1],x=kp(a);return y===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+x+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2(0.5, (index + 0.5) / `+g+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `:g===1?`
    float `+i+`(int row, int col) {
      float index = dot(vec3(row, col, `+x+"), vec3("+n[1]+`, 1, 1));
      vec2 uv = vec2((index + 0.5) / `+y+`.0, 0.5);
      return sampleTexture(`+a+`, uv);
    }
  `:`
  float `+i+`(int row, int col) {
    // Explicitly use integer operations as dot() only works on floats.
    int index = row * `+n[1]+" + col + "+x+`;
    vec2 uv = uvFromFlat(`+g+", "+y+`, index);
    return sampleTexture(`+a+`, uv);
  }
`})(e);case 3:return(function(r){var n=r.shapeInfo.logicalShape,a=r.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[1]*n[2],o=n[2],l=Up(n),u=l.newShape,d=l.keptDims,f=u;if(f.length<n.length){var p=Fg(r,f);return`
        `+Lg(p)+`
        float `+i+`(int row, int col, int depth) {
          return `+i+"("+Bg(["row","col","depth"],d)+`);
        }
      `}if(r.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth) {
        int index = round(dot(vec3(row, col, depth),
                          vec3(`+s+", "+o+`, 1)));
        `+_g(r)+`
      }
    `;var h=r.shapeInfo.texShape,g=h[0],y=h[1],x=r.shapeInfo.flatOffset;if(y===s&&x==null)return`
        float `+i+`(int row, int col, int depth) {
          float texR = float(row);
          float texC = dot(vec2(col, depth), vec2(`+o+`, 1));
          vec2 uv = (vec2(texC, texR) + halfCR) /
                     vec2(`+y+".0, "+g+`.0);
          return sampleTexture(`+a+`, uv);
        }
      `;if(y===o&&x==null)return`
    float `+i+`(int row, int col, int depth) {
      float texR = dot(vec2(row, col), vec2(`+n[1]+`, 1));
      float texC = float(depth);
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+y+".0, "+g+`.0);
      return sampleTexture(`+a+`, uv);
    }
  `;var b=kp(a);return`
      float `+i+`(int row, int col, int depth) {
        // Explicitly use integer operations as dot() only works on floats.
        int index = row * `+s+" + col * "+o+" + depth + "+b+`;
        vec2 uv = uvFromFlat(`+g+", "+y+`, index);
        return sampleTexture(`+a+`, uv);
      }
  `})(e);case 4:return(function(r){var n=r.shapeInfo.logicalShape,a=r.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[3],o=n[2]*s,l=n[1]*o,u=Up(n),d=u.newShape,f=u.keptDims;if(d.length<n.length){var p=Fg(r,d);return`
      `+Lg(p)+`
      float `+i+`(int row, int col, int depth, int depth2) {
        return `+i+"("+Bg(["row","col","depth","depth2"],f)+`);
      }
    `}if(r.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        int index = round(dot(vec4(row, col, depth, depth2),
                          vec4(`+l+", "+o+", "+s+`, 1)));
        `+_g(r)+`
      }
    `;var h=r.shapeInfo.flatOffset,g=r.shapeInfo.texShape,y=g[0],x=g[1];if(x===l&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = float(row);
        float texC =
            dot(vec3(col, depth, depth2),
                vec3(`+o+", "+s+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+x+".0, "+y+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(x===s&&h==null)return`
      float `+i+`(int row, int col, int depth, int depth2) {
        float texR = dot(vec3(row, col, depth),
                         vec3(`+n[1]*n[2]+", "+n[2]+`, 1));
        float texC = float(depth2);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+x+".0, "+y+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var b=kp(a);return`
    float `+i+`(int row, int col, int depth, int depth2) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+l+" + col * "+o+` +
          depth * `+s+` + depth2;
      vec2 uv = uvFromFlat(`+y+", "+x+", index + "+b+`);
      return sampleTexture(`+a+`, uv);
    }
  `})(e);case 5:return(function(r){var n=r.shapeInfo.logicalShape,a=r.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[4],o=n[3]*s,l=n[2]*o,u=n[1]*l,d=Up(n),f=d.newShape,p=d.keptDims;if(f.length<n.length){var h=Fg(r,f);return`
      `+Lg(h)+`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        return `+i+"("+Bg(["row","col","depth","depth2","depth3"],p)+`);
      }
    `}if(r.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float index = dot(
          vec4(row, col, depth, depth2),
          vec4(`+u+", "+l+", "+o+", "+s+`)) +
          depth3;
        `+_g(r)+`
      }
    `;var g=r.shapeInfo.flatOffset,y=r.shapeInfo.texShape,x=y[0],b=y[1];if(b===u&&g==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
                         vec4(`+l+", "+o+", "+s+`, 1));
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(b===s&&g==null)return`
      float `+i+`(int row, int col, int depth, int depth2, int depth3) {
        float texR = dot(
          vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]+`,
               `+n[2]*n[3]+", "+n[3]+`, 1));
        int texC = depth3;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+b+".0, "+x+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var N=kp(a);return`
    float `+i+`(int row, int col, int depth, int depth2, int depth3) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+u+" + col * "+l+" + depth * "+o+` +
          depth2 * `+s+" + depth3 + "+N+`;
      vec2 uv = uvFromFlat(`+x+", "+b+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `})(e);case 6:return(function(r){var n=r.shapeInfo.logicalShape,a=r.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),s=Up(n),o=s.newShape,l=s.keptDims;if(o.length<n.length){var u=Fg(r,o);return`
      `+Lg(u)+`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        return `+i+"("+Bg(["row","col","depth","depth2","depth3","depth4"],l)+`);
      }
    `}var d=n[5],f=n[4]*d,p=n[3]*f,h=n[2]*p,g=n[1]*h;if(r.shapeInfo.isUniform)return`
      float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
        int index = round(dot(
          vec4(row, col, depth, depth2),
          vec4(`+g+", "+h+", "+p+", "+f+`)) +
          dot(
            vec2(depth3, depth4),
            vec2(`+d+`, 1)));
        `+_g(r)+`
      }
    `;var y=r.shapeInfo.flatOffset,x=r.shapeInfo.texShape,b=x[0],N=x[1];if(N===g&&y==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        int texR = row;
        float texC = dot(vec4(col, depth, depth2, depth3),
          vec4(`+h+", "+p+", "+f+", "+d+`)) +
               float(depth4);
        vec2 uv = (vec2(texC, texR) + halfCR) /
                   vec2(`+N+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;if(N===d&&y==null)return`
      float `+i+`(int row, int col, int depth,
                    int depth2, int depth3, int depth4) {
        float texR = dot(vec4(row, col, depth, depth2),
          vec4(`+n[1]*n[2]*n[3]*n[4]+`,
               `+n[2]*n[3]*n[4]+`,
               `+n[3]*n[4]+`,
               `+n[4]+`)) + float(depth3);
        int texC = depth4;
        vec2 uv = (vec2(texC, texR) + halfCR) /
                  vec2(`+N+".0, "+b+`.0);
        return sampleTexture(`+a+`, uv);
      }
    `;var j=kp(a);return`
    float `+i+`(int row, int col, int depth,
                  int depth2, int depth3, int depth4) {
      // Explicitly use integer operations as dot() only works on floats.
      int index = row * `+g+" + col * "+h+" + depth * "+p+` +
          depth2 * `+f+" + depth3 * "+d+" + depth4 + "+j+`;
      vec2 uv = uvFromFlat(`+b+", "+N+`, index);
      return sampleTexture(`+a+`, uv);
    }
  `})(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function oZ(e){var t,r,n;switch(e.shapeInfo.logicalShape.length){case 0:return t=e.name,r="get"+t.charAt(0).toUpperCase()+t.slice(1),n=vs(),`
    vec4 `+r+`() {
      return `+n.texture2D+"("+t+`, halfCR);
    }
  `;case 1:return(function(a){var i=a.name,s="get"+i.charAt(0).toUpperCase()+i.slice(1),o=a.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=vs();return`
    vec4 `+s+`(int index) {
      vec2 uv = packedUVfrom1D(
        `+l[0]+", "+l[1]+`, index);
      return `+u.texture2D+"("+i+`, uv);
    }
  `})(e);case 2:return(function(a){var i=a.shapeInfo.logicalShape,s=a.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),l=a.shapeInfo.texShape,u=l[0],d=l[1],f=vs();if(l!=null&&ki(i,l))return`
      vec4 `+o+`(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(`+d+".0, "+u+`.0);

        return `+f.texture2D+"("+s+`, uv);
      }
    `;var p=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)],h=Math.ceil(i[1]/2);return`
    vec4 `+o+`(int row, int col) {
      vec2 uv = packedUVfrom2D(`+h+", "+p[0]+", "+p[1]+`, row, col);
      return `+f.texture2D+"("+s+`, uv);
    }
  `})(e);case 3:return(function(a){var i=a.shapeInfo.logicalShape,s=a.name,o="get"+s.charAt(0).toUpperCase()+s.slice(1),l=a.shapeInfo.texShape,u=[Math.ceil(l[0]/2),Math.ceil(l[1]/2)];if(i[0]===1){var d=i.slice(1),f=Fg(a,d);return`
        `+oZ(f)+`
        vec4 `+o+`(int b, int row, int col) {
          return `+o+"("+Bg(["b","row","col"],[1,2])+`);
        }
      `}var p=u[0],h=u[1],g=Math.ceil(i[2]/2),y=g*Math.ceil(i[1]/2),x=vs();return`
    vec4 `+o+`(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        `+p+", "+h+", "+y+", "+g+`, b, row, col);
      return `+x.texture2D+"("+s+`, uv);
    }
  `})(e);default:return(function(a){for(var i=a.shapeInfo.logicalShape,s=i.length,o=a.name,l="get"+o.charAt(0).toUpperCase()+o.slice(1),u=a.shapeInfo.texShape,d=[Math.ceil(u[0]/2),Math.ceil(u[1]/2)],f=d[0],p=d[1],h=Math.ceil(i[s-1]/2),g=h*Math.ceil(i[s-2]/2),y="int b, int row, int col",x="b * "+g+" + (row / 2) * "+h+" + (col / 2)",b=2;b<s-1;b++)y="int b"+b+", "+y,g*=i[s-b-1],x="b"+b+" * "+g+" + "+x;var N=vs();return`
    vec4 `+l+"("+y+`) {
      int index = `+x+`;
      int texR = index / `+p+`;
      int texC = index - texR * `+p+`;
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+p+", "+f+`);
      return `+N.texture2D+"("+o+`, uv);
    }
  `})(e)}}var f1e=`
vec2 uvFromFlat(int texNumR, int texNumC, int index) {
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
  int texelIndex = index / 2;
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,h1e=`
vec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,
  int texNumC, int row, int col) {
  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = texelIndex / texNumC;
  int texC = texelIndex - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,p1e=`
vec2 packedUVfrom3D(int texNumR, int texNumC,
    int texelsInBatch, int texelsInLogicalRow, int b,
    int row, int col) {
  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
  int texR = index / texNumC;
  int texC = index - texR * texNumC;
  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
}
`,m1e=`
  float getChannel(vec4 frag, vec2 innerDims) {
    vec2 modCoord = mod(innerDims, 2.);
    return modCoord.x == 0. ?
      (modCoord.y == 0. ? frag.r : frag.g) :
      (modCoord.y == 0. ? frag.b : frag.a);
  }
  float getChannel(vec4 frag, int dim) {
    float modCoord = mod(float(dim), 2.);
    return modCoord == 0. ? frag.r : frag.g;
  }
`;function kp(e){return"offset"+e}function _g(e){var t=e.name,r=Ut(e.shapeInfo.logicalShape);return r<2?"return "+t+";":`
    for (int i = 0; i < `+r+`; i++) {
      if (i == index) {
        return `+t+`[i];
      }
    }
  `}function En(e){if(e<=1)return"int";if(e===2)return"ivec2";if(e===3)return"ivec3";if(e===4)return"ivec4";if(e===5)return"ivec5";if(e===6)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function Fg(e,t){var r=JSON.parse(JSON.stringify(e));return r.shapeInfo.logicalShape=t,r}function Bg(e,t){return t.map((function(r){return e[r]})).join(", ")}var g1e=function(e,t,r,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,ye(e.length>2,(function(){return"Packed arg"+(r.charAt(0).toUpperCase()+r.slice(1))+" supports only inputs with rank above 2."}));var a=e[e.length-1],i=Math.ceil(a/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),n||this.variableNames.push("bestIndicesA");var s,o,l=this.outputShape,u=l.length,d=En(u),f=ho("coords",u);if(i===1){var p=En(o=u+1);s=`
        `+p+" sourceLocR = "+p+"("+f.join()+`, 0);
        ++`+f[u-1]+`;
        `+p+" sourceLocG = "+p+"("+f.join()+`, 0);
        ++`+f[u-2]+`;
        `+p+" sourceLocA = "+p+"("+f.join()+`, 0);
        --`+f[u-1]+`;
        `+p+" sourceLocB = "+p+"("+f.join()+`, 0);
        --`+f[u-2]+";"}else o=u,s=`
        `+d+` sourceLocR = coords;
        ++`+f[u-1]+`;
        `+d+` sourceLocG = coords;
        ++`+f[u-2]+`;
        `+d+` sourceLocA = coords;
        --`+f[u-1]+`;
        `+d+` sourceLocB = coords;
        --`+f[u-2]+";";var h=["x","y","z","w","u","v"].slice(0,o),g="."+h[o-1],y=h.map((function(D){return"int "+D})),x=ho("sourceLocR",o-1).concat("inIdx.r"),b=ho("sourceLocG",o-1).concat("inIdx.g"),N=ho("sourceLocB",o-1).concat("inIdx.b"),j=ho("sourceLocA",o-1).concat("inIdx.a"),w=r==="max"?"greaterThan":"lessThan",C=n?"":`
          inIdx = round(vec4(getBestIndicesAChannel(`+x.join()+`),
                             getBestIndicesAChannel(`+b.join()+`),
                             getBestIndicesAChannel(`+N.join()+`),
                             getBestIndicesAChannel(`+j.join()+")));",E=`vec4(
            getAChannel(`+x.join()+`),
            hasNextCol ? getAChannel(`+b.join()+`) : 0.,
            hasNextRow ? getAChannel(`+N.join()+`) : 0.,
            hasNextRow && hasNextCol ? getAChannel(`+j.join()+") : 0.)",I=n?"":`
      float getBestIndicesAChannel(`+y.join()+`) {
        return getChannel(getBestIndicesA(`+h.join()+`),
                                          vec2(`+h.slice(-2).join()+`));
      }`;this.userCode=`
      float getAChannel(`+y.join()+`) {
        return getChannel(getA(`+h.join()+`),
                               vec2(`+h.slice(-2).join()+`));
      }
      `+I+`
      void main() {
        `+d+` coords = getOutputCoords();
        bool hasNextCol = `+f[u-1]+" < "+(l[u-1]-1)+`;
        bool hasNextRow = `+f[u-2]+" < "+(l[u-2]-1)+`;
        `+s+`
        ivec4 srcIdx = ivec4(sourceLocR`+g+", sourceLocG"+g+`,
          sourceLocB`+g+", sourceLocA"+g+") * "+t+`;
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = `+E+`;

        for (int i = 0; i < `+t+`; i++) {
          inIdx = srcIdx;
          `+C+`
          vec4 candidate = `+E+`;
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(`+w+`(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `},v1e=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=o-1-e.padInfo.top,d=l-1-e.padInfo.left,f=1/(t*r);this.userCode=`
      const ivec2 pads = ivec2(`+u+", "+d+`);
      const float avgMultiplier = float(`+f+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+o+`;
            wR += `+i+`) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+l+`;
            wC+= `+s+`) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `},x1e=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,r=e.filterHeight,n=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=d-1-e.padInfo.front,g=f-1-e.padInfo.top,y=p-1-e.padInfo.left,x=1/(t*r*n);this.userCode=`
      const ivec3 pads = ivec3(`+h+", "+g+", "+y+`);
      const float avgMultiplier = float(`+x+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+d+`;
            wD += `+o+`) {
          float dyD = float(dyDCorner + wD) / `+a+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+f+`;
              wR += `+l+`) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+p+`;
                wC += `+u+`) {
              float dyC = float(dyCCorner + wC) / `+s+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `},y1e=function(e,t,r,n,a,i){this.outputShape=[],this.variableNames=["x","mean","variance"],kr(e,t),kr(e,r);var s="0.0";n!=null&&(kr(e,n),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var o="1.0";a!=null&&(kr(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = `+s+`;
        float scale = `+o+`;
        float inv = scale * inversesqrt(variance + float(`+i+`));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `},b1e=function(e,t,r,n,a,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],kr(e,t),kr(e,r);var s="vec4(0.0)";n!=null&&(kr(e,n),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var o="vec4(1.0)";a!=null&&(kr(e,a),this.variableNames.push("scale"),o="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = `+s+`;
        vec4 scale = `+o+`;

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(`+i+`));

        setOutput((x - mean) * inv + offset);
      }
    `},w1e="return areal * breal - aimag * bimag;",N1e="return areal * bimag + aimag * breal;",GL=function(e,t,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=kr(t,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        `+e+`
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `},h6="return a + b;",p6="return a - b;",YL="return a * b;",lZ="return (a < 0.) ? b * a : a;",wa=function(e,t,r){this.variableNames=["A","B"],this.outputShape=kr(t,r),this.userCode=`
      float binaryOperation(float a, float b) {
        `+e+`
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `},cZ=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,Od=function(e,t,r,n){n===void 0&&(n=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=kr(t,r);var a=this.outputShape.length,i="";if(n)if(a===0||Ut(this.outputShape)===1)i=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else if(i=`
          `+En(a)+` coords = getOutputCoords();
        `,a===1)i+=`
            result.y = (coords + 1) >= `+this.outputShape[0]+` ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{var s=ho("coords",a);i+=`
            bool nextRowOutOfBounds =
              (`+s[a-2]+" + 1) >= "+this.outputShape[a-2]+`;
            bool nextColOutOfBounds =
              (`+s[a-1]+" + 1) >= "+this.outputShape[a-1]+`;
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        `+e+`
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        `+i+`

        setOutput(result);
      }
    `},S1e=(function(){function e(t){this.variableNames=["A"],this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,r){var n=this;return function(a,i){n.minLoc==null&&(n.minLoc=a.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(n.minLoc,t),a.gl.uniform1f(n.maxLoc,r)}},e})(),j1e=(function(){function e(t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.userCode=`
      uniform float minVal;
      uniform float maxVal;

      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}return e.prototype.getCustomSetupFunc=function(t,r){var n=this;return function(a,i){n.minLoc==null&&(n.minLoc=a.getUniformLocationNoThrow(i,"minVal"),n.maxLoc=a.getUniformLocationNoThrow(i,"maxVal")),a.gl.uniform1f(n.minLoc,t),a.gl.uniform1f(n.maxLoc,r)}},e})(),C1e=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `},_1e=function(e){this.outputShape=[],this.outputShape=C0(e,1),this.variableNames=e.map((function(o,l){return"T"+l}));var t=new Array(e.length-1);t[0]=e[0][1];for(var r=1;r<t.length;r++)t[r]=t[r-1]+e[r][1];var n=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(r=1;r<t.length;r++){var a=t[r-1];n.push("else if (yC < "+t[r]+") setOutput(getT"+r+"(yR, yC-"+a+"));")}var i=t.length,s=t[t.length-1];n.push("else setOutput(getT"+i+"(yR, yC-"+s+"));"),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        `+n.join(`
        `)+`
      }
    `},E1e=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=C0(e,t);var r=this.outputShape,n=r.length,a=En(n),i=ho("coords",n),s=["x","y","z","w","u","v"].slice(0,n);this.variableNames=e.map((function(x,b){return"T"+b}));var o=new Array(e.length-1);o[0]=e[0][t];for(var l=1;l<o.length;l++)o[l]=o[l-1]+e[l][t];var u=s[t],d=s.slice(-2),f=s.join(),p="if ("+u+" < "+o[0]+`) {
        return getChannel(
            getT0(`+f+"), vec2("+d.join()+`));
        }`;for(l=1;l<o.length;l++){var h=o[l-1];p+=`
        if (`+u+" < "+o[l]+"  && "+u+" >= "+o[l-1]+`) {
          return getChannel(
            getT`+l+"("+z2(s,u,h)+`),
            vec2(`+z2(d,u,h)+`));
        }`}var g=o.length,y=o[o.length-1];p+=`
        return getChannel(
          getT`+g+"("+z2(s,u,y)+`),
          vec2(`+z2(d,u,y)+"));",this.userCode=`
      float getValue(`+s.map((function(x){return"int "+x}))+`) {
        `+p+`
      }

      void main() {
        `+a+` coords = getOutputCoords();
        vec4 result = vec4(getValue(`+i+`), 0., 0., 0.);

        `+i[n-1]+" = "+i[n-1]+` + 1;
        if (`+i[n-1]+" < "+r[n-1]+`) {
          result.g = getValue(`+i+`);
        }

        `+i[n-2]+" = "+i[n-2]+` + 1;
        if (`+i[n-2]+" < "+r[n-2]+`) {
          result.a = getValue(`+i+`);
        }

        `+i[n-1]+" = "+i[n-1]+` - 1;
        if (`+i[n-2]+" < "+r[n-2]+` &&
            `+i[n-1]+" < "+r[n-1]+`) {
          result.b = getValue(`+i+`);
        }
        setOutput(result);
      }
    `};function z2(e,t,r){var n=e.indexOf(t);return e.map((function(a,i){return i===n?a+" - "+r:a})).join()}var P1e=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,r=e.strideWidth,n=e.padInfo.top,a=e.padInfo.left,i=e.dataFormat==="channelsLast";this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+n+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+r+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              if (`+i+`) {
                float dyValue = getDy(b, yR, yC, d2);
                float xValue = getX(b, xR, xC, d1);
                dotProd += (xValue * dyValue);
              } else {
                float dyValue = getDy(b, d2, yR, yC);
                float xValue = getX(b, d1, xR, xC);
                dotProd += (xValue * dyValue);
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},k1e=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,a=e.strideWidth,i=e.dataFormat==="channelsLast",s=t-1-e.padInfo.top,o=r-1-e.padInfo.left,l=i?1:2,u=i?2:3,d=i?3:1;this.userCode=`
      const ivec2 pads = ivec2(`+s+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[`+d+`];

        ivec2 dyCorner = ivec2(coords[`+l+"], coords["+u+`]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+r+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+r+` - 1 - wC;

            for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {

              if (`+i+`) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `},A1e=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,r=e.strideHeight,n=e.strideWidth,a=e.padInfo.front,i=e.padInfo.top,s=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yF = 0; yF < `+e.outDepth+`; yF++) {
            int xF = wF + yF * `+t+" - "+a+`;

            if (xF < 0 || xF >= `+e.inDepth+`) {
              continue;
            }

            for (int yR = 0; yR < `+e.outHeight+`; yR++) {
              int xR = wR + yR * `+r+" - "+i+`;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int yC = 0; yC < `+e.outWidth+`; yC++) {
                int xC = wC + yC * `+n+" - "+s+`;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},D1e=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,r=e.filterHeight,n=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=t-1-e.padInfo.front,l=r-1-e.padInfo.top,u=n-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(`+o+", "+l+", "+u+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < `+t+`; wF++) {
          float dyF = float(dyFCorner + wF) / `+a+`.0;

          if (dyF < 0.0 || dyF >= `+e.outDepth+`.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = `+t+` - 1 - wF;

          for (int wR = 0; wR < `+r+`; wR++) {
            float dyR = float(dyRCorner + wR) / `+i+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = `+r+` - 1 - wR;

            for (int wC = 0; wC < `+n+`; wC++) {
              float dyC = float(dyCCorner + wC) / `+s+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = `+n+` - 1 - wC;

              for (int d2 = 0; d2 < `+e.outChannels+`; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},T1e=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,r=e.strideWidth,n=e.padInfo.top,a=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * `+i+` + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < `+e.batchSize+`; b++) {
          for (int yR = 0; yR < `+e.outHeight+`; yR++) {
            int xR = wR + yR * `+t+" - "+n+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int yC = 0; yC < `+e.outWidth+`; yC++) {
              int xC = wC + yC * `+r+" - "+a+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `},O1e=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,r=e.filterWidth,n=e.strideHeight,a=e.strideWidth,i=t-1-e.padInfo.top,s=r-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(`+i+", "+s+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < `+t+`; wR++) {
          float dyR = float(dyRCorner + wR) / `+n+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = `+t+` - 1 - wR;

          for (int wC = 0; wC < `+r+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+a+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = `+r+` - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < `+o+`; dm++) {
              int d2 = d1 * `+o+` + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `},KL=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.padInfo.top,i=e.padInfo.left,s=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,f=e.filterWidth,p=4*Math.floor(e.inChannels/4),h=e.inChannels%4,g=e.dataFormat==="channelsLast",y=g?1:2,x=g?2:3,b=g?3:1,N="",j="";r&&(N=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+r+`
        }`:`
          float activation(float x) {
            `+r+`
          }
        `,j="result = activation(result);");var w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+N+`

      const ivec2 strides = ivec2(`+s+", "+o+`);
      const ivec2 pads = ivec2(`+a+", "+i+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[`+b+`];

        ivec2 xRCCorner =
            ivec2(coords[`+y+"], coords["+x+`]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+d+`; wR++) {
          int xR = xRCorner + wR * `+l+`;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+f+`; wC++) {
            int xC = xCCorner + wC * `+u+`;

            if (xC < 0 || xC >= `+e.inWidth+`) {
              continue;
            }

            for (int d1 = 0; d1 < `+p+`; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (`+g+`) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (`+(h===1)+`) {

              if (`+g+`) {
                dotProd +=
                    getX(batch, xR, xC, `+p+`) *
                    getW(wR, wC, `+p+`, d2);
              } else {
                dotProd +=
                    getX(batch, `+p+`, xR, xC) *
                    getW(wR, wC, `+p+`, d2);
              }

            } else if (`+(h===2)+`) {
              vec2 wValues = vec2(
                getW(wR, wC, `+p+`, d2),
                getW(wR, wC, `+p+` + 1, d2)
              );

              if (`+g+`) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, `+p+`),
                  getX(batch, xR, xC, `+p+` + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, `+p+`, xR, xC),
                  getX(batch, `+p+` + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (`+(h===3)+`) {
              vec3 wValues = vec3(
                getW(wR, wC, `+p+`, d2),
                getW(wR, wC, `+p+` + 1, d2),
                getW(wR, wC, `+p+` + 2, d2)
              );

              if (`+g+`) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, `+p+`),
                  getX(batch, xR, xC, `+p+` + 1),
                  getX(batch, xR, xC, `+p+` + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, `+p+`, xR, xC),
                  getX(batch, `+p+` + 1, xR, xC),
                  getX(batch, `+p+` + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        `+w+`
        `+j+`
        setOutput(result);
      }
    `},I1e=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,r=e.padInfo.top,n=e.padInfo.left,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.filterDepth,f=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),g=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(`+a+", "+i+", "+s+`);
      const ivec3 pads = ivec3(`+t+", "+r+", "+n+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < `+d+`; wF++) {
          int xF = xFCorner + wF * `+o+`;

          if (xF < 0 || xF >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`; wR++) {
            int xR = xRCorner + wR * `+l+`;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+p+`; wC++) {
              int xC = xCCorner + wC * `+u+`;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              for (int d1 = 0; d1 < `+h+`; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (`+(g===1)+`) {
                dotProd +=
                  getX(batch, xF, xR, xC, `+h+`) *
                  getW(wF, wR, wC, `+h+`, d2);
              } else if (`+(g===2)+`) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, `+h+`),
                  getX(batch, xF, xR, xC, `+h+` + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, `+h+`, d2),
                  getW(wF, wR, wC, `+h+` + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (`+(g===3)+`) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, `+h+`),
                  getX(batch, xF, xR, xC, `+h+` + 1),
                  getX(batch, xF, xR, xC, `+h+` + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, `+h+`, d2),
                  getW(wF, wR, wC, `+h+` + 1, d2),
                  getW(wF, wR, wC, `+h+` + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `},XL=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var a=e.inHeight,i=e.inWidth,s=e.padInfo.top,o=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,p=e.filterHeight,h=e.filterWidth,g=e.outChannels/e.inChannels,y="",x="";r&&(y=n?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          `+r+`
        }`:`
          float activation(float x) {
            `+r+`
          }
        `,x="result = activation(result);");var b=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+y+`

      const ivec2 strides = ivec2(`+l+", "+u+`);
      const ivec2 pads = ivec2(`+s+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / `+g+`;
        int q = d2 - d1 * `+g+`;

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < `+p+`; wR++) {
          int xR = xRCorner + wR * `+d+`;

          if (xR < 0 || xR >= `+a+`) {
            continue;
          }

          for (int wC = 0; wC < `+h+`; wC++) {
            int xC = xCCorner + wC * `+f+`;

            if (xC < 0 || xC >= `+i+`) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        `+b+`
        `+x+`
        setOutput(result);
      }
    `},JL=function(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=null),n===void 0&&(n=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var a=e.inHeight,i=e.inWidth,s=e.padInfo.top,o=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,d=e.dilationHeight,f=e.dilationWidth,p=e.filterHeight,h=e.filterWidth,g=h,y="int xR; int xC; int xCOffset;",x=0;x<p;x++)for(var b=0;b<h;b++)y+=`
          vec4 xTexelR`+x+"C"+2*b+` = vec4(0.);
          vec4 wR`+x+"C"+b+` = vec4(0.);
          vec4 xR`+x+"C"+b+" = vec4(0.);";for(x=0;x<p;x++)for(var N=0;N<g;N++){if(y+=`
          xR = xRCorner + `+x*d+`;
          xC = xCCorner + `+(b=2*N)*f+`;
        `,u===1){if(b<h&&(y+=o%2==1?`
                xCOffset = xC + 1;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  xTexelR`+x+"C"+b+` = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    xTexelR`+x+"C"+b+`.zw = vec2(0.);
                  }
                } else {
                  xTexelR`+x+"C"+b+` = vec4(0.);
                }

                xCOffset = xC + 1 - 2;
                if(xR >= 0 && xR < `+a+" && xCOffset >= 0 && xCOffset < "+i+`) {
                  vec4 previous = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if(xCOffset + 1 >= `+i+`) {
                    previous.zw = vec2(0.);
                  }

                  xR`+x+"C"+b+" = vec4(previous.zw, xTexelR"+x+"C"+b+`.xy);
                } else {
                  xR`+x+"C"+b+" = vec4(0, 0, xTexelR"+x+"C"+b+`.xy);
                }
              `:`
                if(xR >= 0 && xR < `+a+" && xC >= 0 && xC < "+i+`) {
                  xTexelR`+x+"C"+b+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+x+"C"+b+` = vec4(0.);
                }

                xR`+x+"C"+b+" = xTexelR"+x+"C"+b+`;
              `,b+1<h)){var j=o%2==0?EJ(f):f;f%2==0&&o%2==1||f%2!=0&&o%2!=1?(y+=`
                  xCOffset = xC + `+o%2+" + "+j+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+x+"C"+(b+2)+` = getX(batch, xR, xCOffset, d1);
                  }
                `,f>1&&(y+=`
                    xCOffset -= 2;
                    if(xR >= 0 && xR < `+a+` &&
                      xCOffset >= 0 && xCOffset < `+i+`) {
                      xTexelR`+x+"C"+b+` = getX(batch, xR, xCOffset, d1);
                    } else {
                      xTexelR`+x+"C"+b+` = vec4(0.);
                    }
                  `),y+=`
                  xR`+x+"C"+(b+1)+` = vec4(
                    xTexelR`+x+"C"+b+".zw, xTexelR"+x+"C"+(b+2)+`.xy);
                `):y+=`
                  xCOffset = xC + `+j+`;

                  if(xR >= 0 && xR < `+a+` &&
                    xCOffset >= 0 && xCOffset < `+i+`) {
                    xTexelR`+x+"C"+(b+2)+` = getX(batch, xR, xCOffset, d1);
                  }

                  xR`+x+"C"+(b+1)+" = xTexelR"+x+"C"+(b+2)+`;
                `}}else b<h&&(y+=`
              if(xR >= 0 && xR < `+a+`) {
            `,o%2==1?(y+=`
                xCOffset = xC + 1 - `+u+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+x+"C"+b+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+x+"C"+b+` = vec4(0.);
                }

                if(xC + 1 >= 0 && xC + 1 < `+i+`) {
                  xTexelR`+x+"C"+(b+2)+` = getX(batch, xR, xC + 1, d1);
                } else {
                  xTexelR`+x+"C"+(b+2)+` = vec4(0.);
                }

                xR`+x+"C"+b+` = vec4(
                  xTexelR`+x+"C"+b+".zw, xTexelR"+x+"C"+(b+2)+`.zw);
              `,b+1<h&&(y+=`
                  vec4 final = vec4(0.);
                  xCOffset = xC + 1 + `+u+`;
                  if(xCOffset >= 0 && xCOffset < `+i+`) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xR`+x+"C"+(b+1)+" = vec4(xTexelR"+x+"C"+(b+2)+`.xy, final.xy);
                `)):(y+=`
                if(xC >= 0 && xC < `+i+`) {
                  xTexelR`+x+"C"+b+` = getX(batch, xR, xC, d1);
                } else {
                  xTexelR`+x+"C"+b+` = vec4(0.);
                }

                xCOffset = xC + `+u+`;
                if(xCOffset >= 0 && xCOffset < `+i+`) {
                  xTexelR`+x+"C"+(b+2)+` = getX(batch, xR, xCOffset, d1);
                } else {
                  xTexelR`+x+"C"+(b+2)+` = vec4(0.);
                }

                xR`+x+"C"+b+` = vec4(
                  xTexelR`+x+"C"+b+".xy, xTexelR"+x+"C"+(b+2)+`.xy);
              `,b+1<h&&(y+=`
                  xR`+x+"C"+(b+1)+` = vec4(
                    xTexelR`+x+"C"+b+".zw, xTexelR"+x+"C"+(b+2)+`.zw);
                `)),y+="}");b<h&&(y+=`
            vec4 wTexelR`+x+"C"+b+" = getW("+x+", "+b+`, d1, q);
            wR`+x+"C"+b+" = vec4(wTexelR"+x+"C"+b+".xz, wTexelR"+x+"C"+b+`.xz);
          `,b+1<h&&(y+=`
              vec4 wTexelR`+x+"C"+(b+1)+" = getW("+x+", "+(b+1)+`, d1, q);
              wR`+x+"C"+(b+1)+` =
                vec4(wTexelR`+x+"C"+(b+1)+".xz, wTexelR"+x+"C"+(b+1)+".xz);"))}for(x=0;x<p;x++)for(b=0;b<h;b++)y+="dotProd += xR"+x+"C"+b+" * wR"+x+"C"+b+";";var w="",C="";r&&(w=n?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+r+`
        }`:`vec4 activation(vec4 x) {
          `+r+`
        }`,C="result = activation(result);");var E=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),n&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+w+`

      const ivec2 strides = ivec2(`+l+", "+u+`);
      const ivec2 pads = ivec2(`+s+", "+o+`);

      void main() {

        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2;
        int q = 0;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        vec4 dotProd = vec4(0.);

        `+y+`

        vec4 result = dotProd;
        `+E+`
        `+C+`
        setOutput(result);
      }
    `},M1e=function(e,t,r,n,a){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=e[0],s=e[1],o=e[2],l=e[3],u=t[0],d=r[0],f=r[1];this.outputShape=[u,d,f,l];var p=n==="bilinear"?1:0,h=[s-1+".0",o-1+".0"],g=h[0],y=h[1],x=d>1?[""+(s-1)/(d-1),"(y2-y1) * height_ratio","y1*"+g+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+g],b=x[0],N=x[1],j=x[2],w=f>1?[""+(o-1)/(f-1),"(x2-x1) * width_ratio","x1*"+y+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+y],C=w[0],E=w[1],I=w[2];this.userCode=`
      const float height_ratio = float(`+b+`);
      const float width_ratio = float(`+C+`);
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= `+i+`) {
          return;
        }

        float height_scale = `+N+`;
        float width_scale = `+E+`;

        float in_y = `+j+`;
        if( in_y < 0.0 || in_y > `+g+` ) {
          setOutput(float(`+a+`));
          return;
        }
        float in_x = `+I+`;
        if( in_x < 0.0 || in_x > `+y+` ) {
          setOutput(float(`+a+`));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(`+p+` == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `},R1e=function(e,t,r){this.variableNames=["x"],this.outputShape=e;var n=e.length,a=e[e.length-1],i=r?"<":">";this.userCode=`
      int getIndex(int i) {
        `+(r?"return "+a+" -i - 1;":"return i;")+`
      }

      void main() {
        `+En(n)+` coords = getOutputCoords();
        int end = `+ZL(n,"coords")+`;
        float val = 0.0;
        for (int i = `+a+` - 1; i >= 0; i -= 1) {
          int idx = getIndex(i);
          if (idx `+i+` end) {
            continue;
          }
          if (idx == end && `+t+`) {
            continue;
          }
          `+ZL(n,"coords")+` = idx;
          val += getX(`+(function(s,o){if(s===1)return""+o;if(s===2)return o+".x, "+o+".y";if(s===3)return o+".x, "+o+".y, "+o+".z";if(s===4)return o+".x, "+o+".y, "+o+".z, "+o+".w";throw Error("Cumulative sum for rank "+s+" is not yet supported")})(n,"coords")+`);
        }
        setOutput(val);
      }
    `};function ZL(e,t){if(e===1)return""+t;if(e===2)return t+".y";if(e===3)return t+".z";if(e===4)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var L1e=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=uy.DENSE;var t=Lx(e),r=vs();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Gp(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        `+r.output+` = result;
      }
    `},F1e=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=uy.DENSE;var t=Lx(e),r=vs();this.outputShape=e,this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        `+Gp(["r","c","d"],e)+`
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx *
          vec2(`+t[0]+", "+t[1]+`));
        int index = 4 * (resTexRC.x * `+t[1]+` + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        `+r.output+` = result;
      }
    `},B1e=(function(){function e(t,r,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=r,this.dataFormat=n,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = `+this.getHeightCoordString()+`;
      int w = `+this.getWidthCoordString()+`;
      int d = `+this.getDepthCoordString()+`;

      int in_h = h / `+r+`;
      int offset_h = imod(h, `+r+`);
      int in_w = w / `+r+`;
      int offset_w = imod(w, `+r+`);
      int offset_d = (offset_h * `+r+` + offset_w) *
        `+this.getOutputDepthSize()+`;
      int in_d = d + offset_d;

      float result = `+this.getInputSamplingString()+`;
      setOutput(result);
    }
  `}return e.prototype.getHeightCoordString=function(){return this.dataFormat==="NHWC"?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return this.dataFormat==="NHWC"?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return this.dataFormat==="NHWC"?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return this.dataFormat==="NHWC"?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return this.dataFormat==="NHWC"?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e})(),z1e=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `},W1e=function(e){this.variableNames=["A"],this.outTexUsage=Xo.DOWNLOAD;var t=vs();this.outputShape=e,this.userCode=`
      `+sZ+`

      void main() {
        float x = getAAtOutCoords();
        `+t.output+` = encode_float(x);
      }
    `},U1e=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Xo.DOWNLOAD;var t=vs();this.outputShape=e,this.userCode=`
      `+sZ+`

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        `+t.output+` = encode_float(x);
      }
    `},$1e=function(e,t,r){r===void 0&&(r=!1),this.variableNames=["A"];var n=vs(),a=t[0],i=t[1];this.outputShape=e;var s="result";r&&(s="floor(result * 255. + 0.5)"),this.userCode=`
      `+zD(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        int flatIndex = getFlatIndex(coords);
        int offset = imod(flatIndex, 4);

        flatIndex = idiv(flatIndex, 4, 1.);
        
        int r = flatIndex / `+i+`;
        int c = imod(flatIndex, `+i+`);
        vec2 uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
        vec4 values = `+n.texture2D+`(A, uv);

        float result;

        if(offset == 0) {
          result = values[0];
        } else if(offset == 1) {
          result = values[1];
        } else if(offset == 2) {
          result = values[2];
        } else {
          result = values[3];
        }

        `+n.output+" = vec4("+s+`, 0., 0., 0.);
      }
    `},q1e=function(e,t,r){r===void 0&&(r=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=vs(),a=t[0],i=t[1];this.outputShape=e;var s="",o="result";r&&(o="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var u=0;u<=1;u++){var d=2*l+u;s+=`
          localCoords = coords;
          if(localCoords[2] + `+u+" < "+e[2]+`) {
            localCoords[2] += `+u+`;
            if(localCoords[1] + `+l+" < "+e[1]+`) {
              localCoords[1] += `+l+`;

              flatIndex = getFlatIndex(localCoords);
              offset = imod(flatIndex, 4);

              flatIndex = idiv(flatIndex, 4, 1.);

              r = flatIndex / `+i+`;
              c = imod(flatIndex, `+i+`);
              uv = (vec2(c, r) + halfCR) / vec2(`+i+".0, "+a+`.0);
              values = `+n.texture2D+`(A, uv);

              if(offset == 0) {
                result[`+d+`] = values[0];
              } else if(offset == 1) {
                result[`+d+`] = values[1];
              } else if(offset == 2) {
                result[`+d+`] = values[2];
              } else {
                result[`+d+`] = values[3];
              }
            }
          }
        `}this.userCode=`
      `+zD(e)+`

      void main() {
        ivec3 coords = getOutputCoords();

        vec4 result = vec4(0.);
        int flatIndex, r, c, offset;
        ivec3 localCoords;
        vec2 uv;
        vec4 values;

        `+s+`

        `+n.output+" = "+o+`;
      }
    `},V1e="return real * expR - imag * expI;",H1e="return real * expI + imag * expR;",QL=function(e,t,r){this.variableNames=["real","imag"];var n=t[1];this.outputShape=t;var a=r?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,i=r?n+".0":"1.0";this.userCode=`
      const float exponentMultiplier = `+a+`;

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        `+e+`
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(`+n+`);
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < `+n+`; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / `+i+`;
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `},G1e=(function(){function e(t,r){this.outputShape=[],this.variableNames=["x"],this.outputShape=t,this.userCode=`
      uniform float value;
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;return function(n,a){r.valueLoc==null&&(r.valueLoc=n.getUniformLocationNoThrow(a,"value")),n.gl.uniform1f(r.valueLoc,t)}},e})(),Y1e=function(e,t,r){this.variableNames=["A","indices"];var n=e.slice();n[r]=t,this.outputShape=n,this.rank=n.length;var a=En(this.rank),i=(function(s,o){var l=s.length;if(l>4)throw Error("Gather for rank "+l+" is not yet supported");if(l===1)return"int(getIndices(resRC))";for(var u=["resRC.x","resRC.y","resRC.z","resRC.w"],d=[],f=0;f<s.length;f++)f===o?d.push("int(getIndices("+u[f]+"))"):d.push(""+u[f]);return d.join()})(e,r);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},K1e=function(e,t,r){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=r;var n=En(t.length),a=En(r.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode=`
        `+n+" strides = "+n+"("+this.strides+`);
         void main() {
          `+a+` coords = getOutputCoords();
          int flattenIndex = 0;
          for (int j = 0; j < `+this.sliceDim+`; j++) {
            int index = round(getIndices(coords[0], j));
            flattenIndex += index * `+i+`;
          }
          setOutput(getX(flattenIndex, coords[1]));
        }
      `};function X1e(e,t){var r=vs();return Vxe(e,t,r.version+`
    precision highp float;
    `+r.attribute+` vec3 clipSpacePos;
    `+r.attribute+` vec2 uv;
    `+r.varyingVs+` vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`)}function J1e(e,t){return Xxe(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Z1e(e,t){return Jxe(e,t,new Uint16Array([0,1,2,2,1,3]))}function a1(e,t,r,n,a,i,s){Qxe(r,n);var o=Zxe(e,t),l=e.TEXTURE_2D;return Gt(e,t,(function(){return e.bindTexture(l,o)})),Gt(e,t,(function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Gt(e,t,(function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Gt(e,t,(function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Gt(e,t,(function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)})),Gt(e,t,(function(){return e.texImage2D(l,0,a,r,n,0,i,s,null)})),Gt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),o}function Q1e(e,t,r,n,a){var i=d4(r,n);return a1(e,t,i[0],i[1],a.internalFormatFloat,a.textureFormatFloat,e.FLOAT)}function e2e(e,t,r,n,a){var i=d4(r,n);return a1(e,t,i[0],i[1],a.internalFormatHalfFloat,a.textureFormatFloat,a.textureTypeHalfFloat)}function t2e(e,t,r,n,a){var i=d4(r,n);return a1(e,t,i[0],i[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function r2e(e,t,r,n,a){var i=n1(r,n);return a1(e,t,i[0],i[1],a.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function n2e(e,t,r,n,a){var i=n1(r,n);return a1(e,t,i[0],i[1],a.internalFormatPackedHalfFloat,e.RGBA,a.textureTypeHalfFloat)}function a2e(e,t,r,n){return Gt(e,t,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),zL(e,t,r,"clipSpacePos",n,3,20,0)&&zL(e,t,r,"uv",n,2,20,12)}function i2e(e,t,r,n,a,i,s){var o,l,u;Gt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,r)})),i instanceof Uint8Array?(o=new Uint8Array(n*a*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(o=new Float32Array(n*a*4),l=e.FLOAT,u=s.internalFormatPackedFloat),o.set(i),Gt(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,u,n,a,0,e.RGBA,l,o)})),Gt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function s2e(e,t,r,n){Gt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,r)})),n.data instanceof Uint8Array?Gt(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):Gt(e,t,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),Gt(e,t,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function o2e(e,t,r,n,a){var i=e.createBuffer();Gt(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,i)}));var s=16*r*n;return Gt(e,t,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,s,e.STREAM_READ)})),Gt(e,t,(function(){return e.readPixels(0,0,n,r,e.RGBA,e.FLOAT,0)})),Gt(e,t,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),i}function l2e(e,t,r){var n=e,a=new Float32Array(r);return n.bindBuffer(n.PIXEL_PACK_BUFFER,t),n.getBufferSubData(n.PIXEL_PACK_BUFFER,0,a),n.bindBuffer(n.PIXEL_PACK_BUFFER,null),a}function c2e(e,t,r,n,a){var i=d4(r,n),s=i[0],o=i[1],l=new Uint8Array(r*n*4);return Gt(e,t,(function(){return e.readPixels(0,0,s,o,a.downloadTextureFormat,e.UNSIGNED_BYTE,l)})),new Float32Array(l.buffer)}function u2e(e,t,r,n,a,i,s,o){var l=e,u=new Float32Array((function(d,f){var p=n1(d,f);return p[0]*p[1]*4})(i,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function d2e(e,t,r,n){var a=new Float32Array(r*n*4);return Gt(e,t,(function(){return e.readPixels(0,0,n,r,e.RGBA,e.FLOAT,a)})),a}var f2e=(function(){function e(t){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var r=nt().getNumber("WEBGL_VERSION");t!=null?(this.gl=t,zxe(r,t)):this.gl=Wu(r);var n="WEBGL_color_buffer_float";if(nt().getNumber("WEBGL_VERSION")===1){if(this.textureFloatExtension=R2(this.gl,this.debug,"OES_texture_float"),ql(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=R2(this.gl,this.debug,"OES_texture_half_float");else if(nt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),ql(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=R2(this.gl,this.debug,"EXT_color_buffer_half_float");else if(nt().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",ql(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!ql(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=J1e(this.gl,this.debug),this.indexBuffer=Z1e(this.gl,this.debug),this.framebuffer=eye(this.gl,this.debug),this.textureConfig=AD(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return nt().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var t=this;if(!this.disposed){this.program!=null&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),this.outputTexture!=null&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var r=this.gl;Gt(r,this.debug,(function(){return r.finish()})),Gt(r,this.debug,(function(){return r.bindFramebuffer(r.FRAMEBUFFER,null)})),Gt(r,this.debug,(function(){return r.deleteFramebuffer(t.framebuffer)})),Gt(r,this.debug,(function(){return r.bindBuffer(r.ARRAY_BUFFER,null)})),Gt(r,this.debug,(function(){return r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,null)})),Gt(r,this.debug,(function(){return r.deleteBuffer(t.indexBuffer)})),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(t,r){return this.throwIfDisposed(),Q1e(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(t,r){return this.throwIfDisposed(),e2e(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(t,r){return this.throwIfDisposed(),t2e(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(t,r){this.throwIfDisposed(),s2e(this.gl,this.debug,t,r)},e.prototype.uploadDenseMatrixToTexture=function(t,r,n,a){this.throwIfDisposed(),i2e(this.gl,this.debug,t,r,n,a,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(t,r){return this.throwIfDisposed(),n2e(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(t,r){return this.throwIfDisposed(),r2e(this.gl,this.debug,t,r,this.textureConfig)},e.prototype.deleteMatrixTexture=function(t){var r=this;this.throwIfDisposed(),this.outputTexture===t&&(WL(this.gl,this.debug,this.framebuffer),this.outputTexture=null),Gt(this.gl,this.debug,(function(){return r.gl.deleteTexture(t)}))},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(t,r,n){var a=this;return this.downloadMatrixDriver(t,(function(){return c2e(a.gl,a.debug,r,n,a.textureConfig)}))},e.prototype.downloadPackedMatrixFromBuffer=function(t,r,n,a,i,s){return u2e(this.gl,t,0,0,0,i,s,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(t,r){return l2e(this.gl,t,r)},e.prototype.createBufferFromTexture=function(t,r,n){this.bindTextureToFrameBuffer(t);var a=o2e(this.gl,this.debug,r,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a},e.prototype.createAndWaitForFence=function(){var t=this.createFence(this.gl);return this.pollFence(t)},e.prototype.createFence=function(t){var r,n,a=this;if(nt().getBool("WEBGL_FENCE_API_ENABLED")){var i=t,s=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);t.flush(),n=function(){var o=i.clientWaitSync(s,0,0);return o===i.ALREADY_SIGNALED||o===i.CONDITION_SATISFIED},r=s}else nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(r=this.beginQuery(),this.endQuery(),n=function(){return a.isQueryAvailable(r,nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:r,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(t,r,n){var a=this;return this.downloadMatrixDriver(t,(function(){return d2e(a.gl,a.debug,r,n)}))},e.prototype.createProgram=function(t){this.throwIfDisposed();var r=this.gl,n=Hxe(r,this.debug,t),a=X1e(r,this.debug),i=Yxe(r,this.debug);return Gt(r,this.debug,(function(){return r.attachShader(i,a)})),Gt(r,this.debug,(function(){return r.attachShader(i,n)})),Kxe(r,this.debug,i),this.debug&&c6(r,this.debug,i),this.vertexAttrsAreBound||(this.setProgram(i),this.vertexAttrsAreBound=a2e(r,this.debug,this.program,this.vertexBuffer)),i},e.prototype.deleteProgram=function(t){var r=this;this.throwIfDisposed(),t===this.program&&(this.program=null),t!=null&&Gt(this.gl,this.debug,(function(){return r.gl.deleteProgram(t)}))},e.prototype.setProgram=function(t){var r=this;this.throwIfDisposed(),this.program=t,this.program!=null&&this.debug&&c6(this.gl,this.debug,this.program),Gt(this.gl,this.debug,(function(){return r.gl.useProgram(t)}))},e.prototype.getUniformLocation=function(t,r,n){return n===void 0&&(n=!0),this.throwIfDisposed(),n?rye(this.gl,this.debug,t,r):nye(this.gl,t,r)},e.prototype.getAttributeLocation=function(t,r){var n=this;return this.throwIfDisposed(),Gt(this.gl,this.debug,(function(){return n.gl.getAttribLocation(t,r)}))},e.prototype.getUniformLocationNoThrow=function(t,r){return this.throwIfDisposed(),this.gl.getUniformLocation(t,r)},e.prototype.setInputMatrixTexture=function(t,r,n){this.throwIfDisposed(),this.throwIfNoProgram(),aye(this.gl,this.debug,this.program,t,r,n)},e.prototype.setOutputMatrixTexture=function(t,r,n){this.setOutputMatrixTextureDriver(t,n,r)},e.prototype.setOutputPackedMatrixTexture=function(t,r,n){this.throwIfDisposed();var a=n1(r,n),i=a[0],s=a[1];this.setOutputMatrixTextureDriver(t,i,s)},e.prototype.setOutputMatrixWriteRegion=function(t,r,n,a){this.setOutputMatrixWriteRegionDriver(n,t,a,r)},e.prototype.setOutputPackedMatrixWriteRegion=function(t,r,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){this.program!=null&&c6(this.gl,this.debug,this.program),L2(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var t=this.gl;this.debug&&this.debugValidate(),Gt(t,this.debug,(function(){return t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0)}))},e.prototype.blockUntilAllProgramsCompleted=function(){var t=this;this.throwIfDisposed(),Gt(this.gl,this.debug,(function(){return t.gl.finish()}))},e.prototype.getQueryTimerExtension=function(){return this.disjointQueryTimerExtension==null&&(this.disjointQueryTimerExtension=R2(this.gl,this.debug,nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")===2){var t=this.gl,r=this.getQueryTimerExtensionWebGL2(),n=t.createQuery();return t.beginQuery(r.TIME_ELAPSED_EXT,n),n}var a=this.getQueryTimerExtensionWebGL1(),i=a.createQueryEXT();return a.beginQueryEXT(a.TIME_ELAPSED_EXT,i),i},e.prototype.endQuery=function(){if(nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")!==2){var t=this.getQueryTimerExtensionWebGL1();t.endQueryEXT(t.TIME_ELAPSED_EXT)}else{var r=this.gl,n=this.getQueryTimerExtensionWebGL2();r.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(t){return Rt(this,void 0,void 0,(function(){var r=this;return Lt(this,(function(n){switch(n.label){case 0:return[4,IL((function(){return r.disposed||r.isQueryAvailable(t,nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}))];case 1:return n.sent(),[2,this.getQueryTime(t,nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}}))}))},e.prototype.getQueryTime=function(t,r){if(r===0)return null;if(r===2){var n=this.gl;return n.getQueryParameter(t,n.QUERY_RESULT)/1e6}var a=this.getQueryTimerExtensionWebGL1();return a.getQueryObjectEXT(t,a.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(t,r){if(r===0)return!0;if(r===2){var n=this.gl,a=this.getQueryTimerExtensionWebGL2(),i=n.getQueryParameter(t,n.QUERY_RESULT_AVAILABLE);return this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint}return i=(a=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(t,a.QUERY_RESULT_AVAILABLE_EXT),this.disjoint==null&&(this.disjoint=this.gl.getParameter(a.GPU_DISJOINT_EXT)),i&&!this.disjoint},e.prototype.pollFence=function(t){var r=this;return new Promise((function(n){r.addItemToPoll((function(){return t.isFencePassed()}),(function(){return n()}))}))},e.prototype.pollItems=function(){for(var t=(function(n){for(var a=0;a<n.length&&n[a]();++a);return a-1})(this.itemsToPoll.map((function(n){return n.isDoneFn}))),r=0;r<=t;++r)(0,this.itemsToPoll[r].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(t+1)},e.prototype.addItemToPoll=function(t,r){var n=this;this.itemsToPoll.push({isDoneFn:t,resolveFn:r}),this.itemsToPoll.length>1||IL((function(){return n.pollItems(),n.itemsToPoll.length===0}))},e.prototype.bindTextureToFrameBuffer=function(t){this.throwIfDisposed(),u6(this.gl,this.debug,t,this.framebuffer),this.debug&&L2(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){this.outputTexture!=null?(u6(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&L2(this.gl)):WL(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(t,r){this.bindTextureToFrameBuffer(t);var n=r();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(t,r,n){this.throwIfDisposed();var a=this.gl;u6(a,this.debug,t,this.framebuffer),this.debug&&L2(a),this.outputTexture=t,Gt(a,this.debug,(function(){return a.viewport(0,0,r,n)})),Gt(a,this.debug,(function(){return a.scissor(0,0,r,n)}))},e.prototype.setOutputMatrixWriteRegionDriver=function(t,r,n,a){var i=this;this.throwIfDisposed(),Gt(this.gl,this.debug,(function(){return i.gl.scissor(t,r,n,a)}))},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(this.program==null)throw new Error("No GPU program is currently set.")},e})();function eF(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach((function(r,n){var a=r.logicalShape,i=t[n],s=i.shape;if(!ki(a,s))throw Error("Binary was compiled with different shapes than the current args. Shapes "+a+" and "+s+" must match");if(!r.isUniform||!i.isUniform){var o=r.texShape,l=i.isUniform?null:i.texData.texShape;if(!ki(o,l))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+o+" and "+l+" must match")}}))}var h2e=function(e,t,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n=r.filterWidth,a=r.inChannels,i=r.strideWidth,s=r.strideHeight,o=r.padInfo,l=r.outWidth,u=r.dilationWidth,d=r.dilationHeight,f=r.dataFormat,p=o.left,h=o.top,g=a*n,y=vs(),x=f==="channelsLast",b=x?0:1,N=x?1:2,j="",w=0;w<=1;w++)for(var C=0;C<=1;C++)j+=`
          blockIndex = rc.y + `+C+`;
          pos = rc.x + `+w+`;

          if(blockIndex < `+e[1]+" && pos < "+e[0]+`) {
            offsetY = int(blockIndex / (`+l+")) * "+s+" - "+h+`;
            d0 = offsetY + `+d+" * (pos / "+g+`);

            if(d0 < `+t[b]+` && d0 >= 0) {

              offsetX = int(mod(float(blockIndex), `+l+".) * "+i+". - "+p+`.);
              d1 = offsetX + `+u+" * (int(mod(float(pos), "+g+".) / "+a+`.));

              if(d1 < `+t[N]+` && d1 >= 0) {

                ch = int(mod(float(pos), `+a+`.));

                if (`+x+`) {
                  innerDims = vec2(d1, ch);
                  result[`+(2*w+C)+`] = getChannel(
                    getA(d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[`+(2*w+C)+`] = getChannel(
                    getA(ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec2 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        `+j+`

        `+y.output+` = result;
      }
    `},p2e=function(e,t,r,n,a){this.variableNames=["x"],this.outputShape=[];var i,s=t,o=e[3]-1;this.outputShape=e;var l="float("+r+") + float("+n+") * sum";i=a===.5?"inversesqrt("+l+")":a===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -`+s+"; j <= "+s+`; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  `+o+`) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * `+i+`;
        setOutput(val);
      }
    `},m2e=function(e,t,r,n,a){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=r,this.alpha=n,this.beta=a,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < `+this.depth+`; ++d) {
          int depthBegin = int(max(0.0, float(d - `+t+`)));
          int depthEnd = int(min(float(`+this.depth+`),
              float(d + `+t+` + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = `+this.depth+`;

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(`+n+") * norm + float("+r+`);

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(`+n+`)
                * float(`+a+`)
                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * `+a+`);
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `},g2e=function(e,t,r,n,a){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,s=t,o=e[3]-1;this.outputShape=e;var l="float("+r+") + float("+n+") * sum";i=a===.5?"inversesqrt("+l+")":a===1?"1.0/("+l+")":"exp(log("+l+") * float(-"+a+"));",this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < `+this.outputShape[3]+`;
        bool hasNextRow = c < `+this.outputShape[2]+`;

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - `+s+`;
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - `+s+"; j <= "+s+`; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(`+o+`));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * `+i+`;
        setOutput(result);
      }
    `},v2e=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,r=e.strideWidth,n=e.dilationHeight,a=e.effectiveFilterHeight,i=e.effectiveFilterWidth,s=a-1-e.padInfo.top,o=i-1-e.padInfo.left,l=a*i-1;this.userCode=`
      const ivec2 pads = ivec2(`+s+", "+o+`);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < `+a+`;
          wR += `+n+`) {
          float dyR = float(dyRCorner + wR) / `+t+`.0;

          if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < `+i+`; wC++) {
            float dyC = float(dyCCorner + wC) / `+r+`.0;

            if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = `+l+` - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * `+i+` + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `},x2e=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,r=e.strideHeight,n=e.strideWidth,a=e.dilationDepth,i=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=o-1-e.padInfo.front,f=l-1-e.padInfo.top,p=u-1-e.padInfo.left,h=o*l*u-1;this.userCode=`
      const ivec3 pads = ivec3(`+d+", "+f+", "+p+`);

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < `+o+`;
           wD += `+a+`) {
          float dyD = float(dyDCorner + wD) / `+t+`.0;

          if (dyD < 0.0 || dyD >= `+e.outDepth+`.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < `+l+`;
              wR += `+i+`) {
            float dyR = float(dyRCorner + wR) / `+r+`.0;

            if (dyR < 0.0 || dyR >= `+e.outHeight+`.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < `+u+`;
                wC += `+s+`) {
              float dyC = float(dyCCorner + wC) / `+n+`.0;

              if (dyC < 0.0 || dyC >= `+e.outWidth+`.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = `+h+` -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * `+l+" * "+u+` +
                  wR * `+u+` + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `},m6=function(e,t,r,n,a,i,s){r===void 0&&(r=!1),n===void 0&&(n=!1),a===void 0&&(a=!1),i===void 0&&(i=null),s===void 0&&(s=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var o=r?e[1]:e[2],l=Math.ceil(o/2),u=r?"i * 2, rc.y":"rc.y, i * 2",d=n?"rc.z, i * 2":"i * 2, rc.z",f=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=n?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],h="",g="";i&&(h=s?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          `+i+`
        }`:`vec4 activation(vec4 x) {
          `+i+`
        }`,g="result = activation(result);");var y=a?"result += getBiasAtOutCoords();":"";a&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),this.userCode=`
      `+h+`

      const float sharedDimension = `+l+`.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        for (int i = 0; i < `+l+`; i++) {
          vec4 a = getMatrixA(rc.x, `+u+`);
          vec4 b = getMatrixB(rc.x, `+d+`);

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (`+f[0]+" * "+p[0]+`);
          result += (`+f[1]+" * "+p[1]+`);
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        `+y+`

        `+g+`

        setOutput(result);
      }
    `},y2e=(function(){function e(t,r,n){this.variableNames=["probs"],this.outputShape=[t,n],this.userCode=`
      uniform float seed;

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < `+(r-1)+`; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(`+(r-1)+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;return function(n,a){r.seedLoc==null&&(r.seedLoc=n.getUniformLocation(a,"seed")),n.gl.uniform1f(r.seedLoc,t)}},e})(),b2e=function(e,t,r,n){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(`+n+"), float("+r+`),
                      float(index == coords.y)));
      }
    `},w2e=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(t===0)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{var r=ho("rc",t),n=En(t),a=(function(o,l,u){if(o===1)return"rc > "+l[0];for(var d="",f=o-2;f<o;f++)d+=u[f]+" >= "+l[f],f<o-1&&(d+="||");return d})(t,e,r),i=(function(o,l,u,d){if(o===1)return"";var f=d.slice(-2);return`
    int r = `+f[0]+`;
    int c = `+f[1]+`;
    int rp1 = r + 1;
    int cp1 = c + 1;

    bool cEdge = cp1 >= `+l+`;
    bool rEdge = rp1 >= `+u+`;
  `})(t,e[e.length-1],e[e.length-2],r),s=(function(o,l){var u=o.length,d=(function(f,p){for(var h=[],g=0;g<=1;g++)for(var y=0;y<=1;y++){for(var x=(g===0?"r":"rp1")+", "+(y===0?"c":"cp1"),b=2;b<f;b++)x=p[p.length-1-b]+","+x;h.push(x)}return h})(u,l);return u===1?`getA(rc),
            rc + 1 >= `+o[0]+` ? 0. : getA(rc + 1),
            0, 0`:"getA("+d[0]+`),
          cEdge ? 0. : getA(`+d[1]+`),
          rEdge ? 0. : getA(`+d[2]+`),
          rEdge || cEdge ? 0. : getA(`+d[3]+")"})(e,r);this.userCode=`
        void main() {
          `+n+` rc = getOutputCoords();

          if(`+a+`) {
            setOutput(vec4(0));
          } else {
            `+i+`

            setOutput(vec4(`+s+`));
          }
        }
      `}},N2e=function(e,t,r){this.variableNames=["x"],this.outputShape=t.map((function(l,u){return l[0]+e[u]+l[1]}));var n=e.length,a=En(n),i=t.map((function(l){return l[0]})).join(","),s=t.map((function(l,u){return l[0]+e[u]})).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,n);this.userCode=n!==1?`
      `+a+" start = "+a+"("+i+`);
      `+a+" end = "+a+"("+s+`);

      void main() {
        `+a+` outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(float(`+r+`));
        } else {
          `+a+` coords = outC - start;
          setOutput(getX(`+o+`));
        }
      }
    `:`
        int start = `+i+`;
        int end = `+s+`;

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(float(`+r+`));
          } else {
            setOutput(getX(outC - start));
          }
        }
      `},S2e=function(e,t,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((function(x,b){return x[0]+e[b]+x[1]}));for(var n=e.length,a=En(n),i=t.map((function(x){return x[0]})).join(","),s=t.map((function(x,b){return x[0]+e[b]})).join(","),o=ho("rc",n),l=ho("source",n),u=o[n-1]+" < "+this.outputShape[n-1],d=n===1?"source":"vec2("+l.slice(-2).join()+")",f=[a+" rc = outputLoc;",o[n-1]+` += 1;
       if(`+u+`) {
      `,n===1?"":`}
       rc = outputLoc;
       `+o[n-2]+` += 1;
       if(`+o[n-2]+" < "+this.outputShape[n-2]+") {",n===1?"":"  "+o[n-1]+` += 1;
         if(`+u+") {"],p=n===1?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",g=0,y=n===1?2:4;g<y;g++)h+=`
        `+f[g]+`
        if (`+p+`) {
          result[`+g+"] = float("+r+`);
        } else {
          `+a+` source = rc - start;
          result[`+g+"] = getChannel(getX("+l.join()+"), "+d+`);
        }
      `;h+=n===1?"} ":"}}",this.userCode=`
      const `+a+" start = "+a+"("+i+`);
      const `+a+" end = "+a+"("+s+`);

      void main() {
        `+a+` outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        `+h+`
        setOutput(result);
      }
    `},g6=function(e,t,r){if(this.variableNames=["x"],t==="avg"&&r)throw new Error("Cannot compute positions for average pool.");var n=e.filterWidth,a=e.strideHeight,i=e.strideWidth,s=e.dilationHeight,o=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,d=e.padInfo.top,f=e.padInfo.left;this.outputShape=e.outShape;var p=t==="avg",h="0.0";if(p||(h="-1.0 / 1e-20"),r)this.userCode=`
        const ivec2 strides = ivec2(`+a+", "+i+`);
        const ivec2 pads = ivec2(`+d+", "+f+`);

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < `+l+`;
              wR += `+s+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+u+`;
                wC += `+o+`) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= `+e.inWidth+`) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = wR * `+u+` + wC;
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var g=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(g="avgValue / count");var y=4*Math.floor(n/4),x=n%4,b=`
      if (`+p+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(`+a+", "+i+`);
      const ivec2 pads = ivec2(`+d+", "+f+`);
      const float initializationValue = `+h+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+h+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < `+l+`;
            wR += `+s+`) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= `+e.inHeight+`) {
            continue;
          }

          for (int wC = 0; wC < `+y+`; wC += 4) {
            int xC = xCCorner + wC * `+o+`;

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+o+`, d),
              getValue(batch, xR, xC + 2 * `+o+`, d),
              getValue(batch, xR, xC + 3 * `+o+`, d)
            );

            `+b+`
          }

          int xC = xCCorner + `+y+`;
          if (`+(x===1)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            `+b+`
          } else if (`+(x===2)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+o+`, d),
              initializationValue,
              initializationValue
            );

            `+b+`
          } else if (`+(x===3)+`) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + `+o+`, d),
              getValue(batch, xR, xC + 2 * `+o+`, d),
              initializationValue
            );

            `+b+`
          }
        }
        setOutput(`+g+`);
      }
    `}},v6=function(e,t,r){if(this.variableNames=["x"],t==="avg"&&r)throw new Error("Cannot compute positions for average pool.");var n=e.filterWidth,a=e.strideDepth,i=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,d=e.effectiveFilterDepth,f=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;var x=t==="avg",b="0.0";if(x||(b="-1.0 / 1e-20"),r)this.userCode=`
        const ivec3 strides =
            ivec3(`+a+", "+i+", "+s+`);
        const ivec3 pads = ivec3(`+h+", "+g+", "+y+`);

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < `+d+`;
              wD += `+o+`) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= `+e.inDepth+`) {
              continue;
            }

            for (int wR = 0; wR < `+f+`;
                wR += `+l+`) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= `+e.inHeight+`) {
                continue;
              }

              for (int wC = 0; wC < `+p+`;
                  wC += `+u+`) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= `+e.inWidth+`) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition =
                      wD * `+f+" * "+p+` +
                      wR * `+p+` + wC;;
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;else{var N=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="avg"&&(N="avgValue / count");var j=4*Math.floor(n/4),w=n%4,C=`
      if (`+x+`) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(`+a+", "+i+", "+s+`);
      const ivec3 pads = ivec3(`+h+", "+g+", "+y+`);
      const float initializationValue = `+b+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= `+e.inWidth+`) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(`+b+`);
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < `+d+`;
            wD += `+o+`) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= `+e.inDepth+`) {
            continue;
          }

          for (int wR = 0; wR < `+f+`;
            wR += `+l+`) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= `+e.inHeight+`) {
              continue;
            }

            for (int wC = 0; wC < `+j+`; wC += 4) {
              int xC = xCCorner + wC * `+u+`;

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                getValue(batch, xD, xR, xC + 3 * `+u+`, ch)
              );

              `+C+`
            }

            int xC = xCCorner + `+j+`;
            if (`+(w===1)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              `+C+`
            } else if (`+(w===2)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                initializationValue,
                initializationValue
              );

              `+C+`
            } else if (`+(w===3)+`) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + `+u+`, ch),
                getValue(batch, xD, xR, xC + 2 * `+u+`, ch),
                initializationValue
              );

              `+C+`
            }
          }
          setOutput(`+N+`);
        }
      }
    `}},j2e=function(e,t){this.variableNames=["x"];var r=e.windowSize,n=e.batchSize,a=e.inSize,i=Math.ceil(a/r);this.outputShape=[n,i];var s="0.0",o="";t==="prod"?s="1.0":t==="min"?(s="1.0 / 1e-20",o="min"):t==="max"&&(s="-1.0 / 1e-20",o="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";t==="sum"?l="sumValue":t==="prod"?l="prodValue":t==="all"?l="allValue":t==="any"&&(l="anyValue");var u=4*Math.floor(r/4),d=r%4,f=`
      if (`+(t==="sum")+`) {
        sumValue += dot(values, ones);
      } else if (`+(t==="prod")+`) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = `+o+`(values, minMaxValue);
      }
    `,p="vec4";t==="all"?(s="1.0",f=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,p="bvec4"):t==="any"&&(s="0.0",f=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,p="bvec4");var h="";a%r>0&&(h=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = `+s+`;
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        `+h+`
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * `+r+`;

        vec4 minMaxValue = vec4(`+s+`);
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < `+u+`; i += 4) {
          int inIdx = inOffset + i;
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          `+f+`
        }

        int inIdx = inOffset + `+u+`;
        if (`+(d===1)+`) {
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(d===2)+`) {
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          `+f+`
        } else if (`+(d===3)+`) {
          `+p+" values = "+p+`(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          `+f+`
        }
        setOutput(`+l+`);
      }
    `},C2e=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r="",n=0;n<4;n++){var a="thisRC = rc;";n%2==1&&(a+="thisRC.z += 1;"),n>1&&(a+="thisRC.y += 1;"),r+=`
        `+a+`
        `+(n>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+`
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[`+n+`] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        `+(n>0?"}":"")+`
      `}this.userCode=`
      
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      `+Gp(["r","c","d"],t)+`
      return ivec3(r, c, d);
    }
  
      `+zD(e)+`

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = `+e[1]+`;
        int cols = `+e[2]+`;

        `+r+`

        setOutput(result);
      }
    `},_2e=function(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var n=t.shape,a=n[1],i=n[2],s=e.shape,o=s[1],l=s[2],u=[r&&o>1?a-1:a,r&&l>1?i-1:i],d=[r&&o>1?o-1:o,r&&l>1?l-1:l],f=u[0]/d[0],p=u[1]/d[1],h=1/f,g=1/p,y=2*Math.ceil(h)+2,x=2*Math.ceil(g)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+p+`);

        const float invHeightScale = float(`+h+`);
        const float invWidthScale = float(`+g+`);

        const int winHeight = int(`+y+`);
        const int winWidth = int(`+x+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+o+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+l+`) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), `+(a-1)+`.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), `+(i-1)+`.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},E2e=function(e,t,r,n){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],s=e[2],o=e[3];this.outputShape=[a,t,r,o];var l=[n&&t>1?i-1:i,n&&r>1?s-1:s],u=[n&&t>1?t-1:t,n&&r>1?r-1:r];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+s+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `},P2e=function(e,t,r,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var a=e[0],i=e[1],s=e[2],o=e[3];this.outputShape=[a,t,r,o];var l=[n&&t>1?i-1:i,n&&r>1?s-1:s],u=[n&&t>1?t-1:t,n&&r>1?r-1:r];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`,
          `+l[1]/u[1]+`);
      const vec3 inputShapeRC = vec3(`+i+".0, "+s+`.0,
                                     `+s+`.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < `+(o-1)+`;
        bool hasNextRow = coords.z < `+(r-1)+`;

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `},k2e=function(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var n=t.shape,a=n[1],i=n[2],s=e.shape,o=s[1],l=s[2],u=[r&&o>1?a-1:a,r&&l>1?i-1:i],d=[r&&o>1?o-1:o,r&&l>1?l-1:l],f=u[0]/d[0],p=u[1]/d[1],h=1/f,g=1/p,y=2*Math.ceil(h)+2,x=2*Math.ceil(g)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(`+f+`);
        const float widthScale = float(`+p+`);

        const float invHeightScale = float(`+h+`);
        const float invWidthScale = float(`+g+`);

        const int winHeight = int(`+y+`);
        const int winWidth = int(`+x+`);

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= `+o+`) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= `+l+`) {
              continue;
            }

            float sourceFracRow =
              float(`+u[0]+`) *
                (float(dyR) / float(`+d[0]+`));

            float sourceFracCol =
                float(`+u[1]+`) *
                  (float(dyC) / float(`+d[1]+`));

            int sourceNearestRow = int(min(
                float(int(`+a+`) - 1),
                `+r+` ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(`+i+`) - 1),
                `+r+` ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `},A2e=function(e,t,r,n){this.variableNames=["A"],this.outputShape=[];var a=e[0],i=e[1],s=e[2],o=e[3];this.outputShape=[a,t,r,o];var l=[n&&t>1?i-1:i,n&&r>1?s-1:s],u=[n&&t>1?t-1:t,n&&r>1?r-1:r],d=n?"0.5":"0.0";this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          `+l[0]/u[0]+`,
          `+l[1]/u[1]+`);
      const vec2 inputShapeRC = vec2(`+i+".0, "+s+`.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + `+d+`)));

        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `},D2e=function(e,t){this.variableNames=["x"];var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");if(this.outputShape=e,r!==1){var n=e.map((function(i,s){return(function(o){return t.indexOf(o)!==-1&&e[o]!==1?e[o]+" - coords["+o+"] - 1":"coords["+o+"]"})(s)})).join(","),a=En(r);this.userCode=`
      void main() {
        `+a+` coords = getOutputCoords();
        setOutput(getX(`+n+`));
      }
    `}else this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(`+e[0]+` - coord - 1));
        }
      `},T2e=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=e.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-"+r+" tensor is not yet supported");this.outputShape=e;var n=ho("rc",r),a=n[r-1]+" + 1 < "+this.outputShape[r-1],i=n[r-2]+" + 1 < "+this.outputShape[r-2],s=En(r);function o(l){var u=e.map((function(d,f){return(function(p,h){return t.indexOf(p)!==-1&&e[p]!==1?e[p]+" - "+h[p]+" - 1":""+h[p]})(f,l)}));return"getChannel(getX("+u.join(",")+"), vec2("+u.slice(-2).join(",")+"))"}this.userCode=r===1?`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(`+e[0]+` - rc - 1),
            `+e[0]+` - rc - 1);
          if(`+a+`){
              result.g = getChannel(getX(`+e[0]+` - (rc  + 1) - 1),
                `+e[0]+` - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:`
        void main() {
          `+s+` rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = `+(function(l){return o(l)})(n.slice())+`;
          if(`+a+`){
            result.g = `+(function(l){return l[r-1]="("+l[r-1]+" + 1)",o(l)})(n.slice())+`;
          }
          if(`+i+`) {
            result.b = `+(function(l){return l[r-2]="("+l[r-2]+" + 1)",o(l)})(n.slice())+`;
            if(`+a+`) {
              result.a = `+(function(l){return l[r-1]="("+l[r-1]+" + 1)",l[r-2]="("+l[r-2]+" + 1)",o(l)})(n.slice())+`;
            }
          }
          setOutput(result);
        }
    `},tF=function(e,t,r,n,a,i,s){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var o=En(a.length),l=En(i.length),u="";r===1?u="i":r===2&&(u="i, j");var d="getIndices("+u+")",f="";n===1?f="i":n===2&&(f="i, coords[1]");var p="getUpdates("+f+")",h=t>1?"strides[j]":"strides";this.userCode=`
        `+o+" strides = "+o+"("+a+`);

        void main() {
          `+l+` coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < `+e+`; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < `+t+`; j++) {
              int index = round(`+d+`);
              flattenedIndex += index * `+h+`;
            }
            if (flattenedIndex == coords[0]) {
              sum += `+p+`;
              found = true;
            }
          }
          setOutput(mix(getDefaultValue(), sum, float(found)));
        }
      `},O2e=function(e,t){this.variableNames=["x","segmentIds"];var r=e.windowSize,n=e.batchSize,a=e.inSize,i=e.numSegments,s=i*Math.ceil(a/r);this.outputShape=[n,s];var o=4*Math.floor(r/4),l=r%4,u=`
        sumValue += dot(values, segFilter);
    `,d="";a%r>0&&(d=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return initializationValue;
        }
      `);var f="";a%r>0&&(f=`
        if (inIdx < 0 || inIdx >= `+a+`) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        `+d+`
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        `+f+`
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          `+i+")) * float("+r+`));
        int currentSeg = int(mod(float(outIdx), float(`+i+`)));

        float sumValue = 0.0;

        for (int i = 0; i < `+o+`; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          `+u+`
        }

        int inIdx = inOffset + `+o+`;
        if (`+(l===1)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          `+u+`
        } else if (`+(l===2)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          `+u+`
        } else if (`+(l===3)+`) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          `+u+`
        }
        setOutput(sumValue);
      }
    `},I2e=function(e,t,r){var n,a;if(this.variableNames=["c","a","b"],this.outputShape=t,r>4)throw Error("Where for rank "+r+" is not yet supported");if(r===1)a="resRC",n="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],o=[],l=0;l<t.length;l++)o.push(""+i[l]),l<e&&s.push(""+i[l]);n=s.join(),a=o.join()}var u=En(r);this.userCode=`
      void main() {
        `+u+` resRC = getOutputCoords();
        float cVal = getC(`+n+`);
        if (cVal >= 1.0) {
          setOutput(getA(`+a+`));
        } else {
          setOutput(getB(`+a+`));
        }
      }
    `},M2e=(function(){function e(t){this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var r,n=En(this.rank),a="uniform int start["+this.rank+"];",i=(function(s){if(s===1)return"sourceLoc";if(s<=6)return x6.slice(0,s).map((function(o){return"sourceLoc."+o})).join(",");throw Error("Slicing for rank "+s+" is not yet supported")})(this.rank);r=`
        `+n+` sourceLoc;
        `+n+` coords = getOutputCoords();
        `+t.map((function(s,o){return"sourceLoc."+x6[o]+" = start["+o+"] + coords."+x6[o]+";"})).join(`
`)+`
      `,this.userCode=`
      `+a+`
      void main() {
        `+r+`
        setOutput(getSource(`+i+`));
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,a){r.startLoc==null&&(r.startLoc=n.getUniformLocationNoThrow(a,"start"),r.startLoc==null)||n.gl.uniform1iv(r.startLoc,t)}},e})(),x6=["x","y","z","w","u","v"],R2e=(function(){function e(t){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length;var r=En(this.rank),n=ho("coords",this.rank),a=ho("sourceLoc",this.rank),i=this.rank===1?"sourceLoc":"vec2("+a.slice(-2).join()+")",s="getChannel(getSource("+a.join()+"), "+i+")",o=`
      result.x = `+s+`;
      if (++`+n[this.rank-1]+" < "+t[this.rank-1]+`) {
        ++`+a[this.rank-1]+`;
        result.y = `+s+`;
        --`+a[this.rank-1]+`;
      }
    `,l=this.rank===1?"":`
      --`+n[this.rank-1]+`;
      if (++`+n[this.rank-2]+" < "+t[this.rank-2]+`) {
        ++`+a[this.rank-2]+`;
        result.z = `+s+`;
        if (++`+n[this.rank-1]+" < "+t[this.rank-1]+`) {
          ++`+a[this.rank-1]+`;
          result.w = `+s+`;
        }
      }
    `,u=this.rank<=4?`sourceLoc = coords +
            `+r+"("+t.map((function(d,f){return"start["+f+"]"})).join()+");":t.map((function(d,f){return a[f]+" = "+n[f]+" + start["+f+"];"})).join(`
`);this.userCode=`
      uniform int start[`+this.rank+`];
      void main() {
        `+r+` coords = getOutputCoords();
        `+r+` sourceLoc;
        `+u+`
        vec4 result = vec4(0.);
        `+o+`
        `+l+`
        setOutput(result);
      }
    `}return e.prototype.getCustomSetupFunc=function(t){var r=this;if(t.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+t.length+")");return function(n,a){r.startLoc==null&&(r.startLoc=n.getUniformLocationNoThrow(a,"start"),r.startLoc==null)||n.gl.uniform1iv(r.startLoc,t)}},e})(),L2e=function(e,t,r){this.variableNames=["x"],this.outputShape=r;var n=r.length,a=En(r.length),i=En(r.length),s="";if(n===1)s="coords * strides + begin";else{var o=0;s=r.map((function(l,u){return o++,r.length===1?"coords * strides["+u+"] + begin["+u+"]":"coords["+(o-1)+"] * strides["+u+"] + begin["+u+"]"})).join(",")}this.userCode=`
      `+a+" begin = "+a+"("+e+`);
      `+a+" strides = "+a+"("+t+`);

      void main() {
        `+i+` coords = getOutputCoords();
        setOutput(getX(`+s+`));
      }
    `},F2e=(function(){function e(t){this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(t,r,n){var a,i=rF(r,n),s=nF(t,i,n);if(s in this.freeTextures||(this.freeTextures[s]=[]),s in this.usedTextures||(this.usedTextures[s]=[]),this.freeTextures[s].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var o=this.freeTextures[s].shift();return this.usedTextures[s].push(o),o}return this.numUsedTextures++,this.log(),i===Go.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(t[0],t[1]):i===Go.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(t[0],t[1]):i===Go.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(t[0],t[1]):i===Go.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(t[0],t[1]):i===Go.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(t[0],t[1])),this.usedTextures[s].push(a),a},e.prototype.releaseTexture=function(t,r,n,a){if(this.freeTextures!=null){var i=nF(r,rF(n,a),a);i in this.freeTextures||(this.freeTextures[i]=[]),this.freeTextures[i].push(t),this.numFreeTextures++,this.numUsedTextures--;var s=this.usedTextures[i],o=s.indexOf(t);if(o<0)throw new Error("Cannot release a texture that was never provided by this texture manager");s.splice(o,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var t=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+t+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var t=this;if(this.freeTextures!=null){for(var r in this.freeTextures)this.freeTextures[r].forEach((function(n){t.gpgpu.deleteMatrixTexture(n)}));for(var r in this.usedTextures)this.usedTextures[r].forEach((function(a){t.gpgpu.deleteMatrixTexture(a)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e})();function rF(e,t){if(e===Xo.UPLOAD)return Go.PACKED_2X2_FLOAT32;if(e===Xo.RENDER||e==null)return(function(r){return nt().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?r?Go.PACKED_2X2_FLOAT32:Go.UNPACKED_FLOAT32:r?Go.PACKED_2X2_FLOAT16:Go.UNPACKED_FLOAT16})(t);if(e===Xo.DOWNLOAD||e===Xo.PIXELS)return Go.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function nF(e,t,r){return e[0]+"_"+e[1]+"_"+t+"_"+r}var B2e=function(e,t){this.variableNames=["A"];for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e[n]*t[n];this.outputShape=r,this.rank=r.length;var a=En(this.rank),i=(function(s){var o=s.length;if(o>5)throw Error("Tile for rank "+o+" is not yet supported");if(o===1)return"imod(resRC, "+s[0]+")";for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],u=[],d=0;d<s.length;d++)u.push("imod("+l[d]+", "+s[d]+")");return u.join()})(e);this.userCode=`
      void main() {
        `+a+` resRC = getOutputCoords();
        setOutput(getA(`+i+`));
      }
    `},z2e=function(e,t){this.variableNames=["A"];for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e[t[n]];this.outputShape=r,this.rank=r.length;var a=En(this.rank),i=(function(s){var o=s.length;if(o>6)throw Error("Transpose for rank "+o+" is not yet supported");for(var l=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],u=new Array(o),d=0;d<s.length;d++)u[s[d]]=l[d];return u.join()})(t);this.userCode=`
    void main() {
      `+a+` resRC = getOutputCoords();
      setOutput(getA(`+i+`));
    }
    `},W2e=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(e.length),n=0;n<r.length;n++)r[n]=e[t[n]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var a=En(this.rank),i=iZ("rc",this.rank),s=new Array(this.rank);for(n=0;n<t.length;n++)s[t[n]]=i[n];var o="vec2("+s.slice(-2).join()+")",l="++"+i[this.rank-1]+" < "+r[this.rank-1],u="getChannel(getA("+s.join()+"), "+o+")";this.userCode=`
    void main() {
      `+a+` rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = `+u+`;
      if(`+l+`) {
        result[1] = `+u+`;
      }
      --`+i[this.rank-1]+`;
      if(++`+i[this.rank-2]+" < "+r[this.rank-2]+`) {
        result[2] = `+u+`;
        if(`+l+`) {
          result[3] = `+u+`;
        }
      }
      setOutput(result);
    }
    `},WD=1.7580993408473768,UD=1.0507009873554805,yr=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode=`
      float unaryOperation(float x) {
        `+t+`
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `},Fc="if (isnan(x)) return x;",U2e="return x;",aF="return abs(x);",uZ=Fc+`
  return (x < 0.0) ? 0.0 : x;
`,dZ=Fc+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,fZ="return (x >= 0.0) ? x : (exp(x) - 1.0);",$2e=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = `+WD+`;
  float scale = `+UD+`;
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,iF="return -x;",sF="return ceil(x);",oF="return floor(x);",lF="return exp(x);",cF="return exp(x) - 1.0;",q2e=Fc+`
  return sin(x);
`,V2e=Fc+`
  return cos(x);
`,H2e=Fc+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,G2e=Fc+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,Y2e=Fc+`
  return atan(x);
`,K2e=Fc+"return log(x + sqrt(x * x + 1.0));",X2e=Fc+`
  if (x < 1.0) return NAN;
  return log(x + sqrt(x * x - 1.0));`,J2e=Fc+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
  return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,W2="return x;",Z2e="return x;",hZ=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,pZ=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,mZ=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,tx=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode=`
      vec4 unaryOperation(vec4 x) {
        `+t+`
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `},Q2e=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,r=ho("rc",t),n=En(t),a=(function(o,l){if(o===1)return"rc";for(var u="",d=0;d<o;d++)u+=l[d],d<o-1&&(u+=",");return u})(t,r),i=r.slice(-2),s=t<=1?"rc":"vec2("+i.join(",")+")";this.userCode=`
      void main() {
        `+n+` rc = getOutputCoords();
        vec4 packedInput = getA(`+a+`);

        setOutput(getChannel(packedInput, `+s+`));
      }
    `},U2={};function $2(e,t){if(t===void 0&&(t=!1),e==="linear")return t?Z2e:U2e;if(e==="relu")return t?hZ:uZ;if(e==="elu")return t?mZ:fZ;if(e==="relu6")return t?pZ:dZ;if(e==="prelu")return t?cZ:lZ;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var ebe=600,tbe=(function(e){function t(r){var n,a=e.call(this)||this;if(a.pendingRead=new WeakMap,a.pendingDisposal=new WeakSet,a.dataRefCount=new WeakMap,a.numBytesInGPU=0,a.uploadWaitMs=0,a.downloadWaitMs=0,a.warnedAboutMemory=!1,a.pendingDeletes=0,a.disposed=!1,!nt().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(r==null){var i=Wu(nt().getNumber("WEBGL_VERSION"));a.binaryCache=((n=nt().getNumber("WEBGL_VERSION"))in U2||(U2[n]={}),U2[n]),a.gpgpu=new f2e(i),a.canvas=i.canvas,a.gpgpuCreatedLocally=!0}else a.gpgpu=r,a.binaryCache={},a.gpgpuCreatedLocally=!1,a.canvas=r.gl.canvas;return a.textureManager=new F2e(a.gpgpu),a.numMBBeforeWarning=nt().global.screen==null?1024:nt().global.screen.height*nt().global.screen.width*window.devicePixelRatio*ebe/1024/1024,a.texData=new XJ(a,Oe),a}return Lc(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(r,n,a){if(nt().getBool("DEBUG")&&this.checkNumericalProblems(r),a==="complex64"&&r!=null)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var i={};return this.texData.set(i,{shape:n,dtype:a,values:r,usage:Xo.UPLOAD}),i},t.prototype.move=function(r,n,a,i){if(nt().getBool("DEBUG")&&this.checkNumericalProblems(n),i==="complex64")throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(r,{shape:a,dtype:i,values:n,usage:Xo.UPLOAD})},t.prototype.readSync=function(r){var n=this.texData.get(r),a=n.values,i=n.dtype,s=n.complexTensors,o=n.slice,l=n.shape,u=n.isPacked;if(o!=null){var d=void 0;d=u?new tx(l,W2):new yr(l,W2);var f=this.runWebGLProgram(d,[{dataId:r,shape:l,dtype:i}],i),p=this.readSync(f.dataId);return this.disposeData(f.dataId),p}if(a!=null)return this.convertAndCacheOnCPU(r);if(i==="string")return a;var h,g,y=this.activeTimers!=null;return y&&(h=fu()),i==="complex64"?g=Tk(s.real.dataSync(),s.imag.dataSync()):g=this.getValuesFromTexture(r),y&&(this.downloadWaitMs+=fu()-h),this.convertAndCacheOnCPU(r,g)},t.prototype.read=function(r){return Rt(this,void 0,void 0,(function(){var n,a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D;return Lt(this,(function(O){switch(O.label){case 0:if(this.pendingRead.has(r))return n=this.pendingRead.get(r),[2,new Promise((function(L){return n.push(L)}))];if(a=this.texData.get(r),i=a.values,s=a.shape,o=a.slice,l=a.dtype,u=a.complexTensors,d=a.isPacked,o!=null)return f=void 0,f=d?new tx(s,W2):new yr(s,W2),p=this.runWebGLProgram(f,[{dataId:r,shape:s,dtype:l}],l),h=this.read(p.dataId),this.disposeData(p.dataId),[2,h];if(i!=null)return[2,this.convertAndCacheOnCPU(r)];if(!nt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&nt().getNumber("WEBGL_VERSION")===2)throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return g=null,l!=="complex64"&&nt().get("WEBGL_BUFFER_SUPPORTED")&&(y=this.decode(r),x=this.texData.get(y.dataId),g=(D=this.gpgpu).createBufferFromTexture.apply(D,[x.texture].concat(Lx(s)))),this.pendingRead.set(r,[]),l==="complex64"?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:O.sent(),O.label=2;case 2:return l!=="complex64"?[3,4]:[4,Promise.all([u.real.data(),u.imag.data()])];case 3:return N=O.sent(),j=N[0],w=N[1],b=Tk(j,w),[3,5];case 4:g==null?b=this.getValuesFromTexture(r):(C=Ut(s),b=this.gpgpu.downloadFloat32MatrixFromBuffer(g,C)),O.label=5;case 5:return y!=null&&this.disposeData(y.dataId),E=this.convertAndCacheOnCPU(r,b),I=this.pendingRead.get(r),this.pendingRead.delete(r),I.forEach((function(L){return L(E)})),this.pendingDisposal.has(r)&&(this.pendingDisposal.delete(r),this.disposeData(r),this.pendingDeletes--),[2,E]}}))}))},t.prototype.checkNumericalProblems=function(r){if(r!=null)for(var n=0;n<r.length;n++){var a=r[n];if(!$xe(a))throw nt().getBool("WEBGL_RENDER_FLOAT32_CAPABLE")?Error("The value "+a+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'"):Error("The value "+a+" cannot be represented on this device.")}},t.prototype.getValuesFromTexture=function(r){var n,a=this.texData.get(r),i=a.shape,s=a.dtype,o=a.isPacked,l=Ut(i);if(nt().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var u=this.decode(r),d=this.texData.get(u.dataId),f=(n=this.gpgpu).downloadMatrixFromPackedTexture.apply(n,[d.texture].concat(Lx(i))).subarray(0,l);return this.disposeData(u.dataId),f}var p=nt().getBool("WEBGL_PACK")&&o===!0,h=p?d6(i):i,g=p?new U1e(h):new W1e(h),y=this.runWebGLProgram(g,[{shape:h,dtype:s,dataId:r}],"float32"),x=this.texData.get(y.dataId),b=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(x.texture,x.texShape[0],x.texShape[1]).subarray(0,l);return this.disposeData(y.dataId),b},t.prototype.time=function(r){return Rt(this,void 0,void 0,(function(){var n,a,i,s,o,l,u;return Lt(this,(function(d){switch(d.label){case 0:return n=this.activeTimers,a=[],i=!1,this.programTimersStack==null?(this.programTimersStack=a,i=!0):this.activeTimers.push(a),this.activeTimers=a,r(),s=S0(this.activeTimers.map((function(f){return f.query}))).filter((function(f){return f!=null})),o=S0(this.activeTimers.map((function(f){return f.name}))).filter((function(f){return f!=null})),this.activeTimers=n,i&&(this.programTimersStack=null),l={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(s)]:[3,2];case 1:return u=d.sent(),l.kernelMs=Sxe(u),l.getExtraProfileInfo=function(){return u.map((function(f,p){return{name:o[p],ms:f}})).map((function(f){return f.name+": "+f.ms})).join(", ")},[3,3];case 2:l.kernelMs={error:"WebGL query timers are not supported in this environment."},d.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,l]}}))}))},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:fu(),endMs:null}},t.prototype.endTimer=function(r){return nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),r):(r.endMs=fu(),r)},t.prototype.getQueryTime=function(r){return Rt(this,void 0,void 0,(function(){var n;return Lt(this,(function(a){return nt().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(r)]:[2,(n=r).endMs-n.startMs]}))}))},t.prototype.disposeData=function(r){if(!this.pendingDisposal.has(r)){if(this.pendingRead.has(r))return this.pendingDisposal.add(r),void this.pendingDeletes++;if(this.texData.has(r)){this.releaseGPUData(r);var n=this.texData.get(r).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.texData.delete(r)}}},t.prototype.releaseGPUData=function(r){var n=this.texData.get(r),a=n.texture,i=n.dtype,s=n.texShape,o=n.usage,l=n.isPacked,u=n.slice,d=u&&u.origDataId||r,f=this.dataRefCount.get(d);f>1?this.dataRefCount.set(d,f-1):(this.dataRefCount.delete(d),a!=null&&(this.numBytesInGPU-=this.computeBytes(s,i),this.textureManager.releaseTexture(a,s,o,l)));var p=this.texData.get(r);p.texture=null,p.texShape=null,p.isPacked=!1,p.slice=null},t.prototype.getTexture=function(r){return this.uploadToGPU(r),this.texData.get(r).texture},t.prototype.getDataInfo=function(r){return this.texData.get(r)},t.prototype.getCPUBackend=function(){return nt().getBool("WEBGL_CPU_FORWARD")?(this.cpuBackend==null&&(this.cpuBackend=Oe.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(r,n){var a=this;return n===void 0&&(n=128),this.getCPUBackend()!=null&&r.every((function(i){return a.texData.get(i.dataId).texture==null&&i.size<n}))},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(r,n){var a=this.makeOutput(r.shape,"complex64");return this.texData.get(a.dataId).complexTensors={real:Oe.keep(r.clone()),imag:Oe.keep(n.clone())},a},t.prototype.real=function(r){return this.texData.get(r.dataId).complexTensors.real.clone()},t.prototype.imag=function(r){return this.texData.get(r.dataId).complexTensors.imag.clone()},t.prototype.slice=function(r,n,a){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.slice(r,n,a);if(Ut(a)===0)return Ui([],a,r.dtype);var i=this.texData.get(r.dataId).isPacked,s=YJ(r.shape,n,a);if(i||!s){var o=nt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new R2e(a):new M2e(a),l=o.getCustomSetupFunc(n);return this.compileAndRun(o,[r],null,l)}return this.uploadToGPU(r.dataId),this.shallowSlice(r,n,a)},t.prototype.shallowSlice=function(r,n,a){var i=this.texData.get(r.dataId),s=this.makeOutput(a,r.dtype),o=this.texData.get(s.dataId);Object.assign(o,i),o.shape=a,o.dtype=r.dtype;var l=KJ(n,r.strides);i.slice&&(l+=i.slice.flatOffset),o.slice={flatOffset:l,origDataId:i.slice&&i.slice.origDataId||r.dataId};var u=this.dataRefCount.get(o.slice.origDataId)||1;return this.dataRefCount.set(o.slice.origDataId,u+1),s},t.prototype.stridedSlice=function(r,n,a,i){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.stridedSlice(r,n,a,i);var s=MD(n,a,i);if(s.some((function(l){return l===0})))return Ui([],s);var o=new L2e(n,i,s);return this.compileAndRun(o,[r])},t.prototype.reverse=function(r,n){var a=nt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new T2e(r.shape,n):new D2e(r.shape,n);return this.compileAndRun(a,[r])},t.prototype.concat=function(r,n){if(r[0].dtype==="complex64"){var a=r.map((function(h){return $l(h)})),i=r.map((function(h){return mu(h)}));return Bi(this.concat(a,n),this.concat(i,n))}if(this.shouldExecuteOnCPU(r))return this.cpuBackend.concat(r,n);if(r.length===1)return r[0];if(r.length>nt().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var s=Math.floor(r.length/2),o=this.concat(r.slice(0,s),n),l=this.concat(r.slice(s),n);return this.concat([o,l],n)}if(nt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&r[0].rank>1){var u=new E1e(r.map((function(h){return h.shape})),n);return this.compileAndRun(u,r)}var d=C0(r.map((function(h){return h.shape})),n),f=r.map((function(h){return h.as2D(-1,Ut(h.shape.slice(n)))})),p=new _1e(f.map((function(h){return h.shape})));return this.compileAndRun(p,f).reshape(d)},t.prototype.neg=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.neg(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,iF,r.dtype);var n=new yr(r.shape,iF);return this.compileAndRun(n,[r])},t.prototype.batchMatMul=function(r,n,a,i){var s=a?r.shape[2]:r.shape[1],o=i?n.shape[1]:n.shape[2],l=a?r.shape[1]:r.shape[2],u=r.shape[0];if((s===1||o===1)&&l>1e3){a&&(r=r.transpose([0,2,1])),i&&(n=n.transpose([0,2,1]));var d=o===1?r:r.as3D(u,l,1),f=o===1?2:1,p=o===1?n.as3D(u,1,l):n;return this.multiply(d,p).sum(f,!0)}var h=zi(r.dtype,n.dtype),g=new m6(r.shape,[u,s,o],a,i);return this.compileAndRun(g,[r,n],h)},t.prototype.fusedBatchMatMul=function(r){var n=r.a,a=r.b,i=r.transposeA,s=r.transposeB,o=r.bias,l=r.activation,u=r.preluActivationWeights,d=i?n.shape[2]:n.shape[1],f=s?a.shape[1]:a.shape[2],p=n.shape[0],h=zi(n.dtype,a.dtype),g=o!=null,y=u!=null,x=l?$2(l,!0):null,b=new m6(n.shape,[p,d,f],i,s,g,x,y),N=[n,a];return o&&N.push(o),u&&N.push(u),this.compileAndRun(b,N,h)},t.prototype.multiply=function(r,n){if(r.dtype==="complex64"){var a=this.texData.get(r.dataId),i=this.texData.get(n.dataId),s=new GL(w1e,r.shape,n.shape),o=new GL(N1e,r.shape,n.shape),l=[this.makeComplexComponentTensorInfo(r,a.complexTensors.real),this.makeComplexComponentTensorInfo(r,a.complexTensors.imag),this.makeComplexComponentTensorInfo(n,i.complexTensors.real),this.makeComplexComponentTensorInfo(n,i.complexTensors.imag)],u=this.compileAndRun(s,l),d=this.compileAndRun(o,l),f=this.complex(u,d);return u.dispose(),d.dispose(),f}if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.multiply(r,n);if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,YL,r.dtype);var p=new wa(YL,r.shape,n.shape);return this.compileAndRun(p,[r,n],r.dtype)},t.prototype.batchNormalization=function(r,n,a,i,s,o){var l=[r,n,a],u=null;o!=null&&(u=o.shape,l.push(o));var d=null;if(s!=null&&(d=s.shape,l.push(s)),nt().getBool("WEBGL_PACK_NORMALIZATION")){var f=new b1e(r.shape,n.shape,a.shape,u,d,i);return this.compileAndRun(f,l)}var p=new y1e(r.shape,n.shape,a.shape,u,d,i);return this.compileAndRun(p,l)},t.prototype.localResponseNormalization4D=function(r,n,a,i,s){var o=nt().getBool("WEBGL_PACK_NORMALIZATION")?new g2e(r.shape,n,a,i,s):new p2e(r.shape,n,a,i,s);return this.compileAndRun(o,[r])},t.prototype.LRNGrad=function(r,n,a,i,s,o,l){var u=new m2e(n.shape,i,s,o,l);return this.compileAndRun(u,[n,a,r])},t.prototype.tile=function(r,n){if(r.dtype==="string"){var a=this.readSync(r.dataId).map((function(s){return _w(s)}));return nZ(vr(r.shape,r.dtype,a),n)}var i=new B2e(r.shape,n);return this.compileAndRun(i,[r])},t.prototype.pad=function(r,n,a){var i=nt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new S2e(r.shape,n,a):new N2e(r.shape,n,a);return this.compileAndRun(i,[r])},t.prototype.transpose=function(r,n){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.transpose(r,n);var a=nt().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new W2e(r.shape,n):new z2e(r.shape,n);return this.compileAndRun(a,[r])},t.prototype.gather=function(r,n,a){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.gather(r,n,a);var i=new Y1e(r.shape,n.size,a);return this.compileAndRun(i,[r,n])},t.prototype.batchToSpaceND=function(r,n,a){ye(r.rank<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var i=n.reduce((function(f,p){return f*p})),s=Tw(r.shape,n,i),o=Ow(s.length,n.length),l=Iw(r.shape,n,i),u=qJ(a,n.length),d=VJ(l,a,n.length);return r.reshape(s).transpose(o).reshape(l).slice(u,d)},t.prototype.spaceToBatchND=function(r,n,a){ye(r.rank<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var i=n.reduce((function(p,h){return p*h})),s=[[0,0]];s.push.apply(s,a);for(var o=1+n.length;o<r.shape.length;++o)s.push([0,0]);var l=r.pad(s),u=Tw(l.shape,n,i,!1),d=Ow(u.length,n.length,!1),f=Iw(l.shape,n,i,!1);return l.reshape(u).transpose(d).reshape(f)},t.prototype.reduce=function(r,n,a){var i=r.shape[0],s=r.shape[1],o=f6(s),l=new j2e({windowSize:o,inSize:s,batchSize:i},n),u=this.compileAndRun(l,[r],a);return u.shape[1]===1?u:this.reduce(u,n,a)},t.prototype.argReduce=function(r,n,a){a===void 0&&(a=null);var i=r.shape[0],s=r.shape[1];a!=null&&(i=a.shape[0],s=a.shape[1]);var o=f6(s),l=new u1e({windowSize:o,inSize:s,batchSize:i},n,a==null),u=[r];a!=null&&u.push(a);var d=this.compileAndRun(l,u,"int32");return d.shape[1]===1?d:this.argReduce(r,n,d)},t.prototype.argReducePacked=function(r,n,a){a===void 0&&(a=null);var i=a!=null?a.shape:r.shape,s=f6(i[i.length-1]),o=new g1e(i,s,n,a==null),l=a==null?[r]:[r,a],u=this.compileAndRun(o,l,"int32");return u.rank===r.rank?this.argReducePacked(r,n,u):u},t.prototype.sum=function(r,n){Vo("sum",n,r.rank);var a=ps(r.shape,n),i=a[0],s=Ut(a[1]),o=r.as2D(-1,s),l=a6(r.dtype);return this.reduce(o,"sum",l).reshape(i)},t.prototype.prod=function(r,n){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.prod(r,n);var a=ps(r.shape,n),i=a[0],s=Ut(a[1]),o=r.as2D(-1,s),l=a6(r.dtype);return this.reduce(o,"prod",l).reshape(i)},t.prototype.unsortedSegmentSum=function(r,n,a){var i=0,s=Uu([i],r.rank),o=r;s!=null&&(o=r.transpose(s),i=$u(1,r.rank)[0]);var l=(function(h,g,y){for(var x=[],b=h.length,N=0;N<b;N++)N!==g?x.push(h[N]):x.push(y);return x})(o.shape,i,a),u=Ut([o.shape[i]]),d=o.as2D(-1,u),f=a6(r.dtype),p=this.segOpCompute(d,"unsortedSegmentSum",n,f,a).reshape(l);return s!=null&&(p=p.transpose(DD(s))),p},t.prototype.segOpCompute=function(r,n,a,i,s){var o=r.shape[0],l=r.shape[1],u=(function(p,h){var g,y=!1;for(p<=GJ?(g=p,y=!0):g=Sk(p,Math.floor(Math.sqrt(p)));!y;)g>h||g===p?y=!0:g=Sk(p,g+1);return g})(l,s),d=new O2e({windowSize:u,inSize:l,batchSize:o,numSegments:s}),f=this.compileAndRun(d,[r,a],i);return f.shape[1]===s?f:(a=Dw(0,s).tile([l/u]),this.segOpCompute(f,n,a,i,s))},t.prototype.argMinMaxReduce=function(r,n,a){var i=[n];if(Vo("arg"+a.charAt(0).toUpperCase()+a.slice(1),i,r.rank),!nt().getBool("WEBGL_PACK_REDUCE")||r.rank<=2){var s=ps(r.shape,i),o=s[0],l=Ut(s[1]),u=r.as2D(-1,l);return this.argReduce(u,a).reshape(o)}return this.argReducePacked(r,a)},t.prototype.argMin=function(r,n){return this.argMinMaxReduce(r,n,"min")},t.prototype.argMax=function(r,n){return this.argMinMaxReduce(r,n,"max")},t.prototype.cumsum=function(r,n,a,i){if(n!==r.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(r.rank-1)+" but got axis="+n);var s=new R1e(r.shape,a,i);return this.compileAndRun(s,[r])},t.prototype.equal=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(equal(a, b));
`,"bool");var a=new wa("return float(a == b);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.notEqual=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(notEqual(a, b));
`,"bool");var a=new wa("return float(a != b);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.less=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.less(r,n);if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(lessThan(a, b));
`,"bool");var a=new wa("return float(a < b);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.lessEqual=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(lessThanEqual(a, b));
`,"bool");var a=new wa("return float(a <= b);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.greater=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.greater(r,n);if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(greaterThan(a, b));
`,"bool");var a=new wa("return float(a > b);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.greaterEqual=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(greaterThanEqual(a, b));
`,"bool");var a=new wa("return float(a >= b);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.logicalNot=function(r){var n=new yr(r.shape,"return float(!(x >= 1.0));");return this.compileAndRun(n,[r])},t.prototype.logicalAnd=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,"bool");var a=new wa("return float(a >= 1.0 && b >= 1.0);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.logicalOr=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,"bool");var a=new wa("return float(a >= 1.0 || b >= 1.0);",r.shape,n.shape);return this.compileAndRun(a,[r,n],"bool")},t.prototype.select=function(r,n,a){var i=new I2e(r.rank,n.shape,n.rank);return this.compileAndRun(i,[r,n,a],zi(n.dtype,a.dtype))},t.prototype.where=function(r){kw("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var n=r.dataSync();return BD(r.shape,n)},t.prototype.topk=function(r,n,a){return aZ(r.dataSync(),r.shape,r.dtype,n)},t.prototype.min=function(r,n){Vo("min",n,r.rank);var a=ps(r.shape,n),i=a[0],s=Ut(a[1]),o=r.as2D(-1,s);return this.reduce(o,"min",o.dtype).reshape(i)},t.prototype.minimum=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.minimum(r,n);var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(`
  vec4 result = vec4(min(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new wa(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return min(a, b);
`,r.shape,n.shape);return this.compileAndRun(a,[r,n])},t.prototype.mod=function(r,n){var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(`
  vec4 result = mod(a, b);
  vec4 isNaN = vec4(equal(b, vec4(0.0)));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new wa(`if (b == 0.0) return NAN;
  return mod(a, b);`,r.shape,n.shape);return this.compileAndRun(a,[r,n])},t.prototype.max=function(r,n){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.max(r,n);Vo("max",n,r.rank);var a=ps(r.shape,n),i=a[0],s=Ut(a[1]),o=r.as2D(-1,s);return this.reduce(o,"max",o.dtype).reshape(i)},t.prototype.maximum=function(r,n){if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.maximum(r,n);var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(`
  vec4 result = vec4(max(a, b));
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new wa(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return max(a, b);
`,r.shape,n.shape);return this.compileAndRun(a,[r,n])},t.prototype.all=function(r,n){Vo("all",n,r.rank);var a=ps(r.shape,n),i=a[0],s=Ut(a[1]),o=r.as2D(-1,s);return this.reduce(o,"all",o.dtype).reshape(i)},t.prototype.any=function(r,n){Vo("any",n,r.rank);var a=ps(r.shape,n),i=a[0],s=Ut(a[1]),o=r.as2D(-1,s);return this.reduce(o,"any",o.dtype).reshape(i)},t.prototype.realDivide=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,"float32",!0);var a=new wa(`
if (a == b) {
  return 1.0;
};
return a / b;`,r.shape,n.shape);return this.compileAndRun(a,[r,n],"float32")},t.prototype.floorDiv=function(r,n){if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,"int32");var a=new wa(`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,r.shape,n.shape);return this.compileAndRun(a,[r,n],"int32")},t.prototype.add=function(r,n){if(r.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(r,n,h6);if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.add(r,n);var a=zi(r.dtype,n.dtype);if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,h6,a);var i=new wa(h6,r.shape,n.shape);return this.compileAndRun(i,[r,n],a)},t.prototype.packedUnaryOp=function(r,n,a){var i=new tx(r.shape,n);return this.compileAndRun(i,[r],a)},t.prototype.packedBinaryOp=function(r,n,a,i,s){s===void 0&&(s=!1);var o=new Od(a,r.shape,n.shape,s);return this.compileAndRun(o,[r,n],i)},t.prototype.complexSeparableBinaryOp=function(r,n,a){var i=this,s=this.texData.get(r.dataId),o=this.texData.get(n.dataId),l=[[s.complexTensors.real,o.complexTensors.real],[s.complexTensors.imag,o.complexTensors.imag]].map((function(p){var h=p[0],g=p[1],y=i.makeComplexComponentTensorInfo(r,h),x=i.makeComplexComponentTensorInfo(n,g),b=new wa(a,r.shape,n.shape);return i.compileAndRun(b,[y,x],zi(h.dtype,g.dtype))})),u=l[0],d=l[1],f=this.complex(u,d);return u.dispose(),d.dispose(),f},t.prototype.makeComplexComponentTensorInfo=function(r,n){return{dataId:n.dataId,dtype:n.dtype,shape:r.shape}},t.prototype.addN=function(r){if(r.length===1)return r[0];if(r.length>nt().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var n=Math.floor(r.length/2),a=this.addN(r.slice(0,n)),i=this.addN(r.slice(n));return this.addN([a,i])}var s=r.map((function(u){return u.dtype})).reduce((function(u,d){return zi(u,d)})),o=r.map((function(u){return u.shape})),l=nt().getBool("WEBGL_PACK")?new c1e(r[0].shape,o):new l1e(r[0].shape,o);return this.compileAndRun(l,r,s)},t.prototype.subtract=function(r,n){if(r.dtype==="complex64"&&n.dtype==="complex64")return this.complexSeparableBinaryOp(r,n,p6);if(this.shouldExecuteOnCPU([r,n]))return this.cpuBackend.subtract(r,n);var a=zi(r.dtype,n.dtype);if(nt().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(r,n,p6,r.dtype);var i=new wa(p6,r.shape,n.shape);return this.compileAndRun(i,[r,n],a)},t.prototype.pow=function(r,n){var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new wa(`
if(a < 0.0 && floor(b) < b){
  return NAN;
}
if (b == 0.0) {
  return 1.0;
}
return (round(mod(b, 2.0)) != 1) ?
    pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,r.shape,n.shape),i=zi(r.dtype,n.dtype);return this.compileAndRun(a,[r,n],i)},t.prototype.ceil=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.ceil(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,sF,r.dtype);var n=new yr(r.shape,sF);return this.compileAndRun(n,[r])},t.prototype.floor=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.floor(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,oF,r.dtype);var n=new yr(r.shape,oF);return this.compileAndRun(n,[r])},t.prototype.sign=function(r){var n=new yr(r.shape,`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`);return this.compileAndRun(n,[r])},t.prototype.isNaN=function(r){var n=new yr(r.shape,"return float(isnan(x));");return this.compileAndRun(n,[r],"bool")},t.prototype.isInf=function(r){var n=new yr(r.shape,"return float(isinf(x));");return this.compileAndRun(n,[r],"bool")},t.prototype.isFinite=function(r){var n=new yr(r.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(n,[r],"bool")},t.prototype.round=function(r){var n=new yr(r.shape,`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`);return this.compileAndRun(n,[r])},t.prototype.exp=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.exp(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,lF,r.dtype);var n=new yr(r.shape,lF);return this.compileAndRun(n,[r])},t.prototype.expm1=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.expm1(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,cF,r.dtype);var n=new yr(r.shape,cF);return this.compileAndRun(n,[r])},t.prototype.softmax=function(r,n){var a=li([n],r.shape),i=this.max(r,a),s=bo(i.shape,a),o=this.subtract(r,i.reshape(s)),l=this.exp(o),u=this.sum(l,a).reshape(s);return this.realDivide(l,u)},t.prototype.log=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.log(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,`
  vec4 result = log(x);
  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));
  result.r = isNaN.r == 1.0 ? NAN : result.r;
  result.g = isNaN.g == 1.0 ? NAN : result.g;
  result.b = isNaN.b == 1.0 ? NAN : result.b;
  result.a = isNaN.a == 1.0 ? NAN : result.a;

  return result;
`,r.dtype);var n=new yr(r.shape,`if (x < 0.0) return NAN;
  return log(x);`);return this.compileAndRun(n,[r])},t.prototype.log1p=function(r){var n=new yr(r.shape,"return log(1.0 + x);");return this.compileAndRun(n,[r])},t.prototype.sqrt=function(r){var n=new yr(r.shape,"return sqrt(x);");return this.compileAndRun(n,[r])},t.prototype.rsqrt=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.rsqrt(r);var n=new yr(r.shape,"return inversesqrt(x);");return this.compileAndRun(n,[r])},t.prototype.reciprocal=function(r){var n=new yr(r.shape,"return 1.0 / x;");return this.compileAndRun(n,[r])},t.prototype.relu=function(r){var n;return n=nt().getBool("WEBGL_PACK")?new tx(r.shape,hZ):new yr(r.shape,uZ),this.compileAndRun(n,[r])},t.prototype.relu6=function(r){var n;return n=nt().getBool("WEBGL_PACK")?new tx(r.shape,pZ):new yr(r.shape,dZ),this.compileAndRun(n,[r])},t.prototype.prelu=function(r,n){var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(cZ,r.shape,n.shape):new wa(lZ,r.shape,n.shape);return this.compileAndRun(a,[r,n])},t.prototype.elu=function(r){if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,mZ,r.dtype);var n=new yr(r.shape,fZ);return this.compileAndRun(n,[r])},t.prototype.eluDer=function(r,n){var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,r.shape,n.shape):new wa("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,n.shape);return this.compileAndRun(a,[r,n])},t.prototype.selu=function(r){var n=new yr(r.shape,$2e);return this.compileAndRun(n,[r])},t.prototype.int=function(r){var n=new yr(r.shape,"return float(int(x));");return this.compileAndRun(n,[r],"int32")},t.prototype.clip=function(r,n,a){var i,s=(i=nt().getBool("WEBGL_PACK_CLIP")?new j1e(r.shape):new S1e(r.shape)).getCustomSetupFunc(n,a);return this.compileAndRun(i,[r],null,s)},t.prototype.abs=function(r){if(this.shouldExecuteOnCPU([r]))return this.cpuBackend.abs(r);if(nt().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(r,aF,r.dtype);var n=new yr(r.shape,aF);return this.compileAndRun(n,[r])},t.prototype.complexAbs=function(r){var n=this.texData.get(r.dataId),a=new C1e(r.shape),i=[this.makeComplexComponentTensorInfo(r,n.complexTensors.real),this.makeComplexComponentTensorInfo(r,n.complexTensors.imag)];return this.compileAndRun(a,i)},t.prototype.sigmoid=function(r){var n=new yr(r.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(n,[r])},t.prototype.softplus=function(r){var n=new yr(r.shape,`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`);return this.compileAndRun(n,[r])},t.prototype.sin=function(r){var n=new yr(r.shape,q2e);return this.compileAndRun(n,[r])},t.prototype.cos=function(r){var n=new yr(r.shape,V2e);return this.compileAndRun(n,[r])},t.prototype.tan=function(r){var n=new yr(r.shape,"return tan(x);");return this.compileAndRun(n,[r])},t.prototype.asin=function(r){var n=new yr(r.shape,H2e);return this.compileAndRun(n,[r])},t.prototype.acos=function(r){var n=new yr(r.shape,G2e);return this.compileAndRun(n,[r])},t.prototype.atan=function(r){var n=new yr(r.shape,Y2e);return this.compileAndRun(n,[r])},t.prototype.atan2=function(r,n){var a=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od(`
  vec4 result = atan(a, b);
  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));
  
  result.r = isNaN.r > 0. ? NAN : result.r;
  result.g = isNaN.g > 0. ? NAN : result.g;
  result.b = isNaN.b > 0. ? NAN : result.b;
  result.a = isNaN.a > 0. ? NAN : result.a;

  return result;
`,r.shape,n.shape):new wa(`
  if (isnan(a)) return a;
  if (isnan(b)) return b;

  return atan(a, b);
`,r.shape,n.shape);return this.compileAndRun(a,[r,n])},t.prototype.sinh=function(r){var n=new yr(r.shape,`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[r])},t.prototype.cosh=function(r){var n=new yr(r.shape,`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`);return this.compileAndRun(n,[r])},t.prototype.tanh=function(r){var n=new yr(r.shape,`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`);return this.compileAndRun(n,[r])},t.prototype.asinh=function(r){var n=new yr(r.shape,K2e);return this.compileAndRun(n,[r])},t.prototype.acosh=function(r){var n=new yr(r.shape,X2e);return this.compileAndRun(n,[r])},t.prototype.atanh=function(r){var n=new yr(r.shape,J2e);return this.compileAndRun(n,[r])},t.prototype.erf=function(r){var n=new yr(r.shape,`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = 0.3275911;
  float a1 = 0.254829592;
  float a2 = -0.284496736;
  float a3 = 1.421413741;
  float a4 = -1.453152027;
  float a5 = 1.061405429;

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`);return this.compileAndRun(n,[r])},t.prototype.step=function(r,n){var a=new yr(r.shape,(function(i){return i===void 0&&(i=0),Fc+`
    return x > 0.0 ? 1.0 : float(`+i+`);
  `})(n));return this.compileAndRun(a,[r])},t.prototype.conv2dByMatMul=function(r,n,a,i,s,o){var l=r.shape,u=this.texData.get(r.dataId),d=a.inChannels,f=l[0]*l[1]*l[2],p=a.outChannels,h=a.dataFormat==="channelsLast",g=(f===1||p===1)&&d>1e3,y=l[2]%2!=0&&!!u.isPacked;if(g||!nt().getBool("WEBGL_LAZILY_UNPACK")||!nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!y){var x=h?l[0]*l[1]*l[2]:l[0]*l[2]*l[3],b=this.reshape(r,[1,x,a.inChannels]),N=this.reshape(n,[1,a.inChannels,a.outChannels]);return this.reshape(this.fusedBatchMatMul({a:b,b:N,transposeA:!1,transposeB:!1,bias:i,activation:s,preluActivationWeights:o}),a.outShape)}var j=h?l[0]*l[1]*(l[2]+1):l[0]*l[2]*(l[3]+1),w={dataId:r.dataId,shape:[1,j,a.inChannels],dtype:r.dtype},C=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,ye(B2(u.shape,w.shape),(function(){return"packed reshape "+u.shape+" to "+w.shape+" isn't free"}));var E=this.reshape(n,[1,a.inChannels,a.outChannels]),I=this.fusedBatchMatMul({a:w,b:E,transposeA:!1,transposeB:!1,bias:i,activation:s,preluActivationWeights:o}),D=this.texData.get(I.dataId);return ye(D.isPacked,(function(){return"batchMatMul result is expected to be packed"})),u.shape=C,D.shape=a.outShape,Oe.makeTensorFromDataId(I.dataId,a.outShape,I.dtype)},t.prototype.conv2dWithIm2Row=function(r,n,a,i,s,o){var l=a.filterWidth,u=a.filterHeight,d=a.inChannels,f=a.outWidth,p=a.outHeight,h=a.dataFormat==="channelsLast",g=l*u*d,y=p*f,x=[g,y],b=r.squeeze([0]),N=n.reshape([1,g,-1]),j=new h2e(x,b.shape,a),w=this.compileAndRun(j,[b]).reshape([1,x[0],x[1]]),C=i!=null,E=o!=null,I=s?$2(s,!0):null,D=new m6(w.shape,[1,y,a.outChannels],!0,!1,C,I,E),O=[w,N];i&&O.push(i),E&&O.push(o);var L=this.compileAndRun(D,O);return h?L.reshape([1,p,f,a.outChannels]):L.reshape([1,a.outChannels,p,f])},t.prototype.fusedConv2d=function(r){var n=r.input,a=r.filter,i=r.convInfo,s=r.bias,o=r.activation,l=r.preluActivationWeights;if(i.filterHeight===1&&i.filterWidth===1&&i.dilationHeight===1&&i.dilationWidth===1&&i.strideHeight===1&&i.strideWidth===1&&(i.padInfo.type==="SAME"||i.padInfo.type==="VALID"))return this.conv2dByMatMul(n,a,i,s,o,l);if(nt().getBool("WEBGL_CONV_IM2COL")&&n.shape[0]===1)return this.conv2dWithIm2Row(n,a,i,s,o,l);var u=s!=null,d=l!=null,f=o?$2(o,!1):null,p=new KL(i,u,f,d),h=[n,a];return s&&h.push(s),l&&h.push(l),this.compileAndRun(p,h)},t.prototype.conv2d=function(r,n,a){if(a.filterHeight===1&&a.filterWidth===1&&a.dilationHeight===1&&a.dilationWidth===1&&a.strideHeight===1&&a.strideWidth===1&&(a.padInfo.type==="SAME"||a.padInfo.type==="VALID"))return this.conv2dByMatMul(r,n,a);if(nt().getBool("WEBGL_CONV_IM2COL")&&r.shape[0]===1)return this.conv2dWithIm2Row(r,n,a);var i=new KL(a);return this.compileAndRun(i,[r,n])},t.prototype.conv2dDerInput=function(r,n,a){var i=new k1e(a);return this.compileAndRun(i,[r,n])},t.prototype.conv2dDerFilter=function(r,n,a){var i=new P1e(a);return this.compileAndRun(i,[r,n])},t.prototype.fusedDepthwiseConv2D=function(r){var n,a=r.input,i=r.filter,s=r.convInfo,o=r.bias,l=r.activation,u=r.preluActivationWeights,d=nt().getBool("WEBGL_PACK_DEPTHWISECONV")&&s.strideWidth<=2&&s.outChannels/s.inChannels==1,f=l?$2(l,d):null,p=[a,i],h=o!=null,g=u!=null;return h&&p.push(o),g&&p.push(u),d?(n=new JL(s,h,f,g),this.compileAndRun(n,p)):(n=new XL(s,h,f,g),this.compileAndRun(n,p))},t.prototype.depthwiseConv2D=function(r,n,a){var i;return nt().getBool("WEBGL_PACK_DEPTHWISECONV")&&a.strideWidth<=2&&a.outChannels/a.inChannels==1?(i=new JL(a),this.compileAndRun(i,[r,n])):(i=new XL(a),this.compileAndRun(i,[r,n]))},t.prototype.depthwiseConv2DDerInput=function(r,n,a){var i=new O1e(a);return this.compileAndRun(i,[r,n])},t.prototype.depthwiseConv2DDerFilter=function(r,n,a){var i=new T1e(a);return this.compileAndRun(i,[r,n])},t.prototype.conv3d=function(r,n,a){var i=new I1e(a);return this.compileAndRun(i,[r,n])},t.prototype.conv3dDerInput=function(r,n,a){var i=new D1e(a);return this.compileAndRun(i,[r,n])},t.prototype.conv3dDerFilter=function(r,n,a){var i=new A1e(a);return this.compileAndRun(i,[r,n])},t.prototype.maxPool=function(r,n){var a=new g6(n,"max",!1);return this.compileAndRun(a,[r])},t.prototype.avgPool=function(r,n){var a=new g6(n,"avg",!1);return this.compileAndRun(a,[r],"float32")},t.prototype.maxPoolBackprop=function(r,n,a,i){var s=new g6(i,"max",!0),o=this.compileAndRun(s,[n]),l=new v2e(i),u=this.compileAndRun(l,[r,o],n.dtype);return o.dispose(),u},t.prototype.avgPoolBackprop=function(r,n,a){var i=new v1e(a);return this.compileAndRun(i,[r],n.dtype)},t.prototype.cast=function(r,n){return QJ(r,n,this)},t.prototype.unstack=function(r,n){for(var a=r.shape[n],i=new Array(r.rank-1),s=0,o=0;o<r.rank;o++)o!==n&&(i[s++]=r.shape[o]);var l=new Array(r.rank).fill(0),u=r.shape.slice();u[n]=1;var d=new Array(a);for(o=0;o<d.length;o++)l[n]=o,d[o]=this.slice(r,l,u).reshape(i);return d},t.prototype.avgPool3d=function(r,n){var a=new v6(n,"avg",!1);return this.compileAndRun(a,[r],"float32")},t.prototype.avgPool3dBackprop=function(r,n,a){var i=new x1e(a);return this.compileAndRun(i,[r],n.dtype)},t.prototype.maxPool3d=function(r,n){var a=new v6(n,"max",!1);return this.compileAndRun(a,[r],"float32")},t.prototype.maxPool3dBackprop=function(r,n,a,i){var s=new v6(i,"max",!0),o=this.compileAndRun(s,[n]),l=new x2e(i),u=this.compileAndRun(l,[r,o],n.dtype);return o.dispose(),u},t.prototype.reshape=function(r,n){var a=this.texData.get(r.dataId);if(a.isPacked&&!B2(r.shape,n)&&(a.texture===null||!B2(a.shape,n))){var i=this.packedReshape(r,n);return Oe.makeTensorFromDataId(i.dataId,i.shape,i.dtype)}return Dk(r,n)},t.prototype.resizeBilinear=function(r,n,a,i){var s=nt().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new P2e(r.shape,n,a,i):new E2e(r.shape,n,a,i);return this.compileAndRun(s,[r],"float32")},t.prototype.resizeBilinearBackprop=function(r,n,a){var i=new _2e(r,n,a);return this.compileAndRun(i,[r])},t.prototype.resizeNearestNeighbor=function(r,n,a,i){var s=new A2e(r.shape,n,a,i);return this.compileAndRun(s,[r])},t.prototype.resizeNearestNeighborBackprop=function(r,n,a){var i=new k2e(r,n,a);return this.compileAndRun(i,[r])},t.prototype.multinomial=function(r,n,a,i){var s=n?r:df(r),o=s.shape[0],l=s.shape[1],u=new y2e(o,l,a),d=u.getCustomSetupFunc(i);return this.compileAndRun(u,[s],"int32",d)},t.prototype.oneHot=function(r,n,a,i){var s=new b2e(r.size,n,a,i);return this.compileAndRun(s,[r])},t.prototype.diag=function(r){var n=new z1e(r.size);return this.compileAndRun(n,[r])},t.prototype.nonMaxSuppression=function(r,n,a,i,s){return kw("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),LD(r.dataSync(),n.dataSync(),a,i,s)},t.prototype.cropAndResize=function(r,n,a,i,s,o){var l=new M1e(r.shape,n.shape,i,s,o);return this.compileAndRun(l,[r,n,a],"float32")},t.prototype.depthToSpace=function(r,n,a){ye(n>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+n}));var i=r.shape[0],s=a==="NHWC"?r.shape[1]:r.shape[2],o=a==="NHWC"?r.shape[2]:r.shape[3],l=a==="NHWC"?r.shape[3]:r.shape[1],u=s*n,d=o*n,f=l/(n*n),p=new B1e(a==="NHWC"?[i,u,d,f]:[i,f,u,d],n,a);return this.compileAndRun(p,[r])},t.prototype.split=function(r,n,a){return rZ(r,n,a)},t.prototype.scatterND=function(r,n,a){var i=Mw(0,r,a),s=i.sliceRank,o=i.numUpdates,l=i.sliceSize,u=i.strides,d=i.outputSize,f=[d/l,l],p=r.reshape([o,s]),h=n.reshape([o,l]);if(d===0)return Dk(Ui([]),a);var g=St(0),y=new tF(o,s,p.rank,h.rank,u,f);return this.compileAndRun(y,[h,p,g]).reshape(a)},t.prototype.sparseToDense=function(r,n,a,i){var s=Mw(0,r,a),o=s.sliceRank,l=s.numUpdates,u=s.strides,d=s.outputSize,f=new tF(l,o,r.rank,n.rank,u,[d,1]);return this.compileAndRun(f,[n,r,i]).reshape(a)},t.prototype.fft=function(r){return this.fftImpl(r,!1)},t.prototype.ifft=function(r){return this.fftImpl(r,!0)},t.prototype.fftImpl=function(r,n){var a=this.texData.get(r.dataId),i=new QL(V1e,r.shape,n),s=new QL(H1e,r.shape,n),o=[this.makeComplexComponentTensorInfo(r,a.complexTensors.real),this.makeComplexComponentTensorInfo(r,a.complexTensors.imag)],l=this.compileAndRun(i,o),u=this.compileAndRun(s,o),d=this.complex(l,u).as2D(r.shape[0],r.shape[1]);return l.dispose(),u.dispose(),d},t.prototype.gatherND=function(r,n){var a=n.shape,i=a[a.length-1],s=HJ(r,n),o=s[0],l=s[1],u=s[2],d=s[3],f=n.reshape([l,i]),p=r.reshape([r.size/u,u]),h=new K1e(i,d,[l,u]);return this.compileAndRun(h,[p,f]).reshape(o)},t.prototype.fill=function(r,n,a){if((a=a||t1(n))==="string"){var i=Cw(a,Ut(r));return i.fill(n),Oe.makeTensor(i,r,a,this)}var s=new G1e(r,n),o=s.getCustomSetupFunc(n);return this.compileAndRun(s,[],a,o)},t.prototype.onesLike=function(r){if(r.dtype==="string")throw new Error("onesLike is not supported under string dtype");return this.fill(r.shape,1,r.dtype)},t.prototype.zerosLike=function(r){return this.fill(r.shape,r.dtype==="string"?"":0,r.dtype)},t.prototype.linspace=function(r,n,a){return eZ(r,n,a)},t.prototype.makeTensorInfo=function(r,n){var a=this.write(null,r,n);return this.texData.get(a).usage=null,{dataId:a,shape:r,dtype:n}},t.prototype.makeOutput=function(r,n){var a=this.makeTensorInfo(r,n).dataId;return Oe.makeTensorFromDataId(a,r,n,this)},t.prototype.unpackTensor=function(r){var n=new Q2e(r.shape);return this.runWebGLProgram(n,[r],r.dtype)},t.prototype.packTensor=function(r){var n=new w2e(r.shape);return this.runWebGLProgram(n,[r],r.dtype,null,!0)},t.prototype.packedReshape=function(r,n){var a=[Ew(r.shape)].concat(Pw(r.shape)),i={dtype:r.dtype,shape:a,dataId:r.dataId},s=[Ew(n)].concat(Pw(n)),o=new C2e(s,a),l=this.runWebGLProgram(o,[i],r.dtype,null,!0);return{dataId:l.dataId,shape:n,dtype:l.dtype}},t.prototype.decode=function(r){var n,a=this.texData.get(r),i=a.isPacked,s=a.shape,o=a.dtype,l=d6(s);return n=i?new F1e(l):new L1e(l),{dtype:o,shape:s,dataId:this.runWebGLProgram(n,[{shape:l,dtype:o,dataId:r}],o,null,!0).dataId}},t.prototype.runWebGLProgram=function(r,n,a,i,s){var o=this;s===void 0&&(s=!1);var l=this.makeTensorInfo(r.outputShape,a),u=this.texData.get(l.dataId);if(r.packedOutput&&(u.isPacked=!0),r.outPackingScheme===uy.DENSE){var d=Lx(r.outputShape);u.texShape=d.map((function(j){return 2*j}))}if(r.outTexUsage!=null&&(u.usage=r.outTexUsage),Ut(l.shape)===0)return u.values=ly(l.dtype,0),l;var f=[],p=n.map((function(j){if(j.dtype==="complex64")throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var w=o.texData.get(j.dataId);if(w.texture==null){if(!r.packedInputs&&Ut(j.shape)<=nt().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:j.shape,texData:null,isUniform:!0,uniformValues:w.values};r.packedInputs&&(w.isPacked=!0,w.shape=j.shape)}else if(!!w.isPacked!=!!r.packedInputs)j=w.isPacked?o.unpackTensor(j):o.packTensor(j),f.push(j),w=o.texData.get(j.dataId);else if(w.isPacked&&!B2(w.shape,j.shape)){var C=j,E=j.shape;j.shape=w.shape,j=o.packedReshape(j,E),f.push(j),w=o.texData.get(j.dataId),C.shape=E}return o.uploadToGPU(j.dataId),{shape:j.shape,texData:w,isUniform:!1}}));this.uploadToGPU(l.dataId);var h,g={shape:l.shape,texData:u,isUniform:!1},y=(function(j,w,C){var E="";w.concat(C).forEach((function(O){var L=O.texData!=null&&O.texData.slice!=null&&O.texData.slice.flatOffset>0,R=O.isUniform?"uniform":O.texData.texShape;E+=O.shape+"_"+R+"_"+L}));var I=j.userCode,D=j.constructor.name;return D+="_"+E+"_"+I})(r,p,g),x=this.getAndSaveBinary(y,(function(){return(function(j,w,C,E){var I=w.userCode,D=C.map((function(U,Q){var se={logicalShape:U.shape,texShape:U.isUniform?null:U.texData.texShape,isUniform:U.isUniform,isPacked:!U.isUniform&&U.texData.isPacked,flatOffset:null};return U.texData!=null&&U.texData.slice!=null&&U.texData.slice.flatOffset>0&&(se.flatOffset=U.texData.slice.flatOffset),{name:w.variableNames[Q],shapeInfo:se}})),O=D.map((function(U){return U.shapeInfo})),L={logicalShape:E.shape,texShape:E.texData.texShape,isUniform:!1,isPacked:E.texData.isPacked,flatOffset:null},R=d1e(D,L,I,w.packedInputs),P=j.createProgram(R),F=null,V=j.getUniformLocation(P,"NAN",!1);nt().getNumber("WEBGL_VERSION")===1&&(F=j.getUniformLocation(P,"INFINITY",!1));for(var X={},te=0;te<w.variableNames.length;te++){var q=w.variableNames[te];X[q]=j.getUniformLocation(P,q,!1),X["offset"+q]=j.getUniformLocation(P,"offset"+q,!1)}return{program:w,source:R,webGLProgram:P,uniformLocations:X,inShapeInfos:O,outShapeInfo:L,infLoc:F,nanLoc:V}})(o.gpgpu,r,p,g)})),b=this.activeTimers!=null;if(b&&(h=this.startTimer()),(function(j,w,C,E,I){eF(w.inShapeInfos,C),eF([w.outShapeInfo],[E]);var D=E.texData.texture,O=E.texData.texShape;E.texData.isPacked?j.setOutputPackedMatrixTexture(D,O[0],O[1]):j.setOutputMatrixTexture(D,O[0],O[1]),j.setProgram(w.webGLProgram),nt().getNumber("WEBGL_VERSION")===1&&w.infLoc!==null&&j.gl.uniform1f(w.infLoc,1/0),w.nanLoc!==null&&j.gl.uniform1f(w.nanLoc,NaN),C.forEach((function(L,R){var P=w.program.variableNames[R],F=w.uniformLocations[P],V=w.uniformLocations["offset"+P];if(F!=null)if(L.isUniform)if(Ut(L.shape)<2)j.gl.uniform1f(F,L.uniformValues[0]);else{var X=L.uniformValues;X instanceof Float32Array||(X=new Float32Array(X)),j.gl.uniform1fv(F,X)}else L.texData.slice!=null&&V!=null&&j.gl.uniform1i(V,L.texData.slice.flatOffset),j.setInputMatrixTexture(L.texData.texture,F,R)})),I?.(j,w.webGLProgram),j.executeProgram()})(this.gpgpu,x,p,g,i),f.forEach((function(j){return o.disposeData(j.dataId)})),b&&(h=this.endTimer(h),this.activeTimers.push({name:r.constructor.name,query:this.getQueryTime(h)})),!nt().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&s===!1){var N=this.unpackTensor(l);return this.disposeData(l.dataId),N}return l},t.prototype.compileAndRun=function(r,n,a,i,s){s===void 0&&(s=!1),a=a||n[0].dtype;var o=this.runWebGLProgram(r,n,a,i,s);return Oe.makeTensorFromDataId(o.dataId,o.shape,o.dtype)},t.prototype.getAndSaveBinary=function(r,n){return r in this.binaryCache||(this.binaryCache[r]=n()),this.binaryCache[r]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var r=this;this.disposed||(nt().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((function(n){r.gpgpu.deleteProgram(r.binaryCache[n].webGLProgram),delete r.binaryCache[n]})),this.textureManager.dispose(),this.canvas!=null&&typeof HTMLCanvasElement<"u"&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var r=this;return this.floatPrecisionValue==null&&(this.floatPrecisionValue=Pt((function(){if(!nt().get("WEBGL_RENDER_FLOAT32_ENABLED")){var n=nt().getBool("DEBUG");nt().set("DEBUG",!1);var a=r.abs(St(1e-8)).dataSync()[0];if(nt().set("DEBUG",n),a>0)return 32}return 16}))),this.floatPrecisionValue},t.prototype.epsilon=function(){return this.floatPrecision()===32?1e-7:1e-4},t.prototype.uploadToGPU=function(r){var n,a=this.texData.get(r),i=a.shape,s=a.dtype,o=a.values,l=a.texture,u=a.usage,d=a.isPacked;if(l==null){var f,p=this.activeTimers!=null;p&&(f=fu());var h=a.texShape;if(h==null&&(h=oye(i,d),a.texShape=h),o!=null){var g=d6(i),y=void 0,x=h[1],b=h[0],N=o instanceof Uint8Array;d?(x=(n=n1(h[0],h[1]))[0],b=n[1],y=new q1e(g,[b,x],N)):y=new $1e(g,[b,x],N);var j=this.makeTensorInfo([b,x],s);this.texData.get(j.dataId).usage=N?Xo.PIXELS:Xo.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(j.dataId),x,b,o);var w=this.runWebGLProgram(y,[j],s,null,!0),C=this.texData.get(w.dataId);a.texture=C.texture,a.texShape=C.texShape,a.isPacked=C.isPacked,a.usage=C.usage,this.disposeData(j.dataId),this.texData.delete(w.dataId),a.values=null,p&&(this.uploadWaitMs+=fu()-f)}else{var E=this.acquireTexture(h,u,s,d);a.texture=E}}},t.prototype.convertAndCacheOnCPU=function(r,n){var a=this.texData.get(r),i=a.dtype;return this.releaseGPUData(r),n!=null&&(a.values=(function(s,o){if(o==="float32"||o==="complex64")return s;if(o==="int32"||o==="bool"){for(var l=o==="int32"?new Int32Array(s.length):new Uint8Array(s.length),u=0;u<l.length;++u)l[u]=Math.round(s[u]);return l}throw new Error("Unknown dtype "+o)})(n,i)),a.values},t.prototype.acquireTexture=function(r,n,a,i){if(this.numBytesInGPU+=this.computeBytes(r,a),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var s=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+s+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(r,n,i)},t.prototype.computeBytes=function(r,n){return r[0]*r[1]*PJ(n)},t})(JJ);MJ()&&Oe.registerBackend("webgl",(function(){return new tbe}),2);var rbe=Ce({square_:function(e){var t=he(e,"x","square"),r=[t];return Oe.runKernelFunc((function(n,a){return a([t]),n.square(t)}),{x:t},null,"Square",{},r,[])}}),fy="SquaredDifference",gZ=Ce({squaredDifference_:function(e,t){var r,n=he(e,"a","squaredDifference"),a=he(t,"b","squaredDifference");r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape);var i={a:n,b:a},s=[n,a];return Oe.runKernelFunc((function(o,l){var u=o.squaredDifference(n,a);return l([n,a]),u}),i,(function(o,l){var u=l[0],d=l[1],f=St(2);return{a:function(){return o.mul(u.sub(d).mul(f))},b:function(){return o.mul(d.sub(u).mul(f))}}}),fy,{},s,[])}}),nbe=Ce({abs_:function(e){var t=he(e,"x","abs");return t.dtype==="complex64"?Oe.runKernelFunc((function(r){return r.complexAbs(t)}),{$x:t}):Oe.runKernelFunc((function(r,n){var a=r.abs(t);return n([t]),a}),{x:t},(function(r,n){var a=n[0];return{x:function(){return r.mul(a.toFloat().step(-1))}}}),"Abs")}}),abe=Ce({acos_:function(e){var t=he(e,"x","acos");return Oe.runKernelFunc((function(r,n){var a=r.acos(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.divStrict(St(1).sub(a.toFloat().square()).sqrt()).neg()}}}))}}),ibe=Ce({acosh_:function(e){var t=he(e,"x","acosh");return Oe.runKernelFunc((function(r,n){var a=r.acosh(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.divStrict(a.toFloat().square().sub(1).sqrt())}}}))}}),sbe=Ce({asin_:function(e){var t=he(e,"x","asin");return Oe.runKernelFunc((function(r,n){var a=r.asin(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.divStrict(St(1).sub(a.toFloat().square()).sqrt())}}}))}}),obe=Ce({asinh_:function(e){var t=he(e,"x","asinh");return Oe.runKernelFunc((function(r,n){var a=r.asinh(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.divStrict(St(1).add(a.toFloat().square()).sqrt())}}}))}}),lbe=Ce({atan_:function(e){var t=he(e,"x","atan");return Oe.runKernelFunc((function(r,n){var a=r.atan(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.div(a.toFloat().square().add(1))}}}))}}),cbe=Ce({atanh_:function(e){var t=he(e,"x","atanh");return Oe.runKernelFunc((function(r,n){var a=r.atanh(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.div(St(1).sub(a.toFloat().square()))}}}))}}),ube=Ce({ceil_:function(e){var t=he(e,"x","ceil");return Oe.runKernelFunc((function(r){return r.ceil(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),$D=Ce({clipByValue_:function(e,t,r){var n=he(e,"x","clipByValue");ye(t<=r,(function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+r+")."}));var a=[n],i={min:t,max:r};return Oe.runKernelFunc((function(s,o){var l=s.clip(n,t,r);return o([n]),l}),{x:n},(function(s,o){var l=o[0];return{x:function(){return s.where(l.greaterEqual(t).logicalAnd(l.lessEqual(r)),Mr(s))}}}),"ClipByValue",i,a)}}),dbe=Ce({cos_:function(e){var t=he(e,"x","cos"),r=[t];return Oe.runKernelFunc((function(n,a){var i=n.cos(t);return a([t]),i}),{x:t},(function(n,a){var i=a[0];return{x:function(){return i.toFloat().sin().neg().mul(n)}}}),"Cos",{},r)}}),fbe=Ce({cosh_:function(e){var t=he(e,"x","cosh");return Oe.runKernelFunc((function(r,n){var a=r.cosh(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return a.toFloat().sinh().mulStrict(r)}}}))}}),hbe=Ce({erf_:function(e){var t=he(e,"x","erf");return ye(t.dtype==="int32"||t.dtype==="float32",(function(){return"Input dtype must be `int32` or `float32`."})),t.dtype==="int32"&&(t=t.toFloat()),Oe.runKernelFunc((function(r,n){var a=r.erf(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.mul(a.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}}))}}),Ok=Ce({exp_:function(e){var t=he(e,"x","exp");return Oe.runKernelFunc((function(r,n){var a=r.exp(t);return n([a]),a}),{x:t},(function(r,n){return{x:function(){return r.mulStrict(n[0])}}}),"Exp",{},[],[!0])}}),pbe=Ce({expm1_:function(e){var t=he(e,"x","expm1");return Oe.runKernelFunc((function(r,n){var a=r.expm1(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.mul(a.exp())}}}))}}),mbe=Ce({floor_:function(e){var t=he(e,"x","floor");return Oe.runKernelFunc((function(r){return r.floor(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),gbe=Ce({log_:function(e){var t=he(e,"x","log"),r=[t];return Oe.runKernelFunc((function(n,a){var i=n.log(t);return a([t]),i}),{x:t},(function(n,a){var i=a[0];return{x:function(){return n.div(i.toFloat())}}}),"Log",{},r)}}),vbe=Ce({log1p_:function(e){var t=he(e,"x","log1p");return Oe.runKernelFunc((function(r,n){var a=r.log1p(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.div(a.add(1))}}}))}}),xbe=Ce({logSigmoid_:function(e){var t=he(e,"x","logSigmoid");return Oe.runKernelFunc((function(r,n){var a=r.softplus(t.neg()).neg();return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.mul(a.neg().sigmoid())}}}))}}),Bw=Ce({neg_:function(e){var t=he(e,"x","neg"),r=[t];return Oe.runKernelFunc((function(n){return n.neg(t)}),{x:t},(function(n){return{x:function(){return n.neg()}}}),"Neg",{},r)}}),ybe=Ce({reciprocal_:function(e){var t=he(e,"x","reciprocal");return Oe.runKernelFunc((function(r,n){var a=r.reciprocal(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.div(a.square().neg())}}}))}}),bbe=Ce({round_:function(e){var t=he(e,"x","round");return Oe.runKernelFunc((function(r){return r.round(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),vZ=Ce({rsqrt_:function(e){var t=he(e,"x","rsqrt"),r=[t];return Oe.runKernelFunc((function(n,a){var i=n.rsqrt(t);return a([t]),i}),{x:t},(function(n,a){var i=a[0];return{x:function(){return n.div(i.pow(1.5).mul(2)).neg()}}}),"Rsqrt",{},r)}}),xZ=Ce({sigmoid_:function(e){var t=he(e,"x","sigmoid");return Oe.runKernelFunc((function(r,n){var a=r.sigmoid(t);return n([a]),a}),{x:t},(function(r,n){var a=n[0];return{x:function(){return r.mul(a.mul(St(1).sub(a)))}}}),"Sigmoid")}}),wbe=Ce({sign_:function(e){var t=he(e,"x","sign");return Oe.runKernelFunc((function(r){return r.sign(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),Nbe=Ce({isNaN_:function(e){var t=he(e,"x","isNaN");return Oe.runKernelFunc((function(r){return r.isNaN(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),Sbe=Ce({isInf_:function(e){var t=he(e,"x","isInf");return Oe.runKernelFunc((function(r){return r.isInf(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),jbe=Ce({isFinite_:function(e){var t=he(e,"x","isFinite");return Oe.runKernelFunc((function(r){return r.isFinite(t)}),{$x:t},(function(r){return{$x:function(){return Mr(r)}}}))}}),Cbe=Ce({sin_:function(e){var t=he(e,"x","sin"),r=[t];return Oe.runKernelFunc((function(n,a){var i=n.sin(t);return a([t]),i}),{x:t},(function(n,a){var i=a[0];return{x:function(){return i.toFloat().cos().mul(n)}}}),"Sin",{},r)}}),_be=Ce({sinh_:function(e){var t=he(e,"x","sinh");return Oe.runKernelFunc((function(r,n){var a=r.sinh(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return a.toFloat().cosh().mulStrict(r)}}}))}}),Ebe=Ce({softplus_:function(e){var t=he(e,"x","softplus");return Oe.runKernelFunc((function(r,n){var a=r.softplus(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.mul(a.sigmoid())}}}))}}),Pbe=Ce({sqrt_:function(e){var t=he(e,"x","sqrt");return Oe.runKernelFunc((function(r,n){var a=r.sqrt(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.div(a.toFloat().sqrt().mul(2))}}}))}}),kbe=Ce({step_:function(e,t){t===void 0&&(t=0);var r=he(e,"x","step");return Oe.runKernelFunc((function(n){return n.step(r,t)}),{$x:r},(function(n){return{$x:function(){return Mr(n)}}}))}}),Abe=Ce({tan_:function(e){var t=he(e,"x","tan");return Oe.runKernelFunc((function(r,n){var a=r.tan(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return r.div(a.cos().square())}}}))}}),Dbe=Ce({tanh_:function(e){var t=he(e,"x","tanh");return Oe.runKernelFunc((function(r,n){var a=r.tanh(t);return n([a]),a}),{x:t},(function(r,n){var a=n[0];return{x:function(){return St(1).sub(a.square()).mulStrict(r)}}}),"Tanh",{},null,[!0])}});function yZ(e,t,r,n,a,i){var s,o,l=he(e,"x","batchNorm"),u=he(t,"mean","batchNorm"),d=he(r,"variance","batchNorm");return a!=null&&(s=he(a,"scale","batchNorm")),n!=null&&(o=he(n,"offset","batchNorm")),ye(l.rank===2,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."})),ye(u.rank===2||u.rank===1,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."})),ye(d.rank===2||d.rank===1,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+d.rank+"."})),s!=null&&ye(s.rank===2||s.rank===1,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+s.rank+"."})),o!=null&&ye(o.rank===2||o.rank===1,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+o.rank+"."})),i1(l,u,d,o,s,i)}function bZ(e,t,r,n,a,i){var s,o,l=he(e,"x","batchNorm"),u=he(t,"mean","batchNorm"),d=he(r,"variance","batchNorm");return a!=null&&(s=he(a,"scale","batchNorm")),n!=null&&(o=he(n,"offset","batchNorm")),ye(l.rank===3,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."})),ye(u.rank===3||u.rank===1,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."})),ye(d.rank===3||d.rank===1,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+d.rank+"."})),s!=null&&ye(s.rank===3||s.rank===1,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+s.rank+"."})),o!=null&&ye(o.rank===3||o.rank===1,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+o.rank+"."})),i1(l,u,d,o,s,i)}function wZ(e,t,r,n,a,i){var s,o,l=he(e,"x","batchNorm"),u=he(t,"mean","batchNorm"),d=he(r,"variance","batchNorm");return a!=null&&(s=he(a,"scale","batchNorm")),n!=null&&(o=he(n,"offset","batchNorm")),ye(l.rank===4,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."})),ye(u.rank===4||u.rank===1,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."})),ye(d.rank===4||d.rank===1,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+d.rank+"."})),s!=null&&ye(s.rank===4||s.rank===1,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+s.rank+"."})),o!=null&&ye(o.rank===4||o.rank===1,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+o.rank+"."})),i1(l,u,d,o,s,i)}function i1(e,t,r,n,a,i){i==null&&(i=.001);var s,o,l,u=he(e,"x","batchNorm"),d=he(t,"mean","batchNorm"),f=he(r,"variance","batchNorm");a!=null&&(s=he(a,"scale","batchNorm")),n!=null&&(o=he(n,"offset","batchNorm")),ye(d.rank===f.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),ye(o==null||d.rank===o.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),ye(s==null||d.rank===s.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),l=u.rank===0||u.rank===1?u.as4D(1,1,1,u.size):u.rank===2?u.as4D(1,1,u.shape[0],u.shape[1]):u.rank===3?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var p=[u,d,f,s];return Oe.runKernelFunc((function(h,g){var y=h.batchNormalization(l,q2(d),q2(f),i,q2(s),q2(o));return g([u,d,f,s]),y}),{x:u,mean:d,variance:f,scale:s,offset:o},(function(h,g){var y=g,x=y[0],b=y[1],N=y[2],j=y[3],w=j??St(1),C=si(b.shape,l.shape),E=[];if(b.rank===1){for(var I=0;I<l.shape.length-1;++I)E.push(l.shape[I]);E.push(1)}var D=x.sub(b),O=h.mul(w),L=vZ(N.add(St(i))),R=L.mul(L).mul(L).mul(St(-.5));return{x:function(){return b.rank===1?h.mul(a0(L.as4D(1,1,1,b.shape[0]),E)).mul(w).reshape(x.shape):h.mul(L).mul(w).reshape(x.shape)},mean:function(){var P=L.mul(St(-1)).mul(O);return b.rank===1&&(P=P.sum(C)),P.reshape(b.shape)},variance:function(){var P=R.mul(D).mul(O);return b.rank===1&&(P=P.sum(C)),P.reshape(b.shape)},scale:function(){var P=D.mul(L),F=h.mul(P);return b.rank===1&&(F=F.sum(C)),F.reshape(b.shape)},offset:function(){var P=h;return b.rank===1&&(P=P.sum(C)),P.reshape(b.shape)}}}),"BatchNormalization",{varianceEpsilon:i},p).reshape(u.shape)}function q2(e){return e==null?null:e.rank===0?e.as1D():e.rank===1?e:e.rank===2?e.as4D(1,1,e.shape[0],e.shape[1]):e.rank===3?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function p4(){RJ("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var Tbe=Ce({batchNormalization2d_:function(e,t,r,n,a,i){return n===void 0&&(n=.001),p4(),yZ(e,t,r,i,a,n)}}),Obe=Ce({batchNormalization3d_:function(e,t,r,n,a,i){return n===void 0&&(n=.001),p4(),bZ(e,t,r,i,a,n)}}),Ibe=Ce({batchNormalization4d_:function(e,t,r,n,a,i){return n===void 0&&(n=.001),p4(),wZ(e,t,r,i,a,n)}}),Mbe=Ce({batchNormalization_:function(e,t,r,n,a,i){return n===void 0&&(n=.001),p4(),i1(e,t,r,i,a,n)}}),NZ=Ce({batchNorm_:i1}),Rbe=Ce({batchNorm2d_:yZ}),Lbe=Ce({batchNorm3d_:bZ}),Fbe=Ce({batchNorm4d_:wZ}),m4=Ce({logicalAnd_:function(e,t){var r=he(e,"a","logicalAnd","bool"),n=he(t,"b","logicalAnd","bool");return kr(r.shape,n.shape),Oe.runKernelFunc((function(a){return a.logicalAnd(r,n)}),{a:r,b:n},null,"LogicalAnd")}}),Bbe=Ce({logicalNot_:function(e){var t=he(e,"x","logicalNot","bool");return Oe.runKernelFunc((function(r){return r.logicalNot(t)}),{$x:t})}}),SZ=Ce({logicalOr_:function(e,t){var r=he(e,"a","logicalOr","bool"),n=he(t,"b","logicalOr","bool");return kr(r.shape,n.shape),Oe.runKernelFunc((function(a){return a.logicalOr(r,n)}),{$a:r,$b:n})}}),zbe=Ce({logicalXor_:function(e,t){var r=he(e,"a","logicalXor","bool"),n=he(t,"b","logicalXor","bool");return kr(r.shape,n.shape),SZ(e,t).logicalAnd(m4(e,t).logicalNot())}}),hm=Ce({where_:function(e,t,r){var n=he(t,"a","where"),a=he(r,"b","where"),i=he(e,"condition","where","bool");return rn(n.shape,a.shape,"Error in where: "),i.rank===1?ye(i.shape[0]===n.shape[0],(function(){return"The first dimension of `a` must match the size of `condition`."})):rn(i.shape,a.shape,"Error in where: "),Oe.runKernelFunc((function(s,o){var l=s.select(i,n,a);return o([i]),l}),{$condition:i,$a:n,$b:a},(function(s,o){var l=o[0];return{$condition:function(){return Mr(l).toFloat()},$a:function(){return s.mul(l.cast(s.dtype))},$b:function(){return s.mul(l.logicalNot().cast(s.dtype))}}}))}}),jZ=function(e){return Rt(this,void 0,void 0,(function(){var t,r,n;return Lt(this,(function(a){switch(a.label){case 0:return[4,(t=he(e,"condition","whereAsync","bool")).data()];case 1:return r=a.sent(),n=BD(t.shape,r),e!==t&&t.dispose(),[2,n]}}))}))},Cr=Ce({add_:function(e,t){var r,n=he(e,"a","add"),a=he(t,"b","add");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s){return s.add(n,a)}),{a:n,b:a},(function(s){return{a:function(){var o=s,l=si(n.shape,i);return l.length>0&&(o=o.sum(l)),o.reshape(n.shape)},b:function(){var o=s,l=si(a.shape,i);return l.length>0&&(o=o.sum(l)),o.reshape(a.shape)}}}),"Add")}}),Wbe=Ce({addN_:function(e){ye(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),ye(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length}));var t=e.map((function(a,i){return he(a,"tensors"+i,"addN")})),r=t[0];t.forEach((function(a){if(a.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(a){if(!ki(a.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var n=t;return Oe.runKernelFunc((function(a){return a.addN(t)}),n,(function(a){var i={};return t.forEach((function(s,o){i[o]=function(){return a.clone()}})),i}),"AddN")}}),Ube=Ce({addStrict_:function(e,t){var r=he(e,"a","addStrict"),n=he(t,"b","addStrict");return rn(r.shape,n.shape,"Error in addStrict: "),r.add(n)}}),$be=Ce({atan2_:function(e,t){var r,n=he(e,"a","atan2"),a=he(t,"b","atan2");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s,o){var l=s.atan2(n,a);return o([n,a]),l}),{$a:n,$b:a},(function(s,o){var l=o[0],u=o[1];return{$a:function(){var d=Cr(l.square(),u.square()),f=s.mul(u.div(d)),p=si(l.shape,i);return p.length>0&&(f=f.sum(p)),f.reshape(l.shape)},$b:function(){var d=Cr(l.square(),u.square()),f=Bw(s.mul(l.div(d))),p=si(u.shape,i);return p.length>0&&(f=f.sum(p)),f.reshape(u.shape)}}}))}}),Cc=Ce({div_:function(e,t){var r,n=he(e,"a","div"),a=he(t,"b","div");if(r=ua(n,a),n=r[0],a=r[1],n.dtype==="int32"&&a.dtype==="int32")return CZ(n,a);var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s,o){var l=s.realDivide(n,a);return o([n,a]),l}),{a:n,b:a},(function(s,o){var l=o[0],u=o[1];return{a:function(){var d=s.div(u.toFloat()),f=si(l.shape,i);return f.length>0?d.sum(f).reshape(l.shape):d},b:function(){var d=s.mul(l.toFloat()),f=si(u.shape,i);f.length>0&&(d=d.sum(f).reshape(u.shape));var p=u.square();return d.div(p.toFloat()).neg()}}}),"Div")}}),qbe=Ce({divNoNan_:function(e,t){var r,n=he(e,"a","div"),a=he(t,"b","div");n=(r=ua(n,a))[0],a=r[1];var i=Cc(n,a),s=Mr(i),o=a.equal(s);return hm(o,s,i)}}),Vbe=Ce({divStrict_:function(e,t){var r=he(e,"a","div"),n=he(t,"b","div");return rn(r.shape,n.shape,"Error in divideStrict: "),r.div(n)}}),CZ=Ce({floorDiv_:function(e,t){var r,n=he(e,"a","floorDiv"),a=he(t,"b","floorDiv");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s,o){var l=s.floorDiv(n,a);return o([n,a]),l}),{a:n,b:a},(function(s,o){var l=o[0],u=o[1];return{a:function(){var d=s.div(u.toFloat()),f=si(l.shape,i);return f.length>0?d.sum(f).reshape(l.shape):d},b:function(){var d=s.mul(l.toFloat()),f=si(u.shape,i);f.length>0&&(d=d.sum(f).reshape(u.shape));var p=u.square();return d.div(p.toFloat()).neg()}}}),"FloorDiv")}}),qD=Ce({maximum_:function(e,t){var r,n=he(e,"a","maximum"),a=he(t,"b","maximum");return r=ua(n,a),n=r[0],a=r[1],n.dtype==="bool"&&(n=n.toInt(),a=a.toInt()),kr(n.shape,a.shape),Oe.runKernelFunc((function(i,s){var o=i.maximum(n,a);return s([n,a]),o}),{a:n,b:a},(function(i,s){var o=s[0],l=s[1];return{a:function(){return i.mul(o.greaterEqual(l).toFloat())},b:function(){return i.mul(o.less(l).toFloat())}}}),"Maximum")}}),Hbe=Ce({maximumStrict_:function(e,t){var r=he(e,"a","maximumStrict"),n=he(t,"b","maximumStrict");return rn(r.shape,n.shape,"Error in maximumStrict: "),r.maximum(n)}}),_Z=Ce({minimum_:function(e,t){var r,n=he(e,"a","minimum"),a=he(t,"b","minimum");return r=ua(n,a),n=r[0],a=r[1],n.dtype==="bool"&&(n=n.toInt(),a=a.toInt()),kr(n.shape,a.shape),Oe.runKernelFunc((function(i,s){var o=i.minimum(n,a);return s([n,a]),o}),{a:n,b:a},(function(i,s){var o=s[0],l=s[1];return{a:function(){return i.mul(o.lessEqual(l).toFloat())},b:function(){return i.mul(o.greater(l).toFloat())}}}),"Minimum")}}),Gbe=Ce({minimumStrict_:function(e,t){var r=he(e,"a","minimumStrict"),n=he(t,"b","minimumStrict");return rn(r.shape,n.shape,"Error in minimumStrict: "),r.minimum(n)}}),Ybe=Ce({mod_:function(e,t){var r,n=he(e,"a","mod"),a=he(t,"b","mod");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s,o){var l=s.mod(n,a);return o([n,a]),l}),{$a:n,$b:a},(function(s,o){var l=o[0],u=o[1];return{$a:function(){var d=si(l.shape,i);return d.length>0?s.sum(d).reshape(l.shape):s},$b:function(){var d=s.mul(l.div(u).floor().neg()),f=si(u.shape,i);return f.length>0?d.sum(f).reshape(u.shape):d}}}))}}),Kbe=Ce({modStrict_:function(e,t){var r=he(e,"a","modStrict"),n=he(t,"b","modStrict");return rn(r.shape,n.shape,"Error in modStrict: "),r.mod(n)}}),ws=Ce({mul_:function(e,t){var r,n=he(e,"a","mul"),a=he(t,"b","mul");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s,o){var l=s.multiply(n,a);return o([n,a]),l}),{a:n,b:a},(function(s,o){var l=o[0],u=o[1];return{a:function(){var d=s.mul(u.toFloat()),f=si(l.shape,i);return f.length>0?d.sum(f).reshape(l.shape):d},b:function(){var d=s.mul(l.toFloat()),f=si(u.shape,i);return f.length>0?d.sum(f).reshape(u.shape):d}}}),"Mul")}}),Xbe=Ce({mulStrict_:function(e,t){var r=he(e,"a","mul"),n=he(t,"b","mul");return rn(r.shape,n.shape,"Error in multiplyStrict: "),r.mul(n)}}),zw=Ce({pow_:function(e,t){var r,n=he(e,"base","pow"),a=he(t,"exp","pow");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape),s=[n,a];return Oe.runKernelFunc((function(o,l){var u=o.pow(n,a);return l([n,a,u]),u}),{a:n,b:a},(function(o,l){var u=l[0],d=l[1],f=l[2];return{a:function(){var p=d.toFloat(),h=o.mul(p.mul(u.pow(p.sub(St(1))))),g=si(u.shape,i);return g.length>0&&(h=h.sum(g)),h.reshape(u.shape)},b:function(){var p=u.greater(0),h=u.log().where(p,Mr(u)),g=o.mul(f.mul(h)),y=si(d.shape,i);return y.length>0&&(g=g.sum(y)),g.reshape(d.shape)}}}),"Pow",{},s,[!0])}}),Jbe=Ce({powStrict_:function(e,t){return rn(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),Zbe=Ce({squaredDifferenceStrict_:function(e,t){var r=he(e,"a","squaredDifferenceStrict"),n=he(t,"b","squaredDifferenceStrict");return rn(r.shape,n.shape,"Error in squaredDifferenceStrict: "),r.squaredDifference(n)}}),oi=Ce({sub_:function(e,t){var r,n=he(e,"a","sub"),a=he(t,"b","sub");r=ua(n,a),n=r[0],a=r[1];var i=kr(n.shape,a.shape);return Oe.runKernelFunc((function(s){return s.subtract(n,a)}),{a:n,b:a},(function(s){return{a:function(){var o=s,l=si(n.shape,i);return l.length>0&&(o=o.sum(l)),o.reshape(n.shape)},b:function(){var o=s,l=si(a.shape,i);return l.length>0&&(o=o.sum(l)),o.neg().reshape(a.shape)}}}),"Sub")}}),Qbe=Ce({subStrict_:function(e,t){var r=he(e,"a","subStrict"),n=he(t,"b","subStrict");return rn(r.shape,n.shape,"Error in subStrict: "),r.sub(n)}}),EZ=Ce({equal_:function(e,t){var r,n=he(e,"a","equal"),a=he(t,"b","equal");return r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape),Oe.runKernelFunc((function(i){return i.equal(n,a)}),{$a:n,$b:a})}}),ewe=Ce({equalStrict_:function(e,t){var r=he(e,"a","equalStrict"),n=he(t,"b","equalStrict");return rn(r.shape,n.shape,"Error in equalStrict: "),r.equal(n)}}),twe=Ce({greater_:function(e,t){var r,n=he(e,"a","greater"),a=he(t,"b","greater");return r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape),Oe.runKernelFunc((function(i){return i.greater(n,a)}),{a:n,b:a},null,"Greater")}}),PZ=Ce({greaterEqual_:function(e,t){var r,n=he(e,"a","greaterEqual"),a=he(t,"b","greaterEqual");return r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape),Oe.runKernelFunc((function(i,s){var o=i.greaterEqual(n,a);return s([n,a]),o}),{a:n,b:a},(function(i,s){var o=s[0],l=s[1];return{a:function(){return Mr(o)},b:function(){return Mr(l)}}}),"GreaterEqual")}}),rwe=Ce({greaterEqualStrict_:function(e,t){var r=he(e,"a","greaterEqualStrict"),n=he(t,"b","greaterEqualStrict");return rn(r.shape,n.shape,"Error in greaterEqualStrict: "),r.greaterEqual(n)}}),nwe=Ce({greaterStrict_:function(e,t){var r=he(e,"a","greaterStrict"),n=he(t,"b","greaterStrict");return rn(r.shape,n.shape,"Error in greaterStrict: "),r.greater(n)}}),awe=Ce({less_:function(e,t){var r,n=he(e,"a","less"),a=he(t,"b","less");return r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape),Oe.runKernelFunc((function(i){return i.less(n,a)}),{a:n,b:a},null,"Less")}}),iwe=Ce({lessEqual_:function(e,t){var r,n=he(e,"a","lessEqual"),a=he(t,"b","lessEqual");return r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape),Oe.runKernelFunc((function(i,s){var o=i.lessEqual(n,a);return s([n,a]),o}),{a:n,b:a},null,"LessEqual")}}),swe=Ce({lessEqualStrict_:function(e,t){var r=he(e,"a","lessEqualStrict"),n=he(t,"b","lessEqualStrict");return rn(r.shape,n.shape,"Error in lessEqualStrict: "),r.lessEqual(n)}}),owe=Ce({lessStrict_:function(e,t){var r=he(e,"a","lessStrict"),n=he(t,"b","lessStrict");return rn(r.shape,n.shape,"Error in lessStrict: "),r.less(n)}}),lwe=Ce({notEqual_:function(e,t){var r,n=he(e,"a","notEqual"),a=he(t,"b","notEqual");return r=ua(n,a),n=r[0],a=r[1],kr(n.shape,a.shape),Oe.runKernelFunc((function(i){return i.notEqual(n,a)}),{a:n,b:a},null,"NotEqual")}}),cwe=Ce({notEqualStrict_:function(e,t){var r=he(e,"a","notEqualStrict"),n=he(t,"b","notEqualStrict");return rn(r.shape,n.shape,"Error in notEqualStrict: "),r.notEqual(n)}});function uF(e,t){for(var r=[],n=e;n<t;++n)r.push(n);return r}function dF(e){for(var t=[],r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n)t.push(e[r][n]);return t}var VD=Ce({gather_:function(e,t,r){r===void 0&&(r=0);var n=he(e,"x","gather"),a=he(t,"indices","gather","int32");r=li(r,n.shape)[0];var i=(function(s,o,l){for(var u=s.shape[l],d=[],f=1,p=1,h=0;h<l;h++)d.push(s.shape[h]),f*=s.shape[h];for(h=0;h<o.rank;h++)d.push(o.shape[h]);for(h=l+1;h<s.rank;h++)d.push(s.shape[h]),p*=s.shape[h];return{batchSize:f,sliceSize:p,dimSize:u,outputShape:d}})(n,a,r);return Oe.runKernelFunc((function(s,o){var l=s.gather(n,a.flatten(),r);return o([a]),l}),{x:n,indices:a},(function(s,o){var l=o[0];return{x:function(){var u=n.shape,d=l.size,f=u.slice(0,r),p=f.length,h=u.slice(r,u.length).slice(1),g=h.length,y=uF(0,p),x=uF(p+1,p+1+g),b=dF([f,[d],h]),N=s.reshape(b),j=l.reshape([d]),w=dF([[p],y,x]),C=N.transpose(w),E=kZ(C,j,n.shape[r]),I=DD(w);return E=E.transpose(I)},indices:function(){return l}}}),"Gather",{axis:r}).reshape(i.outputShape)}}),kZ=Ce({unsortedSegmentSum_:function(e,t,r){var n=he(e,"x","unsortedSegmentSum"),a=he(t,"segmentIds","unsortedSegmentSum","int32");return ye(La(r),(function(){return"numSegments must be of dtype int"})),Oe.runKernelFunc((function(i,s){var o=i.unsortedSegmentSum(n,a,r);return s([a]),o}),{$x:n},(function(i,s){var o=s[0];return{$x:function(){return(function(l,u){for(var d=qD(u,Mr(u)),f=VD(l,d),p=PZ(u,St(0,"int32")),h=f.rank-p.rank,g=0;g<h;++g)p=zl(p,g+1);p=m4(p,Q0(f.shape,"bool"));var y=Mr(f);return hm(p,f,y)})(i,o)}}}))}}),uwe=function(e,t,r){return Rt(this,void 0,void 0,(function(){var n,a,i,s,o,l,u,d,f,p,h,g,y;return Lt(this,(function(x){switch(x.label){case 0:for(n=he(e,"tensor","boolMask"),a=he(t,"mask","boolMask","bool"),i=r??0,s=a.rank,o=n.shape,ye(s>0,(function(){return"mask cannot be scalar"})),rn(o.slice(i,i+s),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,u=i;u<i+s;u++)l*=o[u];return d=o.slice(0,i).concat([l],o.slice(i+s)),f=n.reshape(d),p=a.reshape([-1]),[4,jZ(p)];case 1:return h=x.sent(),g=h.squeeze([1]),y=VD(f,g,i),e!==n&&n.dispose(),t!==a&&a.dispose(),g.dispose(),f.dispose(),p.dispose(),h.dispose(),[2,y]}}))}))};function AZ(e,t,r,n,a,i,s){i===void 0&&(i="NHWC"),ye(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var o=e,l=t,u=!1;t.rank===3&&(u=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),o=[1,e[0],e[1],e[2]]),ye(o.length===4,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+o.length+"."})),ye(l.rank===4,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank})),ye(r.rank===4,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+r.rank}));var d=i==="NHWC"?o[3]:o[1],f=i==="NHWC"?l.shape[3]:l.shape[1];ye(d===r.shape[2],(function(){return"Error in conv2dDerInput: depth of input ("+d+") must match input depth for filter "+r.shape[2]+"."})),ye(f===r.shape[3],(function(){return"Error in conv2dDerInput: depth of output ("+f+") must match output depth for filter "+r.shape[3]+"."})),s!=null&&ye(La(a),(function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."}));var p=RD(i),h=Mm(o,r.shape,n,1,a,s,!1,p),g=Oe.runKernelFunc((function(y,x){var b=y.conv2dDerInput(l,r,h);return x([r,l]),b}),{dy4D:l,filter:r},(function(y,x){var b=x[0],N=x[1];return{dy4D:function(){return Ql(y,b,n,a,i,1,s)},filter:function(){return HD(y,N,b.shape,n,a,i,s)}}}));return u?g.as3D(g.shape[1],g.shape[2],g.shape[3]):g}function y6(e){var t=(function(i){return typeof i=="number"?[i,i,i]:i.length===2?[i[0],i[1],1]:i})(e),r=t[0],n=t[1],a=t[2];return r===1&&n===1&&a===1}function DZ(e,t,r,n,a){ye(e.length===t.rank,(function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"}));var i=e,s=t,o=!1;t.rank===4&&(o=!0,s=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),i=[1,e[0],e[1],e[2],e[3]]);var l=i[4],u=s.shape[4];ye(i.length===5,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+i.length+"."})),ye(s.rank===5,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+s.rank})),ye(r.rank===5,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+r.rank})),ye(l===r.shape[3],(function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+r.shape[3]+"."})),ye(u===r.shape[4],(function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+r.shape[4]+"."}));var d=Lw(i,r.shape,n,1,a),f=Oe.runKernelFunc((function(p){return p.conv3dDerInput(s,r,d)}),{dy5D:s});return o?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}var dwe=Ce({conv1d_:function(e,t,r,n,a,i,s){a===void 0&&(a="NWC"),i===void 0&&(i=1);var o=he(e,"x","conv1d"),l=he(t,"filter","conv1d"),u=o,d=!1;o.rank===2&&(d=!0,u=o.as3D(1,o.shape[0],o.shape[1])),ye(u.rank===3,(function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."})),ye(l.rank===3,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."})),s!=null&&ye(La(n),(function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+n+"."})),ye(u.shape[2]===l.shape[1],(function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."})),ye(wo(r,i),(function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+r+" and dilation '"+i+"'"})),ye(a==="NWC",(function(){return"Error in conv1d: got dataFormat of "+a+" but only NWC is currently supported."}));var f=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),p=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),h=Ql(p,f,[1,r],n,"NHWC",[1,i],s);return d?h.as2D(h.shape[2],h.shape[3]):h.as3D(h.shape[0],h.shape[2],h.shape[3])}}),Ql=Ce({conv2d_:function(e,t,r,n,a,i,s){a===void 0&&(a="NHWC"),i===void 0&&(i=[1,1]);var o=he(e,"x","conv2d"),l=he(t,"filter","conv2d"),u=o,d=!1;o.rank===3&&(d=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),ye(u.rank===4,(function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."})),ye(l.rank===4,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."})),s!=null&&ye(La(n),(function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+n+"."}));var f=a==="NHWC"?u.shape[3]:u.shape[1];ye(f===l.shape[2],(function(){return"Error in conv2d: depth of input ("+f+") must match input depth for filter "+l.shape[2]+"."})),ye(wo(r,i),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"}));var p=RD(a),h=Mm(u.shape,l.shape,r,i,n,s,!1,p),g=[l,u],y=Oe.runKernelFunc((function(x,b){var N=x.conv2d(u,l,h);return b([l,u]),N}),{x:u,filter:l},(function(x,b){var N=b,j=N[0],w=N[1];return ye(_0(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"})),{x:function(){return TZ(w.shape,x,j,r,n,a)},filter:function(){return HD(w,x,j.shape,r,n,a)}}}),"Conv2D",h,g);return d?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}}),fwe=Ce({conv3d_:function(e,t,r,n,a,i){a===void 0&&(a="NDHWC"),i===void 0&&(i=[1,1,1]);var s=he(e,"x","conv3d"),o=he(t,"filter","conv3d"),l=s,u=!1;s.rank===4&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),ye(l.rank===5,(function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."})),ye(o.rank===5,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+o.rank+"."})),ye(l.shape[4]===o.shape[3],(function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+o.shape[3]+"."})),ye((function(p,h){return y6(p)||y6(h)})(r,i),(function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"})),ye(a==="NDHWC",(function(){return"Error in conv3d: got dataFormat of "+a+" but only NDHWC is currently supported."}));var d=Lw(l.shape,o.shape,r,i,n),f=Oe.runKernelFunc((function(p,h){var g=p.conv3d(l,o,d);return h([l,o]),g}),{x:l,$filter:o},(function(p,h){ye(y6(i),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+i+"'"}));var g=h[0],y=h[1];return{x:function(){return DZ(g.shape,p,y,r,n)},$filter:function(){return(function(x,b,N,j,w){var C=x;x.rank===4&&(C=x.as5D(1,x.shape[0],x.shape[1],x.shape[2],x.shape[3]));var E=b;E.rank===4&&(E=b.as5D(1,b.shape[0],b.shape[1],b.shape[2],b.shape[3])),ye(C.rank===5,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+C.shape+"."})),ye(E.rank===5,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+E.shape+"."})),ye(N.length===5,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+N+"."})),ye(C.shape[4]===N[3],(function(){return"Error in conv3dDerFilter: depth of input "+C.shape[4]+") must match input depth in filter ("+N[3]+"."})),ye(E.shape[4]===N[4],(function(){return"Error in conv3dDerFilter: depth of dy ("+E.shape[4]+") must match output depth for filter ("+N[4]+")."}));var I=Lw(C.shape,N,j,1,w);return Oe.runKernelFunc((function(D){return D.conv3dDerFilter(C,E,I)}),{x5D:C,dy5D:E})})(g,p,y.shape,r,n)}}}));return u?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),HD=Ce({conv2dDerFilter_:function(e,t,r,n,a,i,s){i===void 0&&(i="NHWC");var o=e;e.rank===3&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;l.rank===3&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),ye(o.rank===4,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+o.shape+"."})),ye(l.rank===4,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."})),ye(r.length===4,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+r+"."}));var u=i==="NHWC"?o.shape[3]:o.shape[1],d=i==="NHWC"?l.shape[3]:l.shape[1];ye(u===r[2],(function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+r[2]+"."})),ye(d===r[3],(function(){return"Error in conv2dDerFilter: depth of dy ("+d+") must match output depth for filter ("+r[3]+")."})),s!=null&&ye(La(a),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+a+"."}));var f=RD(i),p=Mm(o.shape,r,n,1,a,s,!1,f);return Oe.runKernelFunc((function(h){return h.conv2dDerFilter(o,l,p)}),{x4D:o,dy4D:l})}}),TZ=Ce({conv2dDerInput_:AZ}),g4=Ce({depthwiseConv2d_:function(e,t,r,n,a,i,s){i===void 0&&(i=[1,1]);var o=he(e,"x","depthwiseConv2d"),l=he(t,"filter","depthwiseConv2d"),u=o,d=!1;o.rank===3&&(d=!0,u=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),ye(u.rank===4,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."})),ye(l.rank===4,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."})),ye(u.shape[3]===l.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."})),i==null&&(i=[1,1]),ye(wo(r,i),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+i+"'"})),s!=null&&ye(La(n),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+n+"."}));var f=Mm(u.shape,l.shape,r,i,n,s,!0),p=[u,l],h=Oe.runKernelFunc((function(g,y){var x=g.depthwiseConv2D(u,l,f);return y([u,l]),x}),{x:u,filter:l},(function(g,y){ye(_0(i),(function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+i+"'"}));var x=y[0],b=y[1];return{x:function(){return OZ(x.shape,g,b,f)},filter:function(){return IZ(x,g,b.shape,f)}}}),"DepthwiseConv2dNative",f,p);return d?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}}),OZ=Ce({depthwiseConv2dDerInput_:function(e,t,r,n){var a=t,i=!1;t.rank===3&&(i=!0,a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var s=Oe.runKernelFunc((function(o){return o.depthwiseConv2DDerInput(a,r,n)}),{dy4D:a});return i?s.as3D(s.shape[1],s.shape[2],s.shape[3]):s}}),IZ=Ce({depthwiseConv2dDerFilter_:function(e,t,r,n){var a=e;e.rank===3&&(a=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var i=t;return i.rank===3&&(i=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),Oe.runKernelFunc((function(s){return s.depthwiseConv2DDerFilter(a,i,n)}),{x4D:a,dy4D:i})}}),GD=Ce({separableConv2d_:function(e,t,r,n,a,i,s){i===void 0&&(i=[1,1]),s===void 0&&(s="NHWC");var o=he(e,"x","separableConv2d"),l=he(t,"depthwiseFilter","separableConv2d"),u=he(r,"pointwiseFilter","separableConv2d"),d=o,f=!1;if(o.rank===3&&(f=!0,d=o.as4D(1,o.shape[0],o.shape[1],o.shape[2])),s==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");ye(d.rank===4,(function(){return"Error in separableConv2d: input must be rank 4, but got rank "+d.rank+"."})),ye(l.rank===4,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."})),ye(u.rank===4,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."})),ye(u.shape[0]===1,(function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."})),ye(u.shape[1]===1,(function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."}));var p=l.shape[2],h=l.shape[3];ye(u.shape[2]===p*h,(function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+p*h+", but got "+u.shape[2]+"."}));var g=g4(d,l,n,a,s,i),y=Ql(g,u,1,"valid",s);return f?y.as3D(y.shape[1],y.shape[2],y.shape[3]):y}}),hwe=Ce({conv2dTranspose_:function(e,t,r,n,a,i){return AZ(r,he(e,"x","conv2dTranspose"),he(t,"filter","conv2dTranspose"),n,a,"NHWC",i)}}),pwe=Ce({conv3dTranspose_:function(e,t,r,n,a){return DZ(r,he(e,"x","conv3dTranspose"),he(t,"filter","conv3dTranspose"),n,a)}}),v4=Ce({matMul_:function(e,t,r,n){var a;r===void 0&&(r=!1),n===void 0&&(n=!1);var i=he(e,"a","matMul"),s=he(t,"b","matMul");a=ua(i,s),i=a[0],s=a[1];var o=r?i.shape[i.rank-2]:i.shape[i.rank-1],l=n?s.shape[s.rank-1]:s.shape[s.rank-2],u=r?i.shape[i.rank-1]:i.shape[i.rank-2],d=n?s.shape[s.rank-2]:s.shape[s.rank-1],f=i.shape.slice(0,-2),p=s.shape.slice(0,-2),h=Ut(f),g=Ut(p);ye(i.rank>=2&&s.rank>=2&&i.rank===s.rank,(function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+i.rank+" and "+s.rank+"."})),ye(ki(f,p),(function(){return"Error in matMul: outer dimensions ("+f+") and ("+p+") of Tensors with shapes "+i.shape+" and "+s.shape+" must match."})),ye(o===l,(function(){return"Error in matMul: inner shapes ("+o+") and ("+l+") of Tensors with shapes "+i.shape+" and "+s.shape+" and transposeA="+r+" and transposeB="+n+" must match."}));var y=i.shape.slice(0,-2).concat([u,d]),x=r?i.as3D(h,o,u):i.as3D(h,u,o),b=n?s.as3D(g,d,l):s.as3D(g,l,d),N={transposeA:r,transposeB:n};return Oe.runKernelFunc((function(j,w){var C=j.batchMatMul(x,b,r,n);return w([x,b]),C}),{a:x,b},(function(j,w){var C=w,E=C[0],I=C[1];return r||n?!r&&n?{a:function(){return j.matMul(I,!1,!1)},b:function(){return j.matMul(E,!0,!1)}}:r&&!n?{a:function(){return I.matMul(j,!1,!0)},b:function(){return E.matMul(j,!1,!1)}}:{a:function(){return I.matMul(j,!0,!0)},b:function(){return j.matMul(E,!0,!0)}}:{a:function(){return j.matMul(I,!1,!0)},b:function(){return E.matMul(j,!0,!1)}}}),"BatchMatMul",N).reshape(y)}}),mwe=Ce({dot_:function(e,t){var r=he(e,"t1","dot"),n=he(t,"t2","dot");ye(!(r.rank!==1&&r.rank!==2||n.rank!==1&&n.rank!==2),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+r.rank+" and "+n.rank+"."}));var a=r.rank===1?r.size:r.shape[1],i=n.rank===1?n.size:n.shape[0];return ye(a===i,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+a+" and "+i+"."})),r.rank===1&&n.rank===1?r.as2D(1,-1).matMul(n.as2D(-1,1)).asScalar():r.rank===1&&n.rank===2?r.as2D(1,-1).matMul(n.as2D(n.shape[0],n.shape[1])).as1D():r.rank===2&&n.rank===1?r.matMul(n.as2D(-1,1)).as1D():r.matMul(n.as2D(n.shape[0],n.shape[1]))}}),gwe=Ce({outerProduct_:function(e,t){var r=he(e,"v1","outerProduct"),n=he(t,"v2","outerProduct");return ye(r.rank===1&&n.rank===1,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+r.rank+" and "+n.rank+"."})),r.as2D(-1,1).matMul(n.as2D(1,-1))}}),s1=Ce({reverse_:function(e,t){var r=he(e,"x","reverse");if(r.rank===0)return r.clone();var n=li(t,r.shape);return Oe.runKernelFunc((function(a){return a.reverse(r,n)}),{$x:r},(function(a){return{$x:function(){return a.reverse(n)}}})).reshapeAs(r)}}),vwe=Ce({reverse1d_:function(e){var t=he(e,"x","reverse");return ye(t.rank===1,(function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."})),s1(t,0)}}),xwe=Ce({reverse2d_:function(e,t){var r=he(e,"x","reverse");return ye(r.rank===2,(function(){return"Error in reverse2D: x must be rank 2 but got rank "+r.rank+"."})),s1(r,t)}}),ywe=Ce({reverse3d_:function(e,t){var r=he(e,"x","reverse");return ye(r.rank===3,(function(){return"Error in reverse3D: x must be rank 3 but got rank "+r.rank+"."})),s1(r,t)}}),bwe=Ce({reverse4d_:function(e,t){var r=he(e,"x","reverse");return ye(r.rank===4,(function(){return"Error in reverse4D: x must be rank 4 but got rank "+r.rank+"."})),s1(r,t)}});function MZ(e,t,r,n,a,i){var s=he(e,"x","maxPool"),o=s,l=!1;s.rank===3&&(l=!0,o=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ye(o.rank===4,(function(){return"Error in maxPool: input must be rank 4 but got rank "+o.rank+"."})),ye(wo(r,n),(function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+n+"'"})),i!=null&&ye(La(a),(function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var u=dy(o.shape,t,r,n,a,i);if(u.filterWidth===1&&u.filterHeight===1&&ki(u.inShape,u.outShape))return s.clone();var d=[o],f=Oe.runKernelFunc((function(p,h){var g=p.maxPool(o,u);return h([o,g]),g}),{x:o},(function(p,h){var g=h[0],y=h[1];return{x:function(){return(function(x,b,N,j,w,C,E,I){var D=he(x,"dy","maxPoolBackprop"),O=he(b,"input","maxPoolBackprop"),L=he(N,"output","maxPoolBackprop");ye(O.rank===D.rank,(function(){return"Rank of input ("+O.rank+") does not match rank of dy ("+D.rank+")"})),ye(wo(w,C),(function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+w+" and dilations '"+C+"'"})),ye(D.rank===4,(function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+D.rank+"."})),ye(O.rank===4,(function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+O.rank+"."}));var R=dy(O.shape,j,w,C,E,I);return Oe.runKernelFunc((function(P){return P.maxPoolBackprop(D,O,L,R)}),{$dy:D,$input:O})})(p,g,y,t,r,n,a)}}}),"MaxPool",u,d);return l?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}function RZ(e,t,r,n,a,i){var s=he(e,"x","avgPool","float32");ye(wo(r,n),(function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+n+"'"}));var o=s,l=!1;s.rank===3&&(l=!0,o=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ye(o.rank===4,(function(){return"Error in avgPool: x must be rank 4 but got rank "+o.rank+"."})),i!=null&&ye(La(a),(function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."}));var u=dy(o.shape,t,r,n,a,i);if(u.filterWidth===1&&u.filterHeight===1&&ki(u.inShape,u.outShape))return s.clone();var d=Oe.runKernelFunc((function(f){return f.avgPool(o,u)}),{x:o},(function(f){return{x:function(){return(function(p,h,g,y,x,b){var N=he(p,"dy","avgPoolBackprop"),j=he(h,"input","avgPoolBackprop");ye(j.rank===N.rank,(function(){return"Rank of input ("+j.rank+") does not match rank of dy ("+N.rank+")"})),ye(wo(y,x),(function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+y+" and dilations '"+x+"'"}));var w=j,C=N,E=!1;j.rank===3&&(E=!0,w=j.as4D(1,j.shape[0],j.shape[1],j.shape[2]),C=N.as4D(1,N.shape[0],N.shape[1],N.shape[2])),ye(C.rank===4,(function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+C.rank+"."})),ye(w.rank===4,(function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+w.rank+"."}));var I=dy(w.shape,g,y,x,b),D=Oe.runKernelFunc((function(O){return O.avgPoolBackprop(C,w,I)}),{dy4D:C,input4D:w});return E?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D})(f,o,t,r,n,a)}}}),"AvgPool",u);return d=d.cast(s.dtype),l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}var ji=Ce({maxPool_:function(e,t,r,n,a){return MZ(e,t,r,1,n,a)}}),o1=Ce({avgPool_:function(e,t,r,n,a){return RZ(e,t,r,1,n,a)}}),wwe=Ce({pool_:function(e,t,r,n,a,i){a==null&&(a=[1,1]),i==null&&(i=1),n===0&&(n="valid");var s=he(e,"x","maxPool"),o=s,l=!1;s.rank===3&&(l=!0,o=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),ye(wo(i,a),(function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+i+" and dilations '"+a+"'"}));var u,d=dy(o.shape,t,i,a,n),f=[d.dilationHeight,d.dilationWidth];u=n==="same"?(function(w,C){var E=w.map((function(O,L){return O+(O-1)*(C[L]-1)})).map((function(O){return O-1})),I=E.map((function(O){return Math.floor(O/2)})),D=E.map((function(O,L){return O-I[L]}));return E.map((function(O,L){return[I[L],D[L]]}))})([d.filterHeight,d.filterWidth],f):[[0,0],[0,0]];var p=f[0]===1&&f[1]===1,h=(function(w,C,E){var I=E.map((function(V){return V[0]})),D=E.map((function(V){return V[1]})),O=w.concat(I,D),L=C.map((function(V,X){return(V-O[X]%V)%V})),R=D.map((function(V,X){return V+L[X]})),P=C.map((function(V,X){return[I[X],R[X]]})),F=C.map((function(V,X){return[0,L[X]]}));return[P,F]})([d.inHeight,d.inWidth],f,u),g=h[0],y=h[1],x=p?n:"valid",b=p?o:UJ(o,f,g),N=(r==="avg"?function(){return RZ(b,t,i,1,x)}:function(){return MZ(b,t,i,1,x)})(),j=p?N:BJ(N,f,y);return l?j.as3D(j.shape[1],j.shape[2],j.shape[3]):j}}),Nwe=Ce({maxPool3d_:function(e,t,r,n,a,i,s){i===void 0&&(i="NDHWC");var o=he(e,"x","maxPool3d"),l=o,u=!1;o.rank===4&&(u=!0,l=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),s==null&&(s=[1,1,1]),ye(l.rank===5,(function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."})),ye(i==="NDHWC",(function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),ye(wo(r,s),(function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"})),a!=null&&ye(La(n),(function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."}));var d=Rw(l.shape,t,r,s,n,a,i),f=Oe.runKernelFunc((function(p,h){var g=p.maxPool3d(l,d);return h([l,g]),g}),{x:l},(function(p,h){var g=h[0],y=h[1];return{x:function(){return(function(x,b,N,j,w,C,E,I){var D=he(x,"dy","maxPool3dBackprop"),O=he(b,"input","maxPool3dBackprop"),L=he(N,"output","maxPool3dBackprop"),R=D,P=O,F=L,V=!1;O.rank===4&&(V=!0,R=D.as5D(1,D.shape[0],D.shape[1],D.shape[2],D.shape[3]),P=O.as5D(1,O.shape[0],O.shape[1],O.shape[2],O.shape[3]),F=L.as5D(1,L.shape[0],L.shape[1],L.shape[2],L.shape[3])),ye(R.rank===5,(function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+R.rank+"."})),ye(P.rank===5,(function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+P.rank+"."})),ye(F.rank===5,(function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+F.rank+"."})),C==null&&(C=[1,1,1]),ye(wo(w,C),(function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+w+" and dilations '"+C+"'"})),I!=null&&ye(La(E),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+I+" but got pad "+E+"."}));var X=Rw(P.shape,j,w,C,E,I),te=Oe.runKernelFunc((function(q){return q.maxPool3dBackprop(R,P,F,X)}),{dy5D:R,input5D:P});return V?te.as4D(te.shape[1],te.shape[2],te.shape[3],te.shape[4]):te})(p,g,y,t,r,s,n,a)}}}));return u?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Swe=Ce({avgPool3d_:function(e,t,r,n,a,i,s){i===void 0&&(i="NDHWC");var o=he(e,"x","avgPool3d","float32"),l=o,u=!1;o.rank===4&&(u=!0,l=o.as5D(1,o.shape[0],o.shape[1],o.shape[2],o.shape[3])),s==null&&(s=[1,1,1]),ye(l.rank===5,(function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."})),ye(i==="NDHWC",(function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+i})),ye(wo(r,s),(function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+s+"'"})),a!=null&&ye(La(n),(function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+n+"."}));var d=Rw(l.shape,t,r,s,n,a,i),f=Oe.runKernelFunc((function(p){return p.avgPool3d(l,d)}),{x:l},(function(p){return{x:function(){return(function(h,g,y,x,b,N,j){var w=he(h,"dy","avgPool3dBackprop"),C=he(g,"input","avgPool3dBackprop"),E=w,I=C,D=!1;C.rank===4&&(D=!0,E=w.as5D(1,w.shape[0],w.shape[1],w.shape[2],w.shape[3]),I=C.as5D(1,C.shape[0],C.shape[1],C.shape[2],C.shape[3])),ye(E.rank===5,(function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+E.rank+"."})),ye(I.rank===5,(function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+I.rank+"."})),b==null&&(b=[1,1,1]),ye(wo(x,b),(function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+x+" and dilations '"+b+"'"})),j!=null&&ye(La(N),(function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+j+" but got pad "+N+"."}));var O=Rw(I.shape,y,x,b,N,j),L=Oe.runKernelFunc((function(R){return R.avgPool3dBackprop(E,I,O)}),{dy5D:E,input5D:I});return D?L.as4D(L.shape[1],L.shape[2],L.shape[3],L.shape[4]):L})(p,l,t,r,s,n,a)}}}));return f=f.cast(l.dtype),u?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}}),Mu=Ce({slice_:function(e,t,r){var n,a,i=he(e,"x","slice");if(i.rank===0)throw new Error("Slicing scalar is not possible");(n=typeof t=="number"?[t].concat(new Array(i.rank-1).fill(0)):t.length<i.rank?t.concat(new Array(i.rank-t.length).fill(0)):t.slice()).forEach((function(l){ye(l!==-1,(function(){return"slice() does not support negative begin indexing."}))})),a=(a=r==null?new Array(i.rank).fill(-1):typeof r=="number"?[r].concat(new Array(i.rank-1).fill(-1)):r.length<i.rank?r.concat(new Array(i.rank-r.length).fill(-1)):r).map((function(l,u){return l>=0?l:(ye(l===-1,(function(){return"Negative size values should be exactly -1 but got "+l+" for the slice() size at index "+u+"."})),i.shape[u]-n[u])})),Jye(i,n,a);var s=i.shape,o={begin:n,size:a};return Oe.runKernelFunc((function(l){return l.slice(i,n,a)}),{x:i},(function(l){for(var u=[],d=0;d<l.rank;d++)u.push([n[d],s[d]-n[d]-a[d]]);return{x:function(){return l.pad(u)}}}),"Slice",o)}}),jwe=Ce({slice1d_:function(e,t,r){var n=he(e,"x","slice1d");return ye(n.rank===1,(function(){return"slice1d expects a rank-1 tensor, but got a rank-"+n.rank+" tensor"})),Mu(n,[t],[r])}}),Cwe=Ce({slice2d_:function(e,t,r){var n=he(e,"x","slice2d");return ye(n.rank===2,(function(){return"slice2d expects a rank-2 tensor, but got a rank-"+n.rank+" tensor"})),Mu(n,t,r)}}),LZ=Ce({slice3d_:function(e,t,r){var n=he(e,"x","slice3d");return ye(n.rank===3,(function(){return"slice3d expects a rank-3 tensor, but got a rank-"+n.rank+" tensor"})),Mu(n,t,r)}}),_we=Ce({slice4d_:function(e,t,r){var n=he(e,"x","slice4d");return ye(n.rank===4,(function(){return"slice4d expects a rank-4 tensor, but got a rank-"+n.rank+" tensor"})),Mu(n,t,r)}});function FZ(e,t,r,n,a){return t.rank<r.rank&&(t=t.reshape(bo(t.shape,n))),e.rank<r.rank&&(e=e.reshape(bo(e.shape,n))),{x:function(){var i=e.mul(r.equal(t).cast(e.dtype));return a==null?i:i.transpose(a)}}}var Ewe=Ce({all_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","all","bool"),a=li(t,n.shape),i=a,s=Uu(i,n.rank);s!=null&&(n=n.transpose(s),i=$u(i.length,n.rank));var o=Oe.runKernelFunc((function(u){return u.all(n,i)}),{$x:n});if(r){var l=bo(o.shape,a);return o.reshape(l)}return o}}),Pwe=Ce({any_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","any","bool"),a=li(t,n.shape),i=a,s=Uu(i,n.rank);s!=null&&(n=n.transpose(s),i=$u(i.length,n.rank));var o=Oe.runKernelFunc((function(u){return u.any(n,i)}),{$x:n});if(r){var l=bo(o.shape,a);return o.reshape(l)}return o}}),kwe=Ce({argMax_:function(e,t){t===void 0&&(t=0);var r=he(e,"x","argMax");t==null&&(t=0);var n=li(t,r.shape),a=Uu(n,r.rank);a!=null&&(r=r.transpose(a),n=$u(n.length,r.rank));var i={axis:n[0]},s=[r];return Oe.runKernelFunc((function(o,l){var u=o.argMax(r,n[0]);return l([r]),u}),{x:r},(function(o,l){var u=l[0];return{x:function(){return Mr(u)}}}),"ArgMax",i,s)}}),Awe=Ce({argMin_:function(e,t){t===void 0&&(t=0);var r=he(e,"x","argMin");t==null&&(t=0);var n=li(t,r.shape),a=Uu(n,r.rank);return a!=null&&(r=r.transpose(a),n=$u(n.length,r.rank)),Oe.runKernelFunc((function(i,s){var o=i.argMin(r,n[0]);return s([r]),o}),{$x:r},(function(i,s){var o=s[0];return{$x:function(){return Mr(o)}}}))}}),Dwe=Ce({logSumExp_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","logSumExp"),a=li(t,n.shape),i=n.max(a,!0),s=n.sub(i).exp().sum(a).log(),o=i.reshape(s.shape).add(s);if(r){var l=bo(o.shape,a);return o.reshape(l)}return o}}),x4=Ce({max_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","max"),a=n,i=li(t,n.shape),s=i,o=Uu(s,n.rank);o!=null&&(n=n.transpose(o),s=$u(s.length,n.rank));var l=[n],u=Oe.runKernelFunc((function(f,p){var h=f.max(n,s);return p([a,h]),h}),{x:n},(function(f,p){return FZ(f,p[1],p[0],i,o)}),"Max",{axes:s},l,[!0]);if(r){var d=bo(u.shape,i);u=u.reshape(d)}return u}}),Twe=Ce({mean_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","mean"),a=li(t,n.shape),i=Ut(ps(n.shape,a)[1]);return h4((function(s){var o=St(i);return{value:(o.dtype===s.dtype?s:s.cast(o.dtype)).div(o).sum(t,r),gradFunc:function(l){var u=s.shape.slice();return a.forEach((function(d){u[d]=1})),l.reshape(u).mul(Q0(s.shape,"float32")).div(i)}}}))(n)}}),Owe=Ce({min_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","min"),a=n,i=li(t,n.shape),s=i,o=Uu(s,n.rank);o!=null&&(n=n.transpose(o),s=$u(s.length,n.rank));var l=[n],u=Oe.runKernelFunc((function(f,p){var h=f.min(n,s);return p([a,h]),h}),{x:n},(function(f,p){return FZ(f,p[1],p[0],i,o)}),"Min",{axes:s},l,[!0]);if(r){var d=bo(u.shape,i);u=u.reshape(d)}return u}}),Iwe=Ce({moments_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=li(t,(e=he(e,"x","moments")).shape),a=e.mean(n,r),i=a.shape;r||(i=bo(a.shape,n));var s=e.toFloat().sub(a.reshape(i)).square();return{mean:a,variance:s.mean(n,r)}}}),BZ=Ce({sum_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","sum");n.dtype==="bool"&&(n=n.toInt());var a=li(t,n.shape);return h4((function(i){var s=Uu(a,i.rank),o=a,l=i;s!=null&&(l=i.transpose(s),o=$u(o.length,i.rank));var u=function(h){var g=i.shape.slice();return a.forEach((function(y){g[y]=1})),h.reshape(g).mul(Q0(i.shape,"float32"))},d={axes:o},f=Oe.runKernelFunc((function(h){return h.sum(l,o)}),{x:l},(function(h){return{x:function(){return u(h)}}}),"Sum",d);if(r){var p=bo(f.shape,a);f=f.reshape(p)}return{value:f,gradFunc:u}}))(n)}}),Mwe=Ce({prod_:function(e,t,r){t===void 0&&(t=null),r===void 0&&(r=!1);var n=he(e,"x","prod");n.dtype==="bool"&&(n=n.toInt());var a=li(t,n.shape),i=Uu(a,n.rank),s=a,o=n;i!=null&&(o=n.transpose(i),s=$u(s.length,n.rank));var l=Oe.runKernelFunc((function(d){return d.prod(o,s)}),{permutedX:o});if(r){var u=bo(l.shape,a);l=l.reshape(u)}return l}}),zZ=Ce({elu_:function(e){var t=he(e,"x","elu");return Oe.runKernelFunc((function(r,n){var a=r.elu(t);return n([a]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){return Oe.runKernelFunc((function(i){return i.eluDer(r,a)}),{dy:r,y:a})}}}))}}),Rwe=Ce({leakyRelu_:function(e,t){t===void 0&&(t=.2);var r=he(e,"x","leakyRelu");return qD(St(t).mul(r),r)}}),WZ=Ce({prelu_:function(e,t){var r=he(e,"x","prelu"),n=he(t,"alpha","prelu");return Oe.runKernelFunc((function(a,i){var s=a.prelu(r,n);return i([r,n]),s}),{x:r,alpha:n},(function(a,i){var s=i[0],o=i[1],l=s.greater(0);return{x:function(){return hm(l,a,a.mul(o))},alpha:function(){var u=hm(l,Mr(a),a.mul(s)),d=si(o.shape,a.shape);return d.length>0&&(u=u.sum(d)),u.reshape(o.shape)}}}),"Prelu")}}),ca=Ce({relu_:function(e){var t=he(e,"x","relu");return t.dtype==="bool"?t.toInt():Oe.runKernelFunc((function(r,n){var a=r.relu(t);return n([t]),a}),{x:t},(function(r,n){var a=n[0];return{x:function(){return r.mulStrict(a.step().toFloat())}}}),"Relu")}}),UZ=Ce({relu6_:function(e){var t=he(e,"x","relu6");return t.dtype==="bool"?t.toInt():Oe.runKernelFunc((function(r,n){var a=r.relu6(t);return n([t]),a}),{x:t},(function(r,n){var a=n[0],i=a.lessEqual(6).mul(a.step());return{x:function(){return r.mulStrict(i.toFloat())}}}),"Relu6")}}),Lwe=Ce({selu_:function(e){var t=he(e,"x","selu");return Oe.runKernelFunc((function(r,n){var a=r.selu(t);return n([t]),a}),{$x:t},(function(r,n){var a=n[0];return{$x:function(){var i=a.greater(St(0)),s=St(WD),o=St(UD),l=r.mul(o),u=r.mul(s).mul(a.toFloat().exp());return hm(i,l,u)}}}))}}),Ph=Ce({transpose_:function(e,t){var r=he(e,"x","transpose");if(t==null&&(t=r.shape.map((function(a,i){return i})).reverse()),ye(r.rank===t.length,(function(){return"Error in transpose: rank of input "+r.rank+" must match length of perm "+t+"."})),t.forEach((function(a){ye(a>=0&&a<r.rank,(function(){return"All entries in 'perm' must be between 0 and "+(r.rank-1)+" but got "+t}))})),r.rank<=1)return r.clone();var n={perm:t};return Oe.runKernelFunc((function(a){return a.transpose(r,t)}),{x:r},(function(a){var i=DD(t);return{x:function(){return a.transpose(i)}}}),"Transpose",n)}}),Fwe=Ce({localResponseNormalization_:function(e,t,r,n,a){t===void 0&&(t=5),r===void 0&&(r=1),n===void 0&&(n=1),a===void 0&&(a=.5);var i=he(e,"x","localResponseNormalization");ye(i.rank===4||i.rank===3,(function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank `+i.rank+"."})),ye(La(t),(function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."}));var s=i,o=!1;i.rank===3&&(o=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2]));var l=Oe.runKernelFunc((function(u,d){var f=u.localResponseNormalization4D(s,t,r,n,a);return d([s,f]),f}),{x4D:s},(function(u,d){var f=d[0],p=d[1];return{x4D:function(){return Oe.runKernelFunc((function(h){return h.LRNGrad(u,f,p,t,r,n,a)}),{})}}}));return o?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),$Z=Ce({norm_:function(e,t,r,n){t===void 0&&(t="euclidean"),r===void 0&&(r=null),n===void 0&&(n=!1);var a=(function o(l,u,d){if(d===void 0&&(d=null),l.rank===0)return l.abs();if(l.rank!==1&&d===null)return o(l.reshape([-1]),u,d);if(l.rank===1||typeof d=="number"||Array.isArray(d)&&d.length===1){if(u===1)return l.abs().sum(d);if(u===1/0)return l.abs().max(d);if(u===-1/0)return l.abs().min(d);if(u==="euclidean"||u===2)return l.abs().pow(St(2,"int32")).sum(d).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}if(Array.isArray(d)&&d.length===2){if(u===1)return l.abs().sum(d[0]).max(d[1]-1);if(u===1/0)return l.abs().sum(d[1]).max(d[0]);if(u===-1/0)return l.abs().sum(d[1]).min(d[0]);if(u==="fro"||u==="euclidean")return l.square().sum(d).sqrt();throw new Error("Error in norm: invalid ord value: "+u)}throw new Error("Error in norm: invalid axis: "+d)})(e=he(e,"x","norm"),t,r),i=a.shape;if(n){var s=li(r,e.shape);i=bo(a.shape,s)}return a.reshape(i)}}),Bwe=Ce({basicLSTMCell_:function(e,t,r,n,a,i){var s=he(e,"forgetBias","basicLSTMCell"),o=he(t,"lstmKernel","basicLSTMCell"),l=he(r,"lstmBias","basicLSTMCell"),u=he(n,"data","basicLSTMCell"),d=he(a,"c","basicLSTMCell"),f=he(i,"h","basicLSTMCell"),p=u.concat(f,1).matMul(o).add(l),h=p.shape[0],g=p.shape[1]/4,y=[h,g],x=p.slice([0,0],y),b=p.slice([0,g],y),N=p.slice([0,2*g],y),j=p.slice([0,3*g],y),w=x.sigmoid().mulStrict(b.tanh()).addStrict(d.mulStrict(s.add(N).sigmoid())),C=w.tanh().mulStrict(j.sigmoid());return[w,C]}}),zwe=Ce({multiRNNCell_:function(e,t,r,n){for(var a=he(t,"data","multiRNNCell"),i=Aw(r,"c","multiRNNCell"),s=Aw(n,"h","multiRNNCell"),o=a,l=[],u=0;u<e.length;u++){var d=e[u](o,i[u],s[u]);l.push(d[0]),l.push(d[1]),o=d[1]}var f=[],p=[];for(u=0;u<l.length;u+=2)f.push(l[u]),p.push(l[u+1]);return[f,p]}}),Wwe=Ce({movingAverage_:function(e,t,r,n,a){a===void 0&&(a=!0);var i=he(e,"v","movingAverage"),s=he(t,"x","movingAverage"),o=he(r,"decay","movingAverage");Fxe(i,s),ye(ki(i.shape,s.shape),(function(){return"Shape mismatch in v and x"}));var l=St(1),u=l.sub(o),d=s.sub(i).mul(u);if(a){ye(n!=null,(function(){return"When using zeroDebias: true, step is required."}));var f=he(n,"step","movingAverage");d=d.div(l.sub(zw(o,f)))}return i.add(d)}}),Uwe=Ce({stridedSlice_:function(e,t,r,n,a,i,s,o,l){if(a===void 0&&(a=0),i===void 0&&(i=0),s===void 0&&(s=0),o===void 0&&(o=0),l===void 0&&(l=0),n==null&&(n=new Array(t.length)),s!==0)throw new Error("ellipsis mask is not yet supported");var u=he(e,"x","stridedSlice"),d=qL(o),f=u.shape.slice();d.forEach((function(x){t[x]=0,r[x]=1,f.splice(x,0,1)})),u=u.reshape(f);for(var p=0;p<u.rank;p++)t[p]=Zye(a,t,n,u.shape,p),r[p]=Qye(i,r,n,u.shape,p),n[p]=n[p]||1;var h=qL(l);h.forEach((function(x){r[x]=t[x]+1,n[x]=1}));var g=MD(t,r,n),y=g.filter((function(x,b){return h.indexOf(b)===-1}));return n.every((function(x){return x===1}))?Mu(u,t,g).reshape(y):Oe.runKernelFunc((function(x){return x.stridedSlice(u,t,r,n)}),{$x:u}).reshape(y)}}),$we=Ce({topk_:function(e,t,r){t===void 0&&(t=1),r===void 0&&(r=!0);var n=he(e,"x","topk");if(n.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");var a=n.shape[n.shape.length-1];if(t>a)throw new Error("'k' passed to topk() must be <= the last dimension ("+a+") but got "+t);var i=Oe.runKernelFunc((function(s){return s.topk(n,t,r)}),{$x:n});return{values:i[0],indices:i[1]}}}),qwe=Ce({scatterND_:function(e,t,r){var n=he(e,"indices","scatterND","int32"),a=he(t,"updates","scatterND");return Xye(a,n,r),Oe.runKernelFunc((function(i){return i.scatterND(n,a,r)}),{indices:n,updates:a},null,"ScatterNd",{shape:r})}}),YD=Ce({fft_:function(e){ye(e.dtype==="complex64",(function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],r=e.size/t,n=e.as2D(r,t);return Oe.runKernelFunc((function(a){return a.fft(n)}),{input:e}).reshape(e.shape)}}),Ww=Ce({ifft_:function(e){ye(e.dtype==="complex64",(function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."}));var t=e.shape[e.shape.length-1],r=e.size/t,n=e.as2D(r,t);return Oe.runKernelFunc((function(a){return a.ifft(n)}),{input:e}).reshape(e.shape)}}),KD=Ce({rfft_:function(e,t){ye(e.dtype==="float32",(function(){return"The dtype for rfft() must be real value but got "+e.dtype}));var r,n=e.shape[e.shape.length-1],a=e.size/n;if(t!=null&&t<n){var i=e.shape.map((function(b){return 0})),s=e.shape.map((function(b){return b}));s[e.shape.length-1]=t,r=e.slice(i,s),n=t}else if(t!=null&&t>n){var o=e.shape.map((function(b){return b}));o[e.shape.length-1]=t-n,r=e.concat(Dn(o),e.shape.length-1),n=t}else r=e;var l=r.zerosLike(),u=Bi(r,l).as2D(a,n),d=YD(u),f=Math.floor(n/2)+1,p=$l(d),h=mu(d),g=p.split([f,n-f],p.shape.length-1),y=h.split([f,n-f],h.shape.length-1),x=r.shape.slice();return x[r.shape.length-1]=f,Bi(g[0],y[0]).reshape(x)}}),qZ=Ce({irfft_:function(e){var t=e.shape[e.shape.length-1],r=e.size/t;if(t<=2){var n=e.as2D(r,t),a=Ww(n);return $l(a)}var i=[r,2*(t-1)],s=$l(e).as2D(r,t),o=mu(e).as2D(r,t),l=s.slice([0,1],[r,t-2]).reverse(1),u=o.slice([0,1],[r,t-2]).reverse(1).mul(St(-1)),d=s.concat(l,1),f=o.concat(u,1);return n=Bi(d,f).as2D(i[0],i[1]),a=Ww(n),$l(a)}}),Vwe=Object.freeze({fft:YD,ifft:Ww,rfft:KD,irfft:qZ}),Hwe=Ce({sparseToDense_:function(e,t,r,n){n===void 0&&(n=0);var a=he(e,"sparseIndices","sparseToDense","int32"),i=he(t,"sparseValues","sparseToDense"),s=he(n,"defaultValue","sparseToDense",i.dtype);return(function(o,l,u,d){if(o.dtype!=="int32")throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+o.dtype+".");if(o.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+o.shape+".");var f=o.rank>0?o.shape[0]:1,p=o.rank>1?o.shape[1]:1;if(u.length!==p)throw new Error("outputShape has incorrect number of elements:, "+u.length+", should be: "+p+".");var h=l.size;if(l.rank!==0&&(l.rank!==1||h!==f))throw new Error("sparseValues has incorrect shape "+l.shape+", should be [] or ["+f+"]");if(l.dtype!==d.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")})(a,i,r,s),Oe.runKernelFunc((function(o){return o.sparseToDense(a,i,r,s)}),{$sparseIndices:a,$sparseValues:i,$defaultValue:s})}}),Gwe=Ce({gatherND_:function(e,t){var r=he(t,"indices","gatherND","int32"),n=he(e,"x","gatherND");return Oe.runKernelFunc((function(a){return a.gatherND(n,r)}),{x:n,indices:r},null,"GatherNd")}}),Ywe=Ce({diag_:function(e){var t=he(e,"x","diag").flatten(),r=e.shape.concat(e.shape);return Oe.runKernelFunc((function(n){return n.diag(t)}),{$x:t}).reshape(r)}}),Kwe=Ce({dropout_:function(e,t,r,n){var a=he(e,"x","dropout");if(ye(a.dtype==="float32",(function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+a.dtype+" tensor instead."})),ye(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got "+t+"."})),t===0)return e instanceof oa?a.clone():a;var i=(function(l,u){if(u==null)return l.shape.slice();if(ki(l.shape,u))return u;if(l.shape.length===u.length){for(var d=[],f=0;f<l.shape.length;f++)u[f]==null&&l.shape[f]!=null?d.push(l.shape[f]):d.push(u[f]);return d}return u})(a,r),s=1-t,o=WJ(i,0,1,"float32",n).add(s).floor().div(s);return a.mul(o)}});function VZ(e,t,r){for(var n=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var s=2*Math.PI*i/(e+n-1);a[i]=t-r*Math.cos(s)}return $a(a,"float32")}var XD=Ce({hannWindow_:function(e){return VZ(e,.5,.5)}}),HZ=Ce({hammingWindow_:function(e){return VZ(e,.54,.46)}}),JD=Ce({frame_:function(e,t,r,n,a){n===void 0&&(n=!1),a===void 0&&(a=0);for(var i=0,s=[];i+t<=e.size;)s.push(Mu(e,i,t)),i+=r;if(n)for(;i<e.size;){var o=i+t-e.size,l=ai([Mu(e,i,t-o),Eu([o],a)]);s.push(l),i+=r}return s.length===0?Nh([],[0,t]):ai(s).as2D(s.length,t)}}),GZ=Ce({stft_:function(e,t,r,n,a){var i;a===void 0&&(a=XD),n==null&&(i=t,n=Math.floor(Math.pow(2,Math.ceil(Math.log(i)/Math.log(2)))));for(var s=JD(e,t,r),o=ws(s,a(t)),l=[],u=0;u<s.shape[0];u++)l.push(KD(o.slice([u,0],[1,t]),n));return ai(l)}}),Xwe=Object.freeze({hannWindow:XD,hammingWindow:HZ,frame:JD,stft:GZ}),xs,Jwe=function(e,t,r){return r===void 0&&(r=1),Rt(this,void 0,void 0,(function(){var n,a,i,s,o,l,u,d,f,p,h,g,y,x;return Lt(this,(function(b){switch(b.label){case 0:return n=he(e,"predictions","inTopK"),a=he(t,"targets","inTopK"),ye(n.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+n.rank})),ye(n.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+n.rank+" and targets rank "+a.rank})),rn(n.shape.slice(0,n.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=n.shape[n.shape.length-1],ye(r>0&&r<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+i+"), but got "+r})),[4,n.data()];case 1:return s=b.sent(),[4,a.data()];case 2:for(o=b.sent(),l=[s.length/i,i],d=l[1],f=ly("bool",u=l[0]),p=0;p<u;p++){for(h=p*d,g=s.subarray(h,h+d),y=[],x=0;x<g.length;x++)y.push({value:g[x],index:x});for(y.sort((function(N,j){return j.value-N.value})),f[p]=0,x=0;x<r;x++)if(y[x].index===o[p]){f[p]=1;break}}return e!==n&&n.dispose(),t!==a&&a.dispose(),[2,Ui(f,a.shape,"bool")]}}))}))};(function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(xs||(xs={}));var Zwe=Ce({absoluteDifference_:function(e,t,r,n){n===void 0&&(n=xs.SUM_BY_NONZERO_WEIGHTS);var a=he(e,"labels","absoluteDifference"),i=he(t,"predictions","absoluteDifference"),s=null;r!=null&&(s=he(r,"weights","absoluteDifference")),rn(a.shape,i.shape,"Error in absoluteDifference: ");var o=a.sub(i).abs();return ff(o,s,n)}}),ff=Ce({computeWeightedLoss_:function(e,t,r){r===void 0&&(r=xs.SUM_BY_NONZERO_WEIGHTS);var n=he(e,"losses","computeWeightedLoss"),a=null;t!=null&&(a=he(t,"weights","computeWeightedLoss"));var i=a==null?n:n.mul(a);if(r===xs.NONE)return i;if(r===xs.SUM)return i.sum();if(r===xs.MEAN){if(a==null)return i.mean();var s=n.size/a.size,o=i.sum().div(a.sum());return s>1?o.div(St(s)):o}if(r===xs.SUM_BY_NONZERO_WEIGHTS){if(a==null)return i.sum().div(St(n.size));var l=a.mul(Q0(n.shape)).notEqual(St(0)).sum().toFloat();return i.sum().div(l)}throw Error("Unknown reduction: "+r)}}),Qwe=Ce({cosineDistance_:function(e,t,r,n,a){a===void 0&&(a=xs.SUM_BY_NONZERO_WEIGHTS);var i=he(e,"labels","cosineDistance"),s=he(t,"predictions","cosineDistance"),o=null;n!=null&&(o=he(n,"weights","cosineDistance")),rn(i.shape,s.shape,"Error in cosineDistance: ");var l=St(1).sub(i.mul(s).sum(r,!0));return ff(l,o,a)}}),e5e=Ce({hingeLoss_:function(e,t,r,n){n===void 0&&(n=xs.SUM_BY_NONZERO_WEIGHTS);var a=he(e,"labels","hingeLoss"),i=he(t,"predictions","hingeLoss"),s=null;r!=null&&(s=he(r,"weights","hingeLoss")),rn(a.shape,i.shape,"Error in hingeLoss: ");var o=St(1);a=St(2).mul(a).sub(o);var l=o.sub(a.mul(i)).relu();return ff(l,s,n)}}),t5e=Ce({huberLoss_:function(e,t,r,n,a){n===void 0&&(n=1),a===void 0&&(a=xs.SUM_BY_NONZERO_WEIGHTS);var i=he(e,"labels","huberLoss"),s=he(t,"predictions","huberLoss"),o=null;r!=null&&(o=he(r,"weights","huberLoss")),rn(i.shape,s.shape,"Error in huberLoss: ");var l=St(n),u=s.sub(i).abs(),d=_Z(u,l),f=u.sub(d),p=St(.5).mul(d.square()).add(l.mul(f));return ff(p,o,a)}}),r5e=Ce({logLoss_:function(e,t,r,n,a){n===void 0&&(n=1e-7),a===void 0&&(a=xs.SUM_BY_NONZERO_WEIGHTS);var i=he(e,"labels","logLoss"),s=he(t,"predictions","logLoss"),o=null;r!=null&&(o=he(r,"weights","logLoss")),rn(i.shape,s.shape,"Error in logLoss: ");var l=St(1),u=St(n),d=i.mul(s.add(u).log()).neg().sub(l.sub(i).mul(l.sub(s).add(u).log()));return ff(d,o,a)}}),n5e=Ce({meanSquaredError_:function(e,t,r,n){n===void 0&&(n=xs.SUM_BY_NONZERO_WEIGHTS);var a=he(e,"labels","meanSquaredError"),i=he(t,"predictions","meanSquaredError"),s=null;r!=null&&(s=he(r,"weights","meanSquaredError")),rn(a.shape,i.shape,"Error in meanSquaredError: ");var o=a.squaredDifference(i);return ff(o,s,n)}}),a5e=Ce({sigmoidCrossEntropy_:function(e,t,r,n,a){n===void 0&&(n=0),a===void 0&&(a=xs.SUM_BY_NONZERO_WEIGHTS);var i=he(e,"multiClassLabels","sigmoidCrossEntropy"),s=he(t,"logits","sigmoidCrossEntropy"),o=null;if(r!=null&&(o=he(r,"weights","sigmoidCrossEntropy")),rn(i.shape,s.shape,"Error in sigmoidCrossEntropy: "),n>0){var l=St(n),u=St(1),d=St(.5);i=i.mul(u.sub(l)).add(d.mul(l))}var f=(function(p,h){var g=he(p,"labels","sigmoidCrossEntropyWithLogits"),y=he(h,"logits","sigmoidCrossEntropyWithLogits");rn(g.shape,y.shape,"Error in sigmoidCrossEntropyWithLogits: ");var x=y.relu(),b=y.mul(g),N=y.abs().neg().exp().log1p();return x.sub(b).add(N)})(i,s);return ff(f,o,a)}}),i5e=Ce({softmaxCrossEntropy_:function(e,t,r,n,a){n===void 0&&(n=0),a===void 0&&(a=xs.SUM_BY_NONZERO_WEIGHTS);var i=he(e,"onehotLabels","softmaxCrossEntropy"),s=he(t,"logits","softmaxCrossEntropy"),o=null;if(r!=null&&(o=he(r,"weights","softmaxCrossEntropy")),rn(i.shape,s.shape,"Error in softmaxCrossEntropy: "),n>0){var l=St(n),u=St(1),d=St(i.shape[1]);i=i.mul(u.sub(l)).add(l.div(d))}var f=(function(p,h,g){if(g===void 0&&(g=-1),g===-1&&(g=h.rank-1),g!==h.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+h.rank+" and dim was "+g);return h4((function(y,x,b){var N=x.logSumExp([g],!0),j=x.toFloat().sub(N);return b([y,j]),{value:j.mul(y).neg().sum([g]),gradFunc:function(w,C){var E=C[0],I=C[1],D=bo(w.shape,[g]);return[w.reshape(D).mul(E.toFloat().sub(I.exp())),w.reshape(D).mul(I.exp().sub(E.toFloat()))]}}}))(p,h)})(i,s);return ff(f,o,a)}}),s5e=Object.freeze({get Reduction(){return xs},absoluteDifference:Zwe,computeWeightedLoss:ff,cosineDistance:Qwe,hingeLoss:e5e,huberLoss:t5e,logLoss:r5e,meanSquaredError:n5e,sigmoidCrossEntropy:a5e,softmaxCrossEntropy:i5e});function fF(e,t){return t===void 0&&(t=!1),Oe.tidy((function(){if(e.shape.length!==2)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var r=e.shape[0],n=e.shape[1],a=zJ(r),i=e.clone(),s=Nh([[1]],[1,1]),o=s.clone(),l=r>=n?n:r,u=function(f){var p,h=i,g=o,y=a;p=Oe.tidy((function(){var x=i.slice([f,f],[r-f,1]),b=x.norm(),N=i.slice([f,f],[1,1]),j=Nh([[-1]]).where(N.greater(0),Nh([[1]])),w=N.sub(j.mul(b)),C=x.div(w);o=C.shape[0]===1?s.clone():s.concat(C.slice([1,0],[C.shape[0]-1,C.shape[1]]),0);var E=j.matMul(w).div(b).neg(),I=i.slice([f,0],[r-f,n]),D=E.mul(o);if(f===0)i=I.sub(D.matMul(o.transpose().matMul(I)));else{var O=I.sub(D.matMul(o.transpose().matMul(I)));i=i.slice([0,0],[f,n]).concat(O,0)}var L=a.slice([0,f],[r,a.shape[1]-f]);if(f===0)a=L.sub(L.matMul(o).matMul(D.transpose()));else{var R=L.sub(L.matMul(o).matMul(D.transpose()));a=a.slice([0,0],[r,f]).concat(R,1)}return[o,i,a]})),o=p[0],i=p[1],a=p[2],go([h,g,y])},d=0;d<l;++d)u(d);return!t&&r>n&&(a=a.slice([0,0],[r,n]),i=i.slice([0,0],[n,n])),[a,i]}))}var o5e=Ce({bandPart_:function(e,t,r){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(r%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+r+".");var n=he(e,"a","bandPart");if(n.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+n.rank+".");var a=n.shape,i=n.shape.slice(-2),s=i[0],o=i[1];if(!(t<=s))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+s+").");if(!(r<=o))throw new Error("bandPart(): numUpper ("+r+") must not be greater than the number of columns ("+o+").");t<0&&(t=s),r<0&&(r=o);var l=Dw(0,s,1,"int32").reshape([-1,1]),u=Dw(0,o,1,"int32"),d=oi(l,u),f=m4(d.lessEqual(St(+t,"int32")),d.greaterEqual(St(-r,"int32"))),p=Dn([s,o],n.dtype);return nl(ii(n.reshape([-1,s,o])).map((function(h){return hm(f,h,p)}))).reshape(a)}}),l5e=Ce({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,ye(e!=null&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var r=e[0].shape[0],n=function(l){ye(e[l].shape[0]===r,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[l].shape[0]+" vs. "+r+")"}))},a=1;a<e.length;++a)n(a)}else t=!0,e=OD(e,e.shape[0],0).map((function(l){return $J(l,[0])}));ye(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."}));var i=[],s=e,o=function(l){i.push(Oe.tidy((function(){var u=s[l];if(l>0)for(var d=0;d<l;++d){var f=BZ(i[d].mulStrict(u)).mul(i[d]);u=u.sub(f)}return u.div($Z(u,"euclidean"))})))};for(a=0;a<e.length;++a)o(a);return t?nl(i,0):i}}),c5e=Ce({qr_:function(e,t){if(t===void 0&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(e.rank===2)return fF(e,t);var r=e.shape.slice(0,e.shape.length-2).reduce((function(s,o){return s*o})),n=ii(e.reshape([r,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return n.forEach((function(s){var o=fF(s,t),l=o[0],u=o[1];a.push(l),i.push(u)})),[nl(a,0).reshape(e.shape),nl(i,0).reshape(e.shape)]}}),u5e=Object.freeze({bandPart:o5e,gramSchmidt:l5e,qr:c5e});function y4(e,t,r,n,a,i){n==null&&(n=.5),a==null&&(a=Number.NEGATIVE_INFINITY),i==null&&(i=0);var s=e.shape[0];return r=Math.min(r,s),ye(0<=n&&n<=1,(function(){return"iouThreshold must be in [0, 1], but was '"+n+"'"})),ye(e.rank===2,(function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"})),ye(e.shape[1]===4,(function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]})),ye(t.rank===1,(function(){return"scores must be a 1D tensor"})),ye(t.shape[0]===s,(function(){return"scores has incompatible shape with boxes. Expected "+s+", but was "+t.shape[0]})),ye(0<=i&&i<=1,(function(){return"softNmsSigma must be in [0, 1], but was '"+i+"'"})),{maxOutputSize:r,iouThreshold:n,scoreThreshold:a,softNmsSigma:i}}var d5e=Ce({resizeBilinear_:function(e,t,r){r===void 0&&(r=!1);var n=he(e,"images","resizeBilinear");ye(n.rank===3||n.rank===4,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+n.rank+"."})),ye(t.length===2,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."}));var a=n,i=!1;n.rank===3&&(i=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var s=t[0],o=t[1],l=Oe.runKernelFunc((function(u,d){return d([a]),u.resizeBilinear(a,s,o,r)}),{x:a},(function(u,d){return{x:function(){return Oe.runKernelFunc((function(f){return f.resizeBilinearBackprop(u,d[0],r)}),{})}}}),"ResizeBilinear",{alignCorners:r,newHeight:s,newWidth:o});return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),f5e=Ce({resizeNearestNeighbor_:function(e,t,r){r===void 0&&(r=!1);var n=he(e,"images","resizeNearestNeighbor");ye(n.rank===3||n.rank===4,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+n.rank+"."})),ye(t.length===2,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."})),ye(n.dtype==="float32"||n.dtype==="int32",(function(){return"`images` must have `int32` or `float32` as dtype"}));var a=n,i=!1;n.rank===3&&(i=!0,a=n.as4D(1,n.shape[0],n.shape[1],n.shape[2]));var s=t[0],o=t[1],l=Oe.runKernelFunc((function(u,d){return d([a]),u.resizeNearestNeighbor(a,s,o,r)}),{batchImages:a},(function(u,d){return{batchImages:function(){return Oe.runKernelFunc((function(f){return f.resizeNearestNeighborBackprop(u,d[0],r)}),{})}}}));return i?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),h5e=Ce({nonMaxSuppression_:function(e,t,r,n,a){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY);var i=he(e,"boxes","nonMaxSuppression"),s=he(t,"scores","nonMaxSuppression"),o=y4(i,s,r,n,a);r=o.maxOutputSize,n=o.iouThreshold,a=o.scoreThreshold;var l={maxOutputSize:r,iouThreshold:n,scoreThreshold:a};return Oe.runKernelFunc((function(u){return u.nonMaxSuppression(i,s,r,n,a)}),{boxes:i,scores:s},null,"NonMaxSuppressionV3",l)}}),p5e=function(e,t,r,n,a){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),Rt(this,void 0,void 0,(function(){var i,s,o,l,u,d,f;return Lt(this,(function(p){switch(p.label){case 0:return i=he(e,"boxes","nonMaxSuppressionAsync"),s=he(t,"scores","nonMaxSuppressionAsync"),o=y4(i,s,r,n,a),r=o.maxOutputSize,n=o.iouThreshold,a=o.scoreThreshold,[4,Promise.all([i.data(),s.data()])];case 1:return l=p.sent(),u=l[0],d=l[1],f=LD(u,d,r,n,a),i!==e&&i.dispose(),s!==t&&s.dispose(),[2,f]}}))}))},m5e=Ce({nonMaxSuppressionWithScore_:function(e,t,r,n,a,i){n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0);var s=he(e,"boxes","nonMaxSuppression"),o=he(t,"scores","nonMaxSuppression"),l=y4(s,o,r,n,a,i),u={maxOutputSize:r=l.maxOutputSize,iouThreshold:n=l.iouThreshold,scoreThreshold:a=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},d=Oe.runKernel("NonMaxSuppressionV5",{boxes:s,scores:o},u);return{selectedIndices:d[0],selectedScores:d[1]}}}),g5e=function(e,t,r,n,a,i){return n===void 0&&(n=.5),a===void 0&&(a=Number.NEGATIVE_INFINITY),i===void 0&&(i=0),Rt(this,void 0,void 0,(function(){var s,o,l,u,d,f,p;return Lt(this,(function(h){switch(h.label){case 0:return s=he(e,"boxes","nonMaxSuppressionAsync"),o=he(t,"scores","nonMaxSuppressionAsync"),l=y4(s,o,r,n,a,i),r=l.maxOutputSize,n=l.iouThreshold,a=l.scoreThreshold,i=l.softNmsSigma,[4,Promise.all([s.data(),o.data()])];case 1:return u=h.sent(),d=u[0],f=u[1],p=FD(d,f,r,n,a,i),s!==e&&s.dispose(),o!==t&&o.dispose(),[2,p]}}))}))},v5e=Ce({cropAndResize_:function(e,t,r,n,a,i){var s=he(e,"image","cropAndResize"),o=he(t,"boxes","cropAndResize","float32"),l=he(r,"boxInd","cropAndResize","int32");a=a||"bilinear",i=i||0;var u=o.shape[0];return ye(s.rank===4,(function(){return"Error in cropAndResize: image must be rank 4,but got rank "+s.rank+"."})),ye(o.rank===2&&o.shape[1]===4,(function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+o.shape+"."})),ye(l.rank===1&&l.shape[0]===u,(function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+o.shape+"."})),ye(n.length===2,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+n.length+"."})),ye(n[0]>=1&&n[1]>=1,(function(){return"cropSize must be atleast [1,1], but was "+n})),ye(a==="bilinear"||a==="nearest",(function(){return"method must be bilinear or nearest, but was "+a})),Oe.runKernelFunc((function(d,f){return d.cropAndResize(s,o,l,n,a,i)}),{images:s,boxes:o,boxInd:l},null,"CropAndResize",{method:a,extrapolationValue:i,cropSize:n})}}),ZD=Object.freeze({resizeBilinear:d5e,resizeNearestNeighbor:f5e,nonMaxSuppression:h5e,nonMaxSuppressionAsync:p5e,nonMaxSuppressionWithScore:m5e,nonMaxSuppressionWithScoreAsync:g5e,cropAndResize:v5e}),QD=function(e,t){return!(e>0)||t==="linear"},eT=function(e,t,r){if(r==null||r==="linear")return e;if(r==="relu")return e.mul(t.step());throw new Error("Gradient for activation "+r+" has not been implemented yet.")},tT=function(e,t){var r=t,n=si(e.shape,t.shape);return n.length>0&&(r=r.sum(n)),r.reshape(e.shape)},rT=function(e,t,r){if(t==="linear")return e;if(t==="relu")return ca(e);if(t==="elu")return zZ(e);if(t==="relu6")return UZ(e);if(t==="prelu")return WZ(e,r);throw new Error("Unknown fused activation "+t+".")},x5e=Ce({fusedMatMul_:function(e){var t,r=e.a,n=e.b,a=e.transposeA,i=a!==void 0&&a,s=e.transposeB,o=s!==void 0&&s,l=e.bias,u=e.activation,d=u===void 0?"linear":u,f=e.preluActivationWeights;if(QD(Oe.state.gradientDepth,d)===!1){var p=v4(r,n,i,o);return l!=null&&(p=Cr(p,l)),rT(p,d,f)}var h=he(r,"a","fused matMul"),g=he(n,"b","fused matMul");t=ua(h,g),h=t[0],g=t[1];var y=i?h.shape[h.rank-2]:h.shape[h.rank-1],x=o?g.shape[g.rank-1]:g.shape[g.rank-2],b=i?h.shape[h.rank-1]:h.shape[h.rank-2],N=o?g.shape[g.rank-2]:g.shape[g.rank-1],j=h.shape.slice(0,-2),w=g.shape.slice(0,-2),C=Ut(j),E=Ut(w);ye(h.rank>=2&&g.rank>=2&&h.rank===g.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+h.rank+" and "+g.rank+"."})),ye(ki(j,w),(function(){return"Error in fused matMul: outer dimensions ("+j+") and ("+w+") of Tensors with shapes "+h.shape+" and "+g.shape+" must match."})),ye(y===x,(function(){return"Error in fused matMul: inner shapes ("+y+") and ("+x+") of Tensors with shapes "+h.shape+" and "+g.shape+" and transposeA="+i+" and transposeB="+o+" must match."}));var I,D,O=h.shape.slice(0,-2).concat([b,N]),L=i?h.as3D(C,y,b):h.as3D(C,b,y),R=o?g.as3D(E,N,x):g.as3D(E,x,N);l!=null&&kr(O,(I=ua(I=he(l,"bias","fused matMul"),h)[0]).shape),f!=null&&(D=he(f,"prelu weights","fused matMul"));var P={a:L,b:R};l!=null&&(P.bias=I),f!=null&&(P.preluActivationWeights=D);var F=[L,R];return Oe.runKernelFunc((function(V,X){var te=V.fusedBatchMatMul({a:L,b:R,transposeA:i,transposeB:o,bias:I,activation:d,preluActivationWeights:D});return X([L,R,te]),te}),P,(function(V,X){var te=X[0],q=X[1],U=X[2],Q=eT(V,U,d),se={};return l!=null&&(se={bias:function(){return tT(I,Q)}}),Object.assign(i||o?!i&&o?{a:function(){return Q.matMul(q,!1,!1)},b:function(){return Q.matMul(te,!0,!1)}}:i&&!o?{a:function(){return q.matMul(Q,!1,!0)},b:function(){return te.matMul(Q,!1,!1)}}:{a:function(){return q.matMul(Q,!0,!0)},b:function(){return Q.matMul(te,!0,!0)}}:{a:function(){return Q.matMul(q,!1,!0)},b:function(){return te.matMul(Q,!0,!1)}},se)}),"_FusedMatMul",{transposeA:i,transposeB:o,activation:d},F,[!0]).reshape(O)}}),y5e=Ce({fusedConv2d_:function(e){var t=e.x,r=e.filter,n=e.strides,a=e.pad,i=e.dataFormat,s=i===void 0?"NHWC":i,o=e.dilations,l=o===void 0?[1,1]:o,u=e.dimRoundingMode,d=e.bias,f=e.activation,p=f===void 0?"linear":f,h=e.preluActivationWeights;if(p=p||"linear",QD(Oe.state.gradientDepth,p)===!1){var g=Ql(t,r,n,a,s,l,u);return d!=null&&(g=Cr(g,d)),rT(g,p,h)}var y=he(t,"x","conv2d"),x=he(r,"filter","conv2d"),b=y,N=!1;y.rank===3&&(N=!0,b=y.as4D(1,y.shape[0],y.shape[1],y.shape[2])),ye(b.rank===4,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+b.rank+"."})),ye(x.rank===4,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+x.rank+"."})),u!=null&&ye(La(a),(function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+a+"."})),ye(b.shape[3]===x.shape[2],(function(){return"Error in conv2d: depth of input ("+b.shape[3]+") must match input depth for filter "+x.shape[2]+"."})),ye(wo(n,l),(function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+l+"'"})),ye(s==="NHWC",(function(){return"Error in conv2d: got dataFormat of "+s+" but only NHWC is currently supported."}));var j,w,C=Mm(b.shape,x.shape,n,l,a,u);d!=null&&(j=ua(j=he(d,"bias","fused conv2d"),y)[0],kr(C.outShape,j.shape)),h!=null&&(w=he(h,"prelu weights","fused conv2d"));var E={x:b,filter:x};d!=null&&(E.bias=j),h!=null&&(E.preluActivationWeights=w);var I=[x,b],D=Oe.runKernelFunc((function(O,L){var R=O.fusedConv2d({input:b,filter:x,convInfo:C,bias:j,activation:p,preluActivationWeights:w});return L([x,b,R]),R}),E,(function(O,L){var R=L,P=R[0],F=R[1],V=R[2],X=eT(O,V,p);ye(_0(l),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"}));var te={};return d!=null&&(te={bias:function(){return tT(j,X)}}),Object.assign({x:function(){return TZ(F.shape,X,P,n,a)},filter:function(){return HD(F,X,P.shape,n,a)}},te)}),"FusedConv2D",{convInfo:C,activation:p},I,[!0]);return N?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}}),b5e=Ce({fusedDepthwiseConv2d_:function(e){var t=e.x,r=e.filter,n=e.strides,a=e.pad,i=e.dataFormat,s=i===void 0?"NHWC":i,o=e.dilations,l=o===void 0?[1,1]:o,u=e.dimRoundingMode,d=e.bias,f=e.activation,p=f===void 0?"linear":f,h=e.preluActivationWeights;if(QD(Oe.state.gradientDepth,p)===!1){var g=g4(t,r,n,a,s,l,u);return d!=null&&(g=Cr(g,d)),rT(g,p,h)}var y=he(t,"x","depthwiseConv2d"),x=he(r,"filter","depthwiseConv2d"),b=y,N=!1;y.rank===3&&(N=!0,b=y.as4D(1,y.shape[0],y.shape[1],y.shape[2])),ye(b.rank===4,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+b.rank+"."})),ye(x.rank===4,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+x.rank+"."})),ye(b.shape[3]===x.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels ("+b.shape[3]+") must match the inChannels dimension in filter "+x.shape[2]+"."})),l==null&&(l=[1,1]),ye(wo(n,l),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+l+"'"})),u!=null&&ye(La(a),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+a+"."}));var j,w,C=Mm(b.shape,x.shape,n,l,a,u,!0);d!=null&&(j=ua(j=he(d,"bias","fused conv2d"),y)[0],kr(C.outShape,j.shape)),h!=null&&(w=he(h,"prelu weights","fused depthwiseConv2d"));var E={x:b,filter:x};d!=null&&(E.bias=j),h!=null&&(E.preluActivationWeights=w);var I=[x,b],D=Oe.runKernelFunc((function(O,L){var R=O.fusedDepthwiseConv2D({input:b,filter:x,convInfo:C,bias:j,activation:p,preluActivationWeights:w});return L([x,b,R]),R}),E,(function(O,L){ye(_0(l),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"}));var R=L[0],P=L[1],F=L[2],V=eT(O,F,p),X={};return d!=null&&(X={bias:function(){return tT(j,V)}}),Object.assign({x:function(){return OZ(P.shape,V,R,C)},filter:function(){return IZ(P,V,R.shape,C)}},X)}),"FusedDepthwiseConv2D",{convInfo:C,activation:p},I,[!0]);return N?D.as3D(D.shape[1],D.shape[2],D.shape[3]):D}}),w5e=Object.freeze({matMul:x5e,conv2d:y5e,depthwiseConv2d:b5e}),N5e=Object.freeze({image:ZD,linalg:u5e,losses:s5e,spectral:Vwe,fused:w5e,signal:Xwe,square:rbe,squaredDifference:gZ,conv1d:dwe,conv2d:Ql,conv3d:fwe,depthwiseConv2d:g4,separableConv2d:GD,conv2dTranspose:hwe,conv3dTranspose:pwe,op:Ce,batchNormalization2d:Tbe,batchNormalization3d:Obe,batchNormalization4d:Ibe,batchNormalization:Mbe,batchNorm:NZ,batchNorm2d:Rbe,batchNorm3d:Lbe,batchNorm4d:Fbe,booleanMaskAsync:uwe,complex:Bi,real:$l,imag:mu,concat:ai,concat1d:wye,concat2d:Nye,concat3d:Sye,concat4d:jye,split:OD,matMul:v4,dot:mwe,outerProduct:gwe,reverse:s1,reverse1d:vwe,reverse2d:xwe,reverse3d:ywe,reverse4d:bwe,maxPool:ji,avgPool:o1,pool:wwe,maxPool3d:Nwe,avgPool3d:Swe,slice:Mu,slice1d:jwe,slice2d:Cwe,slice3d:LZ,slice4d:_we,abs:nbe,acos:abe,acosh:ibe,asin:sbe,asinh:obe,atan:lbe,atanh:cbe,ceil:ube,clipByValue:$D,cos:dbe,cosh:fbe,erf:hbe,exp:Ok,expm1:pbe,floor:mbe,log:gbe,log1p:vbe,logSigmoid:xbe,neg:Bw,reciprocal:ybe,round:bbe,rsqrt:vZ,sigmoid:xZ,sign:wbe,isNaN:Nbe,isInf:Sbe,isFinite:jbe,sin:Cbe,sinh:_be,softplus:Ebe,sqrt:Pbe,step:kbe,tan:Abe,tanh:Dbe,all:Ewe,any:Pwe,argMax:kwe,argMin:Awe,logSumExp:Dwe,max:x4,mean:Twe,min:Owe,moments:Iwe,sum:BZ,prod:Mwe,equal:EZ,equalStrict:ewe,greater:twe,greaterEqual:PZ,greaterEqualStrict:rwe,greaterStrict:nwe,less:awe,lessEqual:iwe,lessEqualStrict:swe,lessStrict:owe,notEqual:lwe,notEqualStrict:cwe,add:Cr,addN:Wbe,addStrict:Ube,atan2:$be,div:Cc,divNoNan:qbe,divStrict:Vbe,floorDiv:CZ,maximum:qD,maximumStrict:Hbe,minimum:_Z,minimumStrict:Gbe,mod:Ybe,modStrict:Kbe,mul:ws,mulStrict:Xbe,pow:zw,powStrict:Jbe,squaredDifferenceStrict:Zbe,sub:oi,subStrict:Qbe,elu:zZ,leakyRelu:Rwe,prelu:WZ,relu:ca,relu6:UZ,selu:Lwe,logicalAnd:m4,logicalNot:Bbe,logicalOr:SZ,logicalXor:zbe,where:hm,whereAsync:jZ,buffer:vr,print:Oye,batchToSpaceND:BJ,broadcastTo:Iye,cast:Mye,clone:Rye,cumsum:Lye,depthToSpace:Fye,expandDims:zl,eye:zJ,multinomial:Bye,oneHot:kk,pad:Im,pad1d:zye,pad2d:Wye,pad3d:Uye,pad4d:$ye,rand:qye,randomNormal:Vye,randomGamma:Hye,randomUniform:WJ,reshape:kc,spaceToBatchND:UJ,squeeze:$J,stack:nl,tile:a0,truncatedNormal:Gye,unstack:ii,setdiff1dAsync:Yye,fill:Eu,linspace:bye,ones:Q0,range:Dw,scalar:St,tensor:Ui,tensor1d:$a,tensor2d:Nh,tensor3d:TD,tensor4d:fo,tensor5d:vye,tensor6d:xye,variable:yye,zeros:Dn,onesLike:FJ,zerosLike:Mr,transpose:Ph,softmax:df,logSoftmax:t1e,localResponseNormalization:Fwe,norm:$Z,gather:VD,unsortedSegmentSum:kZ,basicLSTMCell:Bwe,multiRNNCell:zwe,movingAverage:Wwe,stridedSlice:Uwe,topk:$we,scatterND:qwe,fft:YD,ifft:Ww,rfft:KD,irfft:qZ,sparseToDense:Hwe,gatherND:Gwe,diag:Ywe,dropout:Kwe,hannWindow:XD,hammingWindow:HZ,frame:JD,stft:GZ,inTopKAsync:Jwe});function dt(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(r){r!=null&&ye(r.dtype!=="complex64",(function(){return t+" does not support complex64 tensors."}))}))}function b6(e,t,r,n){if(r==="linear")return e.linear(t);if(r==="relu")return e.relu(t);if(r==="elu")return e.elu(t);if(r==="relu6")return e.relu6(t);if(r==="prelu")return e.prelu(t,n);throw new Error("Activation "+r+" has not been implemented for the CPU backend.")}var S5e=(function(e){function t(){var r=e.call(this)||this;return r.blockSize=48,r.firstUse=!0,r.data=new XJ(r,Oe),r}return Lc(t,e),t.prototype.write=function(r,n,a){this.firstUse&&(this.firstUse=!1,nt().get("IS_NODE")&&kw(`
============================
Hi there . Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.
============================`));var i={};return this.data.set(i,{values:r,dtype:a}),i},t.prototype.move=function(r,n,a,i){this.data.set(r,{values:n,dtype:i})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(r){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(n){return[2,this.readSync(r)]}))}))},t.prototype.readSync=function(r){var n=this.data.get(r),a=n.dtype,i=n.complexTensors;return a==="complex64"?Tk(this.readSync(i.real.dataId),this.readSync(i.imag.dataId)):this.data.get(r).values},t.prototype.bufferSync=function(r){var n=this.readSync(r.dataId),a=n;if(r.dtype==="string")try{a=n.map((function(i){return _w(i)}))}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return vr(r.shape,r.dtype,a)},t.prototype.makeOutput=function(r,n,a){var i=this.write(r,n,a);return Oe.makeTensorFromDataId(i,n,a,this)},t.prototype.disposeData=function(r){if(this.data.has(r)){var n=this.data.get(r).complexTensors;n!=null&&(n.real.dispose(),n.imag.dispose()),this.data.delete(r)}},t.prototype.time=function(r){return Rt(this,void 0,void 0,(function(){var n;return Lt(this,(function(a){return n=fu(),r(),[2,{kernelMs:fu()-n}]}))}))},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(r,n){var a=this.makeOutput(null,r.shape,"complex64");return this.data.get(a.dataId).complexTensors={real:Oe.keep(r.clone()),imag:Oe.keep(n.clone())},a},t.prototype.real=function(r){return this.data.get(r.dataId).complexTensors.real.clone()},t.prototype.imag=function(r){return this.data.get(r.dataId).complexTensors.imag.clone()},t.prototype.slice=function(r,n,a){if(dt(r,"slice"),YJ(r.shape,n,a)){var i=KJ(n,r.strides),s=Ut(a);return Ui(this.readSync(r.dataId).subarray(i,i+s),a,r.dtype)}for(var o=vr(a,r.dtype),l=this.bufferSync(r),u=0;u<o.size;++u){var d=o.indexToLoc(u).map((function(f,p){return f+n[p]}));o.values[u]=l.get.apply(l,d)}return o.toTensor()},t.prototype.stridedSlice=function(r,n,a,i){dt(r,"stridedSlice");var s=MD(n,a,i);if(s.some((function(h){return h===0})))return Ui([],s);for(var o=vr(s,r.dtype),l=this.bufferSync(r),u=0;u<o.size;u++){for(var d=o.indexToLoc(u),f=new Array(d.length),p=0;p<f.length;p++)f[p]=d[p]*i[p]+n[p];o.set.apply(o,[l.get.apply(l,f)].concat(d))}return o.toTensor()},t.prototype.diag=function(r){for(var n=this.readSync(r.dataId),a=vr([r.size,r.size],r.dtype),i=a.values,s=0;s<n.length;s++)i[s*r.size+s]=n[s];return a.toTensor()},t.prototype.unstack=function(r,n){for(var a=r.shape[n],i=new Array(r.rank-1),s=0,o=0;o<r.rank;o++)o!==n&&(i[s++]=r.shape[o]);var l=new Array(r.rank).fill(0),u=r.shape.slice();u[n]=1;var d=new Array(a);for(o=0;o<d.length;o++)l[n]=o,d[o]=this.slice(r,l,u).reshape(i);return d},t.prototype.reverse=function(r,n){dt(r,"reverse");for(var a=vr(r.shape,r.dtype),i=this.bufferSync(r),s=function(l){var u=a.indexToLoc(l),d=u.slice();n.forEach((function(f){return d[f]=r.shape[f]-1-d[f]})),a.set.apply(a,[i.get.apply(i,d)].concat(u))},o=0;o<a.size;o++)s(o);return a.toTensor()},t.prototype.concat=function(r,n){var a=this;if(r[0].dtype==="complex64"){var i=r.map((function(h){return $l(h)})),s=r.map((function(h){return mu(h)}));return Bi(this.concat(i,n),this.concat(s,n))}var o=r.map((function(h){var g=Ut(h.shape.slice(n));return h.as2D(-1,g)})),l=C0(o.map((function(h){return h.shape})),1),u=vr(l,r[0].dtype).values;if(o[0].shape[0]===1){var d=0;o.forEach((function(h){u.set(a.readSync(h.dataId),d),d+=h.size}))}else{var f=0;o.forEach((function(h){for(var g=a.readSync(h.dataId),y=0,x=0;x<h.shape[0];++x)for(var b=x*l[1]+f,N=0;N<h.shape[1];++N)u[b+N]=g[y++];f+=h.shape[1]}))}var p=C0(r.map((function(h){return h.shape})),n);return Ui(u,p,r[0].dtype)},t.prototype.neg=function(r){return dt(r,"neg"),this.multiply(St(-1),r)},t.prototype.add=function(r,n){return r.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(r.cast("complex64"),n.cast("complex64"),(function(a,i,s,o){return{real:a+s,imag:i+o}})):this.broadcastedBinaryOp(r,n,zi(r.dtype,n.dtype),(function(a,i){return a+i}))},t.prototype.addN=function(r){var n=this;dt(r,"addN");for(var a=r.map((function(d){return n.readSync(d.dataId)})),i=vr(r[0].shape,r[0].dtype),s=i.values,o=0;o<r.length;o++)for(var l=a[o],u=0;u<s.length;u++)s[u]+=l[u];return i.toTensor()},t.prototype.softmax=function(r,n){var a=li([n],r.shape),i=this.max(r,a),s=bo(i.shape,a),o=this.subtract(r,i.reshape(s)),l=this.exp(o),u=this.sum(l,a).reshape(s);return this.realDivide(l,u)},t.prototype.subtract=function(r,n){return r.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(r.cast("complex64"),n.cast("complex64"),(function(a,i,s,o){return{real:a-s,imag:i-o}})):this.broadcastedBinaryOp(r,n,zi(r.dtype,n.dtype),(function(a,i){return a-i}))},t.prototype.pow=function(r,n){return dt([r,n],"pow"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){return Math.pow(a,i)}))},t.prototype.batchMatMul=function(r,n,a,i){dt([r,n],"matMul");for(var s=a?r.shape[1]:r.shape[2],o=a?r.shape[2]:r.shape[1],l=i?n.shape[1]:n.shape[2],u=r.shape[0],d=this.readSync(r.dataId),f=this.readSync(n.dataId),p=a?[r.strides[0],1,r.strides[1]]:[r.strides[0],r.strides[1],1],h=p[0],g=p[1],y=p[2],x=i?[1,n.strides[1],n.strides[0]]:[n.strides[1],1,n.strides[0]],b=x[0],N=x[1],j=x[2],w=o*l,C=vr([u,o,l],r.dtype),E=C.values,I=this.blockSize,D=0;D<u;D++)for(var O=0;O<o;O+=I)for(var L=0;L<l;L+=I)for(var R=0;R<s;R+=I)for(var P=Math.min(O+I,o),F=Math.min(L+I,l),V=Math.min(R+I,s),X=O;X<P;X++)for(var te=L;te<F;te++){for(var q=0,U=R;U<V;U++)q+=d[D*h+X*g+U*y]*f[U*b+te*N+D*j];E[D*w+(X*l+te)]+=q}return C.toTensor()},t.prototype.fusedBatchMatMul=function(r){var n=r.a,a=r.b,i=r.transposeA,s=r.transposeB,o=r.bias,l=r.activation,u=r.preluActivationWeights,d=this.batchMatMul(n,a,i,s);return o&&(d=this.add(d,o)),l&&(d=b6(this,d,l,u)),d},t.prototype.multiply=function(r,n){return r.dtype==="complex64"||n.dtype==="complex64"?this.broadcastedBinaryComplexOp(r.cast("complex64"),n.cast("complex64"),(function(a,i,s,o){return{real:a*s-i*o,imag:a*o+i*s}})):this.broadcastedBinaryOp(r,n,zi(r.dtype,n.dtype),(function(a,i){return a*i}))},t.prototype.realDivide=function(r,n){return dt([r,n],"realDivide"),this.broadcastedBinaryOp(r,n,"float32",(function(a,i){return a/i}))},t.prototype.floorDiv=function(r,n){return dt([r,n],"floorDiv"),this.broadcastedBinaryOp(r,n,"int32",(function(a,i){return Math.floor(a/i)}))},t.prototype.sum=function(r,n){dt(r,"sum"),Vo("sum",n,r.rank);for(var a=ps(r.shape,n),i=a[0],s=a[1],o=Dn(i,zi(r.dtype,"int32")),l=Ut(s),u=this.readSync(o.dataId),d=this.readSync(r.dataId),f=0;f<u.length;++f){for(var p=f*l,h=0,g=0;g<l;++g)h+=d[p+g];u[f]=h}return o},t.prototype.prod=function(r,n){dt(r,"sum");for(var a=ps(r.shape,n),i=a[0],s=a[1],o=Dn(i,zi(r.dtype,"int32")),l=Ut(s),u=this.readSync(o.dataId),d=this.readSync(r.dataId),f=0;f<u.length;++f){for(var p=f*l,h=1,g=0;g<l;++g)h*=d[p+g];u[f]=h}return o},t.prototype.unsortedSegmentSum=function(r,n,a){dt(r,"unsortedSegmentSum");for(var i=[],s=r.rank-n.rank,o=0;o<s;++o)n=n.expandDims(o+1);for(o=0;o<a;++o){var l=St(o,"int32"),u=EZ(l,n).asType("float32").mul(r).sum(0);i.push(u)}return nl(i)},t.prototype.argMin=function(r,n){dt(r,"argMin");var a=[n];Vo("argMin",a,r.rank);for(var i=ps(r.shape,a),s=i[0],o=i[1],l=Dn(s,"int32"),u=Ut(o),d=this.readSync(l.dataId),f=this.readSync(r.dataId),p=0;p<d.length;++p){for(var h=p*u,g=f[h],y=0,x=0;x<u;++x){var b=f[h+x];b<g&&(g=b,y=x)}d[p]=y}return l},t.prototype.argMax=function(r,n){dt(r,"argMax");var a=[n];Vo("argMax",a,r.rank);for(var i=ps(r.shape,a),s=i[0],o=i[1],l=Dn(s,"int32"),u=Ut(o),d=this.readSync(l.dataId),f=this.readSync(r.dataId),p=0;p<d.length;++p){for(var h=p*u,g=f[h],y=0,x=0;x<u;++x){var b=f[h+x];b>g&&(g=b,y=x)}d[p]=y}return l},t.prototype.cumsum=function(r,n,a,i){if(dt(r,"cumsum"),n!==r.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(r.rank-1)+" but got axis="+n);for(var s=zi(r.dtype,"int32"),o=Dn(r.shape,s),l=this.readSync(o.dataId),u=this.readSync(r.dataId),d=r.shape[r.rank-1],f=i?function(x,b){return x+d-b-1}:function(x,b){return x+b},p=0;p<u.length;p+=d)for(var h=0;h<d;h++){var g=f(p,h);if(h===0)l[g]=a?0:u[g];else{var y=f(p,h-1);l[g]=a?u[y]+l[y]:u[g]+l[y]}}return o},t.prototype.equal=function(r,n){return dt([r,n],"equal"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a===i?1:0}))},t.prototype.notEqual=function(r,n){return dt([r,n],"notEqual"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a!==i?1:0}))},t.prototype.less=function(r,n){return dt([r,n],"less"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a<i?1:0}))},t.prototype.lessEqual=function(r,n){return dt([r,n],"lessEqual"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a<=i?1:0}))},t.prototype.greater=function(r,n){return dt([r,n],"greater"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a>i?1:0}))},t.prototype.greaterEqual=function(r,n){return dt([r,n],"greaterEqual"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a>=i?1:0}))},t.prototype.logicalNot=function(r){dt(r,"logicalNot");for(var n=this.readSync(r.dataId),a=new Uint8Array(n.length),i=0;i<n.length;++i)a[i]=n[i]?0:1;return this.makeOutput(a,r.shape,"bool")},t.prototype.logicalAnd=function(r,n){return dt([r,n],"logicalAnd"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a&&i}))},t.prototype.logicalOr=function(r,n){return dt([r,n],"logicalOr"),this.broadcastedBinaryOp(r,n,"bool",(function(a,i){return a||i}))},t.prototype.select=function(r,n,a){dt([r,n,a],"select");for(var i=this.readSync(r.dataId),s=this.readSync(n.dataId),o=this.readSync(a.dataId),l=Dn(n.shape,zi(n.dtype,a.dtype)),u=this.readSync(l.dataId),d=0,f=r.rank===0||r.rank>1||n.rank===1?1:Ut(n.shape.slice(1)),p=0;p<i.length;p++)for(var h=0;h<f;h++)i[p]===1?u[d++]=s[p]:u[d++]=o[p];return l},t.prototype.where=function(r){dt([r],"where");var n=this.readSync(r.dataId);return BD(r.shape,n)},t.prototype.topk=function(r,n,a){return dt(r,"topk"),aZ(this.readSync(r.dataId),r.shape,r.dtype,n)},t.prototype.min=function(r,n){dt(r,"min"),Vo("min",n,r.rank);for(var a=ps(r.shape,n),i=a[0],s=a[1],o=Dn(i,r.dtype),l=Ut(s),u=this.readSync(o.dataId),d=this.readSync(r.dataId),f=0;f<u.length;++f){for(var p=f*l,h=d[p],g=0;g<l;++g){var y=d[p+g];y<h&&(h=y)}u[f]=h}return o},t.prototype.minimum=function(r,n){return dt([r,n],"minimum"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){return Math.min(a,i)}))},t.prototype.mod=function(r,n){return dt([r,n],"mod"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){var s=a%i;return a<0&&i<0||a>=0&&i>=0?s:(s+i)%i}))},t.prototype.max=function(r,n){dt(r,"max"),Vo("max",n,r.rank);for(var a=ps(r.shape,n),i=a[0],s=a[1],o=Dn(i,r.dtype),l=Ut(s),u=this.readSync(o.dataId),d=this.readSync(r.dataId),f=0;f<u.length;++f){for(var p=f*l,h=d[p],g=0;g<l;++g){var y=d[p+g];y>h&&(h=y)}u[f]=h}return o},t.prototype.maximum=function(r,n){return dt([r,n],"maximum"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){return Math.max(a,i)}))},t.prototype.all=function(r,n){dt(r,"all"),Vo("all",n,r.rank);for(var a=ps(r.shape,n),i=a[0],s=a[1],o=Dn(i,r.dtype),l=Ut(s),u=this.readSync(o.dataId),d=this.readSync(r.dataId),f=0;f<u.length;++f){for(var p=f*l,h=d[p],g=0;g<l;++g){var y=d[p+g];h=h&&y}u[f]=h}return o},t.prototype.any=function(r,n){dt(r,"any"),Vo("any",n,r.rank);for(var a=ps(r.shape,n),i=a[0],s=a[1],o=Dn(i,r.dtype),l=Ut(s),u=this.readSync(o.dataId),d=this.readSync(r.dataId),f=0;f<u.length;++f){for(var p=f*l,h=d[p],g=0;g<l;++g){var y=d[p+g];h=h||y}u[f]=h}return o},t.prototype.squaredDifference=function(r,n){return dt([r,n],"squaredDifference"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){var s=a-i;return s*s}))},t.prototype.ceil=function(r){dt(r,"ceil");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i)a[i]=Math.ceil(n[i]);return this.makeOutput(a,r.shape,"float32")},t.prototype.floor=function(r){dt(r,"floor");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i)a[i]=Math.floor(n[i]);return this.makeOutput(a,r.shape,"float32")},t.prototype.sign=function(r){dt(r,"x");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i)n[i]<0?a[i]=-1:n[i]>0?a[i]=1:a[i]=0;return this.makeOutput(a,r.shape,"float32")},t.prototype.isNaN=function(r){dt(r,"x");for(var n=this.readSync(r.dataId),a=new Uint8Array(n.length),i=0;i<n.length;++i)Number.isNaN(n[i])&&(a[i]=1);return this.makeOutput(a,r.shape,"bool")},t.prototype.isInf=function(r){dt(r,"x");for(var n=this.readSync(r.dataId),a=new Uint8Array(n.length),i=0;i<n.length;++i)Math.abs(n[i])===1/0&&(a[i]=1);return this.makeOutput(a,r.shape,"bool")},t.prototype.isFinite=function(r){dt(r,"x");for(var n=this.readSync(r.dataId),a=new Uint8Array(n.length),i=0;i<n.length;++i)Number.isFinite(n[i])&&(a[i]=1);return this.makeOutput(a,r.shape,"bool")},t.prototype.round=function(r){dt(r,"round");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i){var s=Math.floor(n[i]);n[i]-s<.5?a[i]=Math.floor(n[i]):n[i]-s>.5?a[i]=Math.ceil(n[i]):a[i]=s%2==0?s:s+1}return this.makeOutput(a,r.shape,"float32")},t.prototype.exp=function(r){dt(r,"exp");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i)a[i]=Math.exp(n[i]);return this.makeOutput(a,r.shape,"float32")},t.prototype.expm1=function(r){dt(r,"expm1");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i)a[i]=Math.expm1(n[i]);return this.makeOutput(a,r.shape,"float32")},t.prototype.log=function(r){dt(r,"log");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i){var s=n[i];a[i]=Math.log(s)}return this.makeOutput(a,r.shape,"float32")},t.prototype.log1p=function(r){dt(r,"log1p");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i){var s=n[i];a[i]=Math.log1p(s)}return this.makeOutput(a,r.shape,"float32")},t.prototype.sqrt=function(r){dt(r,"sqrt");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i){var s=n[i];a[i]=Math.sqrt(s)}return this.makeOutput(a,r.shape,"float32")},t.prototype.rsqrt=function(r){dt(r,"rsqrt");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i){var s=n[i];a[i]=1/Math.sqrt(s)}return this.makeOutput(a,r.shape,"float32")},t.prototype.reciprocal=function(r){dt(r,"reciprocal");for(var n=this.readSync(r.dataId),a=new Float32Array(n.length),i=0;i<n.length;++i)a[i]=1/n[i];return this.makeOutput(a,r.shape,"float32")},t.prototype.linear=function(r){return r},t.prototype.relu=function(r){dt(r,"relu");for(var n=Dn(r.shape,r.dtype),a=this.readSync(n.dataId),i=this.readSync(r.dataId),s=0;s<i.length;++s)a[s]=Math.max(0,i[s]);return n},t.prototype.relu6=function(r){dt(r,"relu");for(var n=Dn(r.shape,r.dtype),a=this.readSync(n.dataId),i=this.readSync(r.dataId),s=0;s<i.length;++s)a[s]=Math.min(Math.max(0,i[s]),6);return n},t.prototype.prelu=function(r,n){return dt([r,n],"prelu"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){return a<0?i*a:a}))},t.prototype.elu=function(r){dt(r,"elu");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i){var s=a[i];n[i]=s>=0?s:Math.exp(s)-1}return this.makeOutput(n,r.shape,"float32")},t.prototype.eluDer=function(r,n){dt([r,n],"eluDer");for(var a=new Float32Array(n.size),i=this.readSync(n.dataId),s=this.readSync(r.dataId),o=0;o<i.length;++o){var l=i[o];a[o]=l>=1?s[o]:s[o]*(l+1)}return this.makeOutput(a,n.shape,"float32")},t.prototype.selu=function(r){dt(r,"selu");for(var n=WD,a=UD,i=new Float32Array(r.size),s=this.readSync(r.dataId),o=0;o<s.length;++o){var l=s[o];i[o]=l>=0?a*l:n*(Math.exp(l)-1)}return this.makeOutput(i,r.shape,"float32")},t.prototype.clip=function(r,n,a){dt(r,"clip");for(var i=new Float32Array(r.size),s=this.readSync(r.dataId),o=0;o<s.length;++o){var l=s[o];i[o]=l>a?a:l<n?n:l}return this.makeOutput(i,r.shape,"float32")},t.prototype.abs=function(r){for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.abs(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.complexAbs=function(r){for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<r.size;++i){var s=a[2*i],o=a[2*i+1];n[i]=Math.hypot(s,o)}return this.makeOutput(n,r.shape,"float32")},t.prototype.int=function(r){dt(r,"int");for(var n=new Int32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=a[i];return this.makeOutput(n,r.shape,"int32")},t.prototype.sigmoid=function(r){dt(r,"sigmoid");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=1/(1+Math.exp(-a[i]));return this.makeOutput(n,r.shape,"float32")},t.prototype.softplus=function(r){dt(r,"softplus");for(var n=Math.log(11920928955078125e-23)+2,a=new Float32Array(r.size),i=this.readSync(r.dataId),s=0;s<i.length;++s){var o=i[s]>-n,l=i[s]<n,u=Math.exp(i[s]),d=void 0;d=l?u:o?i[s]:Math.log(1+u),a[s]=d}return this.makeOutput(a,r.shape,"float32")},t.prototype.sin=function(r){dt(r,"sin");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.sin(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.cos=function(r){dt(r,"cos");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.cos(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.tan=function(r){dt(r,"tan");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.tan(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.asin=function(r){dt(r,"asin");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.asin(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.acos=function(r){dt(r,"acos");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.acos(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.atan=function(r){dt(r,"atan");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.atan(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.atan2=function(r,n){return dt([r,n],"atan2"),this.broadcastedBinaryOp(r,n,r.dtype,(function(a,i){return Math.atan2(a,i)}))},t.prototype.sinh=function(r){dt(r,"sinh");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.sinh(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.cosh=function(r){dt(r,"cosh");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.cosh(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.tanh=function(r){dt(r,"tanh");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=jxe(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.asinh=function(r){dt(r,"asinh");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.asinh(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.acosh=function(r){dt(r,"acosh");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.acosh(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.atanh=function(r){dt(r,"atanh");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i)n[i]=Math.atanh(a[i]);return this.makeOutput(n,r.shape,"float32")},t.prototype.erf=function(r){dt(r,"erf");for(var n=new Float32Array(r.size),a=this.readSync(r.dataId),i=0;i<a.length;++i){var s=Math.sign(a[i]),o=Math.abs(a[i]),l=1/(1+.3275911*o);n[i]=s*(1-((((1.061405429*l-1.453152027)*l+1.421413741)*l-.284496736)*l+.254829592)*l*Math.exp(-o*o))}return this.makeOutput(n,r.shape,"float32")},t.prototype.step=function(r,n){n===void 0&&(n=0),dt(r,"step");for(var a=new Float32Array(r.size),i=this.readSync(r.dataId),s=0;s<i.length;++s){var o=i[s];isNaN(o)?a[s]=NaN:a[s]=o>0?1:n}return this.makeOutput(a,r.shape,"float32")},t.prototype.fusedConv2d=function(r){var n=r.input,a=r.filter,i=r.convInfo,s=r.bias,o=r.activation,l=r.preluActivationWeights,u=this.conv2d(n,a,i);return s&&(u=this.add(u,s)),o&&(u=b6(this,u,o,l)),u},t.prototype.conv2d=function(r,n,a){dt([r,n],"conv2d");for(var i=a.filterHeight,s=a.filterWidth,o=a.dilationHeight,l=a.dilationWidth,u=a.padInfo.left,d=a.padInfo.top,f=a.dataFormat==="channelsLast",p=vr(a.outShape,r.dtype),h=r.strides[0],g=f?r.strides[1]:r.strides[2],y=f?r.strides[2]:1,x=f?1:r.strides[1],b=p.strides[0],N=f?p.strides[1]:p.strides[2],j=f?p.strides[2]:1,w=f?1:p.strides[1],C=this.readSync(r.dataId),E=this.readSync(n.dataId),I=p.values,D=0;D<a.batchSize;++D)for(var O=D*h,L=D*b,R=0;R<a.outHeight;++R)for(var P=L+R*N,F=R*a.strideHeight-d,V=0;V<i;V++){var X=F+V*o;if(!(X<0||X>=a.inHeight))for(var te=V*n.strides[0],q=O+X*g,U=0;U<a.outWidth;++U)for(var Q=P+U*j,se=U*a.strideWidth-u,K=0;K<s;K++){var T=se+K*l;if(!(T<0||T>=a.inWidth))for(var W=q+T*y,J=te+K*n.strides[1],Y=0;Y<a.inChannels;++Y){for(var ee=C[W+Y*x],ae=0;ae<a.outChannels;++ae)I[Q+ae*w]+=ee*E[J+ae];J+=a.outChannels}}}return p.toTensor()},t.prototype.conv3d=function(r,n,a){for(var i=a.filterDepth,s=a.filterHeight,o=a.filterWidth,l=a.dilationDepth,u=a.dilationHeight,d=a.dilationWidth,f=a.padInfo.front,p=a.padInfo.left,h=a.padInfo.top,g=vr(a.outShape,r.dtype),y=this.readSync(r.dataId),x=this.readSync(n.dataId),b=g.values,N=0;N<a.batchSize;++N)for(var j=N*r.strides[0],w=N*g.strides[0],C=0;C<a.outDepth;++C)for(var E=w+C*g.strides[1],I=C*a.strideDepth-f,D=0;D<i;D++){var O=I+D*l;if(!(O<0||O>=a.inDepth))for(var L=D*n.strides[0],R=j+O*r.strides[1],P=0;P<a.outHeight;++P)for(var F=E+P*g.strides[2],V=P*a.strideHeight-h,X=0;X<s;X++){var te=V+X*u;if(!(te<0||te>=a.inHeight))for(var q=L+X*n.strides[1],U=R+te*r.strides[2],Q=0;Q<a.outWidth;++Q)for(var se=F+Q*a.outChannels,K=Q*a.strideWidth-p,T=0;T<o;T++){var W=K+T*d;if(!(W<0||W>=a.inWidth))for(var J=q+T*n.strides[2],Y=U+W*a.inChannels,ee=J,ae=0;ae<a.inChannels;++ae){for(var pe=y[Y+ae],de=0;de<a.outChannels;++de)b[se+de]+=pe*x[ee+de];ee+=a.outChannels}}}}return g.toTensor()},t.prototype.conv2dDerInput=function(r,n,a){dt([r,n],"conv2dDerInput");for(var i=vr(a.inShape,"float32"),s=i.values,o=this.readSync(r.dataId),l=this.readSync(n.dataId),u=n.strides,d=u[0],f=u[1],p=u[2],h=a.batchSize,g=a.filterHeight,y=a.filterWidth,x=a.inChannels,b=a.inHeight,N=a.inWidth,j=a.outChannels,w=a.outHeight,C=a.outWidth,E=a.strideHeight,I=a.strideWidth,D=a.dataFormat,O=g-1-a.padInfo.top,L=y-1-a.padInfo.left,R=D==="channelsLast",P=i.strides[0],F=R?i.strides[1]:i.strides[2],V=R?i.strides[2]:1,X=R?1:i.strides[1],te=r.strides[0],q=R?r.strides[1]:r.strides[2],U=R?r.strides[2]:1,Q=R?1:r.strides[1],se=0;se<h;++se)for(var K=0;K<x;++K)for(var T=0;T<b;++T)for(var W=T-O,J=Math.max(0,Math.ceil(W/E)),Y=Math.min(w,(g+W)/E),ee=0;ee<N;++ee){for(var ae=ee-L,pe=Math.max(0,Math.ceil(ae/I)),de=Math.min(C,(y+ae)/I),we=0,Ae=J;Ae<Y;++Ae)for(var Se=Ae*E-W,Ge=pe;Ge<de;++Ge)for(var ke=te*se+q*Ae+U*Ge,Z=d*(g-1-Se)+f*(y-1-(Ge*I-ae))+p*K,Qe=0;Qe<j;++Qe)we+=o[ke+Q*Qe]*l[Z+Qe];s[P*se+F*T+V*ee+X*K]=we}return i.toTensor()},t.prototype.conv3dDerInput=function(r,n,a){for(var i=vr(a.inShape,"float32"),s=i.values,o=i.strides,l=o[0],u=o[1],d=o[2],f=o[3],p=this.readSync(r.dataId),h=r.strides,g=h[0],y=h[1],x=h[2],b=h[3],N=this.readSync(n.dataId),j=n.strides,w=j[0],C=j[1],E=j[2],I=j[3],D=a.batchSize,O=a.filterDepth,L=a.filterHeight,R=a.filterWidth,P=a.inChannels,F=a.inDepth,V=a.inHeight,X=a.inWidth,te=a.outChannels,q=a.outDepth,U=a.outHeight,Q=a.outWidth,se=a.strideDepth,K=a.strideHeight,T=a.strideWidth,W=O-1-a.padInfo.front,J=L-1-a.padInfo.top,Y=R-1-a.padInfo.left,ee=0;ee<D;++ee)for(var ae=0;ae<P;++ae)for(var pe=0;pe<F;++pe)for(var de=pe-W,we=Math.max(0,Math.ceil(de/se)),Ae=Math.min(q,(O+de)/se),Se=0;Se<V;++Se)for(var Ge=Se-J,ke=Math.max(0,Math.ceil(Ge/K)),Z=Math.min(U,(L+Ge)/K),Qe=0;Qe<X;++Qe){for(var Ne=Qe-Y,ze=Math.max(0,Math.ceil(Ne/T)),De=Math.min(Q,(R+Ne)/T),me=0,_e=we;_e<Ae;++_e)for(var Ve=_e*se-de,Xe=ke;Xe<Z;++Xe)for(var Re=Xe*K-Ge,st=ze;st<De;++st)for(var pt=g*ee+y*_e+x*Xe+b*st,Fe=w*(O-1-Ve)+C*(L-1-Re)+E*(R-1-(st*T-Ne))+I*ae,at=0;at<te;++at)me+=p[pt+at]*N[Fe+at];s[l*ee+u*pe+d*Se+f*Qe+ae]=me}return i.toTensor()},t.prototype.conv2dDerFilter=function(r,n,a){dt([r,n],"conv2dDerFilter");for(var i=a.strideHeight,s=a.strideWidth,o=a.filterHeight,l=a.filterWidth,u=a.dataFormat==="channelsLast",d=vr(a.filterShape,"float32"),f=a.padInfo.left,p=a.padInfo.top,h=this.bufferSync(r),g=this.bufferSync(n),y=0;y<o;++y)for(var x=Math.max(0,Math.ceil((p-y)/i)),b=Math.min(a.outHeight,(a.inHeight+p-y)/i),N=0;N<l;++N)for(var j=Math.max(0,Math.ceil((f-N)/s)),w=Math.min(a.outWidth,(a.inWidth+f-N)/s),C=0;C<a.inChannels;++C)for(var E=0;E<a.outChannels;++E){for(var I=0,D=0;D<a.batchSize;++D)for(var O=x;O<b;++O)for(var L=y+O*i-p,R=j;R<w;++R){var P=N+R*s-f;I+=u?h.get(D,L,P,C)*g.get(D,O,R,E):h.get(D,C,L,P)*g.get(D,E,O,R)}d.set(I,y,N,C,E)}return d.toTensor()},t.prototype.conv3dDerFilter=function(r,n,a){for(var i=a.strideDepth,s=a.strideHeight,o=a.strideWidth,l=a.filterDepth,u=a.filterHeight,d=a.filterWidth,f=vr(a.filterShape,"float32"),p=f.values,h=f.strides,g=h[0],y=h[1],x=h[2],b=h[3],N=this.readSync(n.dataId),j=n.strides,w=j[0],C=j[1],E=j[2],I=j[3],D=this.readSync(r.dataId),O=r.strides,L=O[0],R=O[1],P=O[2],F=O[3],V=a.padInfo.front,X=a.padInfo.left,te=a.padInfo.top,q=0;q<l;++q)for(var U=Math.max(0,Math.ceil((V-q)/i)),Q=Math.min(a.outDepth,(a.inDepth+V-q)/i),se=q*g,K=0;K<u;++K)for(var T=Math.max(0,Math.ceil((te-K)/s)),W=Math.min(a.outHeight,(a.inHeight+te-K)/s),J=K*y+se,Y=0;Y<d;++Y)for(var ee=Math.max(0,Math.ceil((X-Y)/o)),ae=Math.min(a.outWidth,(a.inWidth+X-Y)/o),pe=Y*x+J,de=0;de<a.inChannels;++de)for(var we=de*b+pe,Ae=0;Ae<a.outChannels;++Ae){for(var Se=0,Ge=0;Ge<a.batchSize;++Ge)for(var ke=Ge*L,Z=Ge*w,Qe=U;Qe<Q;++Qe)for(var Ne=(q+Qe*i-V)*R+ke,ze=Qe*C+Z,De=T;De<W;++De)for(var me=(K+De*s-te)*P+Ne,_e=De*E+ze,Ve=ee;Ve<ae;++Ve){var Xe=Ve*I+_e;Se+=D[(Y+Ve*o-X)*F+me+de]*N[Xe+Ae]}p[we+Ae]=Se}return f.toTensor()},t.prototype.fusedDepthwiseConv2D=function(r){var n=r.input,a=r.filter,i=r.convInfo,s=r.bias,o=r.activation,l=r.preluActivationWeights,u=this.depthwiseConv2D(n,a,i);return s&&(u=this.add(u,s)),o&&(u=b6(this,u,o,l)),u},t.prototype.depthwiseConv2D=function(r,n,a){dt([r,n],"depthwiseConv2D");for(var i=a.filterHeight,s=a.filterWidth,o=a.dilationHeight,l=a.dilationWidth,u=a.padInfo.left,d=a.padInfo.top,f=a.outChannels/a.inChannels,p=vr(a.outShape,r.dtype),h=this.readSync(r.dataId),g=this.readSync(n.dataId),y=p.values,x=0;x<a.batchSize;++x)for(var b=x*r.strides[0],N=x*p.strides[0],j=0;j<a.outHeight;++j)for(var w=N+j*p.strides[1],C=j*a.strideHeight-u,E=0;E<i;++E){var I=C+E*o;if(!(I<0||I>=a.inHeight))for(var D=E*n.strides[0],O=b+I*r.strides[1],L=0;L<a.outWidth;++L)for(var R=w+L*p.strides[2],P=L*a.strideWidth-d,F=0;F<s;++F){var V=P+F*l;if(!(V<0||V>=a.inWidth))for(var X=D+F*n.strides[1],te=O+V*a.inChannels,q=R,U=X,Q=0;Q<a.inChannels;++Q){for(var se=h[te+Q],K=0;K<f;++K)y[q+K]+=se*g[U+K];q+=f,U+=f}}}return p.toTensor()},t.prototype.depthwiseConv2DDerInput=function(r,n,a){dt([r,n],"depthwiseConv2DDerInput");for(var i=vr(a.inShape,"float32"),s=i.values,o=i.strides,l=o[0],u=o[1],d=o[2],f=this.readSync(r.dataId),p=r.strides,h=p[0],g=p[1],y=p[2],x=this.readSync(n.dataId),b=n.strides,N=b[0],j=b[1],w=b[2],C=a.batchSize,E=a.filterHeight,I=a.filterWidth,D=a.inChannels,O=a.inHeight,L=a.inWidth,R=a.outChannels,P=a.outHeight,F=a.outWidth,V=a.strideHeight,X=a.strideWidth,te=E-1-a.padInfo.top,q=I-1-a.padInfo.left,U=R/D,Q=0;Q<C;++Q)for(var se=0;se<D;++se)for(var K=0;K<O;++K)for(var T=K-te,W=Math.max(0,Math.ceil(T/V)),J=Math.min(P,(E+T)/V),Y=0;Y<L;++Y){for(var ee=Y-q,ae=Math.max(0,Math.ceil(ee/X)),pe=Math.min(F,(I+ee)/X),de=0,we=W;we<J;++we)for(var Ae=we*V-T,Se=ae;Se<pe;++Se)for(var Ge=h*Q+g*we+y*Se,ke=N*(E-1-Ae)+j*(I-1-(Se*X-ee))+w*se,Z=0;Z<U;++Z)de+=f[Ge+(se*U+Z)]*x[ke+Z];s[l*Q+u*K+d*Y+se]=de}return i.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(r,n,a){dt([r,n],"depthwiseConv2DDerFilter");for(var i=a.strideHeight,s=a.strideWidth,o=a.filterHeight,l=a.filterWidth,u=vr(a.filterShape,"float32"),d=a.padInfo.left,f=a.padInfo.top,p=a.outChannels/a.inChannels,h=this.bufferSync(r),g=this.bufferSync(n),y=0;y<o;++y)for(var x=Math.max(0,Math.ceil((f-y)/i)),b=Math.min(a.outHeight,(a.inHeight+f-y)/i),N=0;N<l;++N)for(var j=Math.max(0,Math.ceil((d-N)/s)),w=Math.min(a.outWidth,(a.inWidth+d-N)/s),C=0;C<a.outChannels;++C){for(var E=Math.trunc(C/p),I=C%p,D=0,O=0;O<a.batchSize;++O)for(var L=x;L<b;++L)for(var R=y+L*i-f,P=j;P<w;++P){var F=N+P*s-d;D+=h.get(O,R,F,E)*g.get(O,L,P,C)}u.set(D,y,N,E,I)}return u.toTensor()},t.prototype.tile=function(r,n){return dt(r,"tile"),nZ(this.bufferSync(r),n)},t.prototype.pad=function(r,n,a){dt(r,"pad");var i=n.map((function(p,h){return p[0]+r.shape[h]+p[1]})),s=n.map((function(p){return p[0]})),o=this.bufferSync(r),l=vr(i,r.dtype);a!==0&&l.values.fill(a);for(var u=0;u<r.size;u++){var d=o.indexToLoc(u),f=d.map((function(p,h){return p+s[h]}));l.set.apply(l,[o.get.apply(o,d)].concat(f))}return l.toTensor()},t.prototype.transpose=function(r,n){dt(r,"transpose");for(var a=new Array(r.rank),i=0;i<a.length;i++)a[i]=r.shape[n[i]];var s=this.readSync(r.dataId),o=vr(a,r.dtype),l=this.bufferSync(r);for(i=0;i<r.size;++i){for(var u=l.indexToLoc(i),d=new Array(u.length),f=0;f<d.length;f++)d[f]=u[n[f]];var p=o.locToIndex(d);o.values[p]=s[i]}return o.toTensor()},t.prototype.gather=function(r,n,a){dt([r,n],"gather");var i=r.shape.slice(),s=this.readSync(n.dataId);i[a]=s.length;for(var o=vr(i,r.dtype),l=this.bufferSync(r),u=0;u<o.size;++u){var d=o.indexToLoc(u),f=d.slice();f[a]=s[d[a]];var p=l.locToIndex(f);o.values[u]=l.values[p]}return o.toTensor()},t.prototype.batchToSpaceND=function(r,n,a){dt([r],"batchToSpaceND");var i=n.reduce((function(f,p){return f*p})),s=Tw(r.shape,n,i),o=Ow(s.length,n.length),l=Iw(r.shape,n,i),u=qJ(a,n.length),d=VJ(l,a,n.length);return r.reshape(s).transpose(o).reshape(l).slice(u,d)},t.prototype.spaceToBatchND=function(r,n,a){dt([r],"spaceToBatchND");var i=n.reduce((function(p,h){return p*h})),s=[[0,0]];s.push.apply(s,a);for(var o=1+n.length;o<r.shape.length;++o)s.push([0,0]);var l=r.pad(s),u=Tw(l.shape,n,i,!1),d=Ow(u.length,n.length,!1),f=Iw(l.shape,n,i,!1);return l.reshape(u).transpose(d).reshape(f)},t.prototype.pool=function(r,n,a){dt(r,"pool");for(var i=n.strideHeight,s=n.strideWidth,o=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,d=n.effectiveFilterWidth,f=n.padInfo.top,p=n.padInfo.left,h=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=this.readSync(r.dataId),y=vr(n.outShape,r.dtype),x=y.values,b=n.outShape[1]*n.outShape[2]*n.outShape[3],N=n.outShape[2]*n.outShape[3],j=n.outShape[3],w=0;w<n.batchSize;++w)for(var C=w*b,E=w*r.strides[0],I=0;I<n.inChannels;++I)for(var D=0;D<n.outHeight;++D)for(var O=D*i-f,L=Math.max(0,O),R=Math.min(n.inHeight,u+O),P=C+D*N,F=0;F<n.outWidth;++F){for(var V=F*s-p,X=Math.max(0,V),te=Math.min(n.inWidth,d+V),q=h,U=0,Q=0,se=L;se<R;se+=o){for(var K=E+se*r.strides[1],T=X;T<te;T+=l){var W=g[K+T*r.strides[2]+I];a==="max"&&W>q?q=W:a==="avg"&&(U+=W,Q++)}if(isNaN(q))break}x[P+F*j+I]=a==="avg"?U/Q:q}return y.toTensor()},t.prototype.maxPool=function(r,n){return this.pool(r,n,"max")},t.prototype.maxPoolPositions=function(r,n){for(var a=vr(n.outShape,"int32"),i=n.strideHeight,s=n.strideWidth,o=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,d=n.effectiveFilterWidth,f=n.padInfo.top,p=n.padInfo.left,h=this.bufferSync(r),g=0;g<n.batchSize;++g)for(var y=0;y<n.inChannels;++y)for(var x=0;x<n.outHeight;++x){for(var b=x*i-f,N=b;N<0;)N+=o;for(var j=Math.min(n.inHeight,u+b),w=0;w<n.outWidth;++w){for(var C=w*s-p,E=C;E<0;)E+=l;for(var I=Math.min(n.inWidth,d+C),D=Number.NEGATIVE_INFINITY,O=-1,L=N;L<j;L+=o)for(var R=L-b,P=E;P<I;P+=l){var F=P-C,V=h.get(g,L,P,y);V>D&&(D=V,O=R*d+F)}a.set(O,g,x,w,y)}}return a.toTensor()},t.prototype.maxPoolBackprop=function(r,n,a,i){dt([n,a],"maxPoolBackprop");for(var s=this.maxPoolPositions(n,i),o=i.strideHeight,l=i.strideWidth,u=i.dilationHeight,d=i.dilationWidth,f=i.effectiveFilterHeight,p=i.effectiveFilterWidth,h=p-1-i.padInfo.left,g=f-1-i.padInfo.top,y=vr(n.shape,"float32"),x=this.bufferSync(s),b=this.bufferSync(r),N=0;N<i.batchSize;++N)for(var j=0;j<i.inChannels;++j)for(var w=0;w<i.inHeight;++w)for(var C=0;C<i.inWidth;++C){for(var E=w-g,I=C-h,D=0,O=0;O<f;O+=u){var L=(E+O)/o;if(!(L<0||L>=i.outHeight||Math.floor(L)!==L))for(var R=0;R<p;R+=d){var P=(I+R)/l;if(!(P<0||P>=i.outWidth||Math.floor(P)!==P)){var F=f*p-1-x.get(N,L,P,j)===O*p+R?1:0;F!==0&&(D+=b.get(N,L,P,j)*F)}}}y.set(D,N,w,C,j)}return y.toTensor()},t.prototype.avgPoolBackprop=function(r,n,a){dt([r,n],"avgPoolBackprop");for(var i=a.strideHeight,s=a.strideWidth,o=a.filterHeight,l=a.filterWidth,u=a.dilationHeight,d=a.dilationWidth,f=a.effectiveFilterHeight,p=a.effectiveFilterWidth,h=p-1-a.padInfo.left,g=f-1-a.padInfo.top,y=vr(n.shape,"float32"),x=1/(o*l),b=this.bufferSync(r),N=0;N<a.batchSize;++N)for(var j=0;j<a.inChannels;++j)for(var w=0;w<a.inHeight;++w)for(var C=0;C<a.inWidth;++C){for(var E=w-g,I=C-h,D=0,O=0;O<f;O+=u){var L=(E+O)/i;if(!(L<0||L>=a.outHeight||Math.floor(L)!==L))for(var R=0;R<p;R+=d){var P=(I+R)/s;P<0||P>=a.outWidth||Math.floor(P)!==P||(D+=b.get(N,L,P,j))}}y.set(D*x,N,w,C,j)}return y.toTensor()},t.prototype.pool3d=function(r,n,a){dt(r,"pool3d");for(var i=n.strideDepth,s=n.strideHeight,o=n.strideWidth,l=n.dilationDepth,u=n.dilationHeight,d=n.dilationWidth,f=n.effectiveFilterDepth,p=n.effectiveFilterHeight,h=n.effectiveFilterWidth,g=n.padInfo.front,y=n.padInfo.top,x=n.padInfo.left,b=a==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,N=this.readSync(r.dataId),j=vr(n.outShape,r.dtype),w=j.values,C=n.outShape[1]*n.outShape[2]*n.outShape[3]*n.outShape[4],E=n.outShape[2]*n.outShape[3]*n.outShape[4],I=n.outShape[3]*n.outShape[4],D=n.outShape[4],O=0;O<n.batchSize;++O)for(var L=O*C,R=O*r.strides[0],P=0;P<n.inChannels;++P)for(var F=0;F<n.outDepth;++F){for(var V=F*i-g,X=V;X<0;)X+=l;for(var te=Math.min(n.inDepth,f+V),q=L+F*E,U=0;U<n.outHeight;++U){for(var Q=U*s-y,se=Q;se<0;)se+=u;for(var K=Math.min(n.inHeight,p+Q),T=q+U*I,W=0;W<n.outWidth;++W){for(var J=W*o-x,Y=J;Y<0;)Y+=d;for(var ee=Math.min(n.inWidth,h+J),ae=T+W*D,pe=b,de=0,we=0,Ae=X;Ae<te;Ae+=l){for(var Se=R+Ae*r.strides[1],Ge=se;Ge<K;Ge+=u){for(var ke=Se+Ge*r.strides[2],Z=Y;Z<ee;Z+=d){var Qe=N[ke+Z*r.strides[3]+P];if(a==="max"&&Qe>pe?pe=Qe:a==="avg"&&(de+=Qe,we++),isNaN(pe))break}if(isNaN(pe))break}if(isNaN(pe))break}w[ae+P]=a==="avg"?de/we:pe}}}return j.toTensor()},t.prototype.avgPool3d=function(r,n){return dt(r,"avgPool3d"),this.pool3d(r,n,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(r,n,a){dt([r,n],"avgPool3dBackprop");for(var i=a.strideDepth,s=a.strideHeight,o=a.strideWidth,l=a.filterDepth,u=a.filterHeight,d=a.filterWidth,f=a.dilationDepth,p=a.dilationHeight,h=a.dilationWidth,g=a.effectiveFilterDepth,y=a.effectiveFilterHeight,x=a.effectiveFilterWidth,b=g-1-a.padInfo.front,N=x-1-a.padInfo.left,j=y-1-a.padInfo.top,w=vr(n.shape,"float32"),C=1/(l*u*d),E=this.bufferSync(r),I=0;I<a.batchSize;++I)for(var D=0;D<a.inChannels;++D)for(var O=0;O<a.inDepth;++O)for(var L=0;L<a.inHeight;++L)for(var R=0;R<a.inWidth;++R){for(var P=O-b,F=L-j,V=R-N,X=0,te=0;te<g;te+=f){var q=(P+te)/i;if(!(q<0||q>=a.outDepth||Math.floor(q)!==q))for(var U=0;U<y;U+=p){var Q=(F+U)/s;if(!(Q<0||Q>=a.outHeight||Math.floor(Q)!==Q))for(var se=0;se<x;se+=h){var K=(V+se)/o;K<0||K>=a.outWidth||Math.floor(K)!==K||(X+=E.get(I,q,Q,K,D))}}}w.set(X*C,I,O,L,R,D)}return w.toTensor()},t.prototype.maxPool3d=function(r,n){return dt(r,"maxPool3d"),this.pool3d(r,n,"max").toFloat()},t.prototype.maxPool3dPositions=function(r,n){for(var a=vr(n.outShape,"int32"),i=n.strideDepth,s=n.strideHeight,o=n.strideWidth,l=n.dilationDepth,u=n.dilationHeight,d=n.dilationWidth,f=n.effectiveFilterDepth,p=n.effectiveFilterHeight,h=n.effectiveFilterWidth,g=n.padInfo.front,y=n.padInfo.top,x=n.padInfo.left,b=this.bufferSync(r),N=0;N<n.batchSize;++N)for(var j=0;j<n.inChannels;++j)for(var w=0;w<n.outDepth;++w){for(var C=w*i-g,E=C;E<0;)E+=l;for(var I=Math.min(n.inDepth,f+C),D=0;D<n.outHeight;++D){for(var O=D*s-y,L=O;L<0;)L+=u;for(var R=Math.min(n.inHeight,p+O),P=0;P<n.outWidth;++P){for(var F=P*o-x,V=F;V<0;)V+=d;for(var X=Math.min(n.inWidth,h+F),te=Number.NEGATIVE_INFINITY,q=-1,U=E;U<I;U+=l)for(var Q=U-C,se=L;se<R;se+=u)for(var K=se-O,T=V;T<X;T+=d){var W=T-F,J=b.get(N,U,se,T,j);J>=te&&(te=J,q=Q*p*h+K*p+W)}a.set(q,N,w,D,P,j)}}}return a.toTensor()},t.prototype.maxPool3dBackprop=function(r,n,a,i){dt([n,a],"maxPool3dBackprop");for(var s=this.maxPool3dPositions(n,i),o=i.strideDepth,l=i.strideHeight,u=i.strideWidth,d=i.dilationDepth,f=i.dilationHeight,p=i.dilationWidth,h=i.effectiveFilterDepth,g=i.effectiveFilterHeight,y=i.effectiveFilterWidth,x=h-1-i.padInfo.front,b=y-1-i.padInfo.left,N=g-1-i.padInfo.top,j=vr(n.shape,"float32"),w=this.bufferSync(s),C=this.bufferSync(r),E=0;E<i.batchSize;++E)for(var I=0;I<i.inChannels;++I)for(var D=0;D<i.inDepth;++D)for(var O=0;O<i.inHeight;++O)for(var L=0;L<i.inWidth;++L){for(var R=D-x,P=O-N,F=L-b,V=0,X=0;X<h;X+=d){var te=(R+X)/o;if(!(te<0||te>=i.outDepth||Math.floor(te)!==te))for(var q=0;q<g;q+=f){var U=(P+q)/l;if(!(U<0||U>=i.outHeight||Math.floor(U)!==U))for(var Q=0;Q<y;Q+=p){var se=(F+Q)/u;if(!(se<0||se>=i.outWidth||Math.floor(se)!==se)){var K=h*g*y-1-w.get(E,te,U,se,I)===X*g*y+q*y+Q?1:0;K!==0&&(V+=C.get(E,te,U,se,I)*K)}}}}j.set(V,E,D,O,L,I)}return j.toTensor()},t.prototype.cast=function(r,n){return QJ(r,n,this)},t.prototype.reshape=function(r,n){return Dk(r,n)},t.prototype.avgPool=function(r,n){return dt(r,"avgPool"),this.pool(r,n,"avg").toFloat()},t.prototype.resizeBilinear=function(r,n,a,i){dt(r,"resizeBilinear");for(var s=r.shape,o=s[0],l=s[1],u=s[2],d=s[3],f=this.readSync(r.dataId),p=new Float32Array(Ut([o,n,a,d])),h=[i&&n>1?l-1:l,i&&a>1?u-1:u],g=[i&&n>1?n-1:n,i&&a>1?a-1:a],y=0,x=h[0]/g[0],b=h[1]/g[1],N=0;N<o;N++)for(var j=0;j<n;j++)for(var w=x*j,C=Math.floor(w),E=w-C,I=Math.min(l-1,Math.ceil(w)),D=N*r.strides[0]+C*r.strides[1],O=N*r.strides[0]+I*r.strides[1],L=0;L<a;L++)for(var R=b*L,P=Math.floor(R),F=R-P,V=Math.min(u-1,Math.ceil(R)),X=D+P*r.strides[2],te=O+P*r.strides[2],q=D+V*r.strides[2],U=O+V*r.strides[2],Q=0;Q<d;Q++){var se=f[X+Q],K=f[te+Q],T=se+(f[q+Q]-se)*F,W=T+(K+(f[U+Q]-K)*F-T)*E;p[y++]=W}return Ui(p,[o,n,a,d])},t.prototype.resizeBilinearBackprop=function(r,n,a){dt([r,n],"resizeBilinearBackprop");for(var i=n.shape,s=i[0],o=i[1],l=i[2],u=i[3],d=r.shape,f=d[1],p=d[2],h=new Float32Array(s*o*l*u),g=[a&&f>1?o-1:o,a&&p>1?l-1:l],y=[a&&f>1?f-1:f,a&&p>1?p-1:p],x=g[0]/y[0],b=g[1]/y[1],N=this.readSync(r.dataId),j=0,w=0;w<s;w++)for(var C=w*n.strides[0],E=0;E<f;E++)for(var I=E*x,D=Math.floor(I),O=Math.min(Math.ceil(I),o-1),L=C+D*n.strides[1],R=C+O*n.strides[1],P=I-D,F=1-P,V=0;V<p;V++)for(var X=V*b,te=Math.floor(X),q=Math.min(Math.ceil(X),l-1),U=X-te,Q=1-U,se=L+te*n.strides[2],K=L+q*n.strides[2],T=R+te*n.strides[2],W=R+q*n.strides[2],J=F*Q,Y=F*U,ee=P*Q,ae=P*U,pe=0;pe<u;pe++){var de=N[j++];h[se+pe]+=de*J,h[K+pe]+=de*Y,h[T+pe]+=de*ee,h[W+pe]+=de*ae}return fo(h,[s,l,o,u],n.dtype)},t.prototype.resizeNearestNeighbor=function(r,n,a,i){dt(r,"resizeNearestNeighbor");for(var s=r.shape,o=s[0],l=s[1],u=s[2],d=s[3],f=this.readSync(r.dataId),p=new Float32Array(o*n*a*d),h=[i&&n>1?l-1:l,i&&a>1?u-1:u],g=[i&&n>1?n-1:n,i&&a>1?a-1:a],y=h[0]/g[0],x=h[1]/g[1],b=0,N=0;N<o;N++)for(var j=N*r.strides[0],w=0;w<n;w++)for(var C=y*w,E=j+Math.min(l-1,i?Math.round(C):Math.floor(C))*r.strides[1],I=0;I<a;I++)for(var D=x*I,O=E+Math.min(u-1,i?Math.round(D):Math.floor(D))*r.strides[2],L=0;L<d;L++){var R=f[O+L];p[b++]=R}return Ui(p,[o,n,a,d],r.dtype)},t.prototype.resizeNearestNeighborBackprop=function(r,n,a){dt([r,n],"resizeNearestNeighborBackprop");for(var i=n.shape,s=i[0],o=i[1],l=i[2],u=i[3],d=r.shape,f=d[1],p=d[2],h=new Float32Array(s*o*l*u),g=this.readSync(r.dataId),y=[a&&f>1?o-1:o,a&&p>1?l-1:l],x=[a&&f>1?f-1:f,a&&p>1?p-1:p],b=y[0]/x[0],N=y[1]/x[1],j=1/b,w=1/N,C=2*Math.ceil(j)+2,E=2*Math.ceil(w)+2,I=0;I<s;I++)for(var D=I*n.strides[0],O=0;O<o;O++)for(var L=D+O*n.strides[1],R=Math.floor(O*j),P=Math.floor(R-C/2),F=0;F<l;F++)for(var V=L+F*n.strides[2],X=Math.floor(F*w),te=Math.floor(X-E/2),q=0;q<u;q++){for(var U=0,Q=0;Q<C;Q++){var se=Q+P;if(!(se<0||se>=f)){var K=D+se*r.strides[1],T=se*b;if(O===Math.min(o-1,a?Math.round(T):Math.floor(T)))for(var W=0;W<E;W++){var J=W+te;if(!(J<0||J>=p)){var Y=K+J*r.strides[2],ee=J*N;F===Math.min(l-1,a?Math.round(ee):Math.floor(ee))&&(U+=g[Y+q])}}}}h[V+q]=U}return fo(h,n.shape,n.dtype)},t.prototype.batchNormalization=function(r,n,a,i,s,o){dt([r,n,a,s,o],"batchNorm");for(var l=this.readSync(r.dataId),u=this.readSync(n.dataId),d=this.readSync(a.dataId),f=s?this.readSync(s.dataId):new Float32Array([1]),p=o?this.readSync(o.dataId):new Float32Array([0]),h=new Float32Array(l.length),g=p.length,y=f.length,x=d.length,b=u.length,N=0,j=0,w=0,C=0,E=0;E<l.length;++E)h[E]=p[N++]+(l[E]-u[j++])*f[w++]/Math.sqrt(d[C++]+i),N>=g&&(N=0),j>=b&&(j=0),w>=y&&(w=0),C>=x&&(C=0);return fo(h,r.shape)},t.prototype.localResponseNormalization4D=function(r,n,a,i,s){dt(r,"localResponseNormalization4D");var o=r.shape[3],l=o-1,u=this.readSync(r.dataId),d=r.size,f=new Float32Array(d);function p(x){for(var b=x%o,N=x-b+Math.max(0,b-n),j=x-b+Math.min(b+n,l),w=0;N<=j;N++){var C=u[N];w+=C*C}return w}for(var h=0;h<d;h++){var g=p(h),y=u[h]*Math.pow(a+i*g,-s);f[h]=y}return fo(f,r.shape)},t.prototype.LRNGrad=function(r,n,a,i,s,o,l){dt(r,"LRNGrad");for(var u=r.shape[3],d=this.readSync(r.dataId),f=this.readSync(n.dataId),p=this.readSync(a.dataId),h=new Float32Array(r.size),g=r.size,y=0;y<g;y++){for(var x=y%u,b=y-x+Math.max(0,x-i),N=y-x+Math.min(u,x+i+1),j=0,w=b;w<N;w++)j+=Math.pow(f[w],2);for(j=o*j+s,w=b;w<N;w++){var C=-2*o*l*f[w]*p[y]/j;y===w&&(C+=Math.pow(j,-l)),C*=d[y],h[w]+=C}}return fo(h,r.shape)},t.prototype.multinomial=function(r,n,a,i){dt(r,"multinomial");for(var s=n?r:df(r),o=s.shape[0],l=s.shape[1],u=Dn([o,a],"int32"),d=this.readSync(u.dataId),f=this.readSync(s.dataId),p=0;p<o;++p){var h=p*l,g=new Float32Array(l-1);g[0]=f[h];for(var y=1;y<g.length;++y)g[y]=g[y-1]+f[h+y];for(var x=f4(i.toString()),b=p*a,N=0;N<a;++N){var j=x();d[b+N]=g.length;for(var w=0;w<g.length;w++)if(j<g[w]){d[b+N]=w;break}}}return u},t.prototype.oneHot=function(r,n,a,i){dt(r,"oneHot");var s=new Float32Array(r.size*n);s.fill(i);for(var o=this.readSync(r.dataId),l=0;l<r.size;++l)o[l]>=0&&o[l]<n&&(s[l*n+o[l]]=a);return Nh(s,[r.size,n],"int32")},t.prototype.nonMaxSuppression=function(r,n,a,i,s){return dt(r,"nonMaxSuppression"),LD(this.readSync(r.dataId),this.readSync(n.dataId),a,i,s)},t.prototype.fft=function(r){return this.fftBatch(r,!1)},t.prototype.ifft=function(r){return this.fftBatch(r,!0)},t.prototype.fftBatch=function(r,n){for(var a=r.shape[0],i=r.shape[1],s=vr(r.shape,"float32"),o=vr(r.shape,"float32"),l=$l(r).as2D(a,i),u=mu(r).as2D(a,i),d=0;d<a;d++)for(var f=l.slice([d,0],[1,i]),p=u.slice([d,0],[1,i]),h=Bi(f,p),g=this.readSync(this.fftImpl(h,n).dataId),y=0;y<i;y++){var x=VL(g,y);s.values[d*i+y]=x.real,o.values[d*i+y]=x.imag}return Bi(s.toTensor(),o.toTensor()).as2D(a,i)},t.prototype.fftImpl=function(r,n){var a=r.as1D(),i=a.size;if(this.isExponentOf2(i)){var s=this.fftRadix2(a,i,n).as2D(r.shape[0],r.shape[1]);return n&&(s=Bi($l(s).div(St(i)),mu(s).div(St(i)))),s}var o=this.readSync(r.dataId),l=(function(u){for(var d=new Float32Array(u.length/2),f=new Float32Array(u.length/2),p=0;p<u.length;p+=2)d[p/2]=u[p],f[p/2]=u[p+1];return{real:d,imag:f}})(this.fourierTransformByMatmul(o,i,n));return Bi(l.real,l.imag).as2D(r.shape[0],r.shape[1])},t.prototype.isExponentOf2=function(r){return(r&r-1)==0},t.prototype.fftRadix2=function(r,n,a){if(n===1)return r;var i=this.readSync(r.dataId),s=n/2,o=(function(b){for(var N=Math.ceil(b.length/4),j=new Float32Array(N),w=new Float32Array(N),C=0;C<b.length;C+=4)j[Math.floor(C/4)]=b[C],w[Math.floor(C/4)]=b[C+1];return{real:j,imag:w}})(i),l=Bi(o.real,o.imag).as1D(),u=(function(b){for(var N=Math.floor(b.length/4),j=new Float32Array(N),w=new Float32Array(N),C=2;C<b.length;C+=4)j[Math.floor(C/4)]=b[C],w[Math.floor(C/4)]=b[C+1];return{real:j,imag:w}})(i),d=Bi(u.real,u.imag).as1D();l=this.fftRadix2(l,s,a),d=this.fftRadix2(d,s,a);var f=(function(b,N){for(var j=new Float32Array(b/2),w=new Float32Array(b/2),C=0;C<Math.ceil(b/2);C++){var E=(N?2:-2)*Math.PI*(C/b);j[C]=Math.cos(E),w[C]=Math.sin(E)}return{real:j,imag:w}})(n,a),p=Bi(f.real,f.imag).mul(d),h=l.add(p),g=l.sub(p),y=$l(h).concat($l(g)),x=mu(h).concat(mu(g));return Bi(y,x).as1D()},t.prototype.fourierTransformByMatmul=function(r,n,a){for(var i=new Float32Array(2*n),s=0;s<n;s++){for(var o=0,l=0,u=0;u<n;u++){var d=n1e(s*u,n,a),f=VL(r,u);o+=f.real*d.real-f.imag*d.imag,l+=f.real*d.imag+f.imag*d.real}a&&(o/=n,l/=n),r1e(i,o,l,s)}return i},t.prototype.depthToSpace=function(r,n,a){ye(a==="NHWC",(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+a})),ye(n>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: "+n}));for(var i=r.shape[0],s=r.shape[1],o=r.shape[2],l=r.shape[3],u=s*n,d=o*n,f=l/(n*n),p=this.readSync(r.dataId),h=new Float32Array(i*u*d*f),g=0,y=0;y<i;++y)for(var x=0;x<u;++x)for(var b=Math.floor(x/n),N=x%n,j=0;j<d;++j)for(var w=Math.floor(j/n),C=(N*n+j%n)*f,E=0;E<f;++E){var I=E+C+l*(w+o*(b+s*y));h[g++]=p[I]}return fo(h,[i,u,d,f])},t.prototype.broadcastedBinaryOp=function(r,n,a,i){var s=kr(r.shape,n.shape),o=vr(s,a),l=this.readSync(r.dataId),u=this.readSync(n.dataId),d=mh(r.shape,s),f=mh(n.shape,s),p=o.values;if(d.length+f.length===0)for(var h=0;h<p.length;++h)p[h]=i(l[h%l.length],u[h%u.length]);else{var g=this.bufferSync(r),y=this.bufferSync(n),x=function(b){var N=o.indexToLoc(b),j=N.slice(-r.rank);d.forEach((function(I){return j[I]=0}));var w=g.locToIndex(j),C=N.slice(-n.rank);f.forEach((function(I){return C[I]=0}));var E=y.locToIndex(C);p[b]=i(l[w],u[E])};for(h=0;h<p.length;++h)x(h)}return o.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(r,n,a){var i=kr(r.shape,n.shape),s=vr(i,"float32"),o=vr(i,"float32"),l=this.readSync(r.dataId),u=this.readSync(n.dataId),d=mh(r.shape,i),f=mh(n.shape,i),p=s.values,h=o.values;if(d.length+f.length===0)for(var g=0;g<p.length;g++){var y=g%l.length,x=g%u.length,b=a(l[2*y],l[2*y+1],u[2*x],u[2*x+1]);p[g]=b.real,h[g]=b.imag}else{var N=this.bufferSync(this.data.get(r.dataId).complexTensors.real),j=this.bufferSync(this.data.get(n.dataId).complexTensors.real),w=function(C){var E=s.indexToLoc(C),I=E.slice(-r.rank);d.forEach((function(P){return I[P]=0}));var D=N.locToIndex(I),O=E.slice(-n.rank);f.forEach((function(P){return O[P]=0}));var L=j.locToIndex(O),R=a(l[2*D],l[2*D+1],u[2*L],u[2*L+1]);p[C]=R.real,h[C]=R.imag};for(g=0;g<p.length;g++)w(g)}return this.complex(s.toTensor(),o.toTensor())},t.prototype.split=function(r,n,a){return rZ(r,n,a)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(r,n,a,i,s,o){for(var l=r.shape,u=l[0],d=l[1],f=l[2],p=l[3],h=n.shape[0],g=i[0],y=i[1],x=vr([h,g,y,p],"float32"),b=this.readSync(n.dataId),N=this.readSync(a.dataId),j=this.readSync(r.dataId),w=r.strides,C=x.strides,E=0;E<h;E++){var I=4*E,D=b[I],O=b[I+1],L=b[I+2],R=b[I+3],P=N[E];if(!(P>=u))for(var F=g>1?(L-D)*(d-1)/(g-1):0,V=y>1?(R-O)*(f-1)/(y-1):0,X=0;X<g;X++){var te=g>1?D*(d-1)+X*F:.5*(D+L)*(d-1);if(te<0||te>d-1)for(var q=0;q<y;q++)for(var U=0;U<p;U++){var Q=U+q*C[2]+X*C[1]+E*C[0];x.values[Q]=o}else if(s==="bilinear"){var se=Math.floor(te),K=Math.ceil(te),T=te-se;for(q=0;q<y;q++)if((Ae=y>1?O*(f-1)+q*V:.5*(O+R)*(f-1))<0||Ae>f-1)for(U=0;U<p;U++)Q=U+q*C[2]+X*C[1]+E*C[0],x.values[Q]=o;else{var W=Math.floor(Ae),J=Math.ceil(Ae),Y=Ae-W;for(U=0;U<p;U++){var ee=j[Q=U+W*w[2]+se*w[1]+P*w[0]],ae=j[Q=U+J*w[2]+se*w[1]+P*w[0]],pe=j[Q=U+W*w[2]+K*w[1]+P*w[0]],de=ee+(ae-ee)*Y,we=pe+(j[Q=U+J*w[2]+K*w[1]+P*w[0]]-pe)*Y;Q=U+q*C[2]+X*C[1]+E*C[0],x.values[Q]=de+(we-de)*T}}}else for(q=0;q<y;++q){var Ae;if((Ae=y>1?O*(f-1)+q*V:.5*(O+R)*(f-1))<0||Ae>f-1)for(U=0;U<p;U++)Q=U+q*C[2]+X*C[1]+E*C[0],x.values[Q]=o;else{var Se=Math.round(Ae),Ge=Math.round(te);for(U=0;U<p;U++){var ke=U+Se*w[2]+Ge*w[1]+P*w[0],Z=U+q*C[2]+X*C[1]+E*C[0];x.values[Z]=j[ke]}}}}}return x.toTensor()},t.prototype.sparseToDense=function(r,n,a,i){var s=Mw(0,r,a),o=s.sliceRank,l=s.numUpdates,u=s.sliceSize,d=s.strides,f=s.outputSize;return this.scatter(r,n,a,f,u,l,o,d,i,!1)},t.prototype.gatherND=function(r,n){var a=n.shape,i=a[a.length-1],s=HJ(r,n),o=s[0],l=s[1],u=s[2],d=s[3];if(l===0)return Ui([],o,r.dtype);for(var f=new cy([l,u],r.dtype),p=this.readSync(n.dataId),h=this.readSync(r.dataId),g=0;g<l;g++){for(var y=[],x=0,b=0;b<i;b++){var N=p[g*i+b];x+=N*d[b],y.push(N)}if(x<0||x>=r.size/u)throw new Error("Invalid indices: "+y+" does not index into "+r.shape);for(var j=0;j<u;j++)f.values[g*u+j]=h[x*u+j]}return f.toTensor().reshape(o)},t.prototype.scatterND=function(r,n,a){var i=Mw(0,r,a),s=i.sliceRank,o=i.numUpdates,l=i.sliceSize,u=i.strides,d=i.outputSize,f=St(0);return this.scatter(r,n,a,d,l,o,s,u,f,!0)},t.prototype.fill=function(r,n,a){var i=Cw(a=a||t1(n),Ut(r));return i.fill(n),Oe.makeTensor(i,r,a,this)},t.prototype.onesLike=function(r){if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");return this.fill(r.shape,1,r.dtype)},t.prototype.zerosLike=function(r){var n=Cw(r.dtype,Ut(r.shape));return this.makeOutput(n,r.shape,r.dtype)},t.prototype.linspace=function(r,n,a){return eZ(r,n,a)},t.prototype.scatter=function(r,n,a,i,s,o,l,u,d,f){var p=[i/s,s],h=this.readSync(r.dataId),g=this.readSync(n.dataId);if(i===0)return Ui([],a,n.dtype);var y=new cy(p,n.dtype);y.values.fill(this.readSync(d.dataId)[0]);for(var x=0;x<o;x++){for(var b=[],N=0,j=0;j<l;j++){var w=h[x*l+j];b.push(w),N+=w*u[j]}if(N<0||N>=i/s)throw new Error("Invalid indices: "+b+" does not index into "+a);for(var C=0;C<s;C++)f?y.values[N*s+C]+=g[x*s+C]:y.values[N*s+C]=n.rank===0?g[0]:g[x*s+C]}return y.toTensor().reshape(a)},t})(JJ);Oe.registerBackend("cpu",(function(){return new S5e}),1);for(var w6=0,hF=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t,i=a.boxes,s=a.scores,o=n,l=o.maxOutputSize,u=o.iouThreshold,d=o.scoreThreshold,f=o.softNmsSigma,p=r;dt(i,"NonMaxSuppressionWithScore");var h=FD(p.data.get(i.dataId).values,p.data.get(s.dataId).values,l,u,d,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.x,a=r;dt(n,"square");for(var i=a.data.get(n.dataId).values,s=new Float32Array(i.length),o=0;o<i.length;++o){var l=i[o];s[o]=l*l}return{dataId:a.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},{kernelName:fy,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t,a=n.a,i=n.b,s=r;dt([a,i],fy);var o=s.data.get(a.dataId).values,l=s.data.get(i.dataId).values,u=(function(p,h,g,y,x,b){var N=kr(p,h),j=N.length,w=_u(N),C=ly(x,Ut(N)),E=p.length,I=h.length,D=_u(p),O=_u(h),L=mh(p,N),R=mh(h,N);if(L.length+R.length===0)for(var P=0;P<C.length;++P)C[P]=b(g[P%g.length],y[P%y.length]);else{var F=function(V){var X=Oxe(V,j,w),te=X.slice(-E);L.forEach((function(se){return te[se]=0}));var q=RL(te,E,D),U=X.slice(-I);R.forEach((function(se){return U[se]=0}));var Q=RL(U,I,O);C[V]=b(g[q],y[Q])};for(P=0;P<C.length;++P)F(P)}return[C,N]})(a.shape,i.shape,o,l,a.dtype,(function(p,h){var g=p-h;return g*g})),d=u[0],f=u[1];return{dataId:s.write(d,f,a.dtype),shape:f,dtype:a.dtype}}}];w6<hF.length;w6++)CJ(hF[w6]);var Eg,j5e=function(e){this.variableNames=["A"];var t=vs(),r=e[0],n=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(`+n+".0, "+r+`.0);

        vec4 values = `+t.texture2D+`(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `},C5e=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=vs(),r=e[0],n=e[1];this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(`+n+".0, "+r+`.0);
            vec4 values = `+t.texture2D+`(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        `+t.output+` = result;
      }
    `};for(var N6=0,pF=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs,a=t.pixels,i=n.numChannels,s=typeof HTMLVideoElement<"u"&&a instanceof HTMLVideoElement,o=typeof HTMLImageElement<"u"&&a instanceof HTMLImageElement,l=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],u=l[0],d=l[1],f=[d,u],p=[d,u,i];(o||s)&&(Eg==null&&(Eg=document.createElement("canvas").getContext("2d")),Eg.canvas.width=u,Eg.canvas.height=d,Eg.drawImage(a,0,0,u,d),a=Eg.canvas);var h=r.makeTensorInfo(f,"int32");r.texData.get(h.dataId).usage=Xo.PIXELS,r.gpgpu.uploadPixelDataToTexture(r.getTexture(h.dataId),a);var g=nt().getBool("WEBGL_PACK")?new C5e(p):new j5e(p),y=r.runWebGLProgram(g,[h],"int32");return r.disposeData(h.dataId),y}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=e.attrs;kw("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var a=t,i=a.boxes,s=a.scores,o=n,l=o.maxOutputSize,u=o.iouThreshold,d=o.scoreThreshold,f=o.softNmsSigma,p=r,h=FD(p.readSync(i.dataId),p.readSync(s.dataId),l,u,d,f);return[h.selectedIndices,h.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t.x,a=r,i=new yr(n.shape,"return x * x;");return a.runWebGLProgram(i,[n],n.dtype)}},{kernelName:fy,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,r=e.backend,n=t,a=n.a,i=n.b,s=r,o=nt().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Od("return (a - b) * (a - b);",a.shape,i.shape):new wa("return (a - b) * (a - b);",a.shape,i.shape);return s.compileAndRun(o,[a,i])}}];N6<pF.length;N6++)CJ(pF[N6]);for(var S6=0,mF=[{kernelName:"Square",gradFunc:function(e,t){var r=t[0];return{x:function(){return e.mul(r.toFloat().mul(2))}}}},{kernelName:fy,gradFunc:function(e,t){var r=t[0],n=t[1],a=St(2);return{a:function(){return ws(e,ws(a,oi(r,n)))},b:function(){return ws(e,ws(a,oi(n,r)))}}}}];S6<mF.length;S6++)Nxe(mF[S6]);var _5e=(function(){function e(){}return e.prototype.fetch=function(t,r){return fetch(t,r)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(t,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Browser's encoder only supports utf-8, but got "+r);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(t)},e.prototype.decode=function(t,r){return new TextDecoder(r).decode(t)},e})();nt().get("IS_BROWSER")&&nt().setPlatform("browser",new _5e);var j6,E5e=function(){return require("node-fetch")},P5e=(function(){function e(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(t,r){return nt().global.fetch!=null?nt().global.fetch(t,r):(j6==null&&(j6=E5e()),j6(t,r))},e.prototype.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6},e.prototype.encode=function(t,r){if(r!=="utf-8"&&r!=="utf8")throw new Error("Node built-in encoder only supports utf-8, but got "+r);return this.textEncoder.encode(t)},e.prototype.decode=function(t,r){return t.length===0?"":new this.util.TextDecoder(r).decode(t)},e})();nt().get("IS_NODE")&&nt().setPlatform("node",new P5e);var Ik={float32:4,int32:4,uint16:2,uint8:1,bool:1},Uw=4;function YZ(e,t){for(var r={},n=0,a=function(o){var l=o.name,u=o.dtype,d=o.shape,f=Ut(d),p=void 0;if("quantization"in o){var h=o.quantization;if(h.dtype!=="uint8"&&h.dtype!=="uint16")throw new Error("Weight "+o.name+" has unknown quantization dtype "+h.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var g=Ik[h.dtype],y=e.slice(n,n+f*g),x=h.dtype==="uint8"?new Uint8Array(y):new Uint16Array(y);if(u==="float32")p=Float32Array.from(x,(function(E){return E*h.scale+h.min}));else{if(u!=="int32")throw new Error("Unsupported dtype in weight '"+l+"': "+u);p=Int32Array.from(x,(function(E){return Math.round(E*h.scale+h.min)}))}n+=f*g}else if(u==="string"){var b=Ut(o.shape);p=[];for(var N=0;N<b;N++){var j=new Uint32Array(e.slice(n,n+Uw))[0];n+=Uw;var w=new Uint8Array(e.slice(n,n+j));p.push(w),n+=j}}else{var C=Ik[u];if(y=e.slice(n,n+f*C),u==="float32")p=new Float32Array(y);else if(u==="int32")p=new Int32Array(y);else{if(u!=="bool")throw new Error("Unsupported dtype in weight '"+l+"': "+u);p=new Uint8Array(y)}n+=f*C}r[l]=Ui(p,d,u)},i=0,s=t;i<s.length;i++)a(s[i]);return r}function k5e(e){if(e===null)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,r=[];e.forEach((function(i){if(t+=i.byteLength,r.push(i.byteLength===i.buffer.byteLength?i:new i.constructor(i)),!(i instanceof Float32Array||i instanceof Int32Array||i instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+i.constructor.name)}));var n=new Uint8Array(t),a=0;return r.forEach((function(i){n.set(new Uint8Array(i.buffer),a),a+=i.byteLength})),n.buffer}var Mk=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function gF(e){return Mk?Buffer.byteLength(e):new Blob([e]).size}function nT(e){var t=0;e.forEach((function(a){t+=a.byteLength}));var r=new Uint8Array(t),n=0;return e.forEach((function(a){r.set(new Uint8Array(a),n),n+=a.byteLength})),r.buffer}function vF(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function l1(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:e.modelTopology==null?0:gF(JSON.stringify(e.modelTopology)),weightSpecsBytes:e.weightSpecs==null?0:gF(JSON.stringify(e.weightSpecs)),weightDataBytes:e.weightData==null?0:e.weightData.byteLength}}var Jo=(function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,r){return e.getHandlers(t,"load",r)},e.getHandlers=function(t,r,n){var a=[];return(r==="load"?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(i){var s=i(t,n);s!==null&&a.push(s)})),a},e})(),s0="://",Sh=(function(){function e(){this.managers={}}return e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance},e.registerManager=function(t,r){ye(t!=null,(function(){return"scheme must not be undefined or null."})),t.endsWith(s0)&&(t=t.slice(0,t.indexOf(s0))),ye(t.length>0,(function(){return"scheme must not be an empty string."}));var n=e.getInstance();ye(n.managers[t]==null,(function(){return"A model store manager is already registered for scheme '"+t+"'."})),n.managers[t]=r},e.getManager=function(t){var r=this.getInstance().managers[t];if(r==null)throw new Error("Cannot find model manager for scheme '"+t+"'");return r},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e})();function Fb(e){if(e.indexOf(s0)===-1)throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+Sh.getSchemes().join(","));return{scheme:e.split(s0)[0],path:e.split(s0)[1]}}function xF(e,t,r){return r===void 0&&(r=!1),Rt(this,void 0,void 0,(function(){var n,a,i,s,o,l,u,d,f;return Lt(this,(function(p){switch(p.label){case 0:return ye(e!==t,(function(){return"Old path and new path are the same: '"+e+"'"})),ye((n=Jo.getLoadHandlers(e)).length>0,(function(){return"Copying failed because no load handler is found for source URL "+e+"."})),ye(n.length<2,(function(){return"Copying failed because more than one ("+n.length+") load handlers for source URL "+e+"."})),a=n[0],ye((i=Jo.getSaveHandlers(t)).length>0,(function(){return"Copying failed because no save handler is found for destination URL "+t+"."})),ye(i.length<2,(function(){return"Copying failed because more than one ("+n.length+") save handlers for destination URL "+t+"."})),s=i[0],o=Fb(e).scheme,l=Fb(e).path,u=o===Fb(e).scheme,[4,a.load()];case 1:return d=p.sent(),r&&u?[4,Sh.getManager(o).removeModel(l)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,s.save(d)];case 4:return f=p.sent(),!r||u?[3,6]:[4,Sh.getManager(o).removeModel(l)];case 5:p.sent(),p.label=6;case 6:return[2,f.modelArtifactsInfo]}}))}))}var Yp="models_store",gh="model_info_store";function KZ(){if(!nt().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(t==null)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Rk(e){var t=e.result;t.createObjectStore(Yp,{keyPath:"modelPath"}),t.createObjectStore(gh,{keyPath:"modelPath"})}var o0=(function(){function e(t){if(this.indexedDB=KZ(),t==null||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return e.prototype.save=function(t){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,t)]}))}))},e.prototype.load=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(t){return[2,this.databaseAction(this.modelPath)]}))}))},e.prototype.databaseAction=function(t,r){var n=this;return new Promise((function(a,i){var s=n.indexedDB.open("tensorflowjs",1);s.onupgradeneeded=function(){return Rk(s)},s.onsuccess=function(){var o=s.result;if(r==null){var l=o.transaction(Yp,"readonly"),u=l.objectStore(Yp).get(n.modelPath);u.onsuccess=function(){if(u.result==null)return o.close(),i(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));a(u.result.modelArtifacts)},u.onerror=function(y){return o.close(),i(u.error)},l.oncomplete=function(){return o.close()}}else{var d,f=l1(r),p=o.transaction(gh,"readwrite"),h=p.objectStore(gh),g=h.put({modelPath:n.modelPath,modelArtifactsInfo:f});g.onsuccess=function(){var y=(d=o.transaction(Yp,"readwrite")).objectStore(Yp).put({modelPath:n.modelPath,modelArtifacts:r,modelArtifactsInfo:f});y.onsuccess=function(){return a({modelArtifactsInfo:f})},y.onerror=function(x){var b=(h=p.objectStore(gh)).delete(n.modelPath);b.onsuccess=function(){return o.close(),i(y.error)},b.onerror=function(N){return o.close(),i(y.error)}}},g.onerror=function(y){return o.close(),i(g.error)},p.oncomplete=function(){d==null?o.close():d.oncomplete=function(){return o.close()}}}},s.onerror=function(o){return i(s.error)}}))},e.URL_SCHEME="indexeddb://",e})(),yF=function(e){return nt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(o0.URL_SCHEME)?(t=e.slice(o0.URL_SCHEME.length),new o0(t)):null;var t};Jo.registerSaveRouter(yF),Jo.registerLoadRouter(yF);var A5e=(function(){function e(){this.indexedDB=KZ()}return e.prototype.listModels=function(){return Rt(this,void 0,void 0,(function(){var t=this;return Lt(this,(function(r){return[2,new Promise((function(n,a){var i=t.indexedDB.open("tensorflowjs",1);i.onupgradeneeded=function(){return Rk(i)},i.onsuccess=function(){var s=i.result,o=s.transaction(gh,"readonly"),l=o.objectStore(gh).getAll();l.onsuccess=function(){for(var u={},d=0,f=l.result;d<f.length;d++){var p=f[d];u[p.modelPath]=p.modelArtifactsInfo}n(u)},l.onerror=function(u){return s.close(),a(l.error)},o.oncomplete=function(){return s.close()}},i.onerror=function(s){return a(i.error)}}))]}))}))},e.prototype.removeModel=function(t){return Rt(this,void 0,void 0,(function(){var r=this;return Lt(this,(function(n){var a;return t=(a=t).startsWith(o0.URL_SCHEME)?a.slice(o0.URL_SCHEME.length):a,[2,new Promise((function(i,s){var o=r.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return Rk(o)},o.onsuccess=function(){var l,u=o.result,d=u.transaction(gh,"readwrite"),f=d.objectStore(gh),p=f.get(t);p.onsuccess=function(){if(p.result==null)return u.close(),s(new Error("Cannot find model with path '"+t+"' in IndexedDB."));var h=f.delete(t),g=function(){var y=(l=u.transaction(Yp,"readwrite")).objectStore(Yp).delete(t);y.onsuccess=function(){return i(p.result.modelArtifactsInfo)},y.onerror=function(x){return s(p.error)}};h.onsuccess=g,h.onerror=function(y){return g(),u.close(),s(p.error)}},p.onerror=function(h){return u.close(),s(p.error)},d.oncomplete=function(){l==null?u.close():l.oncomplete=function(){return u.close()}}},o.onerror=function(l){return s(o.error)}}))]}))}))},e})();if(nt().getBool("IS_BROWSER"))try{Sh.registerManager(o0.URL_SCHEME,new A5e)}catch{}var Rd="/",zg="tensorflowjs_models",XZ="info",D5e="model_topology",T5e="weight_specs",O5e="weight_data",I5e="model_metadata";function JZ(e){return{info:[zg,e,XZ].join(Rd),topology:[zg,e,D5e].join(Rd),weightSpecs:[zg,e,T5e].join(Rd),weightData:[zg,e,O5e].join(Rd),modelMetadata:[zg,e,I5e].join(Rd)}}function M5e(e){var t=e.split(Rd);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(Rd)}var l0=(function(){function e(t){if(!nt().getBool("IS_BROWSER")||typeof window>"u"||window.localStorage===void 0)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,t==null||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=JZ(this.modelPath)}return e.prototype.save=function(t){return Rt(this,void 0,void 0,(function(){var r,n,a;return Lt(this,(function(i){if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");r=JSON.stringify(t.modelTopology),n=JSON.stringify(t.weightSpecs),a=l1(t);try{return this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,(function(s){if(Mk)return Buffer.from(s).toString("base64");for(var o=new Uint8Array(s),l="",u=0,d=o.length;u<d;u++)l+=String.fromCharCode(o[u]);return btoa(l)})(t.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata})),[2,{modelArtifactsInfo:a}]}catch{throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+a.modelTopologyBytes+", weightSpecsBytes="+a.weightSpecsBytes+", weightDataBytes="+a.weightDataBytes+".")}return[2]}))}))},e.prototype.load=function(){return Rt(this,void 0,void 0,(function(){var t,r,n,a,i,s,o;return Lt(this,(function(l){if((t=JSON.parse(this.LS.getItem(this.keys.info)))==null)throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if(t.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(r={},(n=JSON.parse(this.LS.getItem(this.keys.topology)))==null)throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(r.modelTopology=n,(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))==null)throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(r.weightSpecs=a,(i=this.LS.getItem(this.keys.modelMetadata))!=null&&(s=JSON.parse(i),r.format=s.format,r.generatedBy=s.generatedBy,r.convertedBy=s.convertedBy,r.userDefinedMetadata=s.userDefinedMetadata),(o=this.LS.getItem(this.keys.weightData))==null)throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return r.weightData=(function(u){if(Mk){var d=Buffer.from(u,"base64");return d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength)}for(var f=atob(u),p=new Uint8Array(f.length),h=0;h<f.length;++h)p.set([f.charCodeAt(h)],h);return p.buffer})(o),[2,r]}))}))},e.URL_SCHEME="localstorage://",e})(),bF=function(e){return nt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(l0.URL_SCHEME)?(t=e.slice(l0.URL_SCHEME.length),new l0(t)):null;var t};Jo.registerSaveRouter(bF),Jo.registerLoadRouter(bF);var R5e=(function(){function e(){ye(nt().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),ye(typeof window>"u"||window.localStorage!==void 0,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return e.prototype.listModels=function(){return Rt(this,void 0,void 0,(function(){var t,r,n,a,i,s;return Lt(this,(function(o){for(t={},r=zg+Rd,n=Rd+XZ,a=0;a<this.LS.length;++a)(i=this.LS.key(a)).startsWith(r)&&i.endsWith(n)&&(s=M5e(i),t[s]=JSON.parse(this.LS.getItem(i)));return[2,t]}))}))},e.prototype.removeModel=function(t){return Rt(this,void 0,void 0,(function(){var r,n;return Lt(this,(function(a){var i;if(t=(i=t).startsWith(l0.URL_SCHEME)?i.slice(l0.URL_SCHEME.length):i,r=JZ(t),this.LS.getItem(r.info)==null)throw new Error("Cannot find model at path '"+t+"'");return n=JSON.parse(this.LS.getItem(r.info)),this.LS.removeItem(r.info),this.LS.removeItem(r.topology),this.LS.removeItem(r.weightSpecs),this.LS.removeItem(r.weightData),[2,n]}))}))},e})();if(nt().getBool("IS_BROWSER"))try{Sh.registerManager(l0.URL_SCHEME,new R5e)}catch{}var L5e="model",F5e=".json",B5e=".weights.bin";function wF(e){return new Promise((function(t){return setTimeout(t)})).then(e)}var C6=(function(){function e(t){if(!nt().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),t!=null&&t.length!==0||(t=L5e),this.modelTopologyFileName=t+F5e,this.weightDataFileName=t+B5e}return e.prototype.save=function(t){return Rt(this,void 0,void 0,(function(){var r,n,a,i,s,o;return Lt(this,(function(l){switch(l.label){case 0:if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(r=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:n},i=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(s=this.jsonAnchor==null?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,s.href=i,[4,wF((function(){return s.dispatchEvent(new MouseEvent("click"))}))];case 2:return l.sent(),t.weightData==null?[3,4]:((o=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,o.href=r,[4,wF((function(){return o.dispatchEvent(new MouseEvent("click"))}))]);case 3:l.sent(),l.label=4;case 4:return[2,{modelArtifactsInfo:l1(t)}]}}))}))},e.URL_SCHEME="downloads://",e})(),z5e=(function(){function e(t){if(t==null||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+t);this.files=t}return e.prototype.load=function(){return Rt(this,void 0,void 0,(function(){var t,r,n=this;return Lt(this,(function(a){return t=this.files[0],r=this.files.slice(1),[2,new Promise((function(i,s){var o=new FileReader;o.onload=function(l){var u=JSON.parse(l.target.result),d=u.modelTopology;if(d!=null){r.length===0&&i({modelTopology:d});var f=u.weightsManifest;if(f!=null){var p;try{p=n.checkManifestAndWeightFiles(f,r)}catch(x){return void s(x)}var h=[],g=[],y=[];f.forEach((function(x){x.paths.forEach((function(b){g.push(b),y.push(null)})),h.push.apply(h,x.weights)})),f.forEach((function(x){x.paths.forEach((function(b){var N=new FileReader;N.onload=function(j){var w=j.target.result,C=g.indexOf(b);y[C]=w,y.indexOf(null)===-1&&i({modelTopology:d,weightSpecs:h,weightData:nT(y),format:u.format,generatedBy:u.generatedBy,convertedBy:u.convertedBy,userDefinedMetadata:u.userDefinedMetadata})},N.onerror=function(j){return s("Failed to weights data from file of path '"+b+"'.")},N.readAsArrayBuffer(p[b])}))}))}else s(new Error("weightManifest field is missing from file "+t.name))}else s(new Error("modelTopology field is missing from file "+t.name))},o.onerror=function(l){return s("Failed to read model topology and weights manifest JSON from file '"+t.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},o.readAsText(t)}))]}))}))},e.prototype.checkManifestAndWeightFiles=function(t,r){for(var n=[],a=r.map((function(l){return vF(l.name)})),i={},s=0,o=t;s<o.length;s++)o[s].paths.forEach((function(l){var u=vF(l);if(n.indexOf(u)!==-1)throw new Error("Duplicate file basename found in weights manifest: '"+u+"'");if(n.push(u),a.indexOf(u)===-1)throw new Error("Weight file with basename '"+u+"' is not provided.");i[l]=r[a.indexOf(u)]}));if(n.length!==r.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+r.length+").");return i},e})();function NF(e,t,r,n){(function(i){ye(i!=null&&Array.isArray(i)&&i.length>0,(function(){return"promises must be a none empty array"}))})(e),(function(i,s){ye(i>=0&&i<=1,(function(){return"Progress fraction must be in range [0, 1], but got startFraction "+i})),ye(s>=0&&s<=1,(function(){return"Progress fraction must be in range [0, 1], but got endFraction "+s})),ye(s>=i,(function(){return"startFraction must be no more than endFraction, but got startFraction "+i+" and endFraction "+s}))})(r=r??0,n=n??1);var a=0;return Promise.all(e.map((function(i){return i.then((function(s){var o=r+ ++a/e.length*(n-r);return t(o),s})),i})))}function ZZ(e,t){return Rt(this,void 0,void 0,(function(){var r,n,a,i,s,o,l,u,d;return Lt(this,(function(f){switch(f.label){case 0:return t==null&&(t={}),r=t.fetchFunc==null?nt().platform.fetch:t.fetchFunc,n=e.map((function(p){return r(p,t.requestInit,{isBinary:!0})})),a=0,i=.5,t.onProgress!=null?[3,2]:[4,Promise.all(n)];case 1:return s=f.sent(),[3,4];case 2:return[4,NF(n,t.onProgress,a,i)];case 3:s=f.sent(),f.label=4;case 4:return o=s.map((function(p){return p.arrayBuffer()})),l=.5,u=1,t.onProgress!=null?[3,6]:[4,Promise.all(o)];case 5:return d=f.sent(),[3,8];case 6:return[4,NF(o,t.onProgress,l,u)];case 7:d=f.sent(),f.label=8;case 8:return[2,d]}}))}))}function SF(e){var t=this;return function(r,n,a){return n===void 0&&(n=""),Rt(t,void 0,void 0,(function(){var i,s,o,l,u,d,f,p,h,g;return Lt(this,(function(y){switch(y.label){case 0:if(i=r.map((function(){return!1})),s={},o=a!=null?a.map((function(){return!1})):[],l=[],r.forEach((function(x,b){var N=0;x.weights.forEach((function(j){var w="quantization"in j?j.quantization.dtype:j.dtype,C=Ik[w]*Ut(j.shape),E=function(){i[b]=!0,s[b]==null&&(s[b]=[]),s[b].push({manifestEntry:j,groupOffset:N,sizeBytes:C})};a!=null?a.forEach((function(I,D){I===j.name&&(E(),o[D]=!0)})):E(),l.push(j.name),N+=C}))})),!o.every((function(x){return x})))throw u=a.filter((function(x,b){return!o[b]})),new Error("Could not find weights in manifest with names: "+u.join(", ")+`. 
Manifest JSON has weights with names: `+l.join(", ")+".");return d=i.reduce((function(x,b,N){return b&&x.push(N),x}),[]),f=[],d.forEach((function(x){r[x].paths.forEach((function(b){var N=n+(n.endsWith("/")?"":"/")+b;f.push(N)}))})),[4,e(f)];case 1:return p=y.sent(),h={},g=0,d.forEach((function(x){for(var b=r[x].paths.length,N=0,j=0;j<b;j++)N+=p[g+j].byteLength;for(var w=new ArrayBuffer(N),C=new Uint8Array(w),E=0,I=0;I<b;I++){var D=new Uint8Array(p[g+I]);C.set(D,E),E+=D.byteLength}s[x].forEach((function(O){var L=YZ(w.slice(O.groupOffset,O.groupOffset+O.sizeBytes),[O.manifestEntry]);for(var R in L)h[R]=L[R]})),g+=b})),[2,h]}}))}))}}Jo.registerSaveRouter((function(e){return nt().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(C6.URL_SCHEME)?(function(t){return t===void 0&&(t="model"),new C6(t)})(e.slice(C6.URL_SCHEME.length)):null}));var QZ=(function(){function e(t,r){if(this.DEFAULT_METHOD="POST",r==null&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,r.fetchFunc!=null?(ye(typeof r.fetchFunc=="function",(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=r.fetchFunc):this.fetch=nt().platform.fetch,ye(t!=null&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&ye(t.length===2,(function(){return"URL paths for http must have a length of 2, (actual length is "+t.length+")."})),this.path=t,r.requestInit!=null&&r.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}return e.prototype.save=function(t){return Rt(this,void 0,void 0,(function(){var r,n,a,i;return Lt(this,(function(s){switch(s.label){case 0:if(t.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,userDefinedMetadata:t.userDefinedMetadata,weightsManifest:n},r.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),t.weightData!=null&&r.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,r)];case 1:if((i=s.sent()).ok)return[2,{modelArtifactsInfo:l1(t),responses:[i]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+i.status+".")}}))}))},e.prototype.load=function(){return Rt(this,void 0,void 0,(function(){var t,r,n,a,i,s,o,l,u,d,f,p;return Lt(this,(function(h){switch(h.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(t=h.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+t.status+". Please verify this URL points to the model JSON of the model to load.");h.label=2;case 2:return h.trys.push([2,4,,5]),[4,t.json()];case 3:return r=h.sent(),[3,5];case 4:throw h.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(a=r.modelTopology,i=r.weightsManifest,s=r.generatedBy,o=r.convertedBy,l=r.format,u=r.userDefinedMetadata,a==null&&i==null)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return i==null?[3,7]:[4,this.loadWeights(i)];case 6:p=h.sent(),d=p[0],f=p[1],h.label=7;case 7:return[2,{modelTopology:a,weightSpecs:d,weightData:f,userDefinedMetadata:u,generatedBy:s,convertedBy:o,format:l}]}}))}))},e.prototype.loadWeights=function(t){return Rt(this,void 0,void 0,(function(){var r,n,a,i,s,o,l,u,d,f,p;return Lt(this,(function(h){switch(h.label){case 0:for(r=Array.isArray(this.path)?this.path[1]:this.path,n=(function(g){var y=g.lastIndexOf("/"),x=g.lastIndexOf("?"),b=g.substring(0,y),N=x>y?g.substring(x):"";return[b+"/",N]})(r),a=n[0],i=n[1],s=this.weightPathPrefix||a,o=[],l=0,u=t;l<u.length;l++)d=u[l],o.push.apply(o,d.weights);return f=[],t.forEach((function(g){g.paths.forEach((function(y){f.push(s+y+i)}))})),[4,ZZ(f,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return p=h.sent(),[2,[o,nT(p)]]}}))}))},e.URL_SCHEME_REGEX=/^https?:\/\//,e})();function Lk(e){return e.match(QZ.URL_SCHEME_REGEX)!=null}var jF=function(e,t){return typeof fetch>"u"?null:(Array.isArray(e)?e.every((function(r){return Lk(r)})):Lk(e))?Fk(e,{onProgress:t}):null};function Fk(e,t){return new QZ(e,t)}Jo.registerSaveRouter(jF),Jo.registerLoadRouter(jF);var _6=(function(){function e(t){this.modelArtifacts=t}return e.prototype.load=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(t){return[2,this.modelArtifacts]}))}))},e})(),W5e=(function(){function e(t){this.saveHandler=t}return e.prototype.save=function(t){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){return[2,this.saveHandler(t)]}))}))},e})(),eQ=Object.freeze({browserFiles:function(e){return new z5e(e)},browserHTTPRequest:function(e,t){return Fk(e,t)},concatenateArrayBuffers:nT,decodeWeights:YZ,encodeWeights:function(e,t){return Rt(this,void 0,void 0,(function(){var r,n,a,i,s,o=this;return Lt(this,(function(l){switch(l.label){case 0:for(r=[],n=[],a=Array.isArray(e)?e.map((function(u){return u.name})):Object.keys(e),i=function(u){var d=a[u],f=Array.isArray(e)?e[u].tensor:e[d];if(f.dtype!=="float32"&&f.dtype!=="int32"&&f.dtype!=="bool"&&f.dtype!=="string")throw new Error("Unsupported dtype in weight '"+d+"': "+f.dtype);var p={name:d,shape:f.shape,dtype:f.dtype};if(f.dtype==="string"){var h=new Promise((function(g){return Rt(o,void 0,void 0,(function(){var y,x,b,N,j,w,C;return Lt(this,(function(E){switch(E.label){case 0:return[4,f.bytes()];case 1:for(y=E.sent(),x=y.reduce((function(I,D){return I+D.length}),0)+Uw*y.length,b=new Uint8Array(x),N=0,j=0;j<y.length;j++)w=y[j],C=new Uint8Array(new Uint32Array([w.length]).buffer),b.set(C,N),N+=Uw,b.set(w,N),N+=w.length;return g(b),[2]}}))}))}));n.push(h)}else n.push(f.data());t!=null&&(p.group=t),r.push(p)},s=0;s<a.length;++s)i(s);return[4,Promise.all(n)];case 1:return[2,{data:k5e(l.sent()),specs:r}]}}))}))},fromMemory:function(e,t,r,n){return arguments.length===1?e.modelTopology!=null||e.weightSpecs!=null?new _6(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _6({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new _6({modelTopology:e,weightSpecs:t,weightData:r,trainingConfig:n}))},getLoadHandlers:function(e,t){return Jo.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:l1,getSaveHandlers:function(e){return Jo.getSaveHandlers(e)},http:Fk,isHTTPScheme:Lk,loadWeights:function(e,t,r,n){return t===void 0&&(t=""),Rt(this,void 0,void 0,(function(){return Lt(this,(function(a){return[2,SF((function(i){return ZZ(i,{requestInit:n})}))(e,t,r)]}))}))},registerLoadRouter:function(e){return Jo.registerLoadRouter(e)},registerSaveRouter:function(e){return Jo.registerSaveRouter(e)},weightsLoaderFactory:SF,withSaveHandler:function(e){return new W5e(e)},copyModel:function(e,t){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){return[2,xF(e,t,!1)]}))}))},listModels:function(){return Rt(this,void 0,void 0,(function(){var e,t,r,n,a,i,s;return Lt(this,(function(o){switch(o.label){case 0:e=Sh.getSchemes(),t={},r=0,n=e,o.label=1;case 1:return r<n.length?(a=n[r],[4,Sh.getManager(a).listModels()]):[3,4];case 2:for(s in i=o.sent())t[a+s0+s]=i[s];o.label=3;case 3:return r++,[3,1];case 4:return[2,t]}}))}))},moveModel:function(e,t){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){return[2,xF(e,t,!0)]}))}))},removeModel:function(e){return Rt(this,void 0,void 0,(function(){var t;return Lt(this,(function(r){return t=Fb(e),[2,Sh.getManager(t.scheme).removeModel(t.path)]}))}))}}),Pg;Ce({confusionMatrix_:function(e,t,r){var n=he(e,"labels","confusionMatrix"),a=he(t,"predictions","confusionMatrix");ye(r==null||r>0&&Number.isInteger(r),(function(){return"If provided, numClasses must be a positive integer, but got "+r})),ye(n.rank===1,(function(){return"Expected the rank of labels to be 1, but got "+n.rank})),ye(a.rank===1,(function(){return"Expected the rank of predictions to be 1, but got "+a.rank})),ye(n.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+n.shape[0]+" vs. "+a.shape[0]+". Labels and predictions should have the same number of elements."})),ye(r>0&&Number.isInteger(r),(function(){return"numClasses is required to be a positive integer, but got "+r}));var i=kk(n.asType("int32"),r),s=kk(a.asType("int32"),r);return i.transpose().matMul(s).asType("int32")}});var U5e=Ce({fromPixels_:function(e,t){if(t===void 0&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(e==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var r=!1,n=!1,a=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)r=!0;else if(typeof ImageData<"u"&&e instanceof ImageData)n=!0;else if(typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement)i=!0;else{if(e.getContext==null)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);s=!0}if(a&&a&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(jJ("FromPixels",Oe.backendName)!=null)return Oe.runKernel("FromPixels",{pixels:e},{numChannels:t});var o,l,u=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],d=u[0],f=u[1];if(s?o=e.getContext("2d").getImageData(0,0,d,f).data:n||r?o=e.data:(i||a)&&(Pg==null&&(Pg=document.createElement("canvas").getContext("2d")),Pg.canvas.width=d,Pg.canvas.height=f,Pg.drawImage(e,0,0,d,f),o=Pg.getImageData(0,0,d,f).data),t===4)l=new Int32Array(o);else{var p=d*f;l=new Int32Array(p*t);for(var h=0;h<p;h++)for(var g=0;g<t;++g)l[h*t+g]=o[4*h+g]}return TD(l,[f,d,t],"int32")}}),aT=Object.freeze({toPixels:function(e,t){return Rt(this,void 0,void 0,(function(){var r,n,a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D;return Lt(this,(function(O){switch(O.label){case 0:if(r=he(e,"img","toPixels"),e instanceof oa||(r=r.toInt()),r.rank!==2&&r.rank!==3)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+r.rank+".");if(n=r.shape.slice(0,2),a=n[0],i=n[1],(s=r.rank===2?1:r.shape[2])>4||s===2)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+s);return[4,r.data()];case 1:return o=O.sent(),l=r.min(),u=r.max(),[4,Promise.all([l.data(),u.data()])];case 2:if(d=O.sent(),f=d[0],p=d[1],h=f[0],g=p[0],l.dispose(),u.dispose(),r.dtype==="float32"){if(h<0||g>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+h+" - "+g+"].")}else{if(r.dtype!=="int32")throw new Error("Unsupported type for toPixels: "+r.dtype+". Please use float32 or int32 tensors.");if(h<0||g>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+h+" - "+g+"].")}for(y=r.dtype==="float32"?255:1,x=new Uint8ClampedArray(i*a*4),b=0;b<a*i;++b)N=void 0,j=void 0,w=void 0,C=void 0,s===1?(N=o[b]*y,j=o[b]*y,w=o[b]*y,C=255):s===3?(N=o[3*b]*y,j=o[3*b+1]*y,w=o[3*b+2]*y,C=255):s===4&&(N=o[4*b]*y,j=o[4*b+1]*y,w=o[4*b+2]*y,C=o[4*b+3]*y),x[(E=4*b)+0]=Math.round(N),x[E+1]=Math.round(j),x[E+2]=Math.round(w),x[E+3]=Math.round(C);return t!=null&&(t.width=i,t.height=a,I=t.getContext("2d"),D=new ImageData(x,i,a),I.putImageData(D,0,0)),r!==e&&r.dispose(),[2,x]}}))}))},fromPixels:U5e}),$5e=(function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(t,r){return new t(r)},e})(),q5e=(function(){function e(){this.classNameMap={}}return e.getMap=function(){return e.instance==null&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e})();function Rm(e){ye(e.className!=null,(function(){return"Class being registered does not have the static className property defined."})),ye(typeof e.className=="string",(function(){return"className is required to be a string, but got type "+typeof e.className})),ye(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),q5e.register(e)}var Lm=(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Lc(t,e),t.prototype.minimize=function(r,n,a){n===void 0&&(n=!1);var i=this.computeGradients(r,a),s=i.value,o=i.grads;if(a!=null){var l=a.map((function(u){return{name:u.name,tensor:o[u.name]}}));this.applyGradients(l)}else this.applyGradients(o);return go(o),n?s:(s.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return this.iterations_==null&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(r,n){return e1e(r,n)},t.prototype.dispose=function(){this.iterations_!=null&&go(this.iterations_)},t.prototype.saveIterations=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){return this.iterations_==null&&(this.iterations_=0),[2,{name:"iter",tensor:St(this.iterations_,"int32")}]}))}))},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){throw new Error("getWeights() is not implemented for this optimizer yet.")}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(n){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())}))}))},t.prototype.extractIterations=function(r){return Rt(this,void 0,void 0,(function(){var n;return Lt(this,(function(a){switch(a.label){case 0:return n=this,[4,r[0].tensor.data()];case 1:return n.iterations_=a.sent()[0],[2,r.slice(1)]}}))}))},t})($5e);Object.defineProperty(Lm,Symbol.hasInstance,{value:function(e){return e.minimize!=null&&e.computeGradients!=null&&e.applyGradients!=null}});var V5e=(function(e){function t(r,n,a){a===void 0&&(a=null);var i=e.call(this)||this;return i.learningRate=r,i.rho=n,i.epsilon=a,i.accumulatedGrads=[],i.accumulatedUpdates=[],a==null&&(i.epsilon=Oe.backend.epsilon()),i}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map((function(a){return a.name})):Object.keys(r)).forEach((function(a,i){var s=Oe.registeredVariables[a];n.accumulatedGrads[i]==null&&(n.accumulatedGrads[i]={originalName:a+"/accum_grad",variable:Pt((function(){return Mr(s).variable(!1)}))}),n.accumulatedUpdates[i]==null&&(n.accumulatedUpdates[i]={originalName:a+"/accum_var",variable:Pt((function(){return Mr(s).variable(!1)}))});var o=Array.isArray(r)?r[i].tensor:r[a];if(o!=null){var l=n.accumulatedGrads[i].variable,u=n.accumulatedUpdates[i].variable;Pt((function(){var d=l.mul(n.rho).add(o.square().mul(1-n.rho)),f=u.add(n.epsilon).sqrt().div(l.add(n.epsilon).sqrt()).mul(o),p=u.mul(n.rho).add(f.square().mul(1-n.rho));l.assign(d),u.assign(p);var h=f.mul(-n.learningRate).add(s);s.assign(h)}))}})),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedUpdates!=null&&(go(this.accumulatedGrads.map((function(r){return r.variable}))),go(this.accumulatedUpdates.map((function(r){return r.variable}))))},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){var r;return Lt(this,(function(n){switch(n.label){case 0:return r=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){var n;return Lt(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),n=r.length/2,this.accumulatedGrads=r.slice(0,n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),this.accumulatedUpdates=r.slice(n,2*n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(r,n){return new r(n.learningRate,n.rho,n.epsilon)},t.className="Adadelta",t})(Lm);Rm(V5e);var H5e=(function(e){function t(r,n){n===void 0&&(n=.1);var a=e.call(this)||this;return a.learningRate=r,a.initialAccumulatorValue=n,a.accumulatedGrads=[],a}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map((function(a){return a.name})):Object.keys(r)).forEach((function(a,i){var s=Oe.registeredVariables[a];n.accumulatedGrads[i]==null&&(n.accumulatedGrads[i]={originalName:a+"/accumulator",variable:Pt((function(){return Eu(s.shape,n.initialAccumulatorValue).variable(!1)}))});var o=Array.isArray(r)?r[i].tensor:r[a];if(o!=null){var l=n.accumulatedGrads[i].variable;Pt((function(){var u=l.add(o.square());l.assign(u);var d=o.div(u.add(Oe.backend.epsilon()).sqrt()).mul(-n.learningRate).add(s);s.assign(d)}))}})),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedGrads!=null&&go(this.accumulatedGrads.map((function(r){return r.variable})))},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulatedGrads.map((function(n){return{name:n.originalName,tensor:n.variable}})))]}}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:return r=n.sent(),this.accumulatedGrads=r.map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(r,n){return new r(n.learningRate,n.initialAccumulatorValue)},t.className="Adagrad",t})(Lm);Rm(H5e);var G5e=(function(e){function t(r,n,a,i){i===void 0&&(i=null);var s=e.call(this)||this;return s.learningRate=r,s.beta1=n,s.beta2=a,s.epsilon=i,s.accumulatedFirstMoment=[],s.accumulatedSecondMoment=[],Pt((function(){s.accBeta1=St(n).variable(),s.accBeta2=St(a).variable()})),i==null&&(s.epsilon=Oe.backend.epsilon()),s}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map((function(i){return i.name})):Object.keys(r);Pt((function(){var i=oi(1,n.accBeta1),s=oi(1,n.accBeta2);a.forEach((function(o,l){var u=Oe.registeredVariables[o];n.accumulatedFirstMoment[l]==null&&(n.accumulatedFirstMoment[l]={originalName:o+"/m",variable:Pt((function(){return Mr(u).variable(!1)}))}),n.accumulatedSecondMoment[l]==null&&(n.accumulatedSecondMoment[l]={originalName:o+"/v",variable:Pt((function(){return Mr(u).variable(!1)}))});var d=Array.isArray(r)?r[l].tensor:r[o];if(d!=null){var f=n.accumulatedFirstMoment[l].variable,p=n.accumulatedSecondMoment[l].variable,h=f.mul(n.beta1).add(d.mul(1-n.beta1)),g=p.mul(n.beta2).add(d.square().mul(1-n.beta2)),y=h.div(i),x=g.div(s);f.assign(h),p.assign(g);var b=y.div(x.sqrt().add(n.epsilon)).mul(-n.learningRate).add(u);u.assign(b)}})),n.accBeta1.assign(n.accBeta1.mul(n.beta1)),n.accBeta2.assign(n.accBeta2.mul(n.beta2))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&go(this.accumulatedFirstMoment.map((function(r){return r.variable}))),this.accumulatedSecondMoment!=null&&go(this.accumulatedSecondMoment.map((function(r){return r.variable})))},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){var r;return Lt(this,(function(n){switch(n.label){case 0:return r=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){var n,a=this;return Lt(this,(function(i){switch(i.label){case 0:return[4,this.extractIterations(r)];case 1:return r=i.sent(),Pt((function(){a.accBeta1.assign(zw(a.beta1,a.iterations_+1)),a.accBeta2.assign(zw(a.beta2,a.iterations_+1))})),n=r.length/2,this.accumulatedFirstMoment=r.slice(0,n).map((function(s){return{originalName:s.name,variable:s.tensor.variable(!1)}})),this.accumulatedSecondMoment=r.slice(n,2*n).map((function(s){return{originalName:s.name,variable:s.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon)},t.className="Adam",t})(Lm);Rm(G5e);var Y5e=(function(e){function t(r,n,a,i,s){i===void 0&&(i=null),s===void 0&&(s=0);var o=e.call(this)||this;return o.learningRate=r,o.beta1=n,o.beta2=a,o.epsilon=i,o.decay=s,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],Pt((function(){o.iteration=St(0).variable(),o.accBeta1=St(n).variable()})),i==null&&(o.epsilon=Oe.backend.epsilon()),o}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this,a=Array.isArray(r)?r.map((function(i){return i.name})):Object.keys(r);Pt((function(){var i=oi(1,n.accBeta1),s=Cc(-n.learningRate,n.iteration.mul(n.decay).add(1));a.forEach((function(o,l){var u=Oe.registeredVariables[o];n.accumulatedFirstMoment[l]==null&&(n.accumulatedFirstMoment[l]={originalName:o+"/m",variable:Mr(u).variable(!1)}),n.accumulatedWeightedInfNorm[l]==null&&(n.accumulatedWeightedInfNorm[l]={originalName:o+"/v",variable:Mr(u).variable(!1)});var d=Array.isArray(r)?r[l].tensor:r[o];if(d!=null){var f=n.accumulatedFirstMoment[l].variable,p=n.accumulatedWeightedInfNorm[l].variable,h=f.mul(n.beta1).add(d.mul(1-n.beta1)),g=p.mul(n.beta2),y=d.abs(),x=g.maximum(y);f.assign(h),p.assign(x);var b=s.div(i).mul(h.div(x.add(n.epsilon))).add(u);u.assign(b)}})),n.iteration.assign(n.iteration.add(1)),n.accBeta1.assign(n.accBeta1.mul(n.beta1))})),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&go(this.accumulatedFirstMoment.map((function(r){return r.variable}))),this.accumulatedWeightedInfNorm!=null&&go(this.accumulatedWeightedInfNorm.map((function(r){return r.variable})))},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){throw new Error("getWeights() is not implemented for Adamax yet.")}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(n){throw new Error("setWeights() is not implemented for Adamax yet.")}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(r,n){return new r(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)},t.className="Adamax",t})(Lm);Rm(Y5e);var tQ=(function(e){function t(r){var n=e.call(this)||this;return n.learningRate=r,n.setLearningRate(r),n}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map((function(a){return a.name})):Object.keys(r)).forEach((function(a,i){var s=Array.isArray(r)?r[i].tensor:r[a];if(s!=null){var o=Oe.registeredVariables[a];Pt((function(){var l=n.c.mul(s).add(o);o.assign(l)}))}})),this.incrementIterations()},t.prototype.setLearningRate=function(r){this.learningRate=r,this.c!=null&&this.c.dispose(),this.c=pye(St(-r))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()]]}}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:if((r=n.sent()).length!==0)throw new Error("SGD optimizer does not have settable weights.");return[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(r,n){return new r(n.learningRate)},t.className="SGD",t})(Lm);Rm(tQ);var K5e=(function(e){function t(r,n,a){a===void 0&&(a=!1);var i=e.call(this,r)||this;return i.learningRate=r,i.momentum=n,i.useNesterov=a,i.accumulations=[],i.m=St(i.momentum),i}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map((function(a){return a.name})):Object.keys(r)).forEach((function(a,i){var s=Oe.registeredVariables[a];n.accumulations[i]==null&&(n.accumulations[i]={originalName:a+"/momentum",variable:Pt((function(){return Mr(s).variable(!1)}))});var o=n.accumulations[i].variable,l=Array.isArray(r)?r[i].tensor:r[a];l!=null&&Pt((function(){var u,d=n.m.mul(o).add(l);u=n.useNesterov?n.c.mul(l.add(d.mul(n.m))).add(s):n.c.mul(d).add(s),o.assign(d),s.assign(u)}))})),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),this.accumulations!=null&&go(this.accumulations.map((function(r){return r.variable})))},t.prototype.setMomentum=function(r){this.momentum=r},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(r){switch(r.label){case 0:return[4,this.saveIterations()];case 1:return[2,[r.sent()].concat(this.accumulations.map((function(n){return{name:n.originalName,tensor:n.variable}})))]}}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){return Lt(this,(function(n){switch(n.label){case 0:return[4,this.extractIterations(r)];case 1:return r=n.sent(),this.accumulations=r.map((function(a){return{originalName:a.name,variable:a.tensor.variable(!1)}})),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(r,n){return new r(n.learningRate,n.momentum,n.useNesterov)},t.className="Momentum",t})(tQ);Rm(K5e);var X5e=(function(e){function t(r,n,a,i,s){n===void 0&&(n=.9),a===void 0&&(a=0),i===void 0&&(i=null),s===void 0&&(s=!1);var o=e.call(this)||this;if(o.learningRate=r,o.decay=n,o.momentum=a,o.epsilon=i,o.accumulatedMeanSquares=[],o.accumulatedMoments=[],o.accumulatedMeanGrads=[],o.centered=s,i==null&&(o.epsilon=Oe.backend.epsilon()),r==null)throw new Error("learningRate for RMSPropOptimizer must be defined.");return o}return Lc(t,e),t.prototype.applyGradients=function(r){var n=this;(Array.isArray(r)?r.map((function(a){return a.name})):Object.keys(r)).forEach((function(a,i){var s=Oe.registeredVariables[a];n.accumulatedMeanSquares[i]==null&&(n.accumulatedMeanSquares[i]={originalName:a+"/rms",variable:Pt((function(){return Mr(s).variable(!1)}))}),n.accumulatedMoments[i]==null&&(n.accumulatedMoments[i]={originalName:a+"/momentum",variable:Pt((function(){return Mr(s).variable(!1)}))}),n.accumulatedMeanGrads[i]==null&&n.centered&&(n.accumulatedMeanGrads[i]={originalName:a+"/mg",variable:Pt((function(){return Mr(s).variable(!1)}))});var o=Array.isArray(r)?r[i].tensor:r[a];if(o!=null){var l=n.accumulatedMeanSquares[i].variable,u=n.accumulatedMoments[i].variable;Pt((function(){var d=l.mul(n.decay).add(o.square().mul(1-n.decay));if(n.centered){var f=n.accumulatedMeanGrads[i].variable,p=f.mul(n.decay).add(o.mul(1-n.decay)),h=u.mul(n.momentum).add(o.mul(n.learningRate).div(d.sub(p.square().add(n.epsilon)).sqrt()));l.assign(d),f.assign(p),u.assign(h);var g=s.sub(h);s.assign(g)}else{var y=l.mul(n.decay).add(o.square().mul(1-n.decay));h=u.mul(n.momentum).add(o.mul(n.learningRate).div(y.add(n.epsilon).sqrt())),l.assign(y),u.assign(h),g=s.sub(h),s.assign(g)}}))}})),this.incrementIterations()},t.prototype.dispose=function(){this.accumulatedMeanSquares!=null&&go(this.accumulatedMeanSquares.map((function(r){return r.variable}))),this.accumulatedMeanGrads!=null&&this.centered&&go(this.accumulatedMeanGrads.map((function(r){return r.variable}))),this.accumulatedMoments!=null&&go(this.accumulatedMoments.map((function(r){return r.variable})))},t.prototype.getWeights=function(){return Rt(this,void 0,void 0,(function(){var r;return Lt(this,(function(n){switch(n.label){case 0:return r=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&r.push.apply(r,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[n.sent()].concat(r.map((function(a){return{name:a.originalName,tensor:a.variable}})))]}}))}))},t.prototype.setWeights=function(r){return Rt(this,void 0,void 0,(function(){var n;return Lt(this,(function(a){switch(a.label){case 0:return[4,this.extractIterations(r)];case 1:return r=a.sent(),n=this.centered?r.length/3:r.length/2,this.accumulatedMeanSquares=r.slice(0,n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),this.accumulatedMoments=r.slice(n,2*n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}})),this.centered&&(this.accumulatedMeanGrads=r.slice(2*n,3*n).map((function(i){return{originalName:i.name,variable:i.tensor.variable(!1)}}))),[2]}}))}))},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(r,n){return new r(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)},t.className="RMSProp",t})(Lm);Rm(X5e);oa.prototype.squaredDifference=function(e){return gZ(this,e)},Je=N5e;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bk=function(e,t){return Bk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])},Bk(e,t)};function mr(e,t){Bk(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ms=function(){return ms=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ms.apply(this,arguments)};function $t(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function l(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((n=n.apply(e,[])).next())})}function qt(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Bx(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,o=i.length;s<o;s++,a++)n[a]=i[s];return n}var c0=(function(){function e(t,r){if(!rm(t)||!rm(r))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:t,height:r}));this._width=t,this._height=r}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e})();function b4(e,t){return e instanceof oa&&e.shape.length===t}function J5e(e){return b4(e,2)}function w4(e){return b4(e,3)}function jh(e){return b4(e,4)}function Z5e(e){return e%1!==0}function CF(e){return e%2===0}function Q5e(e,t){t===void 0&&(t=2);var r=Math.pow(10,t);return Math.floor(e*r)/r}function _F(e){return e&&e.width&&e.height}function e4e(e,t){var r=e.width,n=e.height,a=t/Math.max(n,r);return new c0(Math.round(r*a),Math.round(n*a))}function iT(e){return e.reduce(function(t,r){return t.add(r)},new Jr(0,0)).div(new Jr(e.length,e.length))}function hy(e,t,r){return Array(e).fill(0).map(function(n,a){return t+a*r})}function rm(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||e===0}function EF(e){return rm(e)&&0<=e&&e<=1}var Jr=(function(){function e(t,r){this._x=t,this._y=r}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e})(),kh=(function(){function e(t,r){r===void 0&&(r=!0);var n=t||{},a=[n.left,n.top,n.right,n.bottom].every(rm),i=[n.x,n.y,n.width,n.height].every(rm);if(!i&&!a)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(n));var s=i?[n.x,n.y,n.width,n.height]:[n.left,n.top,n.right-n.left,n.bottom-n.top],o=s[0],l=s[1],u=s[2],d=s[3];e.assertIsValidBox({x:o,y:l,width:u,height:d},"Box.constructor",r),this._x=o,this._y=l,this._width=u,this._height=d}return e.isRect=function(t){return!!t&&[t.x,t.y,t.width,t.height].every(rm)},e.assertIsValidBox=function(t,r,n){if(n===void 0&&(n=!1),!e.isRect(t))throw new Error(r+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!n&&(t.width<0||t.height<0))throw new Error(r+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new Jr(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new Jr(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new Jr(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new Jr(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(s){return Math.round(s)}),r=t[0],n=t[1],a=t[2],i=t[3];return new e({x:r,y:n,width:a,height:i})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(s){return Math.floor(s)}),r=t[0],n=t[1],a=t[2],i=t[3];return new e({x:r,y:n,width:a,height:i})},e.prototype.toSquare=function(){var t=this,r=t.x,n=t.y,a=t.width,i=t.height,s=Math.abs(a-i);return a<i&&(r-=s/2,a+=s),i<a&&(n-=s/2,i+=s),new e({x:r,y:n,width:a,height:i})},e.prototype.rescale=function(t){var r=_F(t)?t.width:t,n=_F(t)?t.height:t;return new e({x:this.x*r,y:this.y*n,width:this.width*r,height:this.height*n})},e.prototype.pad=function(t,r){var n=[this.x-t/2,this.y-r/2,this.width+t,this.height+r],a=n[0],i=n[1],s=n[2],o=n[3];return new e({x:a,y:i,width:s,height:o})},e.prototype.clipAtImageBorders=function(t,r){var n=this,a=n.x,i=n.y,s=n.right,o=n.bottom,l=Math.max(a,0),u=Math.max(i,0),d=s-l,f=o-u,p=Math.min(d,t-l),h=Math.min(f,r-u);return new e({x:l,y:u,width:p,height:h}).floor()},e.prototype.shift=function(t,r){var n=this,a=n.width,i=n.height,s=this.x+t,o=this.y+r;return new e({x:s,y:o,width:a,height:i})},e.prototype.padAtBorders=function(t,r){var n=this.width+1,a=this.height+1,i=1,s=1,o=n,l=a,u=this.left,d=this.top,f=this.right,p=this.bottom;return f>r&&(o=-f+r+n,f=r),p>t&&(l=-p+t+a,p=t),u<1&&(l=2-u,u=1),d<1&&(l=2-d,d=1),{dy:s,edy:l,dx:i,edx:o,y:d,ey:p,x:u,ex:f,w:n,h:a}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e})(),N4=(function(e){mr(t,e);function t(r,n,a,i,s){return s===void 0&&(s=!1),e.call(this,{left:r,top:n,right:a,bottom:i},s)||this}return t})(kh),rQ=(function(){function e(t,r,n,a,i){this._imageDims=new c0(i.width,i.height),this._score=t,this._classScore=r,this._className=n,this._box=new kh(a).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new kh(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,r){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:r})},e})(),qu=(function(e){mr(t,e);function t(r,n,a){return e.call(this,r,r,"",n,a)||this}return t.prototype.forSize=function(r,n){var a=e.prototype.forSize.call(this,r,n),i=a.score,s=a.relativeBox,o=a.imageDims;return new t(i,s,o)},t})(rQ);function t4e(e,t,r){r===void 0&&(r=!0);var n=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left)),a=Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),i=n*a;return r?i/(e.area+t.area-i):i/Math.min(e.area,t.area)}function r4e(e){var t=e.map(function(o){return o.x}),r=e.map(function(o){return o.y}),n=t.reduce(function(o,l){return l<o?l:o},1/0),a=r.reduce(function(o,l){return l<o?l:o},1/0),i=t.reduce(function(o,l){return o<l?l:o},0),s=r.reduce(function(o,l){return o<l?l:o},0);return new N4(n,a,i,s)}function py(e,t,r,n){n===void 0&&(n=!0);for(var a=t.map(function(o,l){return{score:o,boxIndex:l}}).sort(function(o,l){return o.score-l.score}).map(function(o){return o.boxIndex}),i=[],s=function(){var o=a.pop();i.push(o);for(var l=a,u=[],d=0;d<l.length;d++){var f=l[d],p=e[o],h=e[f];u.push(t4e(p,h,n))}a=a.filter(function(g,y){return u[y]<=r})};a.length>0;)s();return i}function c1(e,t){return Pt(function(){var r=t[0],n=t[1],a=t[2],i=Eu(Bx(e.shape.slice(0,3),[1]),r),s=Eu(Bx(e.shape.slice(0,3),[1]),n),o=Eu(Bx(e.shape.slice(0,3),[1]),a),l=ai([i,s,o],3);return oi(e,l)})}function n4e(e,t){return t===void 0&&(t=!1),Pt(function(){var r=e.shape.slice(1),n=r[0],a=r[1];if(n===a)return e;var i=Math.abs(n-a),s=Math.round(i*(t?.5:1)),o=n>a?2:1,l=function(h){var g=e.shape.slice();return g[o]=h,Eu(g,0)},u=l(s),d=i-u.shape[o],f=t&&d?l(d):null,p=[f,e,u].filter(function(h){return!!h}).map(function(h){return h.toFloat()});return ai(p,o)})}function E6(e){return 1/(1+Math.exp(-e))}var sT=(function(e){mr(t,e);function t(r,n,a,i,s){return s===void 0&&(s=!1),e.call(this,{x:r,y:n,width:a,height:i},s)||this}return t})(kh),a4e=.5,i4e=.43,s4e=.45,$w=(function(){function e(t,r,n){n===void 0&&(n=new Jr(0,0));var a=r.width,i=r.height;this._imgDims=new c0(a,i),this._shift=n,this._positions=t.map(function(s){return s.mul(new Jr(a,i)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new Jr(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var t=this;return this._positions.map(function(r){return r.sub(t._shift).div(new Jr(t.imageWidth,t.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,r){return new this.constructor(this.relativePositions,{width:t,height:r})},e.prototype.shiftBy=function(t,r){return new this.constructor(this.relativePositions,this._imgDims,new Jr(t,r))},e.prototype.shiftByPoint=function(t){return this.shiftBy(t.x,t.y)},e.prototype.align=function(t,r){if(r===void 0&&(r={}),t){var n=t instanceof qu?t.box.floor():new kh(t);return this.shiftBy(n.x,n.y).align(null,r)}var a=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},r),i=a.useDlibAlignment,s=a.minBoxPadding;return i?this.alignDlib():this.alignMinBbox(s)},e.prototype.alignDlib=function(){var t=this.getRefPointsForAlignment(),r=t[0],n=t[1],a=t[2],i=function(f){return a.sub(f).magnitude()},s=(i(r)+i(n))/2,o=Math.floor(s/s4e),l=iT(t),u=Math.floor(Math.max(0,l.x-a4e*o)),d=Math.floor(Math.max(0,l.y-i4e*o));return new sT(u,d,Math.min(o,this.imageWidth+u),Math.min(o,this.imageHeight+d))},e.prototype.alignMinBbox=function(t){var r=r4e(this.positions);return r.pad(r.width*t,r.height*t)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e})(),o4e=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getRefPointsForAlignment=function(){var r=this.positions;return[r[0],r[1],iT([r[3],r[4]])]},t})($w),l4e=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(iT)},t})($w),PF=(function(){function e(t,r){this._label=t,this._distance=r}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){return t===void 0&&(t=!0),""+this.label+(t?" ("+Q5e(this.distance)+")":"")},e})(),kF=(function(e){mr(t,e);function t(r,n){var a=e.call(this,r)||this;return a._label=n,a}return t.assertIsValidLabeledBox=function(r,n){if(kh.assertIsValidBox(r,n),!rm(r.label))throw new Error(n+" - expected property label ("+r.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t})(kh),V2=(function(){function e(t,r){if(typeof t!="string")throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(r)||r.some(function(n){return!(n instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=t,this._descriptors=r}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(t){return Array.from(t)})}},e.fromJSON=function(t){var r=t.descriptors.map(function(n){return new Float32Array(n)});return new e(t.label,r)},e})();(function(e){mr(t,e);function t(r,n,a,i){var s=e.call(this,r,n)||this;return s._score=a,s._classScore=i,s}return t.assertIsValidPredictedBox=function(r,n){if(kF.assertIsValidLabeledBox(r,n),!EF(r.score)||!EF(r.classScore))throw new Error(n+" - expected properties score ("+r.score+") and ("+r.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),t})(kF);function c4e(e){return e.detection instanceof qu}function oT(e,t){var r={detection:t};return Object.assign({},e,r)}function nQ(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")},t=function(){throw new Error("readFile - filesystem not available for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D,Image:HTMLImageElement,ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:t}}function aQ(e){var t="";if(!e)try{e=require("fs")}catch(n){t=n.toString()}var r=e?function(n){return new Promise(function(a,i){e.readFile(n,function(s,o){return s?i(s):a(o)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:r}}function iQ(){var e=global.Canvas||global.HTMLCanvasElement,t=global.Image||global.HTMLImageElement,r=function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},n=function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},a=global.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},i=aQ();return ms({Canvas:e||(function(){function s(){}return s})(),CanvasRenderingContext2D:global.CanvasRenderingContext2D||(function(){function s(){}return s})(),Image:t||(function(){function s(){}return s})(),ImageData:global.ImageData||(function(){function s(){}return s})(),Video:global.HTMLVideoElement||(function(){function s(){}return s})(),createCanvasElement:r,createImageElement:n,fetch:a},i)}function sQ(){return typeof window=="object"&&typeof document<"u"&&typeof HTMLImageElement<"u"&&typeof HTMLCanvasElement<"u"&&typeof HTMLVideoElement<"u"&&typeof ImageData<"u"&&typeof CanvasRenderingContext2D<"u"}function oQ(){return typeof global=="object"&&typeof require=="function"&&typeof module<"u"&&typeof process<"u"&&!!process.version}var ei;function u4e(){if(!ei)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return ei}function zk(e){ei=e}function lT(){sQ()&&zk(nQ()),oQ()&&zk(iQ())}function d4e(e){if(ei||lT(),!ei)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,r=t===void 0?ei.Canvas:t,n=e.Image,a=n===void 0?ei.Image:n;ei.Canvas=r,ei.Image=a,ei.createCanvasElement=e.createCanvasElement||(function(){return new r}),ei.createImageElement=e.createImageElement||(function(){return new a}),ei.ImageData=e.ImageData||ei.ImageData,ei.Video=e.Video||ei.Video,ei.fetch=e.fetch||ei.fetch,ei.readFile=e.readFile||ei.readFile}var Vi={getEnv:u4e,setEnv:zk,initialize:lT,createBrowserEnv:nQ,createFileSystem:aQ,createNodejsEnv:iQ,monkeyPatch:d4e,isBrowser:sQ,isNodejs:oQ};lT();function lQ(e){return!Vi.isNodejs()&&typeof e=="string"?document.getElementById(e):e}function pm(e){var t=Vi.getEnv(),r=t.Canvas,n=t.CanvasRenderingContext2D;if(e instanceof n)return e;var a=lQ(e);if(!(a instanceof r))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var i=a.getContext("2d");if(!i)throw new Error("resolveContext2d - canvas 2d context is null");return i}var AF;(function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"})(AF||(AF={}));function cQ(e){var t=Vi.getEnv(),r=t.Image,n=t.Video;return e instanceof r&&e.complete||e instanceof n&&e.readyState>=3}function f4e(e){return new Promise(function(t,r){if(e instanceof Vi.getEnv().Canvas||cQ(e))return t();function n(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",n),i.currentTarget.removeEventListener("error",a),t(i))}function a(i){i.currentTarget&&(i.currentTarget.removeEventListener("load",n),i.currentTarget.removeEventListener("error",a),r(i))}e.addEventListener("load",n),e.addEventListener("error",a)})}function uQ(e){return new Promise(function(t,r){if(!(e instanceof Blob))return r("bufferToImage - expected buf to be of type: Blob");var n=new FileReader;n.onload=function(){if(typeof n.result!="string")return r("bufferToImage - expected reader.result to be a string, in onload");var a=Vi.getEnv().createImageElement();a.onload=function(){return t(a)},a.onerror=r,a.src=n.result},n.onerror=r,n.readAsDataURL(e)})}function dQ(e){var t=Vi.getEnv(),r=t.Image,n=t.Video;return e instanceof r?new c0(e.naturalWidth,e.naturalHeight):e instanceof n?new c0(e.videoWidth,e.videoHeight):new c0(e.width,e.height)}function S4(e){var t=e.width,r=e.height,n=Vi.getEnv().createCanvasElement,a=n();return a.width=t,a.height=r,a}function cT(e,t){var r=Vi.getEnv().ImageData;if(!(e instanceof r)&&!cQ(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var n=dQ(e),a=n.width,i=n.height,s=S4({width:a,height:i});return e instanceof r?pm(s).putImageData(e,0,0):pm(s).drawImage(e,0,0,a,i),s}function h4e(e,t){return $t(this,void 0,void 0,function(){var r,n,a,i,s,o;return qt(this,function(l){switch(l.label){case 0:return r=Vi.getEnv().createCanvasElement(),n=e.shape.slice(jh(e)?1:0),a=n[0],i=n[1],s=n[2],o=Pt(function(){return e.as3D(a,i,s).toInt()}),[4,aT.toPixels(o,r)];case 1:return l.sent(),o.dispose(),[2,r]}})})}function DF(e){var t=Vi.getEnv(),r=t.Image,n=t.Canvas,a=t.Video;return e instanceof r||e instanceof n||e instanceof a}function p4e(e,t,r){r===void 0&&(r=!1);var n=Vi.getEnv(),a=n.Image,i=n.Canvas;if(!(e instanceof a||e instanceof i))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var s=dQ(e),o=t/Math.max(s.height,s.width),l=o*s.width,u=o*s.height,d=S4({width:t,height:t}),f=e instanceof i?e:cT(e),p=Math.abs(l-u)/2,h=r&&l<u?p:0,g=r&&u<l?p:0;return pm(d).drawImage(f,h,g,l,u),d}var qw=(function(){function e(t,r){var n=this;if(r===void 0&&(r=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(t))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+t);this._treatAsBatchInput=r,this._batchSize=t.length,t.forEach(function(a,i){if(w4(a)){n._imageTensors[i]=a,n._inputDimensions[i]=a.shape;return}if(jh(a)){var s=a.shape[0];if(s!==1)throw new Error("NetInput - tf.Tensor4D with batchSize "+s+" passed, but not supported in input array");n._imageTensors[i]=a,n._inputDimensions[i]=a.shape.slice(1);return}var o=a instanceof Vi.getEnv().Canvas?a:cT(a);n._canvases[i]=o,n._inputDimensions[i]=[o.height,o.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var t=this;return hy(this.batchSize,0,1).map(function(r,n){return t.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(t){return this.canvases[t]||this.imageTensors[t]},e.prototype.getInputDimensions=function(t){return this._inputDimensions[t]},e.prototype.getInputHeight=function(t){return this._inputDimensions[t][0]},e.prototype.getInputWidth=function(t){return this._inputDimensions[t][1]},e.prototype.getReshapedInputDimensions=function(t){if(typeof this.inputSize!="number")throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");var r=this.getInputWidth(t),n=this.getInputHeight(t);return e4e({width:r,height:n},this.inputSize)},e.prototype.toBatchTensor=function(t,r){var n=this;return r===void 0&&(r=!0),this._inputSize=t,Pt(function(){var a=hy(n.batchSize,0,1).map(function(s){var o=n.getInput(s);if(o instanceof oa){var l=jh(o)?o:o.expandDims();return l=n4e(l,r),(l.shape[1]!==t||l.shape[2]!==t)&&(l=ZD.resizeBilinear(l,[t,t])),l.as3D(t,t,3)}if(o instanceof Vi.getEnv().Canvas)return aT.fromPixels(p4e(o,t,r));throw new Error("toBatchTensor - at batchIdx "+s+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+o)}),i=nl(a.map(function(s){return s.toFloat()})).as4D(n.batchSize,t,t,3);return i})},e})();function Ai(e){return $t(this,void 0,void 0,function(){var t,r,n;return qt(this,function(a){switch(a.label){case 0:if(e instanceof qw)return[2,e];if(t=Array.isArray(e)?e:[e],!t.length)throw new Error("toNetInput - empty array passed as input");return r=function(i){return Array.isArray(e)?" at input index "+i+":":""},n=t.map(lQ),n.forEach(function(i,s){if(!DF(i)&&!w4(i)&&!jh(i))throw typeof t[s]=="string"?new Error("toNetInput -"+r(s)+" string passed, but could not resolve HTMLElement for element id "+t[s]):new Error("toNetInput -"+r(s)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id");if(jh(i)){var o=i.shape[0];if(o!==1)throw new Error("toNetInput -"+r(s)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}}),[4,Promise.all(n.map(function(i){return DF(i)&&f4e(i)}))];case 1:return a.sent(),[2,new qw(n,Array.isArray(e))]}})})}function uT(e,t){return $t(this,void 0,void 0,function(){var r,n,a,i,s,o,l;return qt(this,function(u){switch(u.label){case 0:return r=Vi.getEnv().Canvas,n=e,e instanceof r?[3,5]:[4,Ai(e)];case 1:if(a=u.sent(),a.batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return i=a.getInput(0),i instanceof r?(s=i,[3,4]):[3,2];case 2:return[4,h4e(i)];case 3:s=u.sent(),u.label=4;case 4:n=s,u.label=5;case 5:return o=pm(n),l=t.map(function(d){return d instanceof qu?d.forSize(n.width,n.height).box.floor():d}).map(function(d){return d.clipAtImageBorders(n.width,n.height)}),[2,l.map(function(d){var f=d.x,p=d.y,h=d.width,g=d.height,y=S4({width:h,height:g});return pm(y).putImageData(o.getImageData(f,p,h,g),0,0),y})]}})})}function dT(e,t){return $t(this,void 0,void 0,function(){return qt(this,function(r){if(!w4(e)&&!jh(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(jh(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,Pt(function(){var n=e.shape.slice(jh(e)?1:0),a=n[0],i=n[1],s=n[2],o=t.map(function(u){return u instanceof qu?u.forSize(i,a).box:u}).map(function(u){return u.clipAtImageBorders(i,a)}),l=o.map(function(u){var d=u.x,f=u.y,p=u.width,h=u.height;return LZ(e.as3D(a,i,s),[f,d,0],[h,p,s])});return l})]})})}function fQ(e,t){return $t(this,void 0,void 0,function(){var r,n;return qt(this,function(a){switch(a.label){case 0:return r=Vi.getEnv().fetch,[4,r(e,t)];case 1:if(n=a.sent(),!(n.status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function m4e(e){return $t(this,void 0,void 0,function(){var t,r;return qt(this,function(n){switch(n.label){case 0:return[4,fQ(e)];case 1:return t=n.sent(),[4,t.blob()];case 2:if(r=n.sent(),!r.type.startsWith("image/"))throw new Error("fetchImage - expected blob type to be of type image/*, instead have: "+r.type+", for url: "+t.url);return[2,uQ(r)]}})})}function g4e(e){return $t(this,void 0,void 0,function(){return qt(this,function(t){switch(t.label){case 0:return[4,fQ(e)];case 1:return[2,t.sent().json()]}})})}function hQ(e,t){var r=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:r};if(e==="/")return{modelBaseUri:"/",manifestUri:"/"+r};var n=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"";e=e.replace(n,"");var a=e.split("/").filter(function(o){return o}),i=e.endsWith(".json")?a[a.length-1]:r,s=n+(e.endsWith(".json")?a.slice(0,a.length-1):a).join("/");return s=e.startsWith("/")?"/"+s:s,{modelBaseUri:s,manifestUri:s==="/"?"/"+i:s+"/"+i}}function v4e(e,t){return $t(this,void 0,void 0,function(){var r,n,a,i;return qt(this,function(s){switch(s.label){case 0:return r=hQ(e,t),n=r.manifestUri,a=r.modelBaseUri,[4,g4e(n)];case 1:return i=s.sent(),[2,eQ.loadWeights(i,a)]}})})}var hf=(function(){function e(t){this._name=t,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(t){var r=this.traversePropertyPath(t),n=r.obj,a=r.objProp;return n[a]},e.prototype.reassignParamFromPath=function(t,r){var n=this.traversePropertyPath(t),a=n.obj,i=n.objProp;a[i].dispose(),a[i]=r},e.prototype.getParamList=function(){var t=this;return this._paramMappings.map(function(r){var n=r.paramPath;return{path:n,tensor:t.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(t){return t.tensor instanceof j0})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(t){return!(t.tensor instanceof j0)})},e.prototype.variable=function(){var t=this;this.getFrozenParams().forEach(function(r){var n=r.path,a=r.tensor;t.reassignParamFromPath(n,a.variable())})},e.prototype.freeze=function(){var t=this;this.getTrainableParams().forEach(function(r){var n=r.path,a=r.tensor,i=Ui(a.dataSync());a.dispose(),t.reassignParamFromPath(n,i)})},e.prototype.dispose=function(t){t===void 0&&(t=!0),this.getParamList().forEach(function(r){if(t&&r.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+r.path);r.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(t){var r=t.tensor;return Array.from(r.dataSync())}).reduce(function(t,r){return t.concat(r)}))},e.prototype.load=function(t){return $t(this,void 0,void 0,function(){return qt(this,function(r){switch(r.label){case 0:return t instanceof Float32Array?(this.extractWeights(t),[2]):[4,this.loadFromUri(t)];case 1:return r.sent(),[2]}})})},e.prototype.loadFromUri=function(t){return $t(this,void 0,void 0,function(){var r;return qt(this,function(n){switch(n.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromUri - expected model uri");return[4,v4e(t,this.getDefaultModelName())];case 1:return r=n.sent(),this.loadFromWeightMap(r),[2]}})})},e.prototype.loadFromDisk=function(t){return $t(this,void 0,void 0,function(){var r,n,a,i,s,o,l,u,d,f;return qt(this,function(p){switch(p.label){case 0:if(t&&typeof t!="string")throw new Error(this._name+".loadFromDisk - expected model file path");return r=Vi.getEnv().readFile,n=hQ(t,this.getDefaultModelName()),a=n.manifestUri,i=n.modelBaseUri,s=function(h){return Promise.all(h.map(function(g){return r(g).then(function(y){return y.buffer})}))},o=eQ.weightsLoaderFactory(s),d=(u=JSON).parse,[4,r(a)];case 1:return l=d.apply(u,[p.sent().toString()]),[4,o(l,i)];case 2:return f=p.sent(),this.loadFromWeightMap(f),[2]}})})},e.prototype.loadFromWeightMap=function(t){var r=this.extractParamsFromWeigthMap(t),n=r.paramMappings,a=r.params;this._paramMappings=n,this._params=a},e.prototype.extractWeights=function(t){var r=this.extractParams(t),n=r.paramMappings,a=r.params;this._paramMappings=n,this._params=a},e.prototype.traversePropertyPath=function(t){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var r=t.split("/").reduce(function(i,s){if(!i.nextObj.hasOwnProperty(s))throw new Error("traversePropertyPath - object does not have property "+s+", for path "+t);return{obj:i.nextObj,objProp:s,nextObj:i.nextObj[s]}},{nextObj:this.params}),n=r.obj,a=r.objProp;if(!n||!a||!(n[a]instanceof oa))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+t);return{obj:n,objProp:a}},e})();function Zo(e,t,r){return Pt(function(){var n=GD(e,t.depthwise_filter,t.pointwise_filter,r,"same");return n=Cr(n,t.bias),n})}function P6(e,t,r){return r===void 0&&(r=!1),Pt(function(){var n=ca(r?Cr(Ql(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):Zo(e,t.conv0,[2,2])),a=Zo(n,t.conv1,[1,1]),i=ca(Cr(n,a)),s=Zo(i,t.conv2,[1,1]);return ca(Cr(n,Cr(a,s)))})}function H2(e,t,r,n){return r===void 0&&(r=!1),n===void 0&&(n=!0),Pt(function(){var a=ca(r?Cr(Ql(e,t.conv0.filters,n?[2,2]:[1,1],"same"),t.conv0.bias):Zo(e,t.conv0,n?[2,2]:[1,1])),i=Zo(a,t.conv1,[1,1]),s=ca(Cr(a,i)),o=Zo(s,t.conv2,[1,1]),l=ca(Cr(a,Cr(i,o))),u=Zo(l,t.conv3,[1,1]);return ca(Cr(a,Cr(i,Cr(o,u))))})}function Ac(e,t,r,n){return r===void 0&&(r="same"),n===void 0&&(n=!1),Pt(function(){var a=Cr(Ql(e,t.filters,[1,1],r),t.bias);return n?ca(a):a})}function pf(e,t){Object.keys(e).forEach(function(r){t.some(function(n){return n.originalPath===r})||e[r].dispose()})}function j4(e,t){return function(r,n,a,i){var s=fo(e(r*n*a*a),[a,a,r,n]),o=$a(e(n));return t.push({paramPath:i+"/filters"},{paramPath:i+"/bias"}),{filters:s,bias:o}}}function fT(e,t){return function(r,n,a){var i=Nh(e(r*n),[r,n]),s=$a(e(n));return t.push({paramPath:a+"/weights"},{paramPath:a+"/bias"}),{weights:i,bias:s}}}var pQ=(function(){function e(t,r,n){this.depthwise_filter=t,this.pointwise_filter=r,this.bias=n}return e})();function hT(e,t){return function(r,n,a){var i=fo(e(9*r),[3,3,r,1]),s=fo(e(r*n),[1,1,r,n]),o=$a(e(n));return t.push({paramPath:a+"/depthwise_filter"},{paramPath:a+"/pointwise_filter"},{paramPath:a+"/bias"}),new pQ(i,s,o)}}function pT(e){return function(t){var r=e(t+"/depthwise_filter",4),n=e(t+"/pointwise_filter",4),a=e(t+"/bias",1);return new pQ(r,n,a)}}function Uh(e,t){return function(r,n,a){var i=e[r];if(!b4(i,n))throw new Error("expected weightMap["+r+"] to be a Tensor"+n+"D, instead have "+i);return t.push({originalPath:r,paramPath:a||r}),i}}function mf(e){var t=e;function r(a){var i=t.slice(0,a);return t=t.slice(a),i}function n(){return t}return{extractWeights:r,getRemainingWeights:n}}function mQ(e,t){var r=j4(e,t),n=hT(e,t);function a(s,o,l,u){u===void 0&&(u=!1);var d=u?r(s,o,3,l+"/conv0"):n(s,o,l+"/conv0"),f=n(o,o,l+"/conv1"),p=n(o,o,l+"/conv2");return{conv0:d,conv1:f,conv2:p}}function i(s,o,l,u){u===void 0&&(u=!1);var d=a(s,o,l,u),f=d.conv0,p=d.conv1,h=d.conv2,g=n(o,o,l+"/conv3");return{conv0:f,conv1:p,conv2:h,conv3:g}}return{extractDenseBlock3Params:a,extractDenseBlock4Params:i}}function x4e(e){var t=[],r=mf(e),n=r.extractWeights,a=r.getRemainingWeights,i=mQ(n,t).extractDenseBlock4Params,s=i(3,32,"dense0",!0),o=i(32,64,"dense1"),l=i(64,128,"dense2"),u=i(128,256,"dense3");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:s,dense1:o,dense2:l,dense3:u}}}function gQ(e){return function(t){var r=e(t+"/filters",4),n=e(t+"/bias",1);return{filters:r,bias:n}}}function vQ(e,t){var r=Uh(e,t),n=gQ(r),a=pT(r);function i(o,l){l===void 0&&(l=!1);var u=l?n(o+"/conv0"):a(o+"/conv0"),d=a(o+"/conv1"),f=a(o+"/conv2");return{conv0:u,conv1:d,conv2:f}}function s(o,l){l===void 0&&(l=!1);var u=l?n(o+"/conv0"):a(o+"/conv0"),d=a(o+"/conv1"),f=a(o+"/conv2"),p=a(o+"/conv3");return{conv0:u,conv1:d,conv2:f,conv3:p}}return{extractDenseBlock3Params:i,extractDenseBlock4Params:s}}function y4e(e){var t=[],r=vQ(e,t).extractDenseBlock4Params,n={dense0:r("dense0",!0),dense1:r("dense1"),dense2:r("dense2"),dense3:r("dense3")};return pf(e,t),{params:n,paramMappings:t}}var xQ=(function(e){mr(t,e);function t(){return e.call(this,"FaceFeatureExtractor")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("FaceFeatureExtractor - load model before inference");return Pt(function(){var a=r.toBatchTensor(112,!0),i=[122.782,117.001,104.298],s=c1(a,i).div(St(255)),o=H2(s,n.dense0,!0);return o=H2(o,n.dense1),o=H2(o,n.dense2),o=H2(o,n.dense3),o=o1(o,[7,7],[2,2],"valid"),o})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(r){return y4e(r)},t.prototype.extractParams=function(r){return x4e(r)},t})(hf);function xu(e,t){return Pt(function(){return Cr(v4(e,t.weights),t.bias)})}function b4e(e,t,r){var n=[],a=mf(e),i=a.extractWeights,s=a.getRemainingWeights,o=fT(i,n),l=o(t,r,"fc");if(s().length!==0)throw new Error("weights remaing after extract: "+s().length);return{paramMappings:n,params:{fc:l}}}function w4e(e){var t=[],r=Uh(e,t);function n(i){var s=r(i+"/weights",2),o=r(i+"/bias",1);return{weights:s,bias:o}}var a={fc:n("fc")};return pf(e,t),{params:a,paramMappings:t}}function yQ(e){var t={},r={};return Object.keys(e).forEach(function(n){var a=n.startsWith("fc")?r:t;a[n]=e[n]}),{featureExtractorMap:t,classifierMap:r}}var bQ=(function(e){mr(t,e);function t(r,n){var a=e.call(this,r)||this;return a._faceFeatureExtractor=n,a}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(r){var n=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Pt(function(){var i=r instanceof qw?n.faceFeatureExtractor.forwardInput(r):r;return xu(i.as2D(i.shape[0],-1),a.fc)})},t.prototype.dispose=function(r){r===void 0&&(r=!0),this.faceFeatureExtractor.dispose(r),e.prototype.dispose.call(this,r)},t.prototype.loadClassifierParams=function(r){var n=this.extractClassifierParams(r),a=n.params,i=n.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(r){return b4e(r,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(r){var n=yQ(r),a=n.featureExtractorMap,i=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),w4e(i)},t.prototype.extractParams=function(r){var n=this.getClassifierChannelsIn(),a=this.getClassifierChannelsOut(),i=a*n+a,s=r.slice(0,r.length-i),o=r.slice(r.length-i);return this.faceFeatureExtractor.extractWeights(s),this.extractClassifierParams(o)},t})(hf),TF=["neutral","happy","sad","angry","fearful","disgusted","surprised"],N4e=(function(){function e(t){var r=this;if(t.length!==7)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+t.length);TF.forEach(function(n,a){r[n]=t[a]})}return e.prototype.asSortedArray=function(){var t=this;return TF.map(function(r){return{expression:r,probability:t[r]}}).sort(function(r,n){return n.probability-r.probability})},e})(),S4e=(function(e){mr(t,e);function t(r){return r===void 0&&(r=new xQ),e.call(this,"FaceExpressionNet",r)||this}return t.prototype.forwardInput=function(r){var n=this;return Pt(function(){return df(n.runNet(r))})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.predictExpressions=function(r){return $t(this,void 0,void 0,function(){var n,a,i,s,o=this;return qt(this,function(l){switch(l.label){case 0:return[4,Ai(r)];case 1:return n=l.sent(),[4,this.forwardInput(n)];case 2:return a=l.sent(),[4,Promise.all(ii(a).map(function(u){return $t(o,void 0,void 0,function(){var d;return qt(this,function(f){switch(f.label){case 0:return[4,u.data()];case 1:return d=f.sent(),u.dispose(),[2,d]}})})}))];case 3:return i=l.sent(),a.dispose(),s=i.map(function(u){return new N4e(u)}),[2,n.isBatchInput?s:s[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t})(bQ);function wQ(e,t){var r={expressions:t};return Object.assign({},e,r)}function j4e(e){return c4e(e)&&e.landmarks instanceof $w&&e.unshiftedLandmarks instanceof $w&&e.alignedRect instanceof qu}function mT(e,t){var r=e.detection.box,n=t.shiftBy(r.x,r.y),a=n.align(),i=e.detection.imageDims,s=new qu(e.detection.score,a.rescale(i.reverse()),i),o={landmarks:n,unshiftedLandmarks:t,alignedRect:s};return Object.assign({},e,o)}function C4e(e,t){var r=j4(e,t),n=hT(e,t);function a(s,o,l){var u=n(s,o,l+"/separable_conv0"),d=n(o,o,l+"/separable_conv1"),f=r(s,o,1,l+"/expansion_conv");return{separable_conv0:u,separable_conv1:d,expansion_conv:f}}function i(s,o){var l=n(s,s,o+"/separable_conv0"),u=n(s,s,o+"/separable_conv1"),d=n(s,s,o+"/separable_conv2");return{separable_conv0:l,separable_conv1:u,separable_conv2:d}}return{extractConvParams:r,extractSeparableConvParams:n,extractReductionBlockParams:a,extractMainBlockParams:i}}function _4e(e,t){var r=[],n=mf(e),a=n.extractWeights,i=n.getRemainingWeights,s=C4e(a,r),o=s.extractConvParams,l=s.extractSeparableConvParams,u=s.extractReductionBlockParams,d=s.extractMainBlockParams,f=o(3,32,3,"entry_flow/conv_in"),p=u(32,64,"entry_flow/reduction_block_0"),h=u(64,128,"entry_flow/reduction_block_1"),g={conv_in:f,reduction_block_0:p,reduction_block_1:h},y={};hy(t,0,1).forEach(function(j){y["main_block_"+j]=d(128,"middle_flow/main_block_"+j)});var x=u(128,256,"exit_flow/reduction_block"),b=l(256,512,"exit_flow/separable_conv"),N={reduction_block:x,separable_conv:b};if(i().length!==0)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:r,params:{entry_flow:g,middle_flow:y,exit_flow:N}}}function E4e(e,t){var r=Uh(e,t),n=gQ(r),a=pT(r);function i(o){var l=a(o+"/separable_conv0"),u=a(o+"/separable_conv1"),d=n(o+"/expansion_conv");return{separable_conv0:l,separable_conv1:u,expansion_conv:d}}function s(o){var l=a(o+"/separable_conv0"),u=a(o+"/separable_conv1"),d=a(o+"/separable_conv2");return{separable_conv0:l,separable_conv1:u,separable_conv2:d}}return{extractConvParams:n,extractSeparableConvParams:a,extractReductionBlockParams:i,extractMainBlockParams:s}}function P4e(e,t){var r=[],n=E4e(e,r),a=n.extractConvParams,i=n.extractSeparableConvParams,s=n.extractReductionBlockParams,o=n.extractMainBlockParams,l=a("entry_flow/conv_in"),u=s("entry_flow/reduction_block_0"),d=s("entry_flow/reduction_block_1"),f={conv_in:l,reduction_block_0:u,reduction_block_1:d},p={};hy(t,0,1).forEach(function(x){p["main_block_"+x]=o("middle_flow/main_block_"+x)});var h=s("exit_flow/reduction_block"),g=i("exit_flow/separable_conv"),y={reduction_block:h,separable_conv:g};return pf(e,r),{params:{entry_flow:f,middle_flow:p,exit_flow:y},paramMappings:r}}function NQ(e,t,r){return Cr(Ql(e,t.filters,r,"same"),t.bias)}function k6(e,t,r){r===void 0&&(r=!0);var n=r?ca(e):e;return n=Zo(n,t.separable_conv0,[1,1]),n=Zo(ca(n),t.separable_conv1,[1,1]),n=ji(n,[3,3],[2,2],"same"),n=Cr(n,NQ(e,t.expansion_conv,[2,2])),n}function k4e(e,t){var r=Zo(ca(e),t.separable_conv0,[1,1]);return r=Zo(ca(r),t.separable_conv1,[1,1]),r=Zo(ca(r),t.separable_conv2,[1,1]),r=Cr(r,e),r}var A4e=(function(e){mr(t,e);function t(r){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=r,n}return t.prototype.forwardInput=function(r){var n=this,a=this.params;if(!a)throw new Error("TinyXception - load model before inference");return Pt(function(){var i=r.toBatchTensor(112,!0),s=[122.782,117.001,104.298],o=c1(i,s).div(St(256)),l=ca(NQ(o,a.entry_flow.conv_in,[2,2]));return l=k6(l,a.entry_flow.reduction_block_0,!1),l=k6(l,a.entry_flow.reduction_block_1),hy(n._numMainBlocks,0,1).forEach(function(u){l=k4e(l,a.middle_flow["main_block_"+u])}),l=k6(l,a.exit_flow.reduction_block),l=ca(Zo(l,a.exit_flow.separable_conv,[1,1])),l})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(r){return P4e(r,this._numMainBlocks)},t.prototype.extractParams=function(r){return _4e(r,this._numMainBlocks)},t})(hf);function D4e(e){var t=[],r=mf(e),n=r.extractWeights,a=r.getRemainingWeights,i=fT(n,t),s=i(512,1,"fc/age"),o=i(512,2,"fc/gender");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{fc:{age:s,gender:o}}}}function T4e(e){var t=[],r=Uh(e,t);function n(i){var s=r(i+"/weights",2),o=r(i+"/bias",1);return{weights:s,bias:o}}var a={fc:{age:n("fc/age"),gender:n("fc/gender")}};return pf(e,t),{params:a,paramMappings:t}}var Vw;(function(e){e.FEMALE="female",e.MALE="male"})(Vw||(Vw={}));var O4e=(function(e){mr(t,e);function t(r){r===void 0&&(r=new A4e(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=r,n}return Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(r){var n=this,a=this.params;if(!a)throw new Error(this._name+" - load model before inference");return Pt(function(){var i=r instanceof qw?n.faceFeatureExtractor.forwardInput(r):r,s=o1(i,[7,7],[2,2],"valid").as2D(i.shape[0],-1),o=xu(s,a.fc.age).as1D(),l=xu(s,a.fc.gender);return{age:o,gender:l}})},t.prototype.forwardInput=function(r){var n=this;return Pt(function(){var a=n.runNet(r),i=a.age,s=a.gender;return{age:i,gender:df(s)}})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.predictAgeAndGender=function(r){return $t(this,void 0,void 0,function(){var n,a,i,s,o,l,u=this;return qt(this,function(d){switch(d.label){case 0:return[4,Ai(r)];case 1:return n=d.sent(),[4,this.forwardInput(n)];case 2:return a=d.sent(),i=ii(a.age),s=ii(a.gender),o=i.map(function(f,p){return{ageTensor:f,genderTensor:s[p]}}),[4,Promise.all(o.map(function(f){var p=f.ageTensor,h=f.genderTensor;return $t(u,void 0,void 0,function(){var g,y,x,b,N;return qt(this,function(j){switch(j.label){case 0:return[4,p.data()];case 1:return g=j.sent()[0],[4,h.data()];case 2:return y=j.sent()[0],x=y>.5,b=x?Vw.MALE:Vw.FEMALE,N=x?y:1-y,p.dispose(),h.dispose(),[2,{age:g,gender:b,genderProbability:N}]}})})}))];case 3:return l=d.sent(),a.age.dispose(),a.gender.dispose(),[2,n.isBatchInput?l:l[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(r){r===void 0&&(r=!0),this.faceFeatureExtractor.dispose(r),e.prototype.dispose.call(this,r)},t.prototype.loadClassifierParams=function(r){var n=this.extractClassifierParams(r),a=n.params,i=n.paramMappings;this._params=a,this._paramMappings=i},t.prototype.extractClassifierParams=function(r){return D4e(r)},t.prototype.extractParamsFromWeigthMap=function(r){var n=yQ(r),a=n.featureExtractorMap,i=n.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(a),T4e(i)},t.prototype.extractParams=function(r){var n=1539,a=r.slice(0,r.length-n),i=r.slice(r.length-n);return this.faceFeatureExtractor.extractWeights(a),this.extractClassifierParams(i)},t})(hf),SQ=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.postProcess=function(r,n,a){var i=a.map(function(o){var l=o.width,u=o.height,d=n/Math.max(u,l);return{width:l*d,height:u*d}}),s=i.length;return Pt(function(){var o=function(p,h){return nl([Eu([68],p),Eu([68],h)],1).as2D(1,136).as1D()},l=function(p,h){var g=i[p],y=g.width,x=g.height;return h(y,x)?Math.abs(y-x)/2:0},u=function(p){return l(p,function(h,g){return h<g})},d=function(p){return l(p,function(h,g){return g<h})},f=r.mul(Eu([s,136],n)).sub(nl(Array.from(Array(s),function(p,h){return o(u(h),d(h))}))).div(nl(Array.from(Array(s),function(p,h){return o(i[h].width,i[h].height)})));return f})},t.prototype.forwardInput=function(r){var n=this;return Pt(function(){var a=n.runNet(r);return n.postProcess(a,r.inputSize,r.inputDimensions.map(function(i){var s=i[0],o=i[1];return{height:s,width:o}}))})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.detectLandmarks=function(r){return $t(this,void 0,void 0,function(){var n,a,i,s=this;return qt(this,function(o){switch(o.label){case 0:return[4,Ai(r)];case 1:return n=o.sent(),a=Pt(function(){return ii(s.forwardInput(n))}),[4,Promise.all(a.map(function(l,u){return $t(s,void 0,void 0,function(){var d,f,p,h,g;return qt(this,function(y){switch(y.label){case 0:return p=(f=Array).from,[4,l.data()];case 1:return d=p.apply(f,[y.sent()]),h=d.filter(function(x,b){return CF(b)}),g=d.filter(function(x,b){return!CF(b)}),[2,new l4e(Array(68).fill(0).map(function(x,b){return new Jr(h[b],g[b])}),{height:n.getInputHeight(u),width:n.getInputWidth(u)})]}})})}))];case 2:return i=o.sent(),a.forEach(function(l){return l.dispose()}),[2,n.isBatchInput?i:i[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t})(bQ),jQ=(function(e){mr(t,e);function t(r){return r===void 0&&(r=new xQ),e.call(this,"FaceLandmark68Net",r)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t})(SQ);function I4e(e){var t=[],r=vQ(e,t).extractDenseBlock3Params,n={dense0:r("dense0",!0),dense1:r("dense1"),dense2:r("dense2")};return pf(e,t),{params:n,paramMappings:t}}function M4e(e){var t=[],r=mf(e),n=r.extractWeights,a=r.getRemainingWeights,i=mQ(n,t).extractDenseBlock3Params,s=i(3,32,"dense0",!0),o=i(32,64,"dense1"),l=i(64,128,"dense2");if(a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:t,params:{dense0:s,dense1:o,dense2:l}}}var R4e=(function(e){mr(t,e);function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("TinyFaceFeatureExtractor - load model before inference");return Pt(function(){var a=r.toBatchTensor(112,!0),i=[122.782,117.001,104.298],s=c1(a,i).div(St(255)),o=P6(s,n.dense0,!0);return o=P6(o,n.dense1),o=P6(o,n.dense2),o=o1(o,[14,14],[2,2],"valid"),o})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(r){return I4e(r)},t.prototype.extractParams=function(r){return M4e(r)},t})(hf),L4e=(function(e){mr(t,e);function t(r){return r===void 0&&(r=new R4e),e.call(this,"FaceLandmark68TinyNet",r)||this}return t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t})(SQ);(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(jQ);function F4e(e,t){return Cr(ws(e,t.weights),t.biases)}function gT(e,t,r,n,a){a===void 0&&(a="same");var i=t.conv,s=i.filters,o=i.bias,l=Ql(e,s,r,a);return l=Cr(l,o),l=F4e(l,t.scale),n?ca(l):l}function B4e(e,t){return gT(e,t,[1,1],!0)}function CQ(e,t){return gT(e,t,[1,1],!1)}function _Q(e,t){return gT(e,t,[2,2],!0,"valid")}function z4e(e,t){function r(o,l,u){var d=e(o),f=d.length/(l*u*u);if(Z5e(f))throw new Error("depth has to be an integer: "+f+", weights.length: "+d.length+", numFilters: "+l+", filterSize: "+u);return Pt(function(){return Ph(fo(d,[l,f,u,u]),[2,3,1,0])})}function n(o,l,u,d){var f=r(o,l,u),p=$a(e(l));return t.push({paramPath:d+"/filters"},{paramPath:d+"/bias"}),{filters:f,bias:p}}function a(o,l){var u=$a(e(o)),d=$a(e(o));return t.push({paramPath:l+"/weights"},{paramPath:l+"/biases"}),{weights:u,biases:d}}function i(o,l,u,d){var f=n(o,l,u,d+"/conv"),p=a(l,d+"/scale");return{conv:f,scale:p}}function s(o,l,u,d,f){f===void 0&&(f=!1);var p=i((f?.5:1)*o,l,u,d+"/conv1"),h=i(o,l,u,d+"/conv2");return{conv1:p,conv2:h}}return{extractConvLayerParams:i,extractResidualLayerParams:s}}function W4e(e){var t=mf(e),r=t.extractWeights,n=t.getRemainingWeights,a=[],i=z4e(r,a),s=i.extractConvLayerParams,o=i.extractResidualLayerParams,l=s(4704,32,7,"conv32_down"),u=o(9216,32,3,"conv32_1"),d=o(9216,32,3,"conv32_2"),f=o(9216,32,3,"conv32_3"),p=o(36864,64,3,"conv64_down",!0),h=o(36864,64,3,"conv64_1"),g=o(36864,64,3,"conv64_2"),y=o(36864,64,3,"conv64_3"),x=o(147456,128,3,"conv128_down",!0),b=o(147456,128,3,"conv128_1"),N=o(147456,128,3,"conv128_2"),j=o(589824,256,3,"conv256_down",!0),w=o(589824,256,3,"conv256_1"),C=o(589824,256,3,"conv256_2"),E=o(589824,256,3,"conv256_down_out"),I=Pt(function(){return Ph(Nh(r(256*128),[128,256]),[1,0])});if(a.push({paramPath:"fc"}),n().length!==0)throw new Error("weights remaing after extract: "+n().length);var D={conv32_down:l,conv32_1:u,conv32_2:d,conv32_3:f,conv64_down:p,conv64_1:h,conv64_2:g,conv64_3:y,conv128_down:x,conv128_1:b,conv128_2:N,conv256_down:j,conv256_1:w,conv256_2:C,conv256_down_out:E,fc:I};return{params:D,paramMappings:a}}function U4e(e,t){var r=Uh(e,t);function n(s){var o=r(s+"/scale/weights",1),l=r(s+"/scale/biases",1);return{weights:o,biases:l}}function a(s){var o=r(s+"/conv/filters",4),l=r(s+"/conv/bias",1),u=n(s);return{conv:{filters:o,bias:l},scale:u}}function i(s){return{conv1:a(s+"/conv1"),conv2:a(s+"/conv2")}}return{extractConvLayerParams:a,extractResidualLayerParams:i}}function $4e(e){var t=[],r=U4e(e,t),n=r.extractConvLayerParams,a=r.extractResidualLayerParams,i=n("conv32_down"),s=a("conv32_1"),o=a("conv32_2"),l=a("conv32_3"),u=a("conv64_down"),d=a("conv64_1"),f=a("conv64_2"),p=a("conv64_3"),h=a("conv128_down"),g=a("conv128_1"),y=a("conv128_2"),x=a("conv256_down"),b=a("conv256_1"),N=a("conv256_2"),j=a("conv256_down_out"),w=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!J5e(w))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+w);var C={conv32_down:i,conv32_1:s,conv32_2:o,conv32_3:l,conv64_down:u,conv64_1:d,conv64_2:f,conv64_3:p,conv128_down:h,conv128_1:g,conv128_2:y,conv256_down:x,conv256_1:b,conv256_2:N,conv256_down_out:j,fc:w};return pf(e,t),{params:C,paramMappings:t}}function su(e,t){var r=B4e(e,t.conv1);return r=CQ(r,t.conv2),r=Cr(r,e),r=ca(r),r}function G2(e,t){var r=_Q(e,t.conv1);r=CQ(r,t.conv2);var n=o1(e,2,2,"valid"),a=Dn(n.shape),i=n.shape[3]!==r.shape[3],s=n.shape[1]!==r.shape[1]||n.shape[2]!==r.shape[2];if(s){var o=Bx(r.shape);o[1]=1;var l=Dn(o);r=ai([r,l],1);var u=Bx(r.shape);u[2]=1;var d=Dn(u);r=ai([r,d],2)}return n=i?ai([n,a],3):n,r=Cr(n,r),r=ca(r),r}var q4e=(function(e){mr(t,e);function t(){return e.call(this,"FaceRecognitionNet")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("FaceRecognitionNet - load model before inference");return Pt(function(){var a=r.toBatchTensor(150,!0).toFloat(),i=[122.782,117.001,104.298],s=c1(a,i).div(St(256)),o=_Q(s,n.conv32_down);o=ji(o,3,2,"valid"),o=su(o,n.conv32_1),o=su(o,n.conv32_2),o=su(o,n.conv32_3),o=G2(o,n.conv64_down),o=su(o,n.conv64_1),o=su(o,n.conv64_2),o=su(o,n.conv64_3),o=G2(o,n.conv128_down),o=su(o,n.conv128_1),o=su(o,n.conv128_2),o=G2(o,n.conv256_down),o=su(o,n.conv256_1),o=su(o,n.conv256_2),o=G2(o,n.conv256_down_out);var l=o.mean([1,2]),u=v4(l,n.fc);return u})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.computeFaceDescriptor=function(r){return $t(this,void 0,void 0,function(){var n,a,i,s=this;return qt(this,function(o){switch(o.label){case 0:return[4,Ai(r)];case 1:return n=o.sent(),a=Pt(function(){return ii(s.forwardInput(n))}),[4,Promise.all(a.map(function(l){return l.data()}))];case 2:return i=o.sent(),a.forEach(function(l){return l.dispose()}),[2,n.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(r){return $4e(r)},t.prototype.extractParams=function(r){return W4e(r)},t})(hf);function EQ(e,t){var r={descriptor:t};return Object.assign({},e,r)}function PQ(e,t){var r={age:t};return Object.assign({},e,r)}function kQ(e,t,r){var n={gender:t,genderProbability:r};return Object.assign({},e,n)}var AQ=(function(){function e(t){var r=t===void 0?{}:t,n=r.minFaceSize,a=r.scaleFactor,i=r.maxNumScales,s=r.scoreThresholds,o=r.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=a||.709,this._maxNumScales=i||10,this._scoreThresholds=s||[.6,.7,.7],this._scaleSteps=o,typeof this._minFaceSize!="number"||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if(typeof this._scaleFactor!="number"||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if(typeof this._maxNumScales!="number"||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||this._scoreThresholds.length!==3||this._scoreThresholds.some(function(l){return typeof l!="number"}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(l){return typeof l!="number"})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e})();function V4e(e,t){function r(l,u){var d=fo(e(9*l),[3,3,l,1]),f=$a(e(l)),p=$a(e(l)),h=$a(e(l)),g=$a(e(l));return t.push({paramPath:u+"/filters"},{paramPath:u+"/batch_norm_scale"},{paramPath:u+"/batch_norm_offset"},{paramPath:u+"/batch_norm_mean"},{paramPath:u+"/batch_norm_variance"}),{filters:d,batch_norm_scale:f,batch_norm_offset:p,batch_norm_mean:h,batch_norm_variance:g}}function n(l,u,d,f,p){var h=fo(e(l*u*d*d),[d,d,l,u]),g=$a(e(u));return t.push({paramPath:f+"/filters"},{paramPath:f+"/"+(p?"batch_norm_offset":"bias")}),{filters:h,bias:g}}function a(l,u,d,f){var p=n(l,u,d,f,!0),h=p.filters,g=p.bias;return{filters:h,batch_norm_offset:g}}function i(l,u,d){var f=r(l,d+"/depthwise_conv"),p=a(l,u,1,d+"/pointwise_conv");return{depthwise_conv:f,pointwise_conv:p}}function s(){var l=a(3,32,3,"mobilenetv1/conv_0"),u=i(32,64,"mobilenetv1/conv_1"),d=i(64,128,"mobilenetv1/conv_2"),f=i(128,128,"mobilenetv1/conv_3"),p=i(128,256,"mobilenetv1/conv_4"),h=i(256,256,"mobilenetv1/conv_5"),g=i(256,512,"mobilenetv1/conv_6"),y=i(512,512,"mobilenetv1/conv_7"),x=i(512,512,"mobilenetv1/conv_8"),b=i(512,512,"mobilenetv1/conv_9"),N=i(512,512,"mobilenetv1/conv_10"),j=i(512,512,"mobilenetv1/conv_11"),w=i(512,1024,"mobilenetv1/conv_12"),C=i(1024,1024,"mobilenetv1/conv_13");return{conv_0:l,conv_1:u,conv_2:d,conv_3:f,conv_4:p,conv_5:h,conv_6:g,conv_7:y,conv_8:x,conv_9:b,conv_10:N,conv_11:j,conv_12:w,conv_13:C}}function o(){var l=a(1024,256,1,"prediction_layer/conv_0"),u=a(256,512,3,"prediction_layer/conv_1"),d=a(512,128,1,"prediction_layer/conv_2"),f=a(128,256,3,"prediction_layer/conv_3"),p=a(256,128,1,"prediction_layer/conv_4"),h=a(128,256,3,"prediction_layer/conv_5"),g=a(256,64,1,"prediction_layer/conv_6"),y=a(64,128,3,"prediction_layer/conv_7"),x=n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),b=n(512,9,1,"prediction_layer/box_predictor_0/class_predictor"),N=n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),j=n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor"),w=n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),C=n(512,18,1,"prediction_layer/box_predictor_2/class_predictor"),E=n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),I=n(256,18,1,"prediction_layer/box_predictor_3/class_predictor"),D=n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),O=n(256,18,1,"prediction_layer/box_predictor_4/class_predictor"),L=n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),R=n(128,18,1,"prediction_layer/box_predictor_5/class_predictor"),P={box_encoding_predictor:x,class_predictor:b},F={box_encoding_predictor:N,class_predictor:j},V={box_encoding_predictor:w,class_predictor:C},X={box_encoding_predictor:E,class_predictor:I},te={box_encoding_predictor:D,class_predictor:O},q={box_encoding_predictor:L,class_predictor:R};return{conv_0:l,conv_1:u,conv_2:d,conv_3:f,conv_4:p,conv_5:h,conv_6:g,conv_7:y,box_predictor_0:P,box_predictor_1:F,box_predictor_2:V,box_predictor_3:X,box_predictor_4:te,box_predictor_5:q}}return{extractMobilenetV1Params:s,extractPredictionLayerParams:o}}function H4e(e){var t=[],r=mf(e),n=r.extractWeights,a=r.getRemainingWeights,i=V4e(n,t),s=i.extractMobilenetV1Params,o=i.extractPredictionLayerParams,l=s(),u=o(),d=TD(n(5118*4),[1,5118,4]),f={extra_dim:d};if(t.push({paramPath:"output_layer/extra_dim"}),a().length!==0)throw new Error("weights remaing after extract: "+a().length);return{params:{mobilenetv1:l,prediction_layer:u,output_layer:f},paramMappings:t}}function G4e(e,t){var r=Uh(e,t);function n(u,d,f){var p=r(u+"/Conv2d_"+d+"_pointwise/weights",4,f+"/filters"),h=r(u+"/Conv2d_"+d+"_pointwise/convolution_bn_offset",1,f+"/batch_norm_offset");return{filters:p,batch_norm_offset:h}}function a(u){var d="mobilenetv1/conv_"+u,f="MobilenetV1/Conv2d_"+u+"_depthwise",p=d+"/depthwise_conv",h=d+"/pointwise_conv",g=r(f+"/depthwise_weights",4,p+"/filters"),y=r(f+"/BatchNorm/gamma",1,p+"/batch_norm_scale"),x=r(f+"/BatchNorm/beta",1,p+"/batch_norm_offset"),b=r(f+"/BatchNorm/moving_mean",1,p+"/batch_norm_mean"),N=r(f+"/BatchNorm/moving_variance",1,p+"/batch_norm_variance");return{depthwise_conv:{filters:g,batch_norm_scale:y,batch_norm_offset:x,batch_norm_mean:b,batch_norm_variance:N},pointwise_conv:n("MobilenetV1",u,h)}}function i(){return{conv_0:n("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:a(1),conv_2:a(2),conv_3:a(3),conv_4:a(4),conv_5:a(5),conv_6:a(6),conv_7:a(7),conv_8:a(8),conv_9:a(9),conv_10:a(10),conv_11:a(11),conv_12:a(12),conv_13:a(13)}}function s(u,d){var f=r(u+"/weights",4,d+"/filters"),p=r(u+"/biases",1,d+"/bias");return{filters:f,bias:p}}function o(u){var d=s("Prediction/BoxPredictor_"+u+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+u+"/box_encoding_predictor"),f=s("Prediction/BoxPredictor_"+u+"/ClassPredictor","prediction_layer/box_predictor_"+u+"/class_predictor");return{box_encoding_predictor:d,class_predictor:f}}function l(){return{conv_0:n("Prediction",0,"prediction_layer/conv_0"),conv_1:n("Prediction",1,"prediction_layer/conv_1"),conv_2:n("Prediction",2,"prediction_layer/conv_2"),conv_3:n("Prediction",3,"prediction_layer/conv_3"),conv_4:n("Prediction",4,"prediction_layer/conv_4"),conv_5:n("Prediction",5,"prediction_layer/conv_5"),conv_6:n("Prediction",6,"prediction_layer/conv_6"),conv_7:n("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:o(0),box_predictor_1:o(1),box_predictor_2:o(2),box_predictor_3:o(3),box_predictor_4:o(4),box_predictor_5:o(5)}}return{extractMobilenetV1Params:i,extractPredictionLayerParams:l}}function Y4e(e){var t=[],r=G4e(e,t),n=r.extractMobilenetV1Params,a=r.extractPredictionLayerParams,i=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!w4(i))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+i);var s={mobilenetv1:n(),prediction_layer:a(),output_layer:{extra_dim:i}};return pf(e,t),{params:s,paramMappings:t}}function uu(e,t,r){return Pt(function(){var n=Ql(e,t.filters,r,"same");return n=Cr(n,t.batch_norm_offset),$D(n,0,6)})}var K4e=.0010000000474974513;function X4e(e,t,r){return Pt(function(){var n=g4(e,t.filters,r,"same");return n=NZ(n,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,K4e),$D(n,0,6)})}function J4e(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}function Z4e(e,t){return Pt(function(){var r=null,n=uu(e,t.conv_0,[2,2]),a=[t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13];if(a.forEach(function(i,s){var o=s+1,l=J4e(o);n=X4e(n,i.depthwise_conv,l),n=uu(n,i.pointwise_conv,[1,1]),o===11&&(r=n)}),r===null)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:n,conv11:r}})}function Q4e(e,t,r,n,a){var i=e.shape[0],s=Math.min(r,i),o=t.map(function(d,f){return{score:d,boxIndex:f}}).filter(function(d){return d.score>a}).sort(function(d,f){return f.score-d.score}),l=function(d){return d<=n?1:0},u=[];return o.forEach(function(d){if(!(u.length>=s)){for(var f=d.score,p=u.length-1;p>=0;--p){var h=e3e(e,d.boxIndex,u[p]);if(h!==0&&(d.score*=l(h),d.score<=a))break}f===d.score&&u.push(d.boxIndex)}}),u}function e3e(e,t,r){var n=e.arraySync(),a=Math.min(n[t][0],n[t][2]),i=Math.min(n[t][1],n[t][3]),s=Math.max(n[t][0],n[t][2]),o=Math.max(n[t][1],n[t][3]),l=Math.min(n[r][0],n[r][2]),u=Math.min(n[r][1],n[r][3]),d=Math.max(n[r][0],n[r][2]),f=Math.max(n[r][1],n[r][3]),p=(s-a)*(o-i),h=(d-l)*(f-u);if(p<=0||h<=0)return 0;var g=Math.max(a,l),y=Math.max(i,u),x=Math.min(s,d),b=Math.min(o,f),N=Math.max(x-g,0)*Math.max(b-y,0);return N/(p+h-N)}function t3e(e){var t=ii(Ph(e,[1,0])),r=[oi(t[2],t[0]),oi(t[3],t[1])],n=[Cr(t[0],Cc(r[0],St(2))),Cr(t[1],Cc(r[1],St(2)))];return{sizes:r,centers:n}}function r3e(e,t){var r=t3e(e),n=r.sizes,a=r.centers,i=ii(Ph(t,[1,0])),s=Cc(ws(Ok(Cc(i[2],St(5))),n[0]),St(2)),o=Cr(ws(Cc(i[0],St(10)),n[0]),a[0]),l=Cc(ws(Ok(Cc(i[3],St(5))),n[1]),St(2)),u=Cr(ws(Cc(i[1],St(10)),n[1]),a[1]);return Ph(nl([oi(o,s),oi(u,l),Cr(o,s),Cr(u,l)]),[1,0])}function n3e(e,t,r){return Pt(function(){var n=e.shape[0],a=r3e(kc(a0(r.extra_dim,[n,1,1]),[-1,4]),kc(e,[-1,4]));a=kc(a,[n,a.shape[0]/n,4]);var i=xZ(Mu(t,[0,0,1],[-1,-1,-1])),s=Mu(i,[0,0,0],[-1,-1,1]);s=kc(s,[n,s.shape[1]]);var o=ii(a),l=ii(s);return{boxes:o,scores:l}})}function kg(e,t){return Pt(function(){var r=e.shape[0],n=kc(Ac(e,t.box_encoding_predictor),[r,-1,1,4]),a=kc(Ac(e,t.class_predictor),[r,-1,3]);return{boxPredictionEncoding:n,classPrediction:a}})}function a3e(e,t,r){return Pt(function(){var n=uu(e,r.conv_0,[1,1]),a=uu(n,r.conv_1,[2,2]),i=uu(a,r.conv_2,[1,1]),s=uu(i,r.conv_3,[2,2]),o=uu(s,r.conv_4,[1,1]),l=uu(o,r.conv_5,[2,2]),u=uu(l,r.conv_6,[1,1]),d=uu(u,r.conv_7,[2,2]),f=kg(t,r.box_predictor_0),p=kg(e,r.box_predictor_1),h=kg(a,r.box_predictor_2),g=kg(s,r.box_predictor_3),y=kg(l,r.box_predictor_4),x=kg(d,r.box_predictor_5),b=ai([f.boxPredictionEncoding,p.boxPredictionEncoding,h.boxPredictionEncoding,g.boxPredictionEncoding,y.boxPredictionEncoding,x.boxPredictionEncoding],1),N=ai([f.classPrediction,p.classPrediction,h.classPrediction,g.classPrediction,y.classPrediction,x.classPrediction],1);return{boxPredictions:b,classPredictions:N}})}var u1=(function(){function e(t){var r=t===void 0?{}:t,n=r.minConfidence,a=r.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=a||100,typeof this._minConfidence!="number"||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if(typeof this._maxResults!="number")throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e})(),DQ=(function(e){mr(t,e);function t(){return e.call(this,"SsdMobilenetv1")||this}return t.prototype.forwardInput=function(r){var n=this.params;if(!n)throw new Error("SsdMobilenetv1 - load model before inference");return Pt(function(){var a=r.toBatchTensor(512,!1).toFloat(),i=oi(ws(a,St(.007843137718737125)),St(1)),s=Z4e(i,n.mobilenetv1),o=a3e(s.out,s.conv11,n.prediction_layer),l=o.boxPredictions,u=o.classPredictions;return n3e(l,u,n.output_layer)})},t.prototype.forward=function(r){return $t(this,void 0,void 0,function(){var n;return qt(this,function(a){switch(a.label){case 0:return n=this.forwardInput,[4,Ai(r)];case 1:return[2,n.apply(this,[a.sent()])]}})})},t.prototype.locateFaces=function(r,n){return n===void 0&&(n={}),$t(this,void 0,void 0,function(){var a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D;return qt(this,function(O){switch(O.label){case 0:return a=new u1(n),i=a.maxResults,s=a.minConfidence,[4,Ai(r)];case 1:for(o=O.sent(),l=this.forwardInput(o),u=l.boxes,d=l.scores,f=u[0],p=d[0],h=1;h<u.length;h++)u[h].dispose(),d[h].dispose();return x=(y=Array).from,[4,p.data()];case 2:return g=x.apply(y,[O.sent()]),b=.5,N=Q4e(f,g,i,b,s),j=o.getReshapedInputDimensions(0),w=o.inputSize,C=w/j.width,E=w/j.height,I=f.arraySync(),D=N.map(function(L){var R=[Math.max(0,I[L][0]),Math.min(1,I[L][2])].map(function(q){return q*E}),P=R[0],F=R[1],V=[Math.max(0,I[L][1]),Math.min(1,I[L][3])].map(function(q){return q*C}),X=V[0],te=V[1];return new qu(g[L],new sT(X,P,te-X,F-P),{height:o.getInputHeight(0),width:o.getInputWidth(0)})}),f.dispose(),p.dispose(),[2,D]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(r){return Y4e(r)},t.prototype.extractParams=function(r){return H4e(r)},t})(hf);(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(DQ);var i3e=.4,s3e=[new Jr(.738768,.874946),new Jr(2.42204,2.65704),new Jr(4.30971,7.04493),new Jr(10.246,4.59428),new Jr(12.6868,11.8741)],o3e=[new Jr(1.603231,2.094468),new Jr(6.041143,7.080126),new Jr(2.882459,3.518061),new Jr(4.266906,5.178857),new Jr(9.041765,10.66308)],l3e=[117.001,114.697,97.404],c3e="tiny_yolov2_model",u3e="tiny_yolov2_separable_conv_model",Y2=function(e){return typeof e=="number"};function d3e(e){if(!e)throw new Error("invalid config: "+e);if(typeof e.withSeparableConvs!="boolean")throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!Y2(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(t){return typeof t=="string"}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(t){return t||{}}).every(function(t){return Y2(t.x)&&Y2(t.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||e.meanRgb.length!==3||!e.meanRgb.every(Y2)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}function vT(e){return Pt(function(){var t=ws(e,St(.10000000149011612));return Cr(ca(oi(e,t)),t)})}function th(e,t){return Pt(function(){var r=Im(e,[[0,0],[1,1],[1,1],[0,0]]);return r=Ql(r,t.conv.filters,[1,1],"valid"),r=oi(r,t.bn.sub),r=ws(r,t.bn.truediv),r=Cr(r,t.conv.bias),vT(r)})}function rh(e,t){return Pt(function(){var r=Im(e,[[0,0],[1,1],[1,1],[0,0]]);return r=GD(r,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),r=Cr(r,t.bias),vT(r)})}function f3e(e,t){var r=j4(e,t);function n(s,o){var l=$a(e(s)),u=$a(e(s));return t.push({paramPath:o+"/sub"},{paramPath:o+"/truediv"}),{sub:l,truediv:u}}function a(s,o,l){var u=r(s,o,3,l+"/conv"),d=n(o,l+"/bn");return{conv:u,bn:d}}var i=hT(e,t);return{extractConvParams:r,extractConvWithBatchNormParams:a,extractSeparableConvParams:i}}function h3e(e,t,r,n){var a=mf(e),i=a.extractWeights,s=a.getRemainingWeights,o=[],l=f3e(i,o),u=l.extractConvParams,d=l.extractConvWithBatchNormParams,f=l.extractSeparableConvParams,p;if(t.withSeparableConvs){var h=n[0],g=n[1],y=n[2],x=n[3],b=n[4],N=n[5],j=n[6],w=n[7],C=n[8],E=t.isFirstLayerConv2d?u(h,g,3,"conv0"):f(h,g,"conv0"),I=f(g,y,"conv1"),D=f(y,x,"conv2"),O=f(x,b,"conv3"),L=f(b,N,"conv4"),R=f(N,j,"conv5"),P=w?f(j,w,"conv6"):void 0,F=C?f(w,C,"conv7"):void 0,V=u(C||w||j,5*r,1,"conv8");p={conv0:E,conv1:I,conv2:D,conv3:O,conv4:L,conv5:R,conv6:P,conv7:F,conv8:V}}else{var h=n[0],g=n[1],y=n[2],x=n[3],b=n[4],N=n[5],j=n[6],w=n[7],C=n[8],E=d(h,g,"conv0"),I=d(g,y,"conv1"),D=d(y,x,"conv2"),O=d(x,b,"conv3"),L=d(b,N,"conv4"),R=d(N,j,"conv5"),P=d(j,w,"conv6"),F=d(w,C,"conv7"),V=u(C,5*r,1,"conv8");p={conv0:E,conv1:I,conv2:D,conv3:O,conv4:L,conv5:R,conv6:P,conv7:F,conv8:V}}if(s().length!==0)throw new Error("weights remaing after extract: "+s().length);return{params:p,paramMappings:o}}function p3e(e,t){var r=Uh(e,t);function n(o){var l=r(o+"/sub",1),u=r(o+"/truediv",1);return{sub:l,truediv:u}}function a(o){var l=r(o+"/filters",4),u=r(o+"/bias",1);return{filters:l,bias:u}}function i(o){var l=a(o+"/conv"),u=n(o+"/bn");return{conv:l,bn:u}}var s=pT(r);return{extractConvParams:a,extractConvWithBatchNormParams:i,extractSeparableConvParams:s}}function m3e(e,t){var r=[],n=p3e(e,r),a=n.extractConvParams,i=n.extractConvWithBatchNormParams,s=n.extractSeparableConvParams,o;if(t.withSeparableConvs){var l=t.filterSizes&&t.filterSizes.length||9;o={conv0:t.isFirstLayerConv2d?a("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:l>7?s("conv6"):void 0,conv7:l>8?s("conv7"):void 0,conv8:a("conv8")}}else o={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:a("conv8")};return pf(e,r),{params:o,paramMappings:r}}var OF;(function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"})(OF||(OF={}));var xT=(function(){function e(t){var r=t===void 0?{}:t,n=r.inputSize,a=r.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=a||.5,typeof this._inputSize!="number"||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if(typeof this._scoreThreshold!="number"||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e})(),TQ=(function(e){mr(t,e);function t(r){var n=e.call(this,"TinyYolov2")||this;return d3e(r),n._config=r,n}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(r,n){var a=th(r,n.conv0);return a=ji(a,[2,2],[2,2],"same"),a=th(a,n.conv1),a=ji(a,[2,2],[2,2],"same"),a=th(a,n.conv2),a=ji(a,[2,2],[2,2],"same"),a=th(a,n.conv3),a=ji(a,[2,2],[2,2],"same"),a=th(a,n.conv4),a=ji(a,[2,2],[2,2],"same"),a=th(a,n.conv5),a=ji(a,[2,2],[1,1],"same"),a=th(a,n.conv6),a=th(a,n.conv7),Ac(a,n.conv8,"valid",!1)},t.prototype.runMobilenet=function(r,n){var a=this.config.isFirstLayerConv2d?vT(Ac(r,n.conv0,"valid",!1)):rh(r,n.conv0);return a=ji(a,[2,2],[2,2],"same"),a=rh(a,n.conv1),a=ji(a,[2,2],[2,2],"same"),a=rh(a,n.conv2),a=ji(a,[2,2],[2,2],"same"),a=rh(a,n.conv3),a=ji(a,[2,2],[2,2],"same"),a=rh(a,n.conv4),a=ji(a,[2,2],[2,2],"same"),a=rh(a,n.conv5),a=ji(a,[2,2],[1,1],"same"),a=n.conv6?rh(a,n.conv6):a,a=n.conv7?rh(a,n.conv7):a,Ac(a,n.conv8,"valid",!1)},t.prototype.forwardInput=function(r,n){var a=this,i=this.params;if(!i)throw new Error("TinyYolov2 - load model before inference");return Pt(function(){var s=r.toBatchTensor(n,!1).toFloat();return s=a.config.meanRgb?c1(s,a.config.meanRgb):s,s=s.div(St(256)),a.config.withSeparableConvs?a.runMobilenet(s,i):a.runTinyYolov2(s,i)})},t.prototype.forward=function(r,n){return $t(this,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Ai(r)];case 1:return[4,a.apply(this,[i.sent(),n])];case 2:return[2,i.sent()]}})})},t.prototype.detect=function(r,n){return n===void 0&&(n={}),$t(this,void 0,void 0,function(){var a,i,s,o,l,u,d,f,p,h,g,y,x,b,N=this;return qt(this,function(j){switch(j.label){case 0:return a=new xT(n),i=a.inputSize,s=a.scoreThreshold,[4,Ai(r)];case 1:return o=j.sent(),[4,this.forwardInput(o,i)];case 2:return l=j.sent(),u=Pt(function(){return ii(l)[0].expandDims()}),d={width:o.getInputWidth(0),height:o.getInputHeight(0)},[4,this.extractBoxes(u,o.getReshapedInputDimensions(0),s)];case 3:return f=j.sent(),l.dispose(),u.dispose(),p=f.map(function(w){return w.box}),h=f.map(function(w){return w.score}),g=f.map(function(w){return w.classScore}),y=f.map(function(w){return N.config.classes[w.label]}),x=py(p.map(function(w){return w.rescale(i)}),h,this.config.iouThreshold,!0),b=x.map(function(w){return new rQ(h[w],g[w],y[w],p[w],d)}),[2,b]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(r){return m3e(r,this.config)},t.prototype.extractParams=function(r){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,a=n?n.length:void 0;if(a!==7&&a!==8&&a!==9)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+a+" filterSizes in config");return h3e(r,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(r,n,a){return $t(this,void 0,void 0,function(){var i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D,O,L,R,P,F,V,X,te,q,U=this;return qt(this,function(Q){switch(Q.label){case 0:return i=n.width,s=n.height,o=Math.max(i,s),l=o/i,u=o/s,d=r.shape[1],f=this.config.anchors.length,p=Pt(function(){var se=r.reshape([d,d,f,U.boxEncodingSize]),K=se.slice([0,0,0,0],[d,d,f,4]),T=se.slice([0,0,0,4],[d,d,f,1]),W=U.withClassScores?df(se.slice([0,0,0,5],[d,d,f,U.config.classes.length]),3):St(0);return[K,T,W]}),h=p[0],g=p[1],y=p[2],x=[],[4,g.array()];case 1:return b=Q.sent(),[4,h.array()];case 2:N=Q.sent(),j=0,Q.label=3;case 3:if(!(j<d))return[3,12];w=0,Q.label=4;case 4:if(!(w<d))return[3,11];C=0,Q.label=5;case 5:return C<f?(E=E6(b[j][w][C][0]),!a||E>a?(I=(w+E6(N[j][w][C][0]))/d*l,D=(j+E6(N[j][w][C][1]))/d*u,O=Math.exp(N[j][w][C][2])*this.config.anchors[C].x/d*l,L=Math.exp(N[j][w][C][3])*this.config.anchors[C].y/d*u,R=I-O/2,P=D-L/2,F={row:j,col:w,anchor:C},this.withClassScores?[4,this.extractPredictedClass(y,F)]:[3,7]):[3,9]):[3,10];case 6:return q=Q.sent(),[3,8];case 7:q={classScore:1,label:0},Q.label=8;case 8:V=q,X=V.classScore,te=V.label,x.push(ms({box:new N4(R,P,R+O,P+L),score:E,classScore:E*X,label:te},F)),Q.label=9;case 9:return C++,[3,5];case 10:return w++,[3,4];case 11:return j++,[3,3];case 12:return h.dispose(),g.dispose(),y.dispose(),[2,x]}})})},t.prototype.extractPredictedClass=function(r,n){return $t(this,void 0,void 0,function(){var a,i,s,o;return qt(this,function(l){switch(l.label){case 0:return a=n.row,i=n.col,s=n.anchor,[4,r.array()];case 1:return o=l.sent(),[2,Array(this.config.classes.length).fill(0).map(function(u,d){return o[a][i][s][d]}).map(function(u,d){return{classScore:u,label:d}}).reduce(function(u,d){return u.classScore>d.classScore?u:d})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t})(hf),g3e=(function(e){mr(t,e);function t(r){r===void 0&&(r=!0);var n=this,a=Object.assign({},{withSeparableConvs:r,iouThreshold:i3e,classes:["face"]},r?{anchors:o3e,meanRgb:l3e}:{anchors:s3e,withClassScores:!0});return n=e.call(this,a)||this,n}return Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(r,n){return $t(this,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return[4,this.detect(r,n)];case 1:return a=i.sent(),[2,a.map(function(s){return new qu(s.score,s.relativeBox,{width:s.imageWidth,height:s.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?u3e:c3e},t.prototype.extractParamsFromWeigthMap=function(r){return e.prototype.extractParamsFromWeigthMap.call(this,r)},t})(TQ),v3e=(function(e){mr(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._name="TinyFaceDetectorOptions",r}return t})(xT),d1=(function(){function e(){}return e.prototype.then=function(t){return $t(this,void 0,void 0,function(){var r;return qt(this,function(n){switch(n.label){case 0:return r=t,[4,this.run()];case 1:return[2,r.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return $t(this,void 0,void 0,function(){return qt(this,function(t){throw new Error("ComposableTask - run is not implemented")})})},e})();function C4(e,t,r,n,a){return a===void 0&&(a=function(i){var s=i.alignedRect;return s}),$t(this,void 0,void 0,function(){var i,s,o,l,u;return qt(this,function(d){switch(d.label){case 0:return i=e.map(function(f){return j4e(f)?a(f):f.detection}),o=n,o?[3,5]:t instanceof oa?[4,dT(t,i)]:[3,2];case 1:return l=d.sent(),[3,4];case 2:return[4,uT(t,i)];case 3:l=d.sent(),d.label=4;case 4:o=l,d.label=5;case 5:return s=o,[4,r(s)];case 6:return u=d.sent(),s.forEach(function(f){return f instanceof oa&&f.dispose()}),[2,u]}})})}function yT(e,t,r,n,a){return $t(this,void 0,void 0,function(){var i=this;return qt(this,function(s){return[2,C4([e],t,function(o){return $t(i,void 0,void 0,function(){return qt(this,function(l){return[2,r(o[0])]})})},n,a)]})})}function x3e(e){return Pt(function(){return nl(ii(e,3).reverse(),3)})}var K2=2,Hw=12;function y3e(e,t){var r=j4(e,t),n=fT(e,t);function a(u,d){var f=$a(e(u));return t.push({paramPath:d}),f}function i(u,d,f){f===void 0&&(f=!1);var p=r(u[0],u[1],3,d+"/conv1"),h=a(u[1],d+"/prelu1_alpha"),g=r(u[1],u[2],3,d+"/conv2"),y=a(u[2],d+"/prelu2_alpha"),x=r(u[2],u[3],f?2:3,d+"/conv3"),b=a(u[3],d+"/prelu3_alpha");return{conv1:p,prelu1_alpha:h,conv2:g,prelu2_alpha:y,conv3:x,prelu3_alpha:b}}function s(){var u=i([3,10,16,32],"pnet"),d=r(32,2,1,"pnet/conv4_1"),f=r(32,4,1,"pnet/conv4_2");return ms(ms({},u),{conv4_1:d,conv4_2:f})}function o(){var u=i([3,28,48,64],"rnet",!0),d=n(576,128,"rnet/fc1"),f=a(128,"rnet/prelu4_alpha"),p=n(128,2,"rnet/fc2_1"),h=n(128,4,"rnet/fc2_2");return ms(ms({},u),{fc1:d,prelu4_alpha:f,fc2_1:p,fc2_2:h})}function l(){var u=i([3,32,64,64],"onet"),d=r(64,128,2,"onet/conv4"),f=a(128,"onet/prelu4_alpha"),p=n(1152,256,"onet/fc1"),h=a(256,"onet/prelu5_alpha"),g=n(256,2,"onet/fc2_1"),y=n(256,4,"onet/fc2_2"),x=n(256,10,"onet/fc2_3");return ms(ms({},u),{conv4:d,prelu4_alpha:f,fc1:p,prelu5_alpha:h,fc2_1:g,fc2_2:y,fc2_3:x})}return{extractPNetParams:s,extractRNetParams:o,extractONetParams:l}}function b3e(e){var t=mf(e),r=t.extractWeights,n=t.getRemainingWeights,a=[],i=y3e(r,a),s=i.extractPNetParams,o=i.extractRNetParams,l=i.extractONetParams,u=s(),d=o(),f=l();if(n().length!==0)throw new Error("weights remaing after extract: "+n().length);return{params:{pnet:u,rnet:d,onet:f},paramMappings:a}}function w3e(e,t){var r=Uh(e,t);function n(d){var f=r(d+"/weights",4,d+"/filters"),p=r(d+"/bias",1);return{filters:f,bias:p}}function a(d){var f=r(d+"/weights",2),p=r(d+"/bias",1);return{weights:f,bias:p}}function i(d){return r(d,1)}function s(d){var f=n(d+"/conv1"),p=i(d+"/prelu1_alpha"),h=n(d+"/conv2"),g=i(d+"/prelu2_alpha"),y=n(d+"/conv3"),x=i(d+"/prelu3_alpha");return{conv1:f,prelu1_alpha:p,conv2:h,prelu2_alpha:g,conv3:y,prelu3_alpha:x}}function o(){var d=s("pnet"),f=n("pnet/conv4_1"),p=n("pnet/conv4_2");return ms(ms({},d),{conv4_1:f,conv4_2:p})}function l(){var d=s("rnet"),f=a("rnet/fc1"),p=i("rnet/prelu4_alpha"),h=a("rnet/fc2_1"),g=a("rnet/fc2_2");return ms(ms({},d),{fc1:f,prelu4_alpha:p,fc2_1:h,fc2_2:g})}function u(){var d=s("onet"),f=n("onet/conv4"),p=i("onet/prelu4_alpha"),h=a("onet/fc1"),g=i("onet/prelu5_alpha"),y=a("onet/fc2_1"),x=a("onet/fc2_2"),b=a("onet/fc2_3");return ms(ms({},d),{conv4:f,prelu4_alpha:p,fc1:h,prelu5_alpha:g,fc2_1:y,fc2_2:x,fc2_3:b})}return{extractPNetParams:o,extractRNetParams:l,extractONetParams:u}}function N3e(e){var t=[],r=w3e(e,t),n=r.extractPNetParams,a=r.extractRNetParams,i=r.extractONetParams,s=n(),o=a(),l=i();return pf(e,t),{params:{pnet:s,rnet:o,onet:l},paramMappings:t}}function Wk(e,t){var r=t[0],n=t[1];return{height:Math.floor(r*e),width:Math.floor(n*e)}}function S3e(e,t,r){for(var n=r[0],a=r[1],i=Hw/e,s=[],o=Math.min(n,a)*i,l=0;o>=12;)s.push(i*Math.pow(t,l)),o=o*t,l+=1;return s}var bT=(function(e){mr(t,e);function t(r,n,a,i){return e.call(this,{left:r,top:n,right:a,bottom:i},!0)||this}return t})(kh);function OQ(e){return Pt(function(){return ws(oi(e,St(127.5)),St(.0078125))})}function u0(e,t){return Pt(function(){return Cr(ca(e),ws(t,Bw(ca(Bw(e)))))})}function wT(e,t,r){return r===void 0&&(r=!1),Pt(function(){var n=Ac(e,t.conv1,"valid");return n=u0(n,t.prelu1_alpha),n=ji(n,r?[2,2]:[3,3],[2,2],"same"),n=Ac(n,t.conv2,"valid"),n=u0(n,t.prelu2_alpha),n=r?n:ji(n,[3,3],[2,2],"valid"),n=Ac(n,t.conv3,"valid"),n=u0(n,t.prelu3_alpha),n})}function j3e(e,t){return Pt(function(){var r=wT(e,t,!0),n=Ac(r,t.conv4_1,"valid"),a=zl(x4(n,3),3),i=df(oi(n,a),3),s=Ac(r,t.conv4_2,"valid");return{prob:i,regions:s}})}function C3e(e,t){return Pt(function(){var r=Wk(t,e.shape.slice(1)),n=r.height,a=r.width,i=ZD.resizeBilinear(e,[n,a]),s=OQ(i);return Ph(s,[0,2,1,3])})}function _3e(e,t,r,n){for(var a=[],i=e.arraySync(),s=0;s<e.shape[0];s++)for(var o=0;o<e.shape[1];o++)i[s][o]>=n&&a.push(new Jr(o,s));var l=a.map(function(u){var d=new N4(Math.round((u.y*K2+1)/r),Math.round((u.x*K2+1)/r),Math.round((u.y*K2+Hw)/r),Math.round((u.x*K2+Hw)/r)),f=i[u.y][u.x],p=t.arraySync(),h=new bT(p[u.y][u.x][0],p[u.y][u.x][1],p[u.y][u.x][2],p[u.y][u.x][3]);return{cell:d,score:f,region:h}});return l}function E3e(e,t,r,n,a){a.stage1=[];var i=t.map(function(p){return Pt(function(){var h={scale:p},g=C3e(e,p),y=Date.now(),x=j3e(g,n),b=x.prob,N=x.regions;h.pnet=Date.now()-y;var j=ii(ii(b,3)[1])[0],w=ii(N)[0];return{scoresTensor:j,regionsTensor:w,scale:p,statsForScale:h}})}),s=i.map(function(p){var h=p.scoresTensor,g=p.regionsTensor,y=p.scale,x=p.statsForScale,b=_3e(h,g,y,r);if(h.dispose(),g.dispose(),!b.length)return a.stage1.push(x),[];var N=Date.now(),j=py(b.map(function(w){return w.cell}),b.map(function(w){return w.score}),.5);return x.nms=Date.now()-N,x.numBoxes=j.length,a.stage1.push(x),j.map(function(w){return b[w]})}),o=s.reduce(function(p,h){return p.concat(h)},[]),l=[],u=[];if(o.length>0){var d=Date.now(),f=py(o.map(function(p){return p.cell}),o.map(function(p){return p.score}),.7);a.stage1_nms=Date.now()-d,u=f.map(function(p){return o[p].score}),l=f.map(function(p){return o[p]}).map(function(p){var h=p.cell,g=p.region;return new N4(h.left+g.left*h.width,h.top+g.top*h.height,h.right+g.right*h.width,h.bottom+g.bottom*h.height).toSquare().round()})}return{boxes:l,scores:u}}function IQ(e,t,r){var n=r.width,a=r.height;return $t(this,void 0,void 0,function(){var i,s,o,l=this;return qt(this,function(u){switch(u.label){case 0:return i=pm(e),[4,Promise.all(t.map(function(d){return $t(l,void 0,void 0,function(){var f,p,h,g,y,x,b,N;return qt(this,function(j){return f=d.padAtBorders(e.height,e.width),p=f.y,h=f.ey,g=f.x,y=f.ex,x=g-1,b=p-1,N=i.getImageData(x,b,y-x,h-b),[2,Vi.isNodejs()?cT(N):createImageBitmap(N)]})})}))];case 1:return s=u.sent(),o=[],s.forEach(function(d){var f=S4({width:n,height:a}),p=pm(f);p.drawImage(d,0,0,n,a);for(var h=p.getImageData(0,0,n,a).data,g=[],y=0;y<h.length;y+=4)g.push(h[y+2]),g.push(h[y+1]),g.push(h[y]);o.push(g)}),[2,o.map(function(d){var f=Pt(function(){var p=Ph(fo(d,[1,n,a,3]),[0,2,1,3]).toFloat();return OQ(p)});return f})]}})})}function P3e(e,t){return Pt(function(){var r=wT(e,t),n=kc(r,[r.shape[0],t.fc1.weights.shape[0]]),a=xu(n,t.fc1),i=u0(a,t.prelu4_alpha),s=xu(i,t.fc2_1),o=zl(x4(s,1),1),l=df(oi(s,o),1),u=xu(i,t.fc2_2),d=ii(l,1)[1];return{scores:d,regions:u}})}function k3e(e,t,r,n,a){return $t(this,void 0,void 0,function(){var i,s,o,l,u,d,f,p,h,g,y,x,b,N;return qt(this,function(j){switch(j.label){case 0:return i=Date.now(),[4,IQ(e,t,{width:24,height:24})];case 1:return s=j.sent(),a.stage2_extractImagePatches=Date.now()-i,i=Date.now(),o=s.map(function(w){var C=P3e(w,n);return w.dispose(),C}),a.stage2_rnet=Date.now()-i,l=o.length>1?ai(o.map(function(w){return w.scores})):o[0].scores,f=(d=Array).from,[4,l.data()];case 2:return u=f.apply(d,[j.sent()]),l.dispose(),p=u.map(function(w,C){return{score:w,idx:C}}).filter(function(w){return w.score>r}).map(function(w){var C=w.idx;return C}),h=p.map(function(w){return t[w]}),g=p.map(function(w){return u[w]}),y=[],x=[],h.length>0&&(i=Date.now(),b=py(h,g,.7),a.stage2_nms=Date.now()-i,N=b.map(function(w){var C=o[p[w]].regions.arraySync();return new bT(C[0][0],C[0][1],C[0][2],C[0][3])}),x=b.map(function(w){return g[w]}),y=b.map(function(w,C){return h[w].calibrate(N[C])})),o.forEach(function(w){w.regions.dispose(),w.scores.dispose()}),[2,{boxes:y,scores:x}]}})})}function A3e(e,t){return Pt(function(){var r=wT(e,t);r=ji(r,[2,2],[2,2],"same"),r=Ac(r,t.conv4,"valid"),r=u0(r,t.prelu4_alpha);var n=kc(r,[r.shape[0],t.fc1.weights.shape[0]]),a=xu(n,t.fc1),i=u0(a,t.prelu5_alpha),s=xu(i,t.fc2_1),o=zl(x4(s,1),1),l=df(oi(s,o),1),u=xu(i,t.fc2_2),d=xu(i,t.fc2_3),f=ii(l,1)[1];return{scores:f,regions:u,points:d}})}function D3e(e,t,r,n,a){return $t(this,void 0,void 0,function(){var i,s,o,l,u,d,f,p,h,g,y,x,b,N,j;return qt(this,function(w){switch(w.label){case 0:return i=Date.now(),[4,IQ(e,t,{width:48,height:48})];case 1:return s=w.sent(),a.stage3_extractImagePatches=Date.now()-i,i=Date.now(),o=s.map(function(C){var E=A3e(C,n);return C.dispose(),E}),a.stage3_onet=Date.now()-i,l=o.length>1?ai(o.map(function(C){return C.scores})):o[0].scores,f=(d=Array).from,[4,l.data()];case 2:return u=f.apply(d,[w.sent()]),l.dispose(),p=u.map(function(C,E){return{score:C,idx:E}}).filter(function(C){return C.score>r}).map(function(C){var E=C.idx;return E}),h=p.map(function(C){var E=o[C].regions.arraySync();return new bT(E[0][0],E[0][1],E[0][2],E[0][3])}),g=p.map(function(C,E){return t[C].calibrate(h[E])}),y=p.map(function(C){return u[C]}),x=[],b=[],N=[],g.length>0&&(i=Date.now(),j=py(g,y,.7,!1),a.stage3_nms=Date.now()-i,x=j.map(function(C){return g[C]}),b=j.map(function(C){return y[C]}),N=j.map(function(C,E){return Array(5).fill(0).map(function(I,D){var O=o[C].points.arraySync();return new Jr(O[0][D]*(x[E].width+1)+x[E].left,O[0][D+5]*(x[E].height+1)+x[E].top)})})),o.forEach(function(C){C.regions.dispose(),C.scores.dispose(),C.points.dispose()}),[2,{boxes:x,scores:b,points:N}]}})})}var T3e=(function(e){mr(t,e);function t(){return e.call(this,"Mtcnn")||this}return t.prototype.load=function(r){return $t(this,void 0,void 0,function(){return qt(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,r)]})})},t.prototype.loadFromDisk=function(r){return $t(this,void 0,void 0,function(){return qt(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,r)]})})},t.prototype.forwardInput=function(r,n){return n===void 0&&(n={}),$t(this,void 0,void 0,function(){var a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D;return qt(this,function(O){switch(O.label){case 0:if(a=this.params,!a)throw new Error("Mtcnn - load model before inference");if(i=r.canvases[0],!i)throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return s={},o=Date.now(),l=Pt(function(){return x3e(zl(aT.fromPixels(i)).toFloat())}),u=function(L){return l.dispose(),s.total=Date.now()-o,L},d=l.shape.slice(1),f=d[0],p=d[1],h=new AQ(n),g=h.minFaceSize,y=h.scaleFactor,x=h.maxNumScales,b=h.scoreThresholds,N=h.scaleSteps,j=(N||S3e(g,y,[f,p])).filter(function(L){var R=Wk(L,[f,p]);return Math.min(R.width,R.height)>Hw}).slice(0,x),s.scales=j,s.pyramid=j.map(function(L){return Wk(L,[f,p])}),w=Date.now(),[4,E3e(l,j,b[0],a.pnet,s)];case 1:return C=O.sent(),s.total_stage1=Date.now()-w,C.boxes.length?(s.stage2_numInputBoxes=C.boxes.length,w=Date.now(),[4,k3e(i,C.boxes,b[1],a.rnet,s)]):[2,u({results:[],stats:s})];case 2:return E=O.sent(),s.total_stage2=Date.now()-w,E.boxes.length?(s.stage3_numInputBoxes=E.boxes.length,w=Date.now(),[4,D3e(i,E.boxes,b[2],a.onet,s)]):[2,u({results:[],stats:s})];case 3:return I=O.sent(),s.total_stage3=Date.now()-w,D=I.boxes.map(function(L,R){return mT(oT({},new qu(I.scores[R],new sT(L.left/p,L.top/f,L.width/p,L.height/f),{height:f,width:p})),new o4e(I.points[R].map(function(P){return P.sub(new Jr(L.left,L.top)).div(new Jr(L.width,L.height))}),{width:L.width,height:L.height}))}),[2,u({results:D,stats:s})]}})})},t.prototype.forward=function(r,n){return n===void 0&&(n={}),$t(this,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Ai(r)];case 1:return[4,a.apply(this,[i.sent(),n])];case 2:return[2,i.sent().results]}})})},t.prototype.forwardWithStats=function(r,n){return n===void 0&&(n={}),$t(this,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return a=this.forwardInput,[4,Ai(r)];case 1:return[2,a.apply(this,[i.sent(),n])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(r){return N3e(r)},t.prototype.extractParams=function(r){return b3e(r)},t})(hf),O3e=.4,I3e=[new Jr(1.603231,2.094468),new Jr(6.041143,7.080126),new Jr(2.882459,3.518061),new Jr(4.266906,5.178857),new Jr(9.041765,10.66308)],M3e=[117.001,114.697,97.404],R3e=(function(e){mr(t,e);function t(){var r=this,n={withSeparableConvs:!0,iouThreshold:O3e,classes:["face"],anchors:I3e,meanRgb:M3e,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return r=e.call(this,n)||this,r}return Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(r,n){return $t(this,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return[4,this.detect(r,n)];case 1:return a=i.sent(),[2,a.map(function(s){return new qu(s.score,s.relativeBox,{width:s.imageWidth,height:s.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(r){return e.prototype.extractParamsFromWeigthMap.call(this,r)},t})(TQ),Us={ssdMobilenetv1:new DQ,tinyFaceDetector:new R3e,tinyYolov2:new g3e,mtcnn:new T3e,faceLandmark68Net:new jQ,faceLandmark68TinyNet:new L4e,faceRecognitionNet:new q4e,faceExpressionNet:new S4e,ageGenderNet:new O4e},MQ=(function(e){mr(t,e);function t(r,n,a){var i=e.call(this)||this;return i.parentTask=r,i.input=n,i.extractedFaces=a,i}return t})(d1),NT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n,a=this;return qt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return r=i.sent(),[4,C4(r,this.input,function(s){return $t(a,void 0,void 0,function(){return qt(this,function(o){switch(o.label){case 0:return[4,Promise.all(s.map(function(l){return Us.faceExpressionNet.predictExpressions(l)}))];case 1:return[2,o.sent()]}})})},this.extractedFaces)];case 2:return n=i.sent(),[2,r.map(function(s,o){return wQ(s,n[o])})]}})})},t.prototype.withAgeAndGender=function(){return new _T(this,this.input)},t})(MQ),ST=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n;return qt(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return r=a.sent(),r?[4,yT(r,this.input,function(i){return Us.faceExpressionNet.predictExpressions(i)},this.extractedFaces)]:[2];case 2:return n=a.sent(),[2,wQ(r,n)]}})})},t.prototype.withAgeAndGender=function(){return new ET(this,this.input)},t})(MQ),jT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new PT(this,this.input)},t.prototype.withFaceDescriptors=function(){return new AT(this,this.input)},t})(NT),CT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withAgeAndGender=function(){return new kT(this,this.input)},t.prototype.withFaceDescriptor=function(){return new DT(this,this.input)},t})(ST),RQ=(function(e){mr(t,e);function t(r,n,a){var i=e.call(this)||this;return i.parentTask=r,i.input=n,i.extractedFaces=a,i}return t})(d1),_T=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n,a=this;return qt(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return r=i.sent(),[4,C4(r,this.input,function(s){return $t(a,void 0,void 0,function(){return qt(this,function(o){switch(o.label){case 0:return[4,Promise.all(s.map(function(l){return Us.ageGenderNet.predictAgeAndGender(l)}))];case 1:return[2,o.sent()]}})})},this.extractedFaces)];case 2:return n=i.sent(),[2,r.map(function(s,o){var l=n[o],u=l.age,d=l.gender,f=l.genderProbability;return PQ(kQ(s,d,f),u)})]}})})},t.prototype.withFaceExpressions=function(){return new NT(this,this.input)},t})(RQ),ET=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n,a,i,s;return qt(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return r=o.sent(),r?[4,yT(r,this.input,function(l){return Us.ageGenderNet.predictAgeAndGender(l)},this.extractedFaces)]:[2];case 2:return n=o.sent(),a=n.age,i=n.gender,s=n.genderProbability,[2,PQ(kQ(r,i,s),a)]}})})},t.prototype.withFaceExpressions=function(){return new ST(this,this.input)},t})(RQ),PT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new jT(this,this.input)},t.prototype.withFaceDescriptors=function(){return new AT(this,this.input)},t})(_T),kT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.withFaceExpressions=function(){return new CT(this,this.input)},t.prototype.withFaceDescriptor=function(){return new DT(this,this.input)},t})(ET),LQ=(function(e){mr(t,e);function t(r,n){var a=e.call(this)||this;return a.parentTask=r,a.input=n,a}return t})(d1),AT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n;return qt(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return r=a.sent(),[4,C4(r,this.input,function(i){return Promise.all(i.map(function(s){return Us.faceRecognitionNet.computeFaceDescriptor(s)}))},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return n=a.sent(),[2,n.map(function(i,s){return EQ(r[s],i)})]}})})},t.prototype.withFaceExpressions=function(){return new jT(this,this.input)},t.prototype.withAgeAndGender=function(){return new PT(this,this.input)},t})(LQ),DT=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n;return qt(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return r=a.sent(),r?[4,yT(r,this.input,function(i){return Us.faceRecognitionNet.computeFaceDescriptor(i)},null,function(i){return i.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return n=a.sent(),[2,EQ(r,n)]}})})},t.prototype.withFaceExpressions=function(){return new CT(this,this.input)},t.prototype.withAgeAndGender=function(){return new kT(this,this.input)},t})(LQ),FQ=(function(e){mr(t,e);function t(r,n,a){var i=e.call(this)||this;return i.parentTask=r,i.input=n,i.useTinyLandmarkNet=a,i}return Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Us.faceLandmark68TinyNet:Us.faceLandmark68Net},enumerable:!0,configurable:!0}),t})(d1),L3e=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n,a,i,s,o=this;return qt(this,function(l){switch(l.label){case 0:return[4,this.parentTask];case 1:return r=l.sent(),n=r.map(function(u){return u.detection}),this.input instanceof oa?[4,dT(this.input,n)]:[3,3];case 2:return i=l.sent(),[3,5];case 3:return[4,uT(this.input,n)];case 4:i=l.sent(),l.label=5;case 5:return a=i,[4,Promise.all(a.map(function(u){return o.landmarkNet.detectLandmarks(u)}))];case 6:return s=l.sent(),a.forEach(function(u){return u instanceof oa&&u.dispose()}),[2,r.map(function(u,d){return mT(u,s[d])})]}})})},t.prototype.withFaceExpressions=function(){return new jT(this,this.input)},t.prototype.withAgeAndGender=function(){return new PT(this,this.input)},t.prototype.withFaceDescriptors=function(){return new AT(this,this.input)},t})(FQ),F3e=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n,a,i,s;return qt(this,function(o){switch(o.label){case 0:return[4,this.parentTask];case 1:return r=o.sent(),r?(n=r.detection,this.input instanceof oa?[4,dT(this.input,[n])]:[3,3]):[2];case 2:return i=o.sent(),[3,5];case 3:return[4,uT(this.input,[n])];case 4:i=o.sent(),o.label=5;case 5:return a=i,[4,this.landmarkNet.detectLandmarks(a[0])];case 6:return s=o.sent(),a.forEach(function(l){return l instanceof oa&&l.dispose()}),[2,mT(r,s)]}})})},t.prototype.withFaceExpressions=function(){return new CT(this,this.input)},t.prototype.withAgeAndGender=function(){return new kT(this,this.input)},t.prototype.withFaceDescriptor=function(){return new DT(this,this.input)},t})(FQ),BQ=(function(e){mr(t,e);function t(r,n){n===void 0&&(n=new u1);var a=e.call(this)||this;return a.input=r,a.options=n,a}return t})(d1),zQ=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n,a,i;return qt(this,function(s){switch(s.label){case 0:return r=this,n=r.input,a=r.options,a instanceof AQ?[4,Us.mtcnn.forward(n,a)]:[3,2];case 1:return[2,s.sent().map(function(o){return o.detection})];case 2:if(i=a instanceof v3e?function(o){return Us.tinyFaceDetector.locateFaces(o,a)}:a instanceof u1?function(o){return Us.ssdMobilenetv1.locateFaces(o,a)}:a instanceof xT?function(o){return Us.tinyYolov2.locateFaces(o,a)}:null,!i)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,i(n)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var r=this;return new Promise(function(n){return $t(r,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,n(a.map(function(s){return oT({},s)}))]}})})})},t.prototype.withFaceLandmarks=function(r){return r===void 0&&(r=!1),new L3e(this.runAndExtendWithFaceDetections(),this.input,r)},t.prototype.withFaceExpressions=function(){return new NT(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new _T(this.runAndExtendWithFaceDetections(),this.input)},t})(BQ),B3e=(function(e){mr(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.run=function(){return $t(this,void 0,void 0,function(){var r,n;return qt(this,function(a){switch(a.label){case 0:return[4,new zQ(this.input,this.options)];case 1:return r=a.sent(),n=r[0],r.forEach(function(i){i.score>n.score&&(n=i)}),[2,n]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var r=this;return new Promise(function(n){return $t(r,void 0,void 0,function(){var a;return qt(this,function(i){switch(i.label){case 0:return[4,this.run()];case 1:return a=i.sent(),[2,n(a?oT({},a):void 0)]}})})})},t.prototype.withFaceLandmarks=function(r){return r===void 0&&(r=!1),new F3e(this.runAndExtendWithFaceDetection(),this.input,r)},t.prototype.withFaceExpressions=function(){return new ST(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new ET(this.runAndExtendWithFaceDetection(),this.input)},t})(BQ);function z3e(e,t){return t===void 0&&(t=new u1),new B3e(e,t)}function W3e(e,t){return t===void 0&&(t=new u1),new zQ(e,t)}function WQ(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var r=Array.from(e),n=Array.from(t);return Math.sqrt(r.map(function(a,i){return a-n[i]}).reduce(function(a,i){return a+Math.pow(i,2)},0))}(function(){function e(t,r){r===void 0&&(r=.6),this._distanceThreshold=r;var n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var a=1,i=function(){return"person "+a++};this._labeledDescriptors=n.map(function(s){if(s instanceof V2)return s;if(s instanceof Float32Array)return new V2(i(),[s]);if(s.descriptor&&s.descriptor instanceof Float32Array)return new V2(i(),[s.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}return Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(t,r){return r.map(function(n){return WQ(n,t)}).reduce(function(n,a){return n+a},0)/(r.length||1)},e.prototype.matchDescriptor=function(t){var r=this;return this.labeledDescriptors.map(function(n){var a=n.descriptors,i=n.label;return new PF(i,r.computeMeanDistance(t,a))}).reduce(function(n,a){return n.distance<a.distance?n:a})},e.prototype.findBestMatch=function(t){var r=this.matchDescriptor(t);return r.distance<this.distanceThreshold?r:new PF("unknown",r.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(t){return t.toJSON()})}},e.fromJSON=function(t){var r=t.labeledDescriptors.map(function(n){return V2.fromJSON(n)});return new e(r,t.distanceThreshold)},e})();let Gw=!1;const _4=async()=>{if(Gw)return!0;try{const e="/models";return console.log(" Loading face detection models..."),await Promise.all([Us.ssdMobilenetv1.loadFromUri(e),Us.faceLandmark68Net.loadFromUri(e),Us.faceRecognitionNet.loadFromUri(e)]),Gw=!0,console.log(" Face-api models loaded successfully!"),!0}catch(e){return console.error(" Error loading face-api models:",e),!1}},U3e=async e=>{try{Gw||await _4();const t=await uQ(e),r=await z3e(t).withFaceLandmarks().withFaceDescriptor();return r?Array.from(r.descriptor):(console.warn(" No face detected in image"),null)}catch(t){return console.error("Error extracting face descriptor:",t),null}},$3e=async e=>{try{Gw||await _4();const t=await m4e(e);return(await W3e(t).withFaceLandmarks().withFaceDescriptors()).map((n,a)=>({descriptor:Array.from(n.descriptor),box:n.detection.box,faceIndex:a}))}catch(t){return console.error("Error extracting face descriptors:",t),[]}},q3e=(e,t)=>WQ(e,t),V3e=(e,t,r=.6)=>{const n=[];for(const a of t){const i=q3e(e,a.descriptor);i<r&&(n.push(a.photoId),console.log(` Match found! Photo ID: ${a.photoId}, Distance: ${i.toFixed(3)}`))}return n},H3e=()=>{const{eventId:e}=DY(),t=No(),r=A.useRef(null),[n,a]=A.useState(1),[i,s]=A.useState(""),[o,l]=A.useState(""),[u,d]=A.useState(""),[f,p]=A.useState(null),[h,g]=A.useState(!1),[y,x]=A.useState(null),[b,N]=A.useState(!1),[j,w]=A.useState(!0),[C,E]=A.useState(!1),[I,D]=A.useState(null),[O,L]=A.useState(!1),R="https://script.google.com/macros/s/AKfycbyy0mtYZpuBCcxxx_VVwJ5famgpJPula1ljY82ubZz_ujIkk4XjwXVAf14upVr2hvZxFQ/exec";A.useEffect(()=>{P()},[]);const P=async()=>{w(!0);const q=await _4();E(q),w(!1),q||alert(" Face recognition models failed to load. You can still register but AI matching may not work.")};A.useEffect(()=>{F();const q=document.querySelector("nav");return q&&(q.style.display="none"),()=>{q&&(q.style.display="")}},[]);const F=async()=>{try{const U=await(await fetch(R,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getEventDetails",eventId:e})})).json();U.success&&x(U.event)}catch(q){console.error("Error fetching event:",q)}},V=async()=>{const q=r.current.getScreenshot();if(p(q),N(!1),C){L(!0);const U=await U3e(q);if(!U){alert(" No face detected! Please retake your selfie with your face clearly visible."),p(null),N(!0),L(!1);return}D(U),L(!1),console.log(" Face descriptor extracted successfully!")}},X=()=>{p(null),D(null),N(!0)},te=async()=>{if(n===1){if(!i||!o){alert("Please enter your name and phone number");return}a(2),N(!0);return}if(n===2){if(!f){alert("Please capture your selfie");return}if(O){alert("Please wait, processing your face...");return}g(!0);try{const U=await(await fetch(R,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"registerGuest",eventId:e,name:i,phone:o,email:u,selfie:f,faceDescriptor:I})})).json();U.success?(a(3),localStorage.setItem("guestToken",U.token),localStorage.setItem("guestData",JSON.stringify({id:U.guestId,name:i,eventId:e})),setTimeout(()=>{t(`/guest/gallery/${e}`)},3e3)):alert(U.message||"Registration failed")}catch(q){console.error("Registration error:",q),alert("Failed to register. Please try again.")}finally{g(!1)}}};return j?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:c.jsxs(le.div,{className:"text-center text-white",initial:{opacity:0},animate:{opacity:1},children:[c.jsx(Bd,{className:"animate-spin text-6xl mx-auto mb-4"}),c.jsx("p",{className:"text-xl",children:"Loading AI face recognition..."})]})}):y?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4",children:c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-2xl w-full bg-white/10 backdrop-blur-md rounded-3xl p-8 shadow-2xl",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx(le.div,{initial:{scale:0},animate:{scale:1},className:"w-20 h-20 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:c.jsx(qa,{className:"text-white text-3xl"})}),c.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Find Your Photos! "}),c.jsxs("p",{className:"text-white/80",children:[y?.eventDate?new Date(y.eventDate).toLocaleDateString():"","  ",y?.eventType]})]}),c.jsx("div",{className:"flex items-center justify-center mb-8 space-x-4",children:[{step:1,icon:hn,label:"Details"},{step:2,icon:qa,label:"Selfie"},{step:3,icon:Pr,label:"Done"}].map((q,U)=>c.jsxs("div",{className:"flex items-center",children:[c.jsx(le.div,{animate:{scale:n===q.step?1.2:1,backgroundColor:n>=q.step?"#10b981":"#374151"},className:"w-12 h-12 rounded-full flex items-center justify-center",children:c.jsx(q.icon,{className:"text-white text-xl"})}),U<2&&c.jsx("div",{className:`w-12 h-1 mx-2 ${n>q.step?"bg-green-500":"bg-gray-600"}`})]},q.step))}),c.jsxs(Kt,{mode:"wait",children:[n===1&&c.jsxs(le.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2 font-medium",children:"Full Name *"}),c.jsx("input",{type:"text",value:i,onChange:q=>s(q.target.value),placeholder:"Enter your name",className:"w-full px-4 py-3 rounded-xl bg-white/20 text-white placeholder-white/50 border border-white/30 focus:border-purple-400 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2 font-medium",children:"Phone Number *"}),c.jsx("input",{type:"tel",value:o,onChange:q=>l(q.target.value),placeholder:"+91 98765 43210",className:"w-full px-4 py-3 rounded-xl bg-white/20 text-white placeholder-white/50 border border-white/30 focus:border-purple-400 focus:outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-white mb-2 font-medium",children:"Email (Optional)"}),c.jsx("input",{type:"email",value:u,onChange:q=>d(q.target.value),placeholder:"your@email.com",className:"w-full px-4 py-3 rounded-xl bg-white/20 text-white placeholder-white/50 border border-white/30 focus:border-purple-400 focus:outline-none"})]}),c.jsxs("button",{onClick:te,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2",children:[c.jsx("span",{children:"Next: Take Selfie"}),c.jsx(QA,{})]}),c.jsx("p",{className:"text-white/60 text-sm text-center",children:" We'll use facial recognition to find photos with you"})]},"step1"),n===2&&c.jsxs(le.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"space-y-6",children:[c.jsxs("div",{className:"text-center text-white mb-4",children:[c.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Take Your Selfie "}),c.jsx("p",{className:"text-white/80",children:C?"We'll use this to find your photos automatically":" AI matching may not work, but you can still browse photos"})]}),c.jsxs("div",{className:"relative",children:[b&&!f&&c.jsx("div",{className:"rounded-2xl overflow-hidden",children:c.jsx(xxe,{ref:r,audio:!1,screenshotFormat:"image/jpeg",className:"w-full rounded-2xl",videoConstraints:{facingMode:"user",width:1280,height:720}})}),f&&c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:f,alt:"Your selfie",className:"w-full rounded-2xl"}),O&&c.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center rounded-2xl",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx(Bd,{className:"animate-spin text-4xl mx-auto mb-2"}),c.jsx("p",{children:"Detecting face..."})]})}),I&&!O&&c.jsxs("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-full flex items-center space-x-2",children:[c.jsx(Pr,{}),c.jsx("span",{children:"Face detected!"})]})]})]}),c.jsxs("div",{className:"flex space-x-4",children:[!f&&b&&c.jsxs("button",{onClick:V,disabled:O,className:"flex-1 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2",children:[c.jsx(qa,{}),c.jsx("span",{children:"Capture"})]}),f&&!O&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:X,className:"flex-1 py-4 bg-white/20 text-white rounded-xl font-semibold hover:bg-white/30 transition-all flex items-center justify-center space-x-2",children:[c.jsx(Tpe,{}),c.jsx("span",{children:"Retake"})]}),c.jsx("button",{onClick:te,disabled:h,className:"flex-1 py-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2 disabled:opacity-50",children:h?c.jsxs(c.Fragment,{children:[c.jsx(Bd,{className:"animate-spin"}),c.jsx("span",{children:"Registering..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Pr,{}),c.jsx("span",{children:"Complete"})]})})]})]}),!b&&!f&&c.jsxs("button",{onClick:()=>N(!0),className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transform hover:scale-105 transition-all flex items-center justify-center space-x-2",children:[c.jsx(qa,{}),c.jsx("span",{children:"Open Camera"})]})]},"step2"),n===3&&c.jsxs(le.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"text-center text-white space-y-6",children:[c.jsx(le.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"w-24 h-24 bg-green-500 rounded-full mx-auto flex items-center justify-center",children:c.jsx(Pr,{className:"text-white text-5xl"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-bold mb-2",children:" Registration Complete!"}),c.jsx("p",{className:"text-white/80 mb-4",children:C?"We're finding your photos using AI...":"Browse all event photos..."}),c.jsx("p",{className:"text-white/60 text-sm",children:"Redirecting to your photo gallery..."})]}),c.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto",children:[{icon:fm,label:"AI Matching",color:"from-purple-500 to-pink-500"},{icon:Ws,label:"Your Moments",color:"from-pink-500 to-red-500"},{icon:N0,label:"HD Quality",color:"from-yellow-500 to-orange-500"}].map((q,U)=>c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.2},className:`p-4 bg-gradient-to-br ${q.color} rounded-xl`,children:[c.jsx(q.icon,{className:"text-white text-2xl mx-auto mb-2"}),c.jsx("p",{className:"text-white text-xs font-medium",children:q.label})]},U))})]},"step3")]}),c.jsxs("div",{className:"mt-8 text-center",children:[c.jsx("p",{className:"text-white/60 text-sm",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-white/40 text-xs mt-1",children:"Your photos are private and secure "})]})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:c.jsx(Bd,{className:"animate-spin text-white text-4xl"})})},G3e=()=>{const{eventId:e}=DY(),t=No(),[r,n]=A.useState(null),[a,i]=A.useState(null),[s,o]=A.useState([]),[l,u]=A.useState(!0),[d,f]=A.useState(null),[p,h]=A.useState([]),[g,y]=A.useState(""),[x,b]=A.useState("masonry"),[N,j]=A.useState([]),[w,C]=A.useState(0),[E,I]=A.useState(!1),[D,O]=A.useState(3e3),L=A.useRef(null),[R,P]=A.useState(!1),[F,V]=A.useState(!1),[X,te]=A.useState([]),[q,U]=A.useState(!1),[Q,se]=A.useState(0),[K,T]=A.useState(!1),[W,J]=A.useState({}),Y="https://script.google.com/macros/s/AKfycbyy0mtYZpuBCcxxx_VVwJ5famgpJPula1ljY82ubZz_ujIkk4XjwXVAf14upVr2hvZxFQ/exec";A.useEffect(()=>{ee();const Re=document.querySelector("nav");return Re&&(Re.style.display="none"),()=>{Re&&(Re.style.display="")}},[]);const ee=()=>{const Re=localStorage.getItem("guestToken"),st=localStorage.getItem("guestData");if(!Re||!st){t(`/guest/register/${e}`);return}try{const pt=JSON.parse(st);n(pt),ae(pt.id,Re)}catch(pt){console.error("Auth error:",pt),t(`/guest/register/${e}`)}},ae=async(Re,st)=>{u(!0);try{const Fe=await(await fetch(Y,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getGuestGallery",guestId:Re,eventId:e,token:st})})).json();Fe.success?(i(Fe.event),o(Fe.photos||[]),Fe.guestDescriptor&&Fe.photoDescriptors&&Fe.photoDescriptors.length>0?(console.log(" Starting AI face matching..."),await pe(Fe.guestDescriptor,Fe.photoDescriptors)):Fe.aiMatchedPhotos?(te(Fe.aiMatchedPhotos),U(!0),console.log(" Loaded pre-matched photos from server")):console.log(" No face descriptors available for matching")):(alert(Fe.message||"Failed to load gallery"),t(`/guest/register/${e}`))}catch(pt){console.error("Fetch error:",pt),alert("Failed to load gallery. Please try again.")}finally{u(!1)}},pe=async(Re,st)=>{T(!0),se(10);try{se(20),await _4(),se(40),console.log(` Matching face against ${st.length} photos...`);const pt=[],Fe={};for(let at=0;at<st.length;at++){const ct=st[at];if(V3e(Re,[ct],.6).length>0){pt.push(ct.photoId);const Nt=Math.max(0,Math.min(100,(1-ct.distance)*100));Fe[ct.photoId]=Nt.toFixed(1)}se(40+at/st.length*50)}te(pt),J(Fe),se(100),pt.length>0?(U(!0),console.log(` Found ${pt.length} matching photos!`)):(console.log(" No matching photos found"),setTimeout(()=>{alert("No photos with your face found yet. Try browsing all photos or check back later when more photos are processed!")},500))}catch(pt){console.error(" Face matching error:",pt),alert("Face matching encountered an error. You can still browse all event photos.")}finally{T(!1)}},de=s.filter(Re=>{const st=Re.name?.toLowerCase().includes(g.toLowerCase())||Re.description?.toLowerCase().includes(g.toLowerCase()),pt=!q||X.includes(Re.id);return st&&pt}),we=Re=>{j(st=>st.includes(Re)?st.filter(pt=>pt!==Re):[...st,Re])},Ae=Re=>{h(st=>st.includes(Re)?st.filter(pt=>pt!==Re):[...st,Re])},Se=()=>{h(de.map(Re=>Re.id))},Ge=()=>{h([])},ke=async Re=>{try{const st=document.createElement("a");st.href=Re.url,st.download=Re.name||`photo-${Re.id}.jpg`,st.target="_blank",document.body.appendChild(st),st.click(),document.body.removeChild(st)}catch(st){console.error("Download error:",st),alert("Download failed. Please try again.")}},Z=()=>{p.forEach(Re=>{const st=s.find(pt=>pt.id===Re);st&&ke(st)})},Qe=Re=>{C(Re),f(de[Re])},Ne=()=>{f(null),I(!1),P(!1),L.current&&L.current.pause()},ze=()=>{const Re=(w+1)%de.length;C(Re),f(de[Re])},De=()=>{const Re=(w-1+de.length)%de.length;C(Re),f(de[Re])};A.useEffect(()=>{const Re=st=>{if(d)switch(st.key){case"ArrowRight":ze();break;case"ArrowLeft":De();break;case"Escape":Ne();break;case" ":st.preventDefault(),me();break;case"m":case"M":Xe();break}};return window.addEventListener("keydown",Re),()=>window.removeEventListener("keydown",Re)},[d,w]),A.useEffect(()=>{if(!E)return;const Re=setInterval(()=>{ze()},D);return()=>clearInterval(Re)},[E,D,w]);const me=()=>{I(!E),!E&&!R&&_e()},_e=()=>{L.current&&(L.current.play(),P(!0))},Ve=()=>{L.current&&(L.current.pause(),P(!1))},Xe=()=>{L.current&&(L.current.muted=!F,V(!F))};return l||K?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 flex items-center justify-center p-4",children:c.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center text-white space-y-6",children:[c.jsx(le.div,{animate:{rotate:360},transition:{repeat:1/0,duration:2,ease:"linear"},className:"w-20 h-20 border-4 border-purple-500 border-t-white rounded-full mx-auto"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-2",children:l?" Loading your gallery...":" AI is matching your face..."}),c.jsxs("p",{className:"text-white/80",children:[a?.eventType,"  ",a?.eventDate?new Date(a.eventDate).toLocaleDateString():""]})]}),K&&c.jsxs("div",{className:"w-64 mx-auto",children:[c.jsx("div",{className:"bg-white/20 rounded-full h-3 overflow-hidden",children:c.jsx(le.div,{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-full",initial:{width:0},animate:{width:`${Q}%`},transition:{duration:.3}})}),c.jsxs("p",{className:"text-white/60 text-sm mt-2",children:[Math.round(Q),"% complete"]})]}),c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-white/60",children:[c.jsx(Ip,{className:"animate-pulse"}),c.jsx("span",{children:"Powered by AI Face Recognition"})]})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-indigo-900 to-blue-900 p-4",children:[c.jsx("audio",{ref:L,loop:!0,children:c.jsx("source",{src:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3",type:"audio/mpeg"})}),c.jsxs(le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl font-bold text-white mb-2",children:["Welcome, ",r?.name,"! "]}),c.jsxs("p",{className:"text-white/80",children:[a?.eventType,"  ",a?.eventDate?new Date(a.eventDate).toLocaleDateString():""]})]}),c.jsxs("button",{onClick:()=>{localStorage.removeItem("guestToken"),localStorage.removeItem("guestData"),t("/")},className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl transition-all flex items-center space-x-2",children:[c.jsx(G0,{}),c.jsx("span",{children:"Exit"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[c.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-purple-500/30 rounded-xl flex items-center justify-center",children:c.jsx(fm,{className:"text-purple-300 text-xl"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Total Photos"}),c.jsx("p",{className:"text-white text-2xl font-bold",children:s.length})]})]})}),c.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-pink-500/30 rounded-xl flex items-center justify-center",children:c.jsx(Ip,{className:"text-pink-300 text-xl"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"AI Matched"}),c.jsx("p",{className:"text-white text-2xl font-bold",children:X.length})]})]})}),c.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-red-500/30 rounded-xl flex items-center justify-center",children:c.jsx(Ws,{className:"text-red-300 text-xl"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Favorites"}),c.jsx("p",{className:"text-white text-2xl font-bold",children:N.length})]})]})}),c.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-12 h-12 bg-green-500/30 rounded-xl flex items-center justify-center",children:c.jsx(Pr,{className:"text-green-300 text-xl"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-sm",children:"Selected"}),c.jsx("p",{className:"text-white text-2xl font-bold",children:p.length})]})]})})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[c.jsxs("button",{onClick:()=>U(!q),disabled:X.length===0,className:`px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 transition-all ${q?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg scale-105":"bg-white/10 text-white hover:bg-white/20"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[c.jsx(Ip,{}),c.jsxs("span",{children:[q?" AI Matched Photos":"Show My Photos",X.length>0&&` (${X.length})`]})]}),c.jsxs("div",{className:"flex bg-white/10 rounded-xl overflow-hidden",children:[c.jsx("button",{onClick:()=>b("masonry"),className:`px-4 py-3 ${x==="masonry"?"bg-white/20 text-white":"text-white/60"}`,children:c.jsx(CX,{})}),c.jsx("button",{onClick:()=>b("grid"),className:`px-4 py-3 ${x==="grid"?"bg-white/20 text-white":"text-white/60"}`,children:c.jsx(aD,{})})]}),c.jsx("div",{className:"flex-1 min-w-[200px]",children:c.jsxs("div",{className:"relative",children:[c.jsx(Y0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/60"}),c.jsx("input",{type:"text",placeholder:"Search photos...",value:g,onChange:Re=>y(Re.target.value),className:"w-full pl-12 pr-4 py-3 bg-white/10 text-white placeholder-white/50 rounded-xl border border-white/20 focus:border-purple-400 focus:outline-none"})]})}),p.length>0&&c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl flex items-center space-x-2 transition-all",children:[c.jsx(qs,{}),c.jsxs("span",{children:["Download (",p.length,")"]})]}),c.jsx("button",{onClick:Ge,className:"px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-all",children:"Clear"})]}),p.length===0&&de.length>0&&c.jsx("button",{onClick:Se,className:"px-6 py-3 bg-white/10 hover:bg-white/20 text-white rounded-xl transition-all",children:"Select All"})]}),q&&X.length>0&&c.jsx(le.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 border border-purple-400/30 rounded-xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center",children:c.jsx(Ip,{className:"text-white"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-white font-semibold",children:[" Found ",X.length," photos with your face!"]}),c.jsxs("p",{className:"text-white/70 text-sm",children:["AI matched with ",Math.round(X.length/s.length*100),"% accuracy"]})]})]}),c.jsx("button",{onClick:()=>U(!1),className:"text-white/80 hover:text-white",children:c.jsx(pr,{})})]})})]}),de.length===0?c.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-white py-20",children:[c.jsx(Lpe,{className:"text-6xl mx-auto mb-4 text-white/40"}),c.jsx("h3",{className:"text-2xl font-bold mb-2",children:q?"No AI matched photos yet":"No photos found"}),c.jsx("p",{className:"text-white/60 mb-6",children:q?"Try browsing all photos or check back later!":"Try adjusting your search query"}),q&&c.jsx("button",{onClick:()=>U(!1),className:"px-6 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-xl transition-all",children:"Show All Photos"})]}):c.jsx(le.div,{className:`max-w-7xl mx-auto ${x==="masonry"?"columns-1 sm:columns-2 lg:columns-3 gap-4":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"}`,children:de.map((Re,st)=>c.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:st*.05},className:`relative group cursor-pointer rounded-xl overflow-hidden ${x==="masonry"?"mb-4 break-inside-avoid":""}`,onClick:()=>Qe(st),children:[c.jsx("img",{src:Re.url,alt:Re.name,className:"w-full h-auto object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy"}),c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[c.jsx("p",{className:"font-semibold",children:Re.name||`Photo ${st+1}`}),X.includes(Re.id)&&W[Re.id]&&c.jsxs("p",{className:"text-xs text-green-300",children:[" AI Match: ",W[Re.id],"% confidence"]})]}),c.jsxs("div",{className:"absolute top-4 right-4 flex space-x-2",children:[c.jsx("button",{onClick:pt=>{pt.stopPropagation(),we(Re.id)},className:`w-10 h-10 rounded-full ${N.includes(Re.id)?"bg-red-500":"bg-white/20 backdrop-blur-md"} flex items-center justify-center hover:scale-110 transition-transform`,children:c.jsx(Ws,{className:`${N.includes(Re.id)?"text-white":"text-white/80"}`})}),c.jsx("button",{onClick:pt=>{pt.stopPropagation(),ke(Re)},className:"w-10 h-10 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center hover:scale-110 transition-transform",children:c.jsx(qs,{className:"text-white/80"})})]}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("button",{onClick:pt=>{pt.stopPropagation(),Ae(Re.id)},className:`w-6 h-6 rounded border-2 ${p.includes(Re.id)?"bg-purple-500 border-purple-500":"border-white/50 bg-black/30"} flex items-center justify-center`,children:p.includes(Re.id)&&c.jsx(Pr,{className:"text-white text-sm"})})}),X.includes(Re.id)&&c.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:c.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 px-3 py-1 rounded-full text-xs font-semibold text-white flex items-center space-x-1",children:[c.jsx(Ip,{}),c.jsx("span",{children:"AI Match"})]})})]})]},Re.id))}),c.jsx(Kt,{children:d&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:Ne,children:c.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:Re=>Re.stopPropagation(),children:[c.jsx("button",{onClick:Ne,className:"absolute top-4 right-4 z-10 w-12 h-12 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all",children:c.jsx(pr,{className:"text-xl"})}),c.jsx("button",{onClick:De,className:"absolute left-4 z-10 w-14 h-14 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all",children:c.jsx(Du,{className:"text-2xl"})}),c.jsx("button",{onClick:ze,className:"absolute right-4 z-10 w-14 h-14 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all",children:c.jsx(Tu,{className:"text-2xl"})}),c.jsx(le.img,{src:d.url,alt:d.name,className:"max-w-full max-h-[90vh] object-contain",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3}},d.id),c.jsx("div",{className:"absolute bottom-4 left-4 right-4 bg-white/10 backdrop-blur-md rounded-xl p-4 text-white",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:d.name||`Photo ${w+1}`}),c.jsxs("p",{className:"text-sm text-white/70",children:[w+1," of ",de.length]}),X.includes(d.id)&&c.jsxs("p",{className:"text-sm text-green-300 flex items-center space-x-1 mt-1",children:[c.jsx(Ip,{}),c.jsxs("span",{children:["AI Matched  ",W[d.id],"% confidence"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:me,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 rounded-lg flex items-center space-x-2 transition-all",children:[E?c.jsx(vw,{}):c.jsx(ry,{}),c.jsxs("span",{children:[E?"Pause":"Play"," Slideshow"]})]}),c.jsx("button",{onClick:R?Ve:_e,className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-lg flex items-center justify-center transition-all",children:R?c.jsx(vw,{}):c.jsx(wX,{})}),c.jsx("button",{onClick:Xe,className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-lg flex items-center justify-center transition-all",children:F?c.jsx(PX,{}):c.jsx(kX,{})}),c.jsx("button",{onClick:()=>ke(d),className:"w-10 h-10 bg-green-500 hover:bg-green-600 rounded-lg flex items-center justify-center transition-all",children:c.jsx(qs,{})}),c.jsx("button",{onClick:()=>we(d.id),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-all ${N.includes(d.id)?"bg-red-500 hover:bg-red-600":"bg-white/10 hover:bg-white/20"}`,children:c.jsx(Ws,{})})]})]})}),c.jsx("div",{className:"absolute top-4 left-4 bg-black/50 backdrop-blur-md rounded-lg p-3 text-white text-sm",children:c.jsx("p",{children:"  Navigate  Space Play/Pause  M Mute  Esc Exit"})})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto mt-12 text-center text-white/60 text-sm",children:[c.jsx("p",{children:"Powered by RN PhotoFilms  AI Face Recognition Technology"}),c.jsx("p",{className:"mt-1",children:"Your photos are private and secure "})]})]})};function UQ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=UQ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Hr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=UQ(e))&&(n&&(n+=" "),n+=t);return n}var A6={},D6={},IF;function Y3e(){return IF||(IF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(D6)),D6}var T6={},MF;function $Q(){return MF||(MF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(T6)),T6}var O6={},RF;function TT(){return RF||(RF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(O6)),O6}var I6={},M6={},LF;function K3e(){return LF||(LF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(M6)),M6}var FF;function OT(){return FF||(FF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K3e(),r=TT();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,l="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const f=a[o];u?f==="\\"&&o+1<s?(o++,l+=a[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,o++}return l&&i.push(l),i}e.toPath=n})(I6)),I6}var BF;function IT(){return BF||(BF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Y3e(),r=$Q(),n=TT(),a=OT();function i(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?i(o,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=i})(A6)),A6}var R6,zF;function X3e(){return zF||(zF=1,R6=IT().get),R6}var J3e=X3e();const mm=Ln(J3e);var L6={exports:{}},fn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WF;function Z3e(){if(WF)return fn;WF=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),h=Symbol.for("react.client.reference");function g(y){if(typeof y=="object"&&y!==null){var x=y.$$typeof;switch(x){case e:switch(y=y.type,y){case r:case a:case n:case l:case u:case p:return y;default:switch(y=y&&y.$$typeof,y){case s:case o:case f:case d:return y;case i:return y;default:return x}}case t:return x}}}return fn.ContextConsumer=i,fn.ContextProvider=s,fn.Element=e,fn.ForwardRef=o,fn.Fragment=r,fn.Lazy=f,fn.Memo=d,fn.Portal=t,fn.Profiler=a,fn.StrictMode=n,fn.Suspense=l,fn.SuspenseList=u,fn.isContextConsumer=function(y){return g(y)===i},fn.isContextProvider=function(y){return g(y)===s},fn.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===e},fn.isForwardRef=function(y){return g(y)===o},fn.isFragment=function(y){return g(y)===r},fn.isLazy=function(y){return g(y)===f},fn.isMemo=function(y){return g(y)===d},fn.isPortal=function(y){return g(y)===t},fn.isProfiler=function(y){return g(y)===a},fn.isStrictMode=function(y){return g(y)===n},fn.isSuspense=function(y){return g(y)===l},fn.isSuspenseList=function(y){return g(y)===u},fn.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===a||y===n||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===f||y.$$typeof===d||y.$$typeof===s||y.$$typeof===i||y.$$typeof===o||y.$$typeof===h||y.getModuleId!==void 0)},fn.typeOf=g,fn}var UF;function Q3e(){return UF||(UF=1,L6.exports=Z3e()),L6.exports}var eNe=Q3e(),Ei=e=>e===0?0:e>0?1:-1,ol=e=>typeof e=="number"&&e!=+e,Kp=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Yt=e=>(typeof e=="number"||e instanceof Number)&&!ol(e),Ru=e=>Yt(e)||typeof e=="string",tNe=0,my=e=>{var t=++tNe;return"".concat(e||"").concat(t)},Ss=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Yt(t)&&typeof t!="string")return n;var i;if(Kp(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ol(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},qQ=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ca(e,t,r){return Yt(e)&&Yt(t)?e+r*(t-e):t}function VQ(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):mm(n,t))===r)}var Kn=e=>e===null||typeof e>"u",f1=e=>Kn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),rNe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function MT(e){if(typeof e!="string")return!1;var t=rNe;return t.includes(e)}var nNe=["viewBox","children"],$F=["points","pathLength"],F6={svg:nNe,polygon:$F,polyline:$F},RT=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{MT(a)&&(n[a]=(i=>r[a](r,i)))}),n},aNe=(e,t,r)=>n=>(e(t,r,n),null),h1=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];MT(a)&&typeof i=="function"&&(n||(n={}),n[a]=aNe(i,t,r))}),n},iNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function HQ(e){if(typeof e!="string")return!1;var t=iNe;return t.includes(e)}function Vu(e){var t=Object.entries(e).filter(r=>{var[n]=r;return HQ(n)});return Object.fromEntries(t)}var qF=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",VF=null,B6=null,GQ=e=>{if(e===VF&&Array.isArray(B6))return B6;var t=[];return A.Children.forEach(e,r=>{Kn(r)||(eNe.isFragment(r)?t=t.concat(GQ(r.props.children)):t.push(r))}),B6=t,VF=e,t};function LT(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>qF(a)):n=[qF(t)],GQ(e).forEach(a=>{var i=mm(a,"type.displayName")||mm(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var YQ=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,sNe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&F6?.[n])!==null&&a!==void 0?a:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||HQ(t)),l=!!r&&MT(t);return s||o||l},da=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;sNe((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},oNe=["children","width","height","viewBox","className","style","title","desc"];function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uk.apply(null,arguments)}function lNe(e,t){if(e==null)return{};var r,n,a=cNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FT=A.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:l,desc:u}=e,d=lNe(e,oNe),f=i||{width:n,height:a,x:0,y:0},p=Hr("recharts-surface",s);return A.createElement("svg",Uk({},da(d,!0,"svg"),{className:p,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),A.createElement("title",null,l),A.createElement("desc",null,u),r)}),uNe=["children","className"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(null,arguments)}function dNe(e,t){if(e==null)return{};var r,n,a=fNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Hi=A.forwardRef((e,t)=>{var{children:r,className:n}=e,a=dNe(e,uNe),i=Hr("recharts-layer",n);return A.createElement("g",$k({className:i},da(a,!0),{ref:t}),r)}),KQ=A.createContext(null),hNe=()=>A.useContext(KQ);function jn(e){return function(){return e}}const XQ=Math.cos,Yw=Math.sin,Bc=Math.sqrt,Kw=Math.PI,E4=2*Kw,qk=Math.PI,Vk=2*qk,Lp=1e-6,pNe=Vk-Lp;function JQ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function mNe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JQ;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class gNe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JQ:mNe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,u=a-r,d=s-t,f=o-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Lp)if(!(Math.abs(f*l-u*d)>Lp)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,g=a-o,y=l*l+u*u,x=h*h+g*g,b=Math.sqrt(y),N=Math.sqrt(p),j=i*Math.tan((qk-Math.acos((y+p-x)/(2*b*N)))/2),w=j/N,C=j/b;Math.abs(w-1)>Lp&&this._append`L${t+w*d},${r+w*f}`,this._append`A${i},${i},0,0,${+(f*h>d*g)},${this._x1=t+C*l},${this._y1=r+C*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),u=t+o,d=r+l,f=1^s,p=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Lp||Math.abs(this._y1-d)>Lp)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%Vk+Vk),p>pNe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Lp&&this._append`A${n},${n},0,${+(p>=qk)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function BT(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new gNe(t)}function zT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ZQ(e){this._context=e}ZQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function P4(e){return new ZQ(e)}function QQ(e){return e[0]}function eee(e){return e[1]}function tee(e,t){var r=jn(!0),n=null,a=P4,i=null,s=BT(o);e=typeof e=="function"?e:e===void 0?QQ:jn(e),t=typeof t=="function"?t:t===void 0?eee:jn(t);function o(l){var u,d=(l=zT(l)).length,f,p=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(h)return i=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:jn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:jn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function X2(e,t,r){var n=null,a=jn(!0),i=null,s=P4,o=null,l=BT(u);e=typeof e=="function"?e:e===void 0?QQ:jn(+e),t=typeof t=="function"?t:jn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?eee:jn(+r);function u(f){var p,h,g,y=(f=zT(f)).length,x,b=!1,N,j=new Array(y),w=new Array(y);for(i==null&&(o=s(N=l())),p=0;p<=y;++p){if(!(p<y&&a(x=f[p],p,f))===b)if(b=!b)h=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=p-1;g>=h;--g)o.point(j[g],w[g]);o.lineEnd(),o.areaEnd()}b&&(j[p]=+e(x,p,f),w[p]=+t(x,p,f),o.point(n?+n(x,p,f):j[p],r?+r(x,p,f):w[p]))}if(N)return o=null,N+""||null}function d(){return tee().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:jn(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:jn(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:jn(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:jn(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:jn(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:jn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:jn(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),u):i},u}class ree{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function vNe(e){return new ree(e,!0)}function xNe(e){return new ree(e,!1)}const WT={draw(e,t){const r=Bc(t/Kw);e.moveTo(r,0),e.arc(0,0,r,0,E4)}},yNe={draw(e,t){const r=Bc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nee=Bc(1/3),bNe=nee*2,wNe={draw(e,t){const r=Bc(t/bNe),n=r*nee;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},NNe={draw(e,t){const r=Bc(t),n=-r/2;e.rect(n,n,r,r)}},SNe=.8908130915292852,aee=Yw(Kw/10)/Yw(7*Kw/10),jNe=Yw(E4/10)*aee,CNe=-XQ(E4/10)*aee,_Ne={draw(e,t){const r=Bc(t*SNe),n=jNe*r,a=CNe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=E4*i/5,o=XQ(s),l=Yw(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},z6=Bc(3),ENe={draw(e,t){const r=-Bc(t/(z6*3));e.moveTo(0,r*2),e.lineTo(-z6*r,-r),e.lineTo(z6*r,-r),e.closePath()}},Tl=-.5,Ol=Bc(3)/2,Hk=1/Bc(12),PNe=(Hk/2+1)*3,kNe={draw(e,t){const r=Bc(t/PNe),n=r/2,a=r*Hk,i=n,s=r*Hk+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Tl*n-Ol*a,Ol*n+Tl*a),e.lineTo(Tl*i-Ol*s,Ol*i+Tl*s),e.lineTo(Tl*o-Ol*l,Ol*o+Tl*l),e.lineTo(Tl*n+Ol*a,Tl*a-Ol*n),e.lineTo(Tl*i+Ol*s,Tl*s-Ol*i),e.lineTo(Tl*o+Ol*l,Tl*l-Ol*o),e.closePath()}};function ANe(e,t){let r=null,n=BT(a);e=typeof e=="function"?e:jn(e||WT),t=typeof t=="function"?t:jn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:jn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:jn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Xw(){}function Jw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iee(e){this._context=e}iee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DNe(e){return new iee(e)}function see(e){this._context=e}see.prototype={areaStart:Xw,areaEnd:Xw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TNe(e){return new see(e)}function oee(e){this._context=e}oee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ONe(e){return new oee(e)}function lee(e){this._context=e}lee.prototype={areaStart:Xw,areaEnd:Xw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function INe(e){return new lee(e)}function HF(e){return e<0?-1:1}function GF(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(HF(i)+HF(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function YF(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function W6(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Zw(e){this._context=e}Zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W6(this,this._t0,YF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,W6(this,YF(this,r=GF(this,e,t)),r);break;default:W6(this,this._t0,r=GF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cee(e){this._context=new uee(e)}(cee.prototype=Object.create(Zw.prototype)).point=function(e,t){Zw.prototype.point.call(this,t,e)};function uee(e){this._context=e}uee.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function MNe(e){return new Zw(e)}function RNe(e){return new cee(e)}function dee(e){this._context=e}dee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=KF(e),a=KF(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KF(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function LNe(e){return new dee(e)}function k4(e,t){this._context=e,this._t=t}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function FNe(e){return new k4(e,.5)}function BNe(e){return new k4(e,0)}function zNe(e){return new k4(e,1)}function E0(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Gk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function WNe(e,t){return e[t]}function UNe(e){const t=[];return t.key=e,t}function $Ne(){var e=jn([]),t=Gk,r=E0,n=WNe;function a(i){var s=Array.from(e.apply(this,arguments),UNe),o,l=s.length,u=-1,d;for(const f of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(f,s[o].key,u,i)]).data=f;for(o=0,d=zT(t(s));o<l;++o)s[d[o]].index=o;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:jn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:jn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Gk:typeof i=="function"?i:jn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??E0,a):r},a}function qNe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}E0(e,t)}}function VNe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}E0(e,t)}}function HNe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,p=d[n-1][1]||0,h=(f-p)/2,g=0;g<o;++g){var y=e[t[g]],x=y[n][1]||0,b=y[n-1][1]||0;h+=x-b}l+=f,u+=h*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=u/l)}a[n-1][1]+=a[n-1][0]=r,E0(e,t)}}var GNe=["type","size","sizeType"];function Yk(){return Yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yk.apply(null,arguments)}function XF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XF(Object(r),!0).forEach(function(n){YNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YNe(e,t,r){return(t=KNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KNe(e){var t=XNe(e,"string");return typeof t=="symbol"?t:t+""}function XNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JNe(e,t){if(e==null)return{};var r,n,a=ZNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fee={symbolCircle:WT,symbolCross:yNe,symbolDiamond:wNe,symbolSquare:NNe,symbolStar:_Ne,symbolTriangle:ENe,symbolWye:kNe},QNe=Math.PI/180,e6e=e=>{var t="symbol".concat(f1(e));return fee[t]||WT},t6e=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*QNe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},r6e=(e,t)=>{fee["symbol".concat(f1(e))]=t},UT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=JNe(e,GNe),i=JF(JF({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=e6e(s),h=ANe().type(p).size(t6e(r,n,s));return h()},{className:l,cx:u,cy:d}=i,f=da(i,!0);return u===+u&&d===+d&&r===+r?A.createElement("path",Yk({},f,{className:Hr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};UT.registerSymbol=r6e;function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(null,arguments)}function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){$T(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $T(e,t,r){return(t=a6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6e(e){var t=i6e(e,"string");return typeof t=="symbol"?t:t+""}function i6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Il=32;class qT extends A.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Il/2,i=Il/6,s=Il/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Il,y2:a,className:"recharts-legend-icon"});if(l==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Il,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return A.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Il/8,"h").concat(Il,"v").concat(Il*3/4,"h").concat(-Il,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var u=n6e({},t);return delete u.legendIcon,A.cloneElement(t.legendIcon,u)}return A.createElement(UT,{fill:o,cx:a,cy:a,size:Il,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:Il,height:Il},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,h=Hr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var g=d.inactive?i:d.color,y=p?p(d.value,d,f):d.value;return A.createElement("li",Kk({className:h,style:l,key:"legend-item-".concat(f)},h1(this.props,d,f)),A.createElement(FT,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(d,s)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}$T(qT,"displayName","Legend");$T(qT,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var U6={},$6={},QF;function s6e(){return QF||(QF=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})($6)),$6}var q6={},e9;function hee(){return e9||(e9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(q6)),q6}var V6={},H6={},G6={},t9;function o6e(){return t9||(t9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(G6)),G6}var r9;function VT(){return r9||(r9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o6e();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(H6)),H6}var Y6={},n9;function l6e(){return n9||(n9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Y6)),Y6}var a9;function c6e(){return a9||(a9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT(),r=l6e();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(V6)),V6}var K6={},X6={},i9;function u6e(){return i9||(i9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT();function r(n){return function(a){return t.get(a,n)}}e.property=r})(X6)),X6}var J6={},Z6={},Q6={},eS={},s9;function pee(){return s9||(s9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(eS)),eS}var tS={},o9;function mee(){return o9||(o9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(tS)),tS}var rS={},l9;function gee(){return l9||(l9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(rS)),rS}var c9;function d6e(){return c9||(c9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT(),r=pee(),n=mee(),a=gee();function i(f,p,h){return typeof h!="function"?t.isMatch(f,p):s(f,p,function g(y,x,b,N,j,w){const C=h(y,x,b,N,j,w);return C!==void 0?!!C:s(y,x,g,w)},new Map)}function s(f,p,h,g){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,h,g);case"function":return Object.keys(p).length>0?s(f,{...p},h,g):a.eq(f,p);default:return r.isObject(f)?typeof p=="string"?p==="":!0:a.eq(f,p)}}function o(f,p,h,g){if(p==null)return!0;if(Array.isArray(p))return u(f,p,h,g);if(p instanceof Map)return l(f,p,h,g);if(p instanceof Set)return d(f,p,h,g);const y=Object.keys(p);if(f==null)return y.length===0;if(y.length===0)return!0;if(g&&g.has(p))return g.get(p)===f;g&&g.set(p,f);try{for(let x=0;x<y.length;x++){const b=y[x];if(!n.isPrimitive(f)&&!(b in f)||p[b]===void 0&&f[b]!==void 0||p[b]===null&&f[b]!==null||!h(f[b],p[b],b,f,p,g))return!1}return!0}finally{g&&g.delete(p)}}function l(f,p,h,g){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,x]of p.entries()){const b=f.get(y);if(h(b,x,y,f,p,g)===!1)return!1}return!0}function u(f,p,h,g){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let x=0;x<p.length;x++){const b=p[x];let N=!1;for(let j=0;j<f.length;j++){if(y.has(j))continue;const w=f[j];let C=!1;if(h(w,b,x,f,p,g)&&(C=!0),C){y.add(j),N=!0;break}}if(!N)return!1}return!0}function d(f,p,h,g){return p.size===0?!0:f instanceof Set?u([...f],[...p],h,g):!1}e.isMatchWith=i,e.isSetMatch=d})(Q6)),Q6}var u9;function HT(){return u9||(u9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d6e();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Z6)),Z6}var nS={},aS={},iS={},d9;function f6e(){return d9||(d9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(iS)),iS}var sS={},f9;function vee(){return f9||(f9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(sS)),sS}var oS={},h9;function xee(){return h9||(h9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",h="[object Object]",g="[object Error]",y="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",N="[object Uint16Array]",j="[object Uint32Array]",w="[object BigUint64Array]",C="[object Int8Array]",E="[object Int16Array]",I="[object Int32Array]",D="[object BigInt64Array]",O="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=O,e.float64ArrayTag=L,e.functionTag=f,e.int16ArrayTag=E,e.int32ArrayTag=I,e.int8ArrayTag=C,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=N,e.uint32ArrayTag=j,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=b})(oS)),oS}var lS={},p9;function h6e(){return p9||(p9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(lS)),lS}var m9;function yee(){return m9||(m9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f6e(),r=vee(),n=xee(),a=mee(),i=h6e();function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,p,h=new Map,g=void 0){const y=g?.(d,f,p,h);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const x=new Array(d.length);h.set(d,x);for(let b=0;b<d.length;b++)x[b]=o(d[b],b,p,h,g);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;h.set(d,x);for(const[b,N]of d)x.set(b,o(N,b,p,h,g));return x}if(d instanceof Set){const x=new Set;h.set(d,x);for(const b of d)x.add(o(b,void 0,p,h,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,x);for(let b=0;b<d.length;b++)x[b]=o(d[b],b,p,h,g);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,x),l(x,d,p,h,g),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return h.set(d,x),l(x,d,p,h,g),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return h.set(d,x),l(x,d,p,h,g),x}if(d instanceof Error){const x=new d.constructor;return h.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,h,g),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return h.set(d,x),l(x,d,p,h,g),x}if(d instanceof Number){const x=new Number(d.valueOf());return h.set(d,x),l(x,d,p,h,g),x}if(d instanceof String){const x=new String(d.valueOf());return h.set(d,x),l(x,d,p,h,g),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return h.set(d,x),l(x,d,p,h,g),x}return d}function l(d,f,p=d,h,g){const y=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<y.length;x++){const b=y[x],N=Object.getOwnPropertyDescriptor(d,b);(N==null||N.writable)&&(d[b]=o(f[b],b,p,h,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(aS)),aS}var g9;function p6e(){return g9||(g9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yee();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(nS)),nS}var v9;function m6e(){return v9||(v9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT(),r=p6e();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(J6)),J6}var cS={},uS={},dS={},x9;function g6e(){return x9||(x9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yee(),r=xee();function n(a,i){return t.cloneDeepWith(a,(s,o,l,u)=>{const d=i?.(s,o,l,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a?.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(dS)),dS}var y9;function v6e(){return y9||(y9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6e();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(uS)),uS}var fS={},hS={},b9;function bee(){return b9||(b9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(hS)),hS}var pS={},w9;function x6e(){return w9||(w9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vee();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(pS)),pS}var N9;function y6e(){return N9||(N9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$Q(),r=bee(),n=x6e(),a=OT();function i(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&s?.[o]==null?l=a.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(fS)),fS}var S9;function b6e(){return S9||(S9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT(),r=TT(),n=v6e(),a=IT(),i=y6e();function s(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(cS)),cS}var j9;function w6e(){return j9||(j9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hee(),r=u6e(),n=m6e(),a=b6e();function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(K6)),K6}var C9;function N6e(){return C9||(C9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s6e(),r=hee(),n=c6e(),a=w6e();function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(U6)),U6}var mS,_9;function S6e(){return _9||(_9=1,mS=N6e().uniqBy),mS}var j6e=S6e();const E9=Ln(j6e);function wee(e,t,r){return t===!0?E9(e,r):typeof t=="function"?E9(e,t):e}var gS={exports:{}},vS={},xS={exports:{}},yS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P9;function C6e(){if(P9)return yS;P9=1;var e=Yi();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(f,p){var h=p(),g=n({inst:{value:h,getSnapshot:p}}),y=g[0].inst,x=g[1];return i(function(){y.value=h,y.getSnapshot=p,l(y)&&x({inst:y})},[f,h,p]),a(function(){return l(y)&&x({inst:y}),f(function(){l(y)&&x({inst:y})})},[f]),s(h),h}function l(f){var p=f.getSnapshot;f=f.value;try{var h=p();return!r(f,h)}catch{return!0}}function u(f,p){return p()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return yS.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,yS}var k9;function _6e(){return k9||(k9=1,xS.exports=C6e()),xS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A9;function E6e(){if(A9)return vS;A9=1;var e=Yi(),t=_6e();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,l=e.useDebugValue;return vS.useSyncExternalStoreWithSelector=function(u,d,f,p,h){var g=i(null);if(g.current===null){var y={hasValue:!1,value:null};g.current=y}else y=g.current;g=o(function(){function b(E){if(!N){if(N=!0,j=E,E=p(E),h!==void 0&&y.hasValue){var I=y.value;if(h(I,E))return w=I}return w=E}if(I=w,n(j,E))return I;var D=p(E);return h!==void 0&&h(I,D)?(j=E,I):(j=E,w=D)}var N=!1,j,w,C=f===void 0?null:f;return[function(){return b(d())},C===null?void 0:function(){return b(C())}]},[d,f,p,h]);var x=a(u,g[0],g[1]);return s(function(){y.hasValue=!0,y.value=x},[x]),l(x),x},vS}var D9;function P6e(){return D9||(D9=1,gS.exports=E6e()),gS.exports}var k6e=P6e(),GT=A.createContext(null),A6e=e=>e,fa=()=>{var e=A.useContext(GT);return e?e.store.dispatch:A6e},Bb=()=>{},D6e=()=>Bb,T6e=(e,t)=>e===t;function Bt(e){var t=A.useContext(GT);return k6e.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:D6e,t?t.store.getState:Bb,t?t.store.getState:Bb,t?e:Bb,T6e)}function O6e(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function I6e(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function M6e(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var T9=e=>Array.isArray(e)?e:[e];function R6e(e){const t=Array.isArray(e[0])?e[0]:e;return M6e(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function L6e(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var F6e=class{constructor(e){this.value=e}deref(){return this.value}},B6e=typeof WeakRef<"u"?WeakRef:F6e,z6e=0,O9=1;function J2(){return{s:z6e,v:void 0,o:null,p:null}}function Nee(e,t={}){let r=J2();const{resultEqualityCheck:n}=t;let a,i=0;function s(){let o=r;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const h=arguments[f];if(typeof h=="function"||typeof h=="object"&&h!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const y=g.get(h);y===void 0?(o=J2(),g.set(h,o)):o=y}else{let g=o.p;g===null&&(o.p=g=new Map);const y=g.get(h);y===void 0?(o=J2(),g.set(h,o)):o=y}}const u=o;let d;if(o.s===O9)d=o.v;else if(d=e.apply(null,arguments),i++,n){const f=a?.deref?.()??a;f!=null&&n(f,d)&&(d=f,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new B6e(d):d}return u.s=O9,u.v=d,d}return s.clearCache=()=>{r=J2(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function W6e(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),O6e(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:h=Nee,argsMemoizeOptions:g=[]}=d,y=T9(p),x=T9(g),b=R6e(a),N=f(function(){return i++,u.apply(null,arguments)},...y),j=h(function(){s++;const C=L6e(b,arguments);return o=N.apply(null,C),o},...x);return Object.assign(j,{resultFunc:u,memoizedResultFunc:N,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var He=W6e(Nee),U6e=Object.assign((e,t=He)=>{I6e(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>U6e}),bS={},wS={},NS={},I9;function $6e(){return I9||(I9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(NS)),NS}var SS={},jS={},M9;function See(){return M9||(M9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(jS)),jS}var R9;function q6e(){return R9||(R9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=See(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(SS)),SS}var L9;function V6e(){return L9||(L9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$6e(),r=q6e(),n=OT();function a(i,s,o,l){if(i==null)return[];o=l?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const u=(h,g)=>{let y=h;for(let x=0;x<g.length&&y!=null;++x)y=y[g[x]];return y},d=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:u(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?u(g,h):typeof g=="object"?g[h]:g,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:f.map(g=>d(g,h))})).slice().sort((h,g)=>{for(let y=0;y<f.length;y++){const x=t.compareValues(h.criteria[y],g.criteria[y],o[y]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=a})(wS)),wS}var CS={},F9;function H6e(){return F9||(F9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<i?s(d,l+1):a.push(d)}};return s(r,0),a}e.flatten=t})(CS)),CS}var _S={},B9;function jee(){return B9||(B9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bee(),r=VT(),n=pee(),a=gee();function i(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],s):!1}e.isIterateeCall=i})(_S)),_S}var z9;function G6e(){return z9||(z9=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V6e(),r=H6e(),n=jee();function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(bS)),bS}var ES,W9;function Y6e(){return W9||(W9=1,ES=G6e().sortBy),ES}var K6e=Y6e();const A4=Ln(K6e);var Cee=e=>e.legend.settings,X6e=e=>e.legend.size,J6e=e=>e.legend.payload,Z6e=He([J6e,Cee],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?A4(n,r):n});function Q6e(){return Bt(Z6e)}var Z2=1;function _ee(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=A.useState({height:0,left:0,top:0,width:0}),n=A.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>Z2||Math.abs(s.left-t.left)>Z2||Math.abs(s.top-t.top)>Z2||Math.abs(s.width-t.width)>Z2)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Li(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eSe=typeof Symbol=="function"&&Symbol.observable||"@@observable",U9=eSe,PS=()=>Math.random().toString(36).substring(7).split("").join("."),tSe={INIT:`@@redux/INIT${PS()}`,REPLACE:`@@redux/REPLACE${PS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${PS()}`},Qw=tSe;function YT(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Eee(e,t,r){if(typeof e!="function")throw new Error(Li(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Li(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Li(1));return r(Eee)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,l=!1;function u(){s===i&&(s=new Map,i.forEach((x,b)=>{s.set(b,x)}))}function d(){if(l)throw new Error(Li(3));return a}function f(x){if(typeof x!="function")throw new Error(Li(4));if(l)throw new Error(Li(5));let b=!0;u();const N=o++;return s.set(N,x),function(){if(b){if(l)throw new Error(Li(6));b=!1,u(),s.delete(N),i=null}}}function p(x){if(!YT(x))throw new Error(Li(7));if(typeof x.type>"u")throw new Error(Li(8));if(typeof x.type!="string")throw new Error(Li(17));if(l)throw new Error(Li(9));try{l=!0,a=n(a,x)}finally{l=!1}return(i=s).forEach(N=>{N()}),x}function h(x){if(typeof x!="function")throw new Error(Li(10));n=x,p({type:Qw.REPLACE})}function g(){const x=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Li(11));function N(){const w=b;w.next&&w.next(d())}return N(),{unsubscribe:x(N)}},[U9](){return this}}}return p({type:Qw.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:h,[U9]:g}}function rSe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Qw.INIT})>"u")throw new Error(Li(12));if(typeof r(void 0,{type:Qw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Li(13))})}function Pee(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{rSe(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],p=r[f],h=s[f],g=p(h,o);if(typeof g>"u")throw o&&o.type,new Error(Li(14));u[f]=g,l=l||g!==h}return l=l||n.length!==Object.keys(s).length,l?u:s}}function e5(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function nSe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Li(15))};const s={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},o=e.map(l=>l(s));return i=e5(...o)(a.dispatch),{...a,dispatch:i}}}function kee(e){return YT(e)&&"type"in e&&typeof e.type=="string"}var Aee=Symbol.for("immer-nothing"),$9=Symbol.for("immer-draftable"),ll=Symbol.for("immer-state");function _c(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var P0=Object.getPrototypeOf;function gm(e){return!!e&&!!e[ll]}function Qd(e){return e?Dee(e)||Array.isArray(e)||!!e[$9]||!!e.constructor?.[$9]||p1(e)||T4(e):!1}var aSe=Object.prototype.constructor.toString();function Dee(e){if(!e||typeof e!="object")return!1;const t=P0(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===aSe}function t5(e,t){D4(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function D4(e){const t=e[ll];return t?t.type_:Array.isArray(e)?1:p1(e)?2:T4(e)?3:0}function Xk(e,t){return D4(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tee(e,t,r){const n=D4(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iSe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function p1(e){return e instanceof Map}function T4(e){return e instanceof Set}function Fp(e){return e.copy_||e.base_}function Jk(e,t){if(p1(e))return new Map(e);if(T4(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Dee(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ll];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(P0(e),n)}else{const n=P0(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function KT(e,t=!1){return O4(e)||gm(e)||!Qd(e)||(D4(e)>1&&Object.defineProperties(e,{set:{value:Q2},add:{value:Q2},clear:{value:Q2},delete:{value:Q2}}),Object.freeze(e),t&&Object.values(e).forEach(r=>KT(r,!0))),e}function Q2(){_c(2)}function O4(e){return Object.isFrozen(e)}var sSe={};function vm(e){const t=sSe[e];return t||_c(0,e),t}var gy;function Oee(){return gy}function oSe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function q9(e,t){t&&(vm("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zk(e){Qk(e),e.drafts_.forEach(lSe),e.drafts_=null}function Qk(e){e===gy&&(gy=e.parent_)}function V9(e){return gy=oSe(gy,e)}function lSe(e){const t=e[ll];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function H9(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ll].modified_&&(Zk(t),_c(4)),Qd(e)&&(e=r5(t,e),t.parent_||n5(t,e)),t.patches_&&vm("Patches").generateReplacementPatches_(r[ll].base_,e,t.patches_,t.inversePatches_)):e=r5(t,r,[]),Zk(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Aee?e:void 0}function r5(e,t,r){if(O4(t))return t;const n=t[ll];if(!n)return t5(t,(a,i)=>G9(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return n5(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),t5(i,(o,l)=>G9(e,n,a,o,l,r,s)),n5(e,a,!1),r&&e.patches_&&vm("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function G9(e,t,r,n,a,i,s){if(gm(a)){const o=i&&t&&t.type_!==3&&!Xk(t.assigned_,n)?i.concat(n):void 0,l=r5(e,a,o);if(Tee(r,n,l),gm(l))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Qd(a)&&!O4(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;r5(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(p1(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&n5(e,a)}}function n5(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&KT(t,r)}function cSe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Oee(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=XT;r&&(a=[n],i=vy);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var XT={get(e,t){if(t===ll)return e;const r=Fp(e);if(!Xk(r,t))return uSe(e,r,t);const n=r[t];return e.finalized_||!Qd(n)?n:n===kS(e.base_,t)?(AS(e),e.copy_[t]=t8(n,e)):n},has(e,t){return t in Fp(e)},ownKeys(e){return Reflect.ownKeys(Fp(e))},set(e,t,r){const n=Iee(Fp(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=kS(Fp(e),t),i=a?.[ll];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iSe(r,a)&&(r!==void 0||Xk(e.base_,t)))return!0;AS(e),e8(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,AS(e),e8(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fp(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){_c(11)},getPrototypeOf(e){return P0(e.base_)},setPrototypeOf(){_c(12)}},vy={};t5(XT,(e,t)=>{vy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vy.deleteProperty=function(e,t){return vy.set.call(this,e,t,void 0)};vy.set=function(e,t,r){return XT.set.call(this,e[0],t,r,e[0])};function kS(e,t){const r=e[ll];return(r?Fp(r):e)[t]}function uSe(e,t,r){const n=Iee(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Iee(e,t){if(!(t in e))return;let r=P0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=P0(r)}}function e8(e){e.modified_||(e.modified_=!0,e.parent_&&e8(e.parent_))}function AS(e){e.copy_||(e.copy_=Jk(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dSe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(l=i,...u){return s.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&_c(6),n!==void 0&&typeof n!="function"&&_c(7);let a;if(Qd(t)){const i=V9(this),s=t8(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?Zk(i):Qk(i)}return q9(i,n),H9(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Aee&&(a=void 0),this.autoFreeze_&&KT(a,!0),n){const i=[],s=[];vm("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else _c(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Qd(e)||_c(8),gm(e)&&(e=Kd(e));const t=V9(this),r=t8(e,void 0);return r[ll].isManual_=!0,Qk(t),r}finishDraft(e,t){const r=e&&e[ll];(!r||!r.isManual_)&&_c(9);const{scope_:n}=r;return q9(n,t),H9(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=vm("Patches").applyPatches_;return gm(e)?n(e,t):this.produce(e,a=>n(a,t))}};function t8(e,t){const r=p1(e)?vm("MapSet").proxyMap_(e,t):T4(e)?vm("MapSet").proxySet_(e,t):cSe(e,t);return(t?t.scope_:Oee()).drafts_.push(r),r}function Kd(e){return gm(e)||_c(10,e),Mee(e)}function Mee(e){if(!Qd(e)||O4(e))return e;const t=e[ll];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Jk(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Jk(e,!0);return t5(r,(n,a)=>{Tee(r,n,Mee(a))}),t&&(t.finalized_=!1),r}var fSe=new dSe,Ree=fSe.produce;function Lee(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var hSe=Lee(),pSe=Lee,mSe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?e5:e5.apply(null,arguments)};function Hl(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(al(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kee(n)&&n.type===e,r}var Fee=class _x extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,_x.prototype)}static get[Symbol.species](){return _x}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new _x(...t[0].concat(this)):new _x(...t.concat(this))}};function Y9(e){return Qd(e)?Ree(e,()=>{}):e}function eb(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function gSe(e){return typeof e=="boolean"}var vSe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new Fee;return r&&(gSe(r)?s.push(hSe):s.push(pSe(r.extraArgument))),s},xSe="RTK_autoBatch",K9=e=>t=>{setTimeout(t,e)},ySe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:K9(10):e.type==="callback"?e.queueNotification:K9(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),p=n.subscribe(f);return o.add(d),()=>{p(),o.delete(d)}},dispatch(d){try{return a=!d?.meta?.[xSe],i=!a,i&&(s||(s=!0,l(u))),n.dispatch(d)}finally{a=!0}}})},bSe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Fee(e);return n&&a.push(ySe(typeof n=="object"?n:void 0)),a};function wSe(e){const t=vSe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(YT(r))o=Pee(r);else throw new Error(al(1));let l;typeof n=="function"?l=n(t):l=t();let u=e5;a&&(u=mSe({trace:!1,...typeof a=="object"&&a}));const d=nSe(...l),f=bSe(d);let p=typeof s=="function"?s(f):f();const h=u(...p);return Eee(o,i,h)}function Bee(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(al(28));if(o in t)throw new Error(al(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function NSe(e){return typeof e=="function"}function SSe(e,t){let[r,n,a]=Bee(t),i;if(NSe(e))i=()=>Y9(e());else{const o=Y9(e);i=()=>o}function s(o=i(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(gm(d)){const h=f(d,l);return h===void 0?d:h}else{if(Qd(d))return Ree(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},o)}return s.getInitialState=i,s}var jSe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CSe=(e=21)=>{let t="",r=e;for(;r--;)t+=jSe[Math.random()*64|0];return t},_Se=Symbol.for("rtk-slice-createasyncthunk");function ESe(e,t){return`${e}/${t}`}function PSe({creators:e}={}){const t=e?.asyncThunk?.[_Se];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(al(11));const s=(typeof n.reducers=="function"?n.reducers(ASe()):n.reducers)||{},o=Object.keys(s),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(j,w){const C=typeof j=="string"?j:j.type;if(!C)throw new Error(al(12));if(C in l.sliceCaseReducersByType)throw new Error(al(13));return l.sliceCaseReducersByType[C]=w,u},addMatcher(j,w){return l.sliceMatchers.push({matcher:j,reducer:w}),u},exposeAction(j,w){return l.actionCreators[j]=w,u},exposeCaseReducer(j,w){return l.sliceCaseReducersByName[j]=w,u}};o.forEach(j=>{const w=s[j],C={reducerName:j,type:ESe(a,j),createNotation:typeof n.reducers=="function"};TSe(w)?ISe(C,w,u,t):DSe(C,w,u)});function d(){const[j={},w=[],C=void 0]=typeof n.extraReducers=="function"?Bee(n.extraReducers):[n.extraReducers],E={...j,...l.sliceCaseReducersByType};return SSe(n.initialState,I=>{for(let D in E)I.addCase(D,E[D]);for(let D of l.sliceMatchers)I.addMatcher(D.matcher,D.reducer);for(let D of w)I.addMatcher(D.matcher,D.reducer);C&&I.addDefaultCase(C)})}const f=j=>j,p=new Map,h=new WeakMap;let g;function y(j,w){return g||(g=d()),g(j,w)}function x(){return g||(g=d()),g.getInitialState()}function b(j,w=!1){function C(I){let D=I[j];return typeof D>"u"&&w&&(D=eb(h,C,x)),D}function E(I=f){const D=eb(p,w,()=>new WeakMap);return eb(D,I,()=>{const O={};for(const[L,R]of Object.entries(n.selectors??{}))O[L]=kSe(R,I,()=>eb(h,I,x),w);return O})}return{reducerPath:j,getSelectors:E,get selectors(){return E(C)},selectSlice:C}}const N={name:a,reducer:y,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(j,{reducerPath:w,...C}={}){const E=w??i;return j.inject({reducerPath:E,reducer:y},C),{...N,...b(E,!0)}}};return N}}function kSe(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var fl=PSe();function ASe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function DSe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!OSe(n))throw new Error(al(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Hl(e,s):Hl(e))}function TSe(e){return e._reducerDefinitionType==="asyncThunk"}function OSe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function ISe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(al(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:s||tb,pending:o||tb,rejected:l||tb,settled:u||tb})}function tb(){}var MSe="task",zee="listener",Wee="completed",JT="cancelled",RSe=`task-${JT}`,LSe=`task-${Wee}`,r8=`${zee}-${JT}`,FSe=`${zee}-${Wee}`,I4=class{constructor(e){this.code=e,this.message=`${MSe} ${JT} (reason: ${e})`}name="TaskAbortError";message},ZT=(e,t)=>{if(typeof e!="function")throw new TypeError(al(32))},a5=()=>{},Uee=(e,t=a5)=>(e.catch(t),e),$ee=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),nm=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},am=e=>{if(e.aborted){const{reason:t}=e;throw new I4(t)}};function qee(e,t){let r=a5;return new Promise((n,a)=>{const i=()=>a(new I4(e.reason));if(e.aborted){i();return}r=$ee(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=a5})}var BSe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof I4?"cancelled":"rejected",error:r}}finally{t?.()}},i5=e=>t=>Uee(qee(e,t).then(r=>(am(e),r))),Vee=e=>{const t=i5(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:d0}=Object,X9={},M4="listenerMiddleware",zSe=(e,t)=>{const r=n=>$ee(e,()=>nm(n,e.reason));return(n,a)=>{ZT(n);const i=new AbortController;r(i);const s=BSe(async()=>{am(e),am(i.signal);const o=await n({pause:i5(i.signal),delay:Vee(i.signal),signal:i.signal});return am(i.signal),o},()=>nm(i,LSe));return a?.autoJoin&&t.push(s.catch(a5)),{result:i5(e)(s),cancel(){nm(i,RSe)}}}},WSe=(e,t)=>{const r=async(n,a)=>{am(t);let i=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),l([f,p.getState(),p.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await qee(t,Promise.race(o));return am(t),l}finally{i()}};return(n,a)=>Uee(r(n,a))},Hee=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Hl(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(al(21));return ZT(i),{predicate:a,type:t,effect:i}},Gee=d0(e=>{const{type:t,predicate:r,effect:n}=Hee(e);return{id:CSe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(al(22))}}},{withTypes:()=>Gee}),J9=(e,t)=>{const{type:r,effect:n,predicate:a}=Hee(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},n8=e=>{e.pending.forEach(t=>{nm(t,r8)})},USe=e=>()=>{e.forEach(n8),e.clear()},Z9=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Yee=d0(Hl(`${M4}/add`),{withTypes:()=>Yee}),$Se=Hl(`${M4}/removeAll`),Kee=d0(Hl(`${M4}/remove`),{withTypes:()=>Kee}),qSe=(...e)=>{console.error(`${M4}/error`,...e)},m1=(e={})=>{const t=new Map,{extra:r,onError:n=qSe}=e;ZT(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f?.cancelActive&&n8(d)}),i=d=>{const f=J9(t,d)??Gee(d);return a(f)};d0(i,{withTypes:()=>i});const s=d=>{const f=J9(t,d);return f&&(f.unsubscribe(),d.cancelActive&&n8(f)),!!f};d0(s,{withTypes:()=>s});const o=async(d,f,p,h)=>{const g=new AbortController,y=WSe(i,g.signal),x=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,d0({},p,{getOriginalState:h,condition:(b,N)=>y(b,N).then(Boolean),take:y,delay:Vee(g.signal),pause:i5(g.signal),extra:r,signal:g.signal,fork:zSe(g.signal,x),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((b,N,j)=>{b!==g&&(nm(b,r8),j.delete(b))})},cancel:()=>{nm(g,r8),d.pending.delete(g)},throwIfCancelled:()=>{am(g.signal)}})))}catch(b){b instanceof I4||Z9(n,b,{raisedBy:"effect"})}finally{await Promise.all(x),nm(g,FSe),d.pending.delete(g)}},l=USe(t);return{middleware:d=>f=>p=>{if(!kee(p))return f(p);if(Yee.match(p))return i(p.payload);if($Se.match(p)){l();return}if(Kee.match(p))return s(p.payload);let h=d.getState();const g=()=>{if(h===X9)throw new Error(al(23));return h};let y;try{if(y=f(p),t.size>0){const x=d.getState(),b=Array.from(t.values());for(const N of b){let j=!1;try{j=N.predicate(p,x,h)}catch(w){j=!1,Z9(n,w,{raisedBy:"predicate"})}j&&o(N,p,d,g)}}}finally{h=X9}return y},startListening:i,stopListening:s,clearListeners:l}};function al(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VSe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Xee=fl({name:"chartLayout",initialState:VSe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:HSe,setLayout:GSe,setChartSize:YSe,setScale:KSe}=Xee.actions,XSe=Xee.reducer;function Q9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q9(Object(r),!0).forEach(function(n){JSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JSe(e,t,r){return(t=ZSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZSe(e){var t=QSe(e,"string");return typeof t=="symbol"?t:t+""}function QSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s5=Math.PI/180,eje=e=>e*180/Math.PI,Va=(e,t,r,n)=>({x:e+Math.cos(-s5*n)*r,y:t+Math.sin(-s5*n)*r}),Jee=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tje=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},rje=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=tje({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:eje(l),angleInRadian:l}},nje=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},aje=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},ije=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=rje({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:l,endAngle:u}=nje(t),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?eB(eB({},t),{},{radius:a,angle:aje(d,t)}):null};function Zee(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function tB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tB(Object(r),!0).forEach(function(n){sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sje(e,t,r){return(t=oje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oje(e){var t=lje(e,"string");return typeof t=="symbol"?t:t+""}function lje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _n(e,t,r){return Kn(e)||Kn(t)?r:Ru(t)?mm(e,t,r):typeof t=="function"?t(e):r}var cje=(e,t,r,n,a)=>{var i,s=-1,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var u=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(Ei(d-u)!==Ei(f-d)){var h=[];if(Ei(f-d)===Ei(a[1]-a[0])){p=f;var g=d+a[1]-a[0];h[0]=Math.min(g,(g+u)/2),h[1]=Math.max(g,(g+u)/2)}else{p=u;var y=f+a[1]-a[0];h[0]=Math.min(d,(y+d)/2),h[1]=Math.max(d,(y+d)/2)}var x=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){({index:s}=r[l]);break}}else{var b=Math.min(u,f),N=Math.max(u,f);if(e>(b+d)/2&&e<=(N+d)/2){({index:s}=r[l]);break}}}else if(t){for(var j=0;j<o;j++)if(j===0&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j>0&&j<o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2&&e<=(t[j].coordinate+t[j+1].coordinate)/2||j===o-1&&e>(t[j].coordinate+t[j-1].coordinate)/2){({index:s}=t[j]);break}}return s},uje=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Yt(e[i]))return Wl(Wl({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Yt(e[s]))return Wl(Wl({},e),{},{[s]:e[s]+(a||0)})}return e},$h=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Qee=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},ete=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:h}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=a==="category"&&s.bandwidth?s.bandwidth()/g:0;if(y=h==="angleAxis"&&i&&i.length>=2?Ei(i[0]-i[1])*2*y:y,f||p){var x=(f||p||[]).map((b,N)=>{var j=n?n.indexOf(b):b;return{coordinate:s(j)+y,value:b,offset:y,index:N}});return x.filter(b=>!ol(b.coordinate))}return l&&u?u.map((b,N)=>({coordinate:s(b)+y,value:b,index:N,offset:y})):s.ticks&&d!=null?s.ticks(d).map((b,N)=>({coordinate:s(b)+y,value:b,offset:y,index:N})):s.domain().map((b,N)=>({coordinate:s(b)+y,value:n?n[b]:b,index:N,offset:y}))},rB=1e-4,dje=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-rB,i=Math.max(n[0],n[1])+rB,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},fje=(e,t)=>{if(!t||t.length!==2||!Yt(t[0])||!Yt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Yt(e[0])||e[0]<r)&&(a[0]=r),(!Yt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},hje=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=ol(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},pje=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=ol(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},mje={sign:hje,expand:qNe,none:E0,silhouette:VNe,wiggle:HNe,positive:pje},gje=(e,t,r)=>{var n=mje[r],a=$Ne().keys(t).value((i,s)=>+_n(i,s,0)).order(Gk).offset(n);return a(e)};function vje(e){return e==null?void 0:String(e)}function nB(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Kn(a[t.dataKey])){var o=VQ(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=_n(a,Kn(s)?t.dataKey:s);return Kn(l)?null:t.scale(l)}var aB=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=_n(i,t.dataKey,t.scale.domain()[s]);return Kn(o)?null:t.scale(o)-a/2+n},xje=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},yje=e=>{var t=e.flat(2).filter(Yt);return[Math.min(...t),Math.max(...t)]},bje=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],wje=(e,t,r)=>{if(e!=null)return bje(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((l,u)=>{var d=Zee(u,t,r),f=yje(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},iB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xy=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=A4(t,d=>d.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],u=a[s-1];i=Math.min((l.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function oB(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Wl(Wl({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ev(e,t){if(e)return String(e);if(typeof t=="string")return t}function Nje(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?ije({x:e,y:t},n):null}var Sje=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Wl(Wl(Wl({},n),Va(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return Wl(Wl(Wl({},n),Va(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},jje=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,gf=e=>e.layout.width,vf=e=>e.layout.height,Cje=e=>e.layout.scale,tte=e=>e.layout.margin,R4=He(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),L4=He(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rte="data-recharts-item-index",nte="data-recharts-item-data-key",g1=60;function lB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lB(Object(r),!0).forEach(function(n){_je(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _je(e,t,r){return(t=Eje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eje(e){var t=Pje(e,"string");return typeof t=="symbol"?t:t+""}function Pje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kje=e=>e.brush.height;function Aje(e){var t=L4(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:g1;return r+a}return r},0)}function Dje(e){var t=L4(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:g1;return r+a}return r},0)}function Tje(e){var t=R4(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Oje(e){var t=R4(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var ci=He([gf,vf,tte,kje,Aje,Dje,Tje,Oje,Cee,X6e],(e,t,r,n,a,i,s,o,l,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=rb(rb({},f),d),h=p.bottom;p.bottom+=n,p=uje(p,l,u);var g=e-p.left-p.right,y=t-p.top-p.bottom;return rb(rb({brushBottom:h},p),{},{width:Math.max(g,0),height:Math.max(y,0)})}),Ije=He(ci,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),QT=He(gf,vf,(e,t)=>({x:0,y:0,width:e,height:t})),Mje=A.createContext(null),So=()=>A.useContext(Mje)!=null,F4=e=>e.brush,B4=He([F4,ci,tte],(e,t,r)=>({height:e.height,x:Yt(e.x)?e.x:t.left,y:Yt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Yt(e.width)?e.width:t.width})),eO=()=>{var e,t=So(),r=Bt(Ije),n=Bt(B4),a=(e=Bt(F4))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Rje={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ate=()=>{var e;return(e=Bt(ci))!==null&&e!==void 0?e:Rje},tO=()=>Bt(gf),rO=()=>Bt(vf),Lje=()=>Bt(e=>e.layout.margin),Lr=e=>e.layout.layoutType,z4=()=>Bt(Lr),Fje={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ite=fl({name:"legend",initialState:Fje,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Kd(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:cB,setLegendSettings:Bje,addLegendPayload:ste,removeLegendPayload:ote}=ite.actions,zje=ite.reducer,Wje=["contextPayload"];function a8(){return a8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a8.apply(null,arguments)}function uB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uB(Object(r),!0).forEach(function(n){nO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nO(e,t,r){return(t=Uje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uje(e){var t=$je(e,"string");return typeof t=="symbol"?t:t+""}function $je(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qje(e,t){if(e==null)return{};var r,n,a=Vje(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vje(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hje(e){return e.value}function Gje(e){var{contextPayload:t}=e,r=qje(e,Wje),n=wee(t,e.payloadUniqBy,Hje),a=k0(k0({},r),{},{payload:n});return A.isValidElement(e.content)?A.cloneElement(e.content,a):typeof e.content=="function"?A.createElement(e.content,a):A.createElement(qT,a)}function Yje(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),k0(k0({},u),d)}function Kje(e){var t=fa();return A.useEffect(()=>{t(Bje(e))},[t,e]),null}function Xje(e){var t=fa();return A.useEffect(()=>(t(cB(e)),()=>{t(cB({width:0,height:0}))}),[t,e]),null}function Jje(e){var t=Q6e(),r=hNe(),n=Lje(),{width:a,height:i,wrapperStyle:s,portal:o}=e,[l,u]=_ee([t]),d=tO(),f=rO();if(d==null||f==null)return null;var p=d-(n.left||0)-(n.right||0),h=yy.getWidthOrHeight(e.layout,i,a,p),g=o?s:k0(k0({position:"absolute",width:h?.width||a||"auto",height:h?.height||i||"auto"},Yje(s,e,n,d,f,l)),s),y=o??r;if(y==null)return null;var x=A.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},A.createElement(Kje,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(Xje,{width:l.width,height:l.height}),A.createElement(Gje,a8({},e,h,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return hA.createPortal(x,y)}class yy extends A.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Yt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return A.createElement(Jje,this.props)}}nO(yy,"displayName","Legend");nO(yy,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function i8(){return i8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i8.apply(null,arguments)}function dB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dB(Object(r),!0).forEach(function(n){Zje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zje(e,t,r){return(t=Qje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qje(e){var t=eCe(e,"string");return typeof t=="symbol"?t:t+""}function eCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tCe(e){return Array.isArray(e)&&Ru(e[0])&&Ru(e[1])?e.join(" ~ "):e}var rCe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,h=()=>{if(i&&i.length){var C={padding:0,margin:0},E=(o?A4(i,o):i).map((I,D)=>{if(I.type==="none")return null;var O=I.formatter||s||tCe,{value:L,name:R}=I,P=L,F=R;if(O){var V=O(L,R,I,D,i);if(Array.isArray(V))[P,F]=V;else if(V!=null)P=V;else return null}var X=DS({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},n);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:X},Ru(F)?A.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Ru(F)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},P),A.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:C},E)}return null},g=DS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=DS({margin:0},a),x=!Kn(d),b=x?d:"",N=Hr("recharts-default-tooltip",l),j=Hr("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(b=f(d,i));var w=p?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",i8({className:N,style:g},w),A.createElement("p",{className:j,style:y},A.isValidElement(b)?b:"".concat(b)),h())},rx="recharts-tooltip-wrapper",nCe={visibility:"hidden"};function aCe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Hr(rx,{["".concat(rx,"-right")]:Yt(r)&&t&&Yt(t.x)&&r>=t.x,["".concat(rx,"-left")]:Yt(r)&&t&&Yt(t.x)&&r<t.x,["".concat(rx,"-bottom")]:Yt(n)&&t&&Yt(t.y)&&n>=t.y,["".concat(rx,"-top")]:Yt(n)&&t&&Yt(t.y)&&n<t.y})}function fB(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(i&&Yt(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?d:f;var p=l[n];if(p==null)return 0;if(s[n]){var h=d,g=p;return h<g?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var y=f+o,x=p+u;return y>x?Math.max(d,p):Math.max(f,p)}function iCe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function sCe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&r?(d=fB({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=fB({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=iCe({translateX:d,translateY:f,useTranslate3d:o})):u=nCe,{cssProperties:u,cssClasses:aCe({translateX:d,translateY:f,coordinate:r})}}function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hB(Object(r),!0).forEach(function(n){s8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s8(e,t,r){return(t=oCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oCe(e){var t=lCe(e,"string");return typeof t=="symbol"?t:t+""}function lCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cCe extends A.PureComponent{constructor(){super(...arguments),s8(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),s8(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:h,wrapperStyle:g,lastBoundingBox:y,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:N,cssProperties:j}=sCe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:h}),w=b?{}:nb(nb({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=nb(nb({},w),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:C,ref:x},i)}}var uCe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qh={devToolsEnabled:!1,isSsr:uCe()},lte=()=>Bt(e=>e.rootProps.accessibilityLayer);function cl(e){return Number.isFinite(e)}function A0(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function o8(){return o8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o8.apply(null,arguments)}function pB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pB(Object(r),!0).forEach(function(n){dCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dCe(e,t,r){return(t=fCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fCe(e){var t=hCe(e,"string");return typeof t=="symbol"?t:t+""}function hCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gB={curveBasisClosed:TNe,curveBasisOpen:ONe,curveBasis:DNe,curveBumpX:vNe,curveBumpY:xNe,curveLinearClosed:INe,curveLinear:P4,curveMonotoneX:MNe,curveMonotoneY:RNe,curveNatural:LNe,curveStep:FNe,curveStepAfter:zNe,curveStepBefore:BNe},ab=e=>cl(e.x)&&cl(e.y),nx=e=>e.x,ax=e=>e.y,pCe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(f1(e));return(r==="curveMonotone"||r==="curveBump")&&t?gB["".concat(r).concat(t==="vertical"?"Y":"X")]:gB[r]||P4},mCe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=pCe(t,a),o=i?r.filter(ab):r,l;if(Array.isArray(n)){var u=i?n.filter(f=>ab(f)):n,d=o.map((f,p)=>mB(mB({},f),{},{base:u[p]}));return a==="vertical"?l=X2().y(ax).x1(nx).x0(f=>f.base.x):l=X2().x(nx).y1(ax).y0(f=>f.base.y),l.defined(ab).curve(s),l(d)}return a==="vertical"&&Yt(n)?l=X2().y(ax).x1(nx).x0(n):Yt(n)?l=X2().x(nx).y1(ax).y0(n):l=tee().x(nx).y(ax),l.defined(ab).curve(s),l(o)},aO=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?mCe(e):n;return A.createElement("path",o8({},Vu(e),RT(e),{className:Hr("recharts-curve",t),d:i===null?void 0:i,ref:a}))},gCe=["x","y","top","left","width","height","className"];function l8(){return l8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l8.apply(null,arguments)}function vB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vB(Object(r),!0).forEach(function(n){xCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xCe(e,t,r){return(t=yCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yCe(e){var t=bCe(e,"string");return typeof t=="symbol"?t:t+""}function bCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wCe(e,t){if(e==null)return{};var r,n,a=NCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SCe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),jCe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,l=wCe(e,gCe),u=vCe({x:t,y:r,top:n,left:a,width:i,height:s},l);return!Yt(t)||!Yt(r)||!Yt(i)||!Yt(s)||!Yt(n)||!Yt(a)?null:A.createElement("path",l8({},da(u,!0),{className:Hr("recharts-cross",o),d:SCe(t,r,i,s,n,a)}))};function CCe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function xB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xB(Object(r),!0).forEach(function(n){ECe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ECe(e,t,r){return(t=PCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PCe(e){var t=kCe(e,"string");return typeof t=="symbol"?t:t+""}function kCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ki(e,t){var r=_Ce({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function ACe(){}function yB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(r),!0).forEach(function(n){DCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DCe(e,t,r){return(t=TCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TCe(e){var t=OCe(e,"string");return typeof t=="symbol"?t:t+""}function OCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ICe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),cte=(e,t,r)=>e.map(n=>"".concat(ICe(n)," ").concat(t,"ms ").concat(r)).join(","),MCe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),by=(e,t)=>Object.keys(t).reduce((r,n)=>bB(bB({},r),{},{[n]:e(n,t[n])}),{});function wB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wB(Object(r),!0).forEach(function(n){RCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RCe(e,t,r){return(t=LCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LCe(e){var t=FCe(e,"string");return typeof t=="symbol"?t:t+""}function FCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o5=(e,t,r)=>e+(t-e)*r,c8=e=>{var{from:t,to:r}=e;return t!==r},ute=(e,t,r)=>{var n=by((a,i)=>{if(c8(i)){var[s,o]=e(i.from,i.to,i.velocity);return Wi(Wi({},i),{},{from:s,velocity:o})}return i},t);return r<1?by((a,i)=>c8(i)?Wi(Wi({},i),{},{velocity:o5(i.velocity,n[a].velocity,r),from:o5(i.from,n[a].from,r)}):i,t):ute(e,n,r-1)};function BCe(e,t,r,n,a,i){var s,o=n.reduce((p,h)=>Wi(Wi({},p),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>by((p,h)=>h.from,o),u=()=>!Object.values(o).filter(c8).length,d=null,f=p=>{s||(s=p);var h=p-s,g=h/r.dt;o=ute(r,o,g),a(Wi(Wi(Wi({},e),t),l())),s=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function zCe(e,t,r,n,a,i,s){var o=null,l=a.reduce((f,p)=>Wi(Wi({},f),{},{[p]:[e[p],t[p]]}),{}),u,d=f=>{u||(u=f);var p=(f-u)/n,h=by((y,x)=>o5(...x,r(p)),l);if(i(Wi(Wi(Wi({},e),t),h)),p<1)o=s.setTimeout(d);else{var g=by((y,x)=>o5(...x,r(1)),l);i(Wi(Wi(Wi({},e),t),g))}};return()=>(o=s.setTimeout(d),()=>{o()})}const WCe=(e,t,r,n,a,i)=>{var s=MCe(e,t);return r.isStepper===!0?BCe(e,t,r,s,a,i):zCe(e,t,r,n,s,a,i)};var l5=1e-4,dte=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],fte=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),NB=(e,t)=>r=>{var n=dte(e,t);return fte(n,r)},UCe=(e,t)=>r=>{var n=dte(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return fte(a,r)},SB=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,a]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([t,n,r,a]=s);var u=NB(t,r),d=NB(n,a),f=UCe(t,r),p=g=>g>1?1:g<0?0:g,h=g=>{for(var y=g>1?1:g,x=y,b=0;b<8;++b){var N=u(x)-y,j=f(x);if(Math.abs(N-y)<l5||j<l5)return d(x);x=p(x-N/j)}return d(x)};return h.isStepper=!1,h},$Ce=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,l)=>{var u=-(s-o)*r,d=l*n,f=l+(u-d)*a/1e3,p=l*a/1e3+s;return Math.abs(p-o)<l5&&Math.abs(f)<l5?[o,0]:[p,f]};return i.isStepper=!0,i.dt=a,i},qCe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SB(e);case"spring":return $Ce();default:if(e.split("(")[0]==="cubic-bezier")return SB(e)}return typeof e=="function"?e:null};function VCe(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){a=e.setTimeout(i.bind(null,u),l);return}i(l),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class HCe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function GCe(){return VCe(new HCe)}var YCe=A.createContext(GCe);function KCe(e,t){var r=A.useContext(YCe);return A.useMemo(()=>t??r(e),[e,t,r])}var XCe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},jB={t:0},TS={t:1};function v1(e){var t=Ki(e,XCe),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=KCe(t.animationId,t.animationManager),[f,p]=A.useState(r?jB:TS),h=A.useRef(null);return A.useEffect(()=>{r||p(TS)},[r]),A.useEffect(()=>{if(!r||!n)return ACe;var g=WCe(jB,TS,qCe(i),a,p,d.getTimeoutController()),y=()=>{h.current=g()};return d.start([l,s,y,a,o]),()=>{d.stop(),h.current&&h.current(),o()}},[r,n,a,i,s,l,o,d]),u(f.t)}function x1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=A.useRef(my(t)),n=A.useRef(e);return n.current!==e&&(r.current=my(t),n.current=e),r.current}function CB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CB(Object(r),!0).forEach(function(n){JCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JCe(e,t,r){return(t=ZCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZCe(e){var t=QCe(e,"string");return typeof t=="symbol"?t:t+""}function QCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c5(){return c5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c5.apply(null,arguments)}var EB=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=a[f]>i?i:a[f];u="M".concat(e,",").concat(t+s*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*d[1])),u+="L ".concat(e+r,",").concat(t+n-s*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);u="M ".concat(e,",").concat(t+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*h,`
            L `).concat(e+r,",").concat(t+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},e_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hte=e=>{var t=Ki(e,e_e),r=A.useRef(null),[n,a]=A.useState(-1);A.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&a(V)}catch{}},[]);var{x:i,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:y}=t,x=A.useRef(o),b=A.useRef(l),N=A.useRef(i),j=A.useRef(s),w=A.useMemo(()=>({x:i,y:s,width:o,height:l,radius:u}),[i,s,o,l,u]),C=x1(w,"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var E=Hr("recharts-rectangle",d);if(!y)return A.createElement("path",c5({},da(t,!0),{className:E,d:EB(i,s,o,l,u)}));var I=x.current,D=b.current,O=N.current,L=j.current,R="0px ".concat(n===-1?1:n,"px"),P="".concat(n,"px 0px"),F=cte(["strokeDasharray"],p,typeof f=="string"?f:void 0);return A.createElement(v1,{animationId:C,key:C,canBegin:n>0,duration:p,easing:f,isActive:y,begin:h},V=>{var X=Ca(I,o,V),te=Ca(D,l,V),q=Ca(O,i,V),U=Ca(L,s,V);r.current&&(x.current=X,b.current=te,N.current=q,j.current=U);var Q;return g?V>0?Q={transition:F,strokeDasharray:P}:Q={strokeDasharray:R}:Q={strokeDasharray:P},A.createElement("path",c5({},da(t,!0),{className:E,d:EB(q,U,X,te,u),ref:r,style:_B(_B({},Q),t.style)}))})};function pte(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Va(t,r,n,a),o=Va(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function u8(){return u8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u8.apply(null,arguments)}var t_e=(e,t)=>{var r=Ei(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},ib=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,d=Math.asin(o/u)/s5,f=l?a:a+i*d,p=Va(t,r,u,f),h=Va(t,r,n,f),g=l?a-i*d:a,y=Va(t,r,u*Math.cos(d*s5),g);return{center:p,circleTangency:h,lineTangency:y,theta:d}},mte=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=t_e(i,s),l=i+o,u=Va(t,r,a,i),d=Va(t,r,a,l),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=Va(t,r,n,i),h=Va(t,r,n,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},r_e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=Ei(u-l),{circleTangency:f,lineTangency:p,theta:h}=ib({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:x}=ib({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),b=o?Math.abs(l-u):Math.abs(l-u)-h-x;if(b<0)return s?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):mte({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:u});var N="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:j,lineTangency:w,theta:C}=ib({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:E,lineTangency:I,theta:D}=ib({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),O=o?Math.abs(l-u):Math.abs(l-u)-C-D;if(O<0&&i===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+="L".concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(O>180),",").concat(+(d>0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else N+="L".concat(t,",").concat(r,"Z");return N},n_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gte=e=>{var t=Ki(e,n_e),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var p=Hr("recharts-sector",f),h=i-a,g=Ss(s,h,0,!0),y;return g>0&&Math.abs(u-d)<360?y=r_e({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):y=mte({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),A.createElement("path",u8({},da(t,!0),{className:p,d:y}))};function a_e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:u,outerRadius:d,angle:f}=t,p=Va(o,l,u,f),h=Va(o,l,d,f);n=p.x,a=p.y,i=h.x,s=h.y}else return pte(t);return[{x:n,y:a},{x:i,y:s}]}var OS={},IS={},MS={},PB;function i_e(){return PB||(PB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=See();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(MS)),MS}var kB;function s_e(){return kB||(kB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i_e();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(IS)),IS}var AB;function o_e(){return AB||(AB=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jee(),r=s_e();function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=a,a+=s;return l}e.range=n})(OS)),OS}var RS,DB;function l_e(){return DB||(DB=1,RS=o_e().range),RS}var c_e=l_e();const vte=Ln(c_e);function Ch(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function u_e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function iO(e){let t,r,n;e.length!==2?(t=Ch,r=(o,l)=>Ch(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ch||e===u_e?e:d_e,r=e,n=e);function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=a(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function d_e(){return 0}function xte(e){return e===null?NaN:+e}function*f_e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const h_e=iO(Ch),y1=h_e.right;iO(xte).center;class TB extends Map{constructor(t,r=g_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(OB(this,t))}has(t){return super.has(OB(this,t))}set(t,r){return super.set(p_e(this,t),r)}delete(t){return super.delete(m_e(this,t))}}function OB({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function p_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function m_e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function g_e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function v_e(e=Ch){if(e===Ch)return yte;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yte(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const x_e=Math.sqrt(50),y_e=Math.sqrt(10),b_e=Math.sqrt(2);function u5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=x_e?10:i>=y_e?5:i>=b_e?2:1;let o,l,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?u5(e,t,r*2):[o,l,u]}function d8(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?u5(t,e,r):u5(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(i-u)/-s;else for(let u=0;u<o;++u)l[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(a+u)/-s;else for(let u=0;u<o;++u)l[u]=(a+u)*s;return l}function f8(e,t,r){return t=+t,e=+e,r=+r,u5(e,t,r)[2]}function h8(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?f8(t,e,r):f8(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function IB(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bte(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?yte:v_e(a);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),h=Math.max(r,Math.floor(t-u*f/l+p)),g=Math.min(n,Math.floor(t+(l-u)*f/l+p));bte(e,t,h,g,a)}const i=e[t];let s=r,o=n;for(ix(e,r,t),a(e[n],i)>0&&ix(e,r,n);s<o;){for(ix(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?ix(e,r,o):(++o,ix(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ix(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w_e(e,t,r){if(e=Float64Array.from(f_e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MB(e);if(t>=1)return IB(e);var n,a=(n-1)*t,i=Math.floor(a),s=IB(bte(e,i).subarray(0,i+1)),o=MB(e.subarray(i+1));return s+(o-s)*(a-i)}}function N_e(e,t,r=xte){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function S_e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ec(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const p8=Symbol("implicit");function sO(){var e=new TB,t=[],r=[],n=p8;function a(i){let s=e.get(i);if(s===void 0){if(n!==p8)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new TB;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return sO(t,r).unknown(n)},ec.apply(a,arguments),a}function oO(){var e=sO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,h=a<n,g=h?a:n,y=h?n:a;i=(y-g)/Math.max(1,p-l+u*2),o&&(i=Math.floor(i)),g+=(y-g-i*(p-l))*d,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var x=S_e(p).map(function(b){return g+i*b});return r(h?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,a]=p,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(p){return[n,a]=p,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(p){return arguments.length?(o=!!p,f()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return oO(t(),[n,a]).round(o).paddingInner(l).paddingOuter(u).align(d)},ec.apply(f(),arguments)}function wte(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wte(t())},e}function j_e(){return wte(oO.apply(null,arguments).paddingInner(1))}function lO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Nte(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function b1(){}var wy=.7,d5=1/wy,f0="\\s*([+-]?\\d+)\\s*",Ny="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",C_e=/^#([0-9a-f]{3,8})$/,__e=new RegExp(`^rgb\\(${f0},${f0},${f0}\\)$`),E_e=new RegExp(`^rgb\\(${Pu},${Pu},${Pu}\\)$`),P_e=new RegExp(`^rgba\\(${f0},${f0},${f0},${Ny}\\)$`),k_e=new RegExp(`^rgba\\(${Pu},${Pu},${Pu},${Ny}\\)$`),A_e=new RegExp(`^hsl\\(${Ny},${Pu},${Pu}\\)$`),D_e=new RegExp(`^hsla\\(${Ny},${Pu},${Pu},${Ny}\\)$`),RB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};lO(b1,Sy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:LB,formatHex:LB,formatHex8:T_e,formatHsl:O_e,formatRgb:FB,toString:FB});function LB(){return this.rgb().formatHex()}function T_e(){return this.rgb().formatHex8()}function O_e(){return Ste(this).formatHsl()}function FB(){return this.rgb().formatRgb()}function Sy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=C_e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?BB(t):r===3?new mo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=__e.exec(e))?new mo(t[1],t[2],t[3],1):(t=E_e.exec(e))?new mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=P_e.exec(e))?sb(t[1],t[2],t[3],t[4]):(t=k_e.exec(e))?sb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=A_e.exec(e))?UB(t[1],t[2]/100,t[3]/100,1):(t=D_e.exec(e))?UB(t[1],t[2]/100,t[3]/100,t[4]):RB.hasOwnProperty(e)?BB(RB[e]):e==="transparent"?new mo(NaN,NaN,NaN,0):null}function BB(e){return new mo(e>>16&255,e>>8&255,e&255,1)}function sb(e,t,r,n){return n<=0&&(e=t=r=NaN),new mo(e,t,r,n)}function I_e(e){return e instanceof b1||(e=Sy(e)),e?(e=e.rgb(),new mo(e.r,e.g,e.b,e.opacity)):new mo}function m8(e,t,r,n){return arguments.length===1?I_e(e):new mo(e,t,r,n??1)}function mo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}lO(mo,m8,Nte(b1,{brighter(e){return e=e==null?d5:Math.pow(d5,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wy:Math.pow(wy,e),new mo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mo(im(this.r),im(this.g),im(this.b),f5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zB,formatHex:zB,formatHex8:M_e,formatRgb:WB,toString:WB}));function zB(){return`#${Xp(this.r)}${Xp(this.g)}${Xp(this.b)}`}function M_e(){return`#${Xp(this.r)}${Xp(this.g)}${Xp(this.b)}${Xp((isNaN(this.opacity)?1:this.opacity)*255)}`}function WB(){const e=f5(this.opacity);return`${e===1?"rgb(":"rgba("}${im(this.r)}, ${im(this.g)}, ${im(this.b)}${e===1?")":`, ${e})`}`}function f5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function im(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xp(e){return e=im(e),(e<16?"0":"")+e.toString(16)}function UB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ec(e,t,r,n)}function Ste(e){if(e instanceof Ec)return new Ec(e.h,e.s,e.l,e.opacity);if(e instanceof b1||(e=Sy(e)),!e)return new Ec;if(e instanceof Ec)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Ec(s,o,l,e.opacity)}function R_e(e,t,r,n){return arguments.length===1?Ste(e):new Ec(e,t,r,n??1)}function Ec(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}lO(Ec,R_e,Nte(b1,{brighter(e){return e=e==null?d5:Math.pow(d5,e),new Ec(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wy:Math.pow(wy,e),new Ec(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new mo(LS(e>=240?e-240:e+120,a,n),LS(e,a,n),LS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ec($B(this.h),ob(this.s),ob(this.l),f5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=f5(this.opacity);return`${e===1?"hsl(":"hsla("}${$B(this.h)}, ${ob(this.s)*100}%, ${ob(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $B(e){return e=(e||0)%360,e<0?e+360:e}function ob(e){return Math.max(0,Math.min(1,e||0))}function LS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const cO=e=>()=>e;function L_e(e,t){return function(r){return e+r*t}}function F_e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function B_e(e){return(e=+e)==1?jte:function(t,r){return r-t?F_e(t,r,e):cO(isNaN(t)?r:t)}}function jte(e,t){var r=t-e;return r?L_e(e,r):cO(isNaN(e)?t:e)}const qB=(function e(t){var r=B_e(t);function n(a,i){var s=r((a=m8(a)).r,(i=m8(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),u=jte(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=o(d),a.b=l(d),a.opacity=u(d),a+""}}return n.gamma=e,n})(1);function z_e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function W_e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function U_e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=tv(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function $_e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function h5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function q_e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=tv(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var g8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,FS=new RegExp(g8.source,"g");function V_e(e){return function(){return e}}function H_e(e){return function(t){return e(t)+""}}function G_e(e,t){var r=g8.lastIndex=FS.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=g8.exec(e))&&(a=FS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:h5(n,a)})),r=FS.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?H_e(l[0].x):V_e(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function tv(e,t){var r=typeof t,n;return t==null||r==="boolean"?cO(t):(r==="number"?h5:r==="string"?(n=Sy(t))?(t=n,qB):G_e:t instanceof Sy?qB:t instanceof Date?$_e:W_e(t)?z_e:Array.isArray(t)?U_e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?q_e:h5)(e,t)}function uO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Y_e(e,t){t===void 0&&(t=e,e=tv);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function K_e(e){return function(){return e}}function p5(e){return+e}var VB=[0,1];function $s(e){return e}function v8(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:K_e(isNaN(t)?NaN:.5)}function X_e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function J_e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=v8(a,n),i=r(s,i)):(n=v8(n,a),i=r(i,s)),function(o){return i(n(o))}}function Z_e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=v8(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=y1(e,o,1,n)-1;return i[l](a[l](o))}}function w1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W4(){var e=VB,t=VB,r=tv,n,a,i,s=$s,o,l,u;function d(){var p=Math.min(e.length,t.length);return s!==$s&&(s=X_e(e[0],e[p-1])),o=p>2?Z_e:J_e,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return f.invert=function(p){return s(a((u||(u=o(t,e.map(n),h5)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,p5),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=uO,d()},f.clamp=function(p){return arguments.length?(s=p?!0:$s,d()):s!==$s},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,h){return n=p,a=h,d()}}function dO(){return W4()($s,$s)}function Q_e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function m5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function D0(e){return e=m5(Math.abs(e)),e?e[1]:NaN}function eEe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function tEe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var rEe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jy(e){if(!(t=rEe.exec(e)))throw new Error("invalid format: "+e);var t;return new fO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}jy.prototype=fO.prototype;function fO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function nEe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Cte;function aEe(e,t){var r=m5(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Cte=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+m5(e,Math.max(0,t+i-1))[0]}function HB(e,t){var r=m5(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const GB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q_e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>HB(e*100,t),r:HB,s:aEe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YB(e){return e}var KB=Array.prototype.map,XB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iEe(e){var t=e.grouping===void 0||e.thousands===void 0?YB:eEe(KB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?YB:tEe(KB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=jy(f);var p=f.fill,h=f.align,g=f.sign,y=f.symbol,x=f.zero,b=f.width,N=f.comma,j=f.precision,w=f.trim,C=f.type;C==="n"?(N=!0,C="g"):GB[C]||(j===void 0&&(j=12),w=!0,C="g"),(x||p==="0"&&h==="=")&&(x=!0,p="0",h="=");var E=y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=y==="$"?n:/[%p]/.test(C)?s:"",D=GB[C],O=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function L(R){var P=E,F=I,V,X,te;if(C==="c")F=D(R)+F,R="";else{R=+R;var q=R<0||1/R<0;if(R=isNaN(R)?l:D(Math.abs(R),j),w&&(R=nEe(R)),q&&+R==0&&g!=="+"&&(q=!1),P=(q?g==="("?g:o:g==="-"||g==="("?"":g)+P,F=(C==="s"?XB[8+Cte/3]:"")+F+(q&&g==="("?")":""),O){for(V=-1,X=R.length;++V<X;)if(te=R.charCodeAt(V),48>te||te>57){F=(te===46?a+R.slice(V+1):R.slice(V))+F,R=R.slice(0,V);break}}}N&&!x&&(R=t(R,1/0));var U=P.length+R.length+F.length,Q=U<b?new Array(b-U+1).join(p):"";switch(N&&x&&(R=t(Q+R,Q.length?b-F.length:1/0),Q=""),h){case"<":R=P+R+F+Q;break;case"=":R=P+Q+R+F;break;case"^":R=Q.slice(0,U=Q.length>>1)+P+R+F+Q.slice(U);break;default:R=Q+P+R+F;break}return i(R)}return L.toString=function(){return f+""},L}function d(f,p){var h=u((f=jy(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(D0(p)/3)))*3,y=Math.pow(10,-g),x=XB[8+g/3];return function(b){return h(y*b)+x}}return{format:u,formatPrefix:d}}var lb,hO,_te;sEe({thousands:",",grouping:[3],currency:["$",""]});function sEe(e){return lb=iEe(e),hO=lb.format,_te=lb.formatPrefix,lb}function oEe(e){return Math.max(0,-D0(Math.abs(e)))}function lEe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(D0(t)/3)))*3-D0(Math.abs(e)))}function cEe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,D0(t)-D0(e))+1}function Ete(e,t,r,n){var a=h8(e,t,r),i;switch(n=jy(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=lEe(a,s))&&(n.precision=i),_te(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=cEe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=oEe(a))&&(n.precision=i-(n.type==="%")*2);break}}return hO(n)}function Vh(e){var t=e.domain;return e.ticks=function(r){var n=t();return d8(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Ete(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=f8(s,o,r),u===l)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function Pte(){var e=dO();return e.copy=function(){return w1(e,Pte())},ec.apply(e,arguments),Vh(e)}function kte(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,p5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kte(e).unknown(t)},e=arguments.length?Array.from(e,p5):[0,1],Vh(r)}function Ate(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function JB(e){return Math.log(e)}function ZB(e){return Math.exp(e)}function uEe(e){return-Math.log(-e)}function dEe(e){return-Math.exp(-e)}function fEe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function hEe(e){return e===10?fEe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pEe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QB(e){return(t,r)=>-e(-t,r)}function pO(e){const t=e(JB,ZB),r=t.domain;let n=10,a,i;function s(){return a=pEe(n),i=hEe(n),r()[0]<0?(a=QB(a),i=QB(i),e(uEe,dEe)):e(JB,ZB),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),h=a(d),g,y;const x=o==null?10:+o;let b=[];if(!(n%1)&&h-p<x){if(p=Math.floor(p),h=Math.ceil(h),u>0){for(;p<=h;++p)for(g=1;g<n;++g)if(y=p<0?g/i(-p):g*i(p),!(y<u)){if(y>d)break;b.push(y)}}else for(;p<=h;++p)for(g=n-1;g>=1;--g)if(y=p>0?g/i(-p):g*i(p),!(y<u)){if(y>d)break;b.push(y)}b.length*2<x&&(b=d8(u,d,x))}else b=d8(p,h,Math.min(h-p,x)).map(i);return f?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=jy(l)).precision==null&&(l.trim=!0),l=hO(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},t.nice=()=>r(Ate(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function Dte(){const e=pO(W4()).domain([1,10]);return e.copy=()=>w1(e,Dte()).base(e.base()),ec.apply(e,arguments),e}function ez(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mO(e){var t=1,r=e(ez(t),tz(t));return r.constant=function(n){return arguments.length?e(ez(t=+n),tz(t)):t},Vh(r)}function Tte(){var e=mO(W4());return e.copy=function(){return w1(e,Tte()).constant(e.constant())},ec.apply(e,arguments)}function rz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function mEe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function gEe(e){return e<0?-e*e:e*e}function gO(e){var t=e($s,$s),r=1;function n(){return r===1?e($s,$s):r===.5?e(mEe,gEe):e(rz(r),rz(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Vh(t)}function vO(){var e=gO(W4());return e.copy=function(){return w1(e,vO()).exponent(e.exponent())},ec.apply(e,arguments),e}function vEe(){return vO.apply(null,arguments).exponent(.5)}function nz(e){return Math.sign(e)*e*e}function xEe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Ote(){var e=dO(),t=[0,1],r=!1,n;function a(i){var s=xEe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(nz(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,p5)).map(nz)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ote(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ec.apply(a,arguments),Vh(a)}function Ite(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=N_e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[y1(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ch),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Ite().domain(e).range(t).unknown(n)},ec.apply(i,arguments)}function Mte(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[y1(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return Mte().domain([e,t]).range(a).unknown(i)},ec.apply(Vh(s),arguments)}function Rte(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[y1(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Rte().domain(e).range(t).unknown(r)},ec.apply(a,arguments)}const BS=new Date,zS=new Date;function ui(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let u;do l.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return l},a.filter=i=>ui(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(BS.setTime(+i),zS.setTime(+s),e(BS),e(zS),Math.floor(r(BS,zS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const g5=ui(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);g5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ui(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):g5);g5.range;const Ud=1e3,Vl=Ud*60,$d=Vl*60,ef=$d*24,xO=ef*7,az=ef*30,WS=ef*365,Jp=ui(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ud)},(e,t)=>(t-e)/Ud,e=>e.getUTCSeconds());Jp.range;const yO=ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ud)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getMinutes());yO.range;const bO=ui(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vl)},(e,t)=>(t-e)/Vl,e=>e.getUTCMinutes());bO.range;const wO=ui(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ud-e.getMinutes()*Vl)},(e,t)=>{e.setTime(+e+t*$d)},(e,t)=>(t-e)/$d,e=>e.getHours());wO.range;const NO=ui(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$d)},(e,t)=>(t-e)/$d,e=>e.getUTCHours());NO.range;const N1=ui(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vl)/ef,e=>e.getDate()-1);N1.range;const U4=ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ef,e=>e.getUTCDate()-1);U4.range;const Lte=ui(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ef,e=>Math.floor(e/ef));Lte.range;function Fm(e){return ui(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Vl)/xO)}const $4=Fm(0),v5=Fm(1),yEe=Fm(2),bEe=Fm(3),T0=Fm(4),wEe=Fm(5),NEe=Fm(6);$4.range;v5.range;yEe.range;bEe.range;T0.range;wEe.range;NEe.range;function Bm(e){return ui(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/xO)}const q4=Bm(0),x5=Bm(1),SEe=Bm(2),jEe=Bm(3),O0=Bm(4),CEe=Bm(5),_Ee=Bm(6);q4.range;x5.range;SEe.range;jEe.range;O0.range;CEe.range;_Ee.range;const SO=ui(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());SO.range;const jO=ui(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jO.range;const tf=ui(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ui(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});tf.range;const rf=ui(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ui(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});rf.range;function Fte(e,t,r,n,a,i){const s=[[Jp,1,Ud],[Jp,5,5*Ud],[Jp,15,15*Ud],[Jp,30,30*Ud],[i,1,Vl],[i,5,5*Vl],[i,15,15*Vl],[i,30,30*Vl],[a,1,$d],[a,3,3*$d],[a,6,6*$d],[a,12,12*$d],[n,1,ef],[n,2,2*ef],[r,1,xO],[t,1,az],[t,3,3*az],[e,1,WS]];function o(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:l(u,d,f),g=h?h.range(u,+d+1):[];return p?g.reverse():g}function l(u,d,f){const p=Math.abs(d-u)/f,h=iO(([,,x])=>x).right(s,p);if(h===s.length)return e.every(h8(u/WS,d/WS,f));if(h===0)return g5.every(Math.max(h8(u,d,f),1));const[g,y]=s[p/s[h-1][2]<s[h][2]/p?h-1:h];return g.every(y)}return[o,l]}const[EEe,PEe]=Fte(rf,jO,q4,Lte,NO,bO),[kEe,AEe]=Fte(tf,SO,$4,N1,wO,yO);function US(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $S(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sx(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function DEe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=ox(a),d=lx(a),f=ox(i),p=lx(i),h=ox(s),g=lx(s),y=ox(o),x=lx(o),b=ox(l),N=lx(l),j={a:q,A:U,b:Q,B:se,c:null,d:uz,e:uz,f:ePe,g:uPe,G:fPe,H:JEe,I:ZEe,j:QEe,L:Bte,m:tPe,M:rPe,p:K,q:T,Q:hz,s:pz,S:nPe,u:aPe,U:iPe,V:sPe,w:oPe,W:lPe,x:null,X:null,y:cPe,Y:dPe,Z:hPe,"%":fz},w={a:W,A:J,b:Y,B:ee,c:null,d:dz,e:dz,f:vPe,g:EPe,G:kPe,H:pPe,I:mPe,j:gPe,L:Wte,m:xPe,M:yPe,p:ae,q:pe,Q:hz,s:pz,S:bPe,u:wPe,U:NPe,V:SPe,w:jPe,W:CPe,x:null,X:null,y:_Pe,Y:PPe,Z:APe,"%":fz},C={a:L,A:R,b:P,B:F,c:V,d:lz,e:lz,f:GEe,g:oz,G:sz,H:cz,I:cz,j:$Ee,L:HEe,m:UEe,M:qEe,p:O,q:WEe,Q:KEe,s:XEe,S:VEe,u:REe,U:LEe,V:FEe,w:MEe,W:BEe,x:X,X:te,y:oz,Y:sz,Z:zEe,"%":YEe};j.x=E(r,j),j.X=E(n,j),j.c=E(t,j),w.x=E(r,w),w.X=E(n,w),w.c=E(t,w);function E(de,we){return function(Ae){var Se=[],Ge=-1,ke=0,Z=de.length,Qe,Ne,ze;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ge<Z;)de.charCodeAt(Ge)===37&&(Se.push(de.slice(ke,Ge)),(Ne=iz[Qe=de.charAt(++Ge)])!=null?Qe=de.charAt(++Ge):Ne=Qe==="e"?" ":"0",(ze=we[Qe])&&(Qe=ze(Ae,Ne)),Se.push(Qe),ke=Ge+1);return Se.push(de.slice(ke,Ge)),Se.join("")}}function I(de,we){return function(Ae){var Se=sx(1900,void 0,1),Ge=D(Se,de,Ae+="",0),ke,Z;if(Ge!=Ae.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(we&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(ke=$S(sx(Se.y,0,1)),Z=ke.getUTCDay(),ke=Z>4||Z===0?x5.ceil(ke):x5(ke),ke=U4.offset(ke,(Se.V-1)*7),Se.y=ke.getUTCFullYear(),Se.m=ke.getUTCMonth(),Se.d=ke.getUTCDate()+(Se.w+6)%7):(ke=US(sx(Se.y,0,1)),Z=ke.getDay(),ke=Z>4||Z===0?v5.ceil(ke):v5(ke),ke=N1.offset(ke,(Se.V-1)*7),Se.y=ke.getFullYear(),Se.m=ke.getMonth(),Se.d=ke.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),Z="Z"in Se?$S(sx(Se.y,0,1)).getUTCDay():US(sx(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(Z+5)%7:Se.w+Se.U*7-(Z+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,$S(Se)):US(Se)}}function D(de,we,Ae,Se){for(var Ge=0,ke=we.length,Z=Ae.length,Qe,Ne;Ge<ke;){if(Se>=Z)return-1;if(Qe=we.charCodeAt(Ge++),Qe===37){if(Qe=we.charAt(Ge++),Ne=C[Qe in iz?we.charAt(Ge++):Qe],!Ne||(Se=Ne(de,Ae,Se))<0)return-1}else if(Qe!=Ae.charCodeAt(Se++))return-1}return Se}function O(de,we,Ae){var Se=u.exec(we.slice(Ae));return Se?(de.p=d.get(Se[0].toLowerCase()),Ae+Se[0].length):-1}function L(de,we,Ae){var Se=h.exec(we.slice(Ae));return Se?(de.w=g.get(Se[0].toLowerCase()),Ae+Se[0].length):-1}function R(de,we,Ae){var Se=f.exec(we.slice(Ae));return Se?(de.w=p.get(Se[0].toLowerCase()),Ae+Se[0].length):-1}function P(de,we,Ae){var Se=b.exec(we.slice(Ae));return Se?(de.m=N.get(Se[0].toLowerCase()),Ae+Se[0].length):-1}function F(de,we,Ae){var Se=y.exec(we.slice(Ae));return Se?(de.m=x.get(Se[0].toLowerCase()),Ae+Se[0].length):-1}function V(de,we,Ae){return D(de,t,we,Ae)}function X(de,we,Ae){return D(de,r,we,Ae)}function te(de,we,Ae){return D(de,n,we,Ae)}function q(de){return s[de.getDay()]}function U(de){return i[de.getDay()]}function Q(de){return l[de.getMonth()]}function se(de){return o[de.getMonth()]}function K(de){return a[+(de.getHours()>=12)]}function T(de){return 1+~~(de.getMonth()/3)}function W(de){return s[de.getUTCDay()]}function J(de){return i[de.getUTCDay()]}function Y(de){return l[de.getUTCMonth()]}function ee(de){return o[de.getUTCMonth()]}function ae(de){return a[+(de.getUTCHours()>=12)]}function pe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var we=E(de+="",j);return we.toString=function(){return de},we},parse:function(de){var we=I(de+="",!1);return we.toString=function(){return de},we},utcFormat:function(de){var we=E(de+="",w);return we.toString=function(){return de},we},utcParse:function(de){var we=I(de+="",!0);return we.toString=function(){return de},we}}}var iz={"-":"",_:" ",0:"0"},Di=/^\s*\d+/,TEe=/^%/,OEe=/[\\^$*+?|[\]().{}]/g;function Gr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function IEe(e){return e.replace(OEe,"\\$&")}function ox(e){return new RegExp("^(?:"+e.map(IEe).join("|")+")","i")}function lx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MEe(e,t,r){var n=Di.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function REe(e,t,r){var n=Di.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function LEe(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function FEe(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function BEe(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sz(e,t,r){var n=Di.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function oz(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function zEe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WEe(e,t,r){var n=Di.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function UEe(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function lz(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $Ee(e,t,r){var n=Di.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function cz(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qEe(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function VEe(e,t,r){var n=Di.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function HEe(e,t,r){var n=Di.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function GEe(e,t,r){var n=Di.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function YEe(e,t,r){var n=TEe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function KEe(e,t,r){var n=Di.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function XEe(e,t,r){var n=Di.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function uz(e,t){return Gr(e.getDate(),t,2)}function JEe(e,t){return Gr(e.getHours(),t,2)}function ZEe(e,t){return Gr(e.getHours()%12||12,t,2)}function QEe(e,t){return Gr(1+N1.count(tf(e),e),t,3)}function Bte(e,t){return Gr(e.getMilliseconds(),t,3)}function ePe(e,t){return Bte(e,t)+"000"}function tPe(e,t){return Gr(e.getMonth()+1,t,2)}function rPe(e,t){return Gr(e.getMinutes(),t,2)}function nPe(e,t){return Gr(e.getSeconds(),t,2)}function aPe(e){var t=e.getDay();return t===0?7:t}function iPe(e,t){return Gr($4.count(tf(e)-1,e),t,2)}function zte(e){var t=e.getDay();return t>=4||t===0?T0(e):T0.ceil(e)}function sPe(e,t){return e=zte(e),Gr(T0.count(tf(e),e)+(tf(e).getDay()===4),t,2)}function oPe(e){return e.getDay()}function lPe(e,t){return Gr(v5.count(tf(e)-1,e),t,2)}function cPe(e,t){return Gr(e.getFullYear()%100,t,2)}function uPe(e,t){return e=zte(e),Gr(e.getFullYear()%100,t,2)}function dPe(e,t){return Gr(e.getFullYear()%1e4,t,4)}function fPe(e,t){var r=e.getDay();return e=r>=4||r===0?T0(e):T0.ceil(e),Gr(e.getFullYear()%1e4,t,4)}function hPe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gr(t/60|0,"0",2)+Gr(t%60,"0",2)}function dz(e,t){return Gr(e.getUTCDate(),t,2)}function pPe(e,t){return Gr(e.getUTCHours(),t,2)}function mPe(e,t){return Gr(e.getUTCHours()%12||12,t,2)}function gPe(e,t){return Gr(1+U4.count(rf(e),e),t,3)}function Wte(e,t){return Gr(e.getUTCMilliseconds(),t,3)}function vPe(e,t){return Wte(e,t)+"000"}function xPe(e,t){return Gr(e.getUTCMonth()+1,t,2)}function yPe(e,t){return Gr(e.getUTCMinutes(),t,2)}function bPe(e,t){return Gr(e.getUTCSeconds(),t,2)}function wPe(e){var t=e.getUTCDay();return t===0?7:t}function NPe(e,t){return Gr(q4.count(rf(e)-1,e),t,2)}function Ute(e){var t=e.getUTCDay();return t>=4||t===0?O0(e):O0.ceil(e)}function SPe(e,t){return e=Ute(e),Gr(O0.count(rf(e),e)+(rf(e).getUTCDay()===4),t,2)}function jPe(e){return e.getUTCDay()}function CPe(e,t){return Gr(x5.count(rf(e)-1,e),t,2)}function _Pe(e,t){return Gr(e.getUTCFullYear()%100,t,2)}function EPe(e,t){return e=Ute(e),Gr(e.getUTCFullYear()%100,t,2)}function PPe(e,t){return Gr(e.getUTCFullYear()%1e4,t,4)}function kPe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?O0(e):O0.ceil(e),Gr(e.getUTCFullYear()%1e4,t,4)}function APe(){return"+0000"}function fz(){return"%"}function hz(e){return+e}function pz(e){return Math.floor(+e/1e3)}var Ag,$te,qte;DPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function DPe(e){return Ag=DEe(e),$te=Ag.format,Ag.parse,qte=Ag.utcFormat,Ag.utcParse,Ag}function TPe(e){return new Date(e)}function OPe(e){return e instanceof Date?+e:+new Date(+e)}function CO(e,t,r,n,a,i,s,o,l,u){var d=dO(),f=d.invert,p=d.domain,h=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),N=u("%b %d"),j=u("%B"),w=u("%Y");function C(E){return(l(E)<E?h:o(E)<E?g:s(E)<E?y:i(E)<E?x:n(E)<E?a(E)<E?b:N:r(E)<E?j:w)(E)}return d.invert=function(E){return new Date(f(E))},d.domain=function(E){return arguments.length?p(Array.from(E,OPe)):p().map(TPe)},d.ticks=function(E){var I=p();return e(I[0],I[I.length-1],E??10)},d.tickFormat=function(E,I){return I==null?C:u(I)},d.nice=function(E){var I=p();return(!E||typeof E.range!="function")&&(E=t(I[0],I[I.length-1],E??10)),E?p(Ate(I,E)):d},d.copy=function(){return w1(d,CO(e,t,r,n,a,i,s,o,l,u))},d}function IPe(){return ec.apply(CO(kEe,AEe,tf,SO,$4,N1,wO,yO,Jp,$te).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MPe(){return ec.apply(CO(EEe,PEe,rf,jO,q4,U4,NO,bO,Jp,qte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V4(){var e=0,t=1,r,n,a,i,s=$s,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(p){var h,g;return arguments.length?([h,g]=p,s=f(h,g),u):[s(0),s(1)]}}return u.range=d(tv),u.rangeRound=d(uO),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Hh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Vte(){var e=Vh(V4()($s));return e.copy=function(){return Hh(e,Vte())},xf.apply(e,arguments)}function Hte(){var e=pO(V4()).domain([1,10]);return e.copy=function(){return Hh(e,Hte()).base(e.base())},xf.apply(e,arguments)}function Gte(){var e=mO(V4());return e.copy=function(){return Hh(e,Gte()).constant(e.constant())},xf.apply(e,arguments)}function _O(){var e=gO(V4());return e.copy=function(){return Hh(e,_O()).exponent(e.exponent())},xf.apply(e,arguments)}function RPe(){return _O.apply(null,arguments).exponent(.5)}function Yte(){var e=[],t=$s;function r(n){if(n!=null&&!isNaN(n=+n))return t((y1(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ch),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>w_e(e,i/n))},r.copy=function(){return Yte(t).domain(e)},xf.apply(r,arguments)}function H4(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,u=$s,d,f=!1,p;function h(y){return isNaN(y=+y)?p:(y=.5+((y=+d(y))-i)*(n*y<n*i?o:l),u(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),s=d(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(u=y,h):u};function g(y){return function(x){var b,N,j;return arguments.length?([b,N,j]=x,u=Y_e(y,[b,N,j]),h):[u(0),u(.5),u(1)]}}return h.range=g(tv),h.rangeRound=g(uO),h.unknown=function(y){return arguments.length?(p=y,h):p},function(y){return d=y,a=y(e),i=y(t),s=y(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function Kte(){var e=Vh(H4()($s));return e.copy=function(){return Hh(e,Kte())},xf.apply(e,arguments)}function Xte(){var e=pO(H4()).domain([.1,1,10]);return e.copy=function(){return Hh(e,Xte()).base(e.base())},xf.apply(e,arguments)}function Jte(){var e=mO(H4());return e.copy=function(){return Hh(e,Jte()).constant(e.constant())},xf.apply(e,arguments)}function EO(){var e=gO(H4());return e.copy=function(){return Hh(e,EO()).exponent(e.exponent())},xf.apply(e,arguments)}function LPe(){return EO.apply(null,arguments).exponent(.5)}const Ex=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:oO,scaleDiverging:Kte,scaleDivergingLog:Xte,scaleDivergingPow:EO,scaleDivergingSqrt:LPe,scaleDivergingSymlog:Jte,scaleIdentity:kte,scaleImplicit:p8,scaleLinear:Pte,scaleLog:Dte,scaleOrdinal:sO,scalePoint:j_e,scalePow:vO,scaleQuantile:Ite,scaleQuantize:Mte,scaleRadial:Ote,scaleSequential:Vte,scaleSequentialLog:Hte,scaleSequentialPow:_O,scaleSequentialQuantile:Yte,scaleSequentialSqrt:RPe,scaleSequentialSymlog:Gte,scaleSqrt:vEe,scaleSymlog:Tte,scaleThreshold:Rte,scaleTime:IPe,scaleUtc:MPe,tickFormat:Ete},Symbol.toStringTag,{value:"Module"}));var Gh=e=>e.chartData,PO=He([Gh],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),G4=(e,t,r,n)=>n?PO(e):Gh(e);function I0(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(cl(t)&&cl(r))return!0}return!1}function mz(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function FPe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(cl(r))a=r;else if(typeof r=="function")return;if(cl(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(I0(s))return s}}function BPe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(I0(n))return mz(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Yt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t?.[0]))}catch{}else if(typeof a=="string"&&iB.test(a)){var l=iB.exec(a);if(l==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t?.[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Yt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t?.[1]))}catch{}else if(typeof i=="string"&&sB.test(i)){var d=sB.exec(i);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t?.[1];var p=[s,o];if(I0(p))return t==null?p:mz(p,t,r)}}}var rv=1e9,zPe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AO,Yn=!0,Gl="[DecimalError] ",sm=Gl+"Invalid argument: ",kO=Gl+"Exponent out of range: ",nv=Math.floor,Bp=Math.pow,WPe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ko,Ci=1e7,Tn=7,Zte=9007199254740991,y5=nv(Zte/Tn),Dt={};Dt.absoluteValue=Dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Dt.comparedTo=Dt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Tn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Dt.dividedBy=Dt.div=function(e){return Xd(this,new this.constructor(e))};Dt.dividedToIntegerBy=Dt.idiv=function(e){var t=this,r=t.constructor;return yn(Xd(t,new r(e),0,1),r.precision)};Dt.equals=Dt.eq=function(e){return!this.cmp(e)};Dt.exponent=function(){return Ha(this)};Dt.greaterThan=Dt.gt=function(e){return this.cmp(e)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(e){return this.cmp(e)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(e){return this.cmp(e)<0};Dt.lessThanOrEqualTo=Dt.lte=function(e){return this.cmp(e)<1};Dt.logarithm=Dt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ko))throw Error(Gl+"NaN");if(r.s<1)throw Error(Gl+(r.s?"NaN":"-Infinity"));return r.eq(Ko)?new n(0):(Yn=!1,t=Xd(Cy(r,i),Cy(e,i),i),Yn=!0,yn(t,a))};Dt.minus=Dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tre(t,e):Qte(t,(e.s=-e.s,e))};Dt.modulo=Dt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Gl+"NaN");return r.s?(Yn=!1,t=Xd(r,e,0,1).times(e),Yn=!0,r.minus(t)):yn(new n(r),a)};Dt.naturalExponential=Dt.exp=function(){return ere(this)};Dt.naturalLogarithm=Dt.ln=function(){return Cy(this)};Dt.negated=Dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Dt.plus=Dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Qte(t,e):tre(t,(e.s=-e.s,e))};Dt.precision=Dt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(sm+e);if(t=Ha(a)+1,n=a.d.length-1,r=n*Tn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Dt.squareRoot=Dt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Gl+"NaN")}for(e=Ha(o),Yn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=yu(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=nv((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Xd(o,i,s+2)).times(.5),yu(i.d).slice(0,s)===(t=yu(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(yn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Yn=!0,yn(n,r)};Dt.times=Dt.mul=function(e){var t,r,n,a,i,s,o,l,u,d=this,f=d.constructor,p=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=p.length,u=h.length,l<u&&(i=p,p=h,h=i,s=l,l=u,u=s),i=[],s=l+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+h[n]*p[a-n-1]+t,i[a--]=o%Ci|0,t=o/Ci|0;i[a]=(i[a]+t)%Ci|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Yn?yn(e,f.precision):e};Dt.toDecimalPlaces=Dt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Lu(e,0,rv),t===void 0?t=n.rounding:Lu(t,0,8),yn(r,e+Ha(r)+1,t))};Dt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=xm(n,!0):(Lu(e,0,rv),t===void 0?t=a.rounding:Lu(t,0,8),n=yn(new a(n),e+1,t),r=xm(n,!0,e+1)),r};Dt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?xm(a):(Lu(e,0,rv),t===void 0?t=i.rounding:Lu(t,0,8),n=yn(new i(a),e+Ha(a)+1,t),r=xm(n.abs(),!1,e+Ha(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Dt.toInteger=Dt.toint=function(){var e=this,t=e.constructor;return yn(new t(e),Ha(e)+1,t.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ko);if(o=new l(o),!o.s){if(e.s<1)throw Error(Gl+"Infinity");return o}if(o.eq(Ko))return o;if(n=l.precision,e.eq(Ko))return yn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=d<0?-d:d)<=Zte){for(a=new l(Ko),t=Math.ceil(n/Tn+4),Yn=!1;r%2&&(a=a.times(o),vz(a.d,t)),r=nv(r/2),r!==0;)o=o.times(o),vz(o.d,t);return Yn=!0,e.s<0?new l(Ko).div(a):yn(a,n)}}else if(i<0)throw Error(Gl+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Yn=!1,a=e.times(Cy(o,n+u)),Yn=!0,a=ere(a),a.s=i,a};Dt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Ha(a),n=xm(a,r<=i.toExpNeg||r>=i.toExpPos)):(Lu(e,1,rv),t===void 0?t=i.rounding:Lu(t,0,8),a=yn(new i(a),e,t),r=Ha(a),n=xm(a,e<=r||r<=i.toExpNeg,e)),n};Dt.toSignificantDigits=Dt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Lu(e,1,rv),t===void 0?t=n.rounding:Lu(t,0,8)),yn(new n(r),e,t)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ha(e),r=e.constructor;return xm(e,t<=r.toExpNeg||t>=r.toExpPos)};function Qte(e,t){var r,n,a,i,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Yn?yn(t,f):t;if(l=e.d,u=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=u.length):(n=u,a=s,o=l.length),s=Math.ceil(f/Tn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=u.length,o-i<0&&(i=o,n=u,u=l,l=n),r=0;i;)r=(l[--i]=l[i]+u[i]+r)/Ci|0,l[i]%=Ci;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Yn?yn(t,f):t}function Lu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(sm+e)}function yu(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Tn-n.length,r&&(i+=ch(r)),i+=n;s=e[t],n=s+"",r=Tn-n.length,r&&(i+=ch(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Xd=(function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ci|0,s=i/Ci|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ci+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D,O=n.constructor,L=n.s==a.s?1:-1,R=n.d,P=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(Gl+"Division by zero");for(l=n.e-a.e,I=P.length,C=R.length,h=new O(L),g=h.d=[],u=0;P[u]==(R[u]||0);)++u;if(P[u]>(R[u]||0)&&--l,i==null?N=i=O.precision:s?N=i+(Ha(n)-Ha(a))+1:N=i,N<0)return new O(0);if(N=N/Tn+2|0,u=0,I==1)for(d=0,P=P[0],N++;(u<C||d)&&N--;u++)j=d*Ci+(R[u]||0),g[u]=j/P|0,d=j%P|0;else{for(d=Ci/(P[0]+1)|0,d>1&&(P=e(P,d),R=e(R,d),I=P.length,C=R.length),w=I,y=R.slice(0,I),x=y.length;x<I;)y[x++]=0;D=P.slice(),D.unshift(0),E=P[0],P[1]>=Ci/2&&++E;do d=0,o=t(P,y,I,x),o<0?(b=y[0],I!=x&&(b=b*Ci+(y[1]||0)),d=b/E|0,d>1?(d>=Ci&&(d=Ci-1),f=e(P,d),p=f.length,x=y.length,o=t(f,y,p,x),o==1&&(d--,r(f,I<p?D:P,p))):(d==0&&(o=d=1),f=P.slice()),p=f.length,p<x&&f.unshift(0),r(y,f,x),o==-1&&(x=y.length,o=t(P,y,I,x),o<1&&(d++,r(y,I<x?D:P,x))),x=y.length):o===0&&(d++,y=[0]),g[u++]=d,o&&y[0]?y[x++]=R[w]||0:(y=[R[w]],x=1);while((w++<C||y[0]!==void 0)&&N--)}return g[0]||g.shift(),h.e=l,yn(h,s?i+Ha(h)+1:i)}})();function ere(e,t){var r,n,a,i,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Ha(e)>16)throw Error(kO+Ha(e));if(!e.s)return new d(Ko);for(Yn=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Bp(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(Ko),d.precision=o;;){if(a=yn(a.times(e),o),r=r.times(++l),s=i.plus(Xd(a,r,o)),yu(s.d).slice(0,o)===yu(i.d).slice(0,o)){for(;u--;)i=yn(i.times(i),o);return d.precision=f,t==null?(Yn=!0,yn(i,f)):i}i=s}}function Ha(e){for(var t=e.e*Tn,r=e.d[0];r>=10;r/=10)t++;return t}function qS(e,t,r){if(t>e.LN10.sd())throw Yn=!0,r&&(e.precision=r),Error(Gl+"LN10 precision limit exceeded");return yn(new e(e.LN10),t)}function ch(e){for(var t="";e--;)t+="0";return t}function Cy(e,t){var r,n,a,i,s,o,l,u,d,f=1,p=10,h=e,g=h.d,y=h.constructor,x=y.precision;if(h.s<1)throw Error(Gl+(h.s?"NaN":"-Infinity"));if(h.eq(Ko))return new y(0);if(t==null?(Yn=!1,u=x):u=t,h.eq(10))return t==null&&(Yn=!0),qS(y,u);if(u+=p,y.precision=u,r=yu(g),n=r.charAt(0),i=Ha(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=yu(h.d),n=r.charAt(0),f++;i=Ha(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return l=qS(y,u+2,x).times(i+""),h=Cy(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=x,t==null?(Yn=!0,yn(h,x)):h;for(o=s=h=Xd(h.minus(Ko),h.plus(Ko),u),d=yn(h.times(h),u),a=3;;){if(s=yn(s.times(d),u),l=o.plus(Xd(s,new y(a),u)),yu(l.d).slice(0,u)===yu(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(qS(y,u+2,x).times(i+""))),o=Xd(o,new y(f),u),y.precision=x,t==null?(Yn=!0,yn(o,x)):o;o=l,a+=2}}function gz(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=nv(r/Tn),e.d=[],n=(r+1)%Tn,r<0&&(n+=Tn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Tn;n<a;)e.d.push(+t.slice(n,n+=Tn));t=t.slice(n),n=Tn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Yn&&(e.e>y5||e.e<-y5))throw Error(kO+r)}else e.s=0,e.e=0,e.d=[0];return e}function yn(e,t,r){var n,a,i,s,o,l,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Tn,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Tn),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Tn,a=n-Tn+s}if(r!==void 0&&(i=Bp(10,s-a-1),o=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?u/Bp(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=Ha(e),f.length=1,t=t-i-1,f[0]=Bp(10,(Tn-t%Tn)%Tn),e.e=nv(-t/Tn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Bp(10,Tn-n),f[d]=a>0?(u/Bp(10,s-a)%Bp(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==Ci&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Ci)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Yn&&(e.e>y5||e.e<-y5))throw Error(kO+Ha(e));return e}function tre(e,t){var r,n,a,i,s,o,l,u,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Yn?yn(t,h):t;if(l=e.d,f=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(d=s<0,d?(r=l,s=-s,o=f.length):(r=f,n=u,o=l.length),a=Math.max(Math.ceil(h/Tn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Ci-1;--l[i],l[a]+=Ci}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Yn?yn(t,h):t):new p(0)}function xm(e,t,r){var n,a=Ha(e),i=yu(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+ch(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ch(-a-1)+i,r&&(n=r-s)>0&&(i+=ch(n))):a>=s?(i+=ch(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+ch(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=ch(n))),e.s<0?"-"+i:i}function vz(e,t){if(e.length>t)return e.length=t,!0}function rre(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(sm+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return gz(s,i.toString())}else if(typeof i!="string")throw Error(sm+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,WPe.test(i))gz(s,i);else throw Error(sm+i)}if(a.prototype=Dt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=rre,a.config=a.set=UPe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function UPe(e){if(!e||typeof e!="object")throw Error(Gl+"Object expected");var t,r,n,a=["precision",1,rv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(nv(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(sm+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(sm+r+": "+n);return this}var AO=rre(zPe);Ko=new AO(1);const ln=AO;var $Pe=e=>e,nre={},are=e=>e===nre,xz=e=>function t(){return arguments.length===0||arguments.length===1&&are(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ire=(e,t)=>e===1?t:xz(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==nre).length;return i>=e?t(...n):ire(e-i,xz(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(d=>are(d)?o.shift():d);return t(...u,...o)}))}),Y4=e=>ire(e.length,e),x8=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},qPe=Y4((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),VPe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $Pe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,l)=>l(o),i(...arguments))}},y8=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),sre=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=a,r=e(...a)),r}};function ore(e){var t;return e===0?t=1:t=Math.floor(new ln(e).abs().log(10).toNumber())+1,t}function lre(e,t,r){for(var n=new ln(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Y4((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Y4((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Y4((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var cre=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},ure=(e,t,r)=>{if(e.lte(0))return new ln(0);var n=ore(e.toNumber()),a=new ln(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new ln(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?new ln(l.toNumber()):new ln(Math.ceil(l.toNumber()))},HPe=(e,t,r)=>{var n=new ln(1),a=new ln(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ln(10).pow(ore(e)-1),a=new ln(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ln(Math.floor(e)))}else e===0?a=new ln(Math.floor((t-1)/2)):r||(a=new ln(Math.floor(e)));var s=Math.floor((t-1)/2),o=VPe(qPe(l=>a.add(new ln(l-s).mul(n)).toNumber()),x8);return o(0,t)},dre=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var s=ure(new ln(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new ln(0):(o=new ln(t).add(r).div(2),o=o.sub(new ln(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new ln(r).sub(o).div(s).toNumber()),d=l+u+1;return d>n?dre(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:s,tickMin:o.sub(new ln(l).mul(s)),tickMax:o.add(new ln(u).mul(s))})};function GPe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=cre([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...x8(0,n-1).map(()=>1/0)]:[...x8(0,n-1).map(()=>-1/0),o];return t>r?y8(l):l}if(s===o)return HPe(s,n,a);var{step:u,tickMin:d,tickMax:f}=dre(s,o,i,a,0),p=lre(d,f.add(new ln(.1).mul(u)),u);return t>r?y8(p):p}function YPe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=cre([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),l=ure(new ln(s).sub(i).div(o-1),a,0),u=[...lre(new ln(i),new ln(s),l),s];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?y8(u):u}var KPe=sre(GPe),XPe=sre(YPe),fre=e=>e.rootProps.maxBarSize,JPe=e=>e.rootProps.barGap,hre=e=>e.rootProps.barCategoryGap,ZPe=e=>e.rootProps.barSize,S1=e=>e.rootProps.stackOffset,DO=e=>e.options.chartName,TO=e=>e.rootProps.syncId,pre=e=>e.rootProps.syncMethod,OO=e=>e.options.eventEmitter,Ld={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ho={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},K4=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},QPe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ld.angleAxisId,includeHidden:!1,name:void 0,reversed:Ld.reversed,scale:Ld.scale,tick:Ld.tick,tickCount:void 0,ticks:void 0,type:Ld.type,unit:void 0},eke={allowDataOverflow:Ho.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ho.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ho.scale,tick:Ho.tick,tickCount:Ho.tickCount,ticks:void 0,type:Ho.type,unit:void 0},tke={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ld.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ld.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ld.scale,tick:Ld.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},rke={allowDataOverflow:Ho.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ho.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ho.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ho.scale,tick:Ho.tick,tickCount:Ho.tickCount,ticks:void 0,type:"category",unit:void 0},IO=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?tke:QPe,MO=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?rke:eke,X4=e=>e.polarOptions,RO=He([gf,vf,ci],Jee),mre=He([X4,RO],(e,t)=>{if(e!=null)return Ss(e.innerRadius,t,0)}),gre=He([X4,RO],(e,t)=>{if(e!=null)return Ss(e.outerRadius,t,t*.8)}),nke=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},vre=He([X4],nke);He([IO,vre],K4);var xre=He([RO,mre,gre],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});He([MO,xre],K4);var yre=He([Lr,X4,mre,gre,gf,vf],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Ss(s,a,a/2),cy:Ss(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),Jn=(e,t)=>t,j1=(e,t,r)=>r;function LO(e){return e?.id}var di=e=>{var t=Lr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},av=e=>e.tooltip.settings.axisId,Ti=e=>{var t=di(e),r=av(e);return C1(e,t,r)},bre=He([Ti],e=>e?.dataKey);function wre(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var d=LO(o);u.forEach((f,p)=>{var h=i==null||a?p:String(_n(f,i,null)),g=_n(f,o.dataKey,0),y;s.has(h)?y=s.get(h):y={},Object.assign(y,{[d]:g}),s.set(h,y)})}}),Array.from(s.values())}function J4(e){return e.stackId!=null&&e.dataKey!=null}function yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yz(Object(r),!0).forEach(function(n){ake(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ake(e,t,r){return(t=ike(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ike(e){var t=ske(e,"string");return typeof t=="symbol"?t:t+""}function ske(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b8=[0,"auto"],$o={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Nre=(e,t)=>e.cartesianAxis.xAxis[t],yf=(e,t)=>{var r=Nre(e,t);return r??$o},qo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:b8,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:g1},Sre=(e,t)=>e.cartesianAxis.yAxis[t],bf=(e,t)=>{var r=Sre(e,t);return r??qo},oke={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},FO=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??oke},Fa=(e,t,r)=>{switch(t){case"xAxis":return yf(e,r);case"yAxis":return bf(e,r);case"zAxis":return FO(e,r);case"angleAxis":return IO(e,r);case"radiusAxis":return MO(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lke=(e,t,r)=>{switch(t){case"xAxis":return yf(e,r);case"yAxis":return bf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},C1=(e,t,r)=>{switch(t){case"xAxis":return yf(e,r);case"yAxis":return bf(e,r);case"angleAxis":return IO(e,r);case"radiusAxis":return MO(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jre=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function BO(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Z4=e=>e.graphicalItems.cartesianItems,cke=He([Jn,j1],BO),zO=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),_1=He([Z4,Fa,cke],zO),Cre=He([_1],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(J4)),_re=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Ere=He([_1],_re),WO=e=>e.map(t=>t.data).filter(Boolean).flat(1),uke=He([_1],WO),UO=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},$O=He([uke,G4],UO),qO=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:_n(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:_n(a,n)}))):e.map(n=>({value:n})),Q4=He([$O,Fa,_1],qO);function Pre(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function zm(e){return e.filter(t=>Ru(t)||t instanceof Date).map(Number).filter(t=>ol(t)===!1)}function dke(e,t,r){return!r||typeof t!="number"||ol(t)?[]:r.length?zm(r.flatMap(n=>{var a=_n(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!cl(i)||!cl(s)))return[t-i,t+s]})):[]}var fke=He([Cre,G4,Ti],wre),kre=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,l=o.map(LO);return[s,{stackedData:gje(e,l,r),graphicalItems:o}]}))},w8=He([fke,Cre,S1],kre),Are=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=wje(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},hke=He([w8,Gh,Jn],Are),Dre=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var o,l,u=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>Pre(a,f)),d=_n(i,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:d,errorDomain:dke(i,d,u)}})).filter(Boolean):t?.dataKey!=null?e.map(i=>({value:_n(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),e3=e=>e.errorBars,Tre=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Pre(r,n));He([Ere,e3,Jn],Tre);var pke=He([$O,Fa,Ere,e3,Jn],Dre);function mke(e){var{value:t}=e;if(Ru(t)||t instanceof Date)return t}var bz=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=zm(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gke=(e,t,r)=>{var n=e.map(mke).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&qQ(n))?vte(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},VO=e=>{var t;if(e==null||!("domain"in e))return b8;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=zm(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:b8},w5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},Ore=e=>e.referenceElements.dots,iv=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),vke=He([Ore,Jn,j1],iv),Ire=e=>e.referenceElements.areas,xke=He([Ire,Jn,j1],iv),Mre=e=>e.referenceElements.lines,yke=He([Mre,Jn,j1],iv),Rre=(e,t)=>{var r=zm(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bke=He(vke,Jn,Rre),Lre=(e,t)=>{var r=zm(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wke=He([xke,Jn],Lre),Fre=(e,t)=>{var r=zm(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nke=He(yke,Jn,Fre),Ske=He(bke,Nke,wke,(e,t,r)=>w5(e,r,t)),Bre=He([Fa],VO),HO=(e,t,r,n,a,i,s)=>{var o=FPe(t,e.allowDataOverflow);if(o!=null)return o;var l=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",u=l?w5(r,a,bz(n)):w5(a,bz(n));return BPe(t,u,e.allowDataOverflow)},jke=He([Fa,Bre,hke,pke,Ske,Lr,Jn],HO),Cke=[0,1],GO=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=$h(t,i);return u&&o==null?vte(0,r.length):l==="category"?gke(n,e,u):a==="expand"?Cke:s}},YO=He([Fa,Lr,$O,Q4,S1,Jn,jke],GO),zre=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(f1(i));return o in Ex?o:"point"}}},sv=He([Fa,Lr,jre,DO,Jn],zre);function _ke(e){if(e!=null){if(e in Ex)return Ex[e]();var t="scale".concat(f1(e));if(t in Ex)return Ex[t]()}}function KO(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=_ke(t);if(a!=null){var i=a.domain(r).range(n);return dje(i),i}}}var XO=(e,t,r)=>{var n=VO(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&I0(e))return KPe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&I0(e))return XPe(e,t.tickCount,t.allowDecimals)}},JO=He([YO,C1,sv],XO),ZO=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&I0(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},Eke=He([Fa,YO,JO,Jn],ZO),Pke=He(Q4,Fa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(zm(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),Wre=He(Pke,Lr,hre,ci,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!cl(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Ss(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),kke=(e,t)=>{var r=yf(e,t);return r==null||typeof r.padding!="string"?0:Wre(e,"xAxis",t,r.padding)},Ake=(e,t)=>{var r=bf(e,t);return r==null||typeof r.padding!="string"?0:Wre(e,"yAxis",t,r.padding)},Dke=He(yf,kke,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Tke=He(bf,Ake,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Oke=He([ci,Dke,B4,F4,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Ike=He([ci,Lr,Tke,B4,F4,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),E1=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Oke(e,r,n);case"yAxis":return Ike(e,r,n);case"zAxis":return(a=FO(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return vre(e);case"radiusAxis":return xre(e,r);default:return}},Ure=He([Fa,E1],K4),ov=He([Fa,sv,Eke,Ure],KO);He([_1,e3,Jn],Tre);function $re(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var t3=(e,t)=>t,r3=(e,t,r)=>r,Mke=He(R4,t3,r3,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($re)),Rke=He(L4,t3,r3,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort($re)),qre=(e,t)=>({width:e.width,height:t.height}),Lke=(e,t)=>{var r=typeof t.width=="number"?t.width:g1;return{width:r,height:e.height}},Vre=He(ci,yf,qre),Fke=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Bke=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zke=He(vf,ci,Mke,t3,r3,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=qre(t,o);s==null&&(s=Fke(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),i}),Wke=He(gf,ci,Rke,t3,r3,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=Lke(t,o);s==null&&(s=Bke(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),i}),Uke=(e,t)=>{var r=yf(e,t);if(r!=null)return zke(e,r.orientation,r.mirror)},$ke=He([ci,yf,Uke,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),qke=(e,t)=>{var r=bf(e,t);if(r!=null)return Wke(e,r.orientation,r.mirror)},Vke=He([ci,bf,qke,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Hre=He(ci,bf,(e,t)=>{var r=typeof t.width=="number"?t.width:g1;return{width:r,height:e.height}}),wz=(e,t,r)=>{switch(t){case"xAxis":return Vre(e,r).width;case"yAxis":return Hre(e,r).height;default:return}},Gre=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=$h(e,n),l=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&qQ(l))return l}},QO=He([Lr,Q4,Fa,Jn],Gre),Yre=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=$h(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},eI=He([Lr,Q4,C1,Jn],Yre),Nz=He([Lr,lke,sv,ov,QO,eI,E1,JO,Jn],(e,t,r,n,a,i,s,o,l)=>{if(t==null)return null;var u=$h(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}),Hke=(e,t,r,n,a,i,s,o,l)=>{if(!(t==null||n==null)){var u=$h(e,l),{type:d,ticks:f,tickCount:p}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;g=l==="angleAxis"&&i!=null&&i.length>=2?Ei(i[0]-i[1])*2*g:g;var y=f||a;if(y){var x=y.map((b,N)=>{var j=s?s.indexOf(b):b;return{index:N,coordinate:n(j)+g,value:b,offset:g}});return x.filter(b=>!ol(b.coordinate))}return u&&o?o.map((b,N)=>({coordinate:n(b)+g,value:b,index:N,offset:g})):n.ticks?n.ticks(p).map(b=>({coordinate:n(b)+g,value:b,offset:g})):n.domain().map((b,N)=>({coordinate:n(b)+g,value:s?s[b]:b,index:N,offset:g}))}},Kre=He([Lr,C1,sv,ov,JO,E1,QO,eI,Jn],Hke),Gke=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=$h(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&n?.length>=2?Ei(n[0]-n[1])*2*u:u,o&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Ah=He([Lr,C1,ov,E1,QO,eI,Jn],Gke),Dh=He(Fa,ov,(e,t)=>{if(!(e==null||t==null))return b5(b5({},e),{},{scale:t})}),Yke=He([Fa,sv,YO,Ure],KO);He((e,t,r)=>FO(e,r),Yke,(e,t)=>{if(!(e==null||t==null))return b5(b5({},e),{},{scale:t})});var Kke=He([Lr,R4,L4],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Xre=e=>e.options.defaultTooltipEventType,Jre=e=>e.options.validateTooltipEventTypes;function Zre(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function tI(e,t){var r=Xre(e),n=Jre(e);return Zre(t,r,n)}function Xke(e){return Bt(t=>tI(t,e))}var Qre=(e,t)=>{var r,n=Number(t);if(!(ol(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Jke=e=>e.tooltip.settings,dh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Zke={itemInteraction:{click:dh,hover:dh},axisInteraction:{click:dh,hover:dh},keyboardInteraction:dh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ene=fl({name:"tooltip",initialState:Zke,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Kd(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Qke,removeTooltipEntrySettings:e8e,setTooltipSettingsState:t8e,setActiveMouseOverItemIndex:tne,mouseLeaveItem:r8e,mouseLeaveChart:rne,setActiveClickItemIndex:n8e,setMouseOverAxisIndex:nne,setMouseClickAxisIndex:a8e,setSyncInteraction:N8,setKeyboardInteraction:S8}=ene.actions,i8e=ene.reducer;function Sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sz(Object(r),!0).forEach(function(n){s8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function s8e(e,t,r){return(t=o8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8e(e){var t=l8e(e,"string");return typeof t=="symbol"?t:t+""}function l8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8e(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function u8e(e){return e.index!=null}var ane=(e,t,r,n)=>{if(t==null)return dh;var a=c8e(e,t,r);if(a==null)return dh;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(u8e(a)){if(i)return cb(cb({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return cb(cb({},dh),{},{coordinate:a.coordinate})},rI=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!cl(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},ine=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,i);if(u!=null)return u;var d=a?.[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},sne=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},P1=e=>e.options.tooltipPayloadSearcher,lv=e=>e.tooltip;function jz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jz(Object(r),!0).forEach(function(n){d8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8e(e,t,r){return(t=f8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8e(e){var t=h8e(e,"string");return typeof t=="symbol"?t:t+""}function h8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p8e(e,t){return e??t}var one=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((p,h)=>{var g,{dataDefinedOnItem:y,settings:x}=h,b=p8e(y,o),N=Array.isArray(b)?Zee(b,u,d):b,j=(g=x?.dataKey)!==null&&g!==void 0?g:n,w=x?.nameKey,C;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&s==="axis"?C=VQ(N,n,a):C=i(N,t,l,w),Array.isArray(C))C.forEach(I=>{var D=Cz(Cz({},x),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});p.push(oB({tooltipEntrySettings:D,dataKey:I.dataKey,payload:I.payload,value:_n(I.payload,I.dataKey),name:I.name}))});else{var E;p.push(oB({tooltipEntrySettings:x,dataKey:j,payload:C,value:_n(C,j),name:(E=_n(C,w))!==null&&E!==void 0?E:x?.name}))}return p},f)}},nI=He([Ti,Lr,jre,DO,di],zre),m8e=He([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),g8e=He([di,av],BO),k1=He([m8e,Ti,g8e],zO),v8e=He([k1],e=>e.filter(J4)),x8e=He([k1],WO),cv=He([x8e,Gh],UO),y8e=He([v8e,Gh,Ti],wre),aI=He([cv,Ti,k1],qO),b8e=He([Ti],VO),w8e=He([k1],e=>e.filter(J4)),N8e=He([y8e,w8e,S1],kre),S8e=He([N8e,Gh,di],Are),j8e=He([k1],_re),C8e=He([cv,Ti,j8e,e3,di],Dre),_8e=He([Ore,di,av],iv),E8e=He([_8e,di],Rre),P8e=He([Ire,di,av],iv),k8e=He([P8e,di],Lre),A8e=He([Mre,di,av],iv),D8e=He([A8e,di],Fre),T8e=He([E8e,D8e,k8e],w5),O8e=He([Ti,b8e,S8e,C8e,T8e,Lr,di],HO),lne=He([Ti,Lr,cv,aI,S1,di,O8e],GO),I8e=He([lne,Ti,nI],XO),M8e=He([Ti,lne,I8e,di],ZO),cne=e=>{var t=di(e),r=av(e),n=!1;return E1(e,t,r,n)},une=He([Ti,cne],K4),dne=He([Ti,nI,M8e,une],KO),R8e=He([Lr,aI,Ti,di],Gre),L8e=He([Lr,aI,Ti,di],Yre),F8e=(e,t,r,n,a,i,s,o)=>{if(t){var{type:l}=t,u=$h(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&a?.length>=2?Ei(a[0]-a[1])*2*f:f,u&&s?s.map((p,h)=>({coordinate:n(p)+f,value:p,index:h,offset:f})):n.domain().map((p,h)=>({coordinate:n(p)+f,value:i?i[p]:p,index:h,offset:f}))}}},wf=He([Lr,Ti,nI,dne,cne,R8e,L8e,di],F8e),iI=He([Xre,Jre,Jke],(e,t,r)=>Zre(r.shared,e,t)),fne=e=>e.tooltip.settings.trigger,sI=e=>e.tooltip.settings.defaultIndex,n3=He([lv,iI,fne,sI],ane),Th=He([n3,cv],rI),hne=He([wf,Th],Qre),pne=He([n3],e=>{if(e)return e.dataKey}),mne=He([lv,iI,fne,sI],sne),B8e=He([gf,vf,Lr,ci,wf,sI,mne,P1],ine),z8e=He([n3,B8e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),W8e=He([n3],e=>e.active),U8e=He([mne,Th,Gh,bre,hne,P1,iI],one),$8e=He([U8e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function _z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ez(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_z(Object(r),!0).forEach(function(n){q8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q8e(e,t,r){return(t=V8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V8e(e){var t=H8e(e,"string");return typeof t=="symbol"?t:t+""}function H8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G8e=()=>Bt(Ti),Y8e=()=>{var e=G8e(),t=Bt(wf),r=Bt(dne);return xy(Ez(Ez({},e),{},{scale:r}),t)},K8e=()=>Bt(DO),oI=(e,t)=>t,gne=(e,t,r)=>r,lI=(e,t,r,n)=>n,X8e=He(wf,e=>A4(e,t=>t.coordinate)),cI=He([lv,oI,gne,lI],ane),vne=He([cI,cv],rI),J8e=(e,t,r)=>{if(t!=null){var n=lv(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},xne=He([lv,oI,gne,lI],sne),N5=He([gf,vf,Lr,ci,wf,lI,xne,P1],ine),Z8e=He([cI,N5],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),yne=He(wf,vne,Qre),Q8e=He([xne,vne,Gh,bre,yne,P1,oI],one),eAe=He([cI],e=>({isActive:e.active,activeIndex:e.index})),tAe=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var l=Nje(e.chartX,e.chartY,t,r,o);if(l){var u=jje(l,t),d=cje(u,s,i,n,a),f=Sje(t,i,d,l);return{activeIndex:String(d),activeCoordinate:f}}}};function j8(){return j8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j8.apply(null,arguments)}function Pz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pz(Object(r),!0).forEach(function(n){rAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rAe(e,t,r){return(t=nAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nAe(e){var t=aAe(e,"string");return typeof t=="symbol"?t:t+""}function aAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iAe(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:l,chartName:u}=e,d=t,f=r,p=n;if(!o||!d||u!=="ScatterChart"&&l!=="axis")return null;var h,g;if(u==="ScatterChart")h=d,g=jCe;else if(u==="BarChart")h=CCe(s,d,a,i),g=hte;else if(s==="radial"){var{cx:y,cy:x,radius:b,startAngle:N,endAngle:j}=pte(d);h={cx:y,cy:x,startAngle:N,endAngle:j,innerRadius:b,outerRadius:b},g=gte}else h={points:a_e(s,d,a)},g=aO;var w=typeof o=="object"&&"className"in o?o.className:void 0,C=ub(ub(ub(ub({stroke:"#ccc",pointerEvents:"none"},a),h),da(o,!1)),{},{payload:f,payloadIndex:p,className:Hr("recharts-tooltip-cursor",w)});return A.isValidElement(o)?A.cloneElement(o,C):A.createElement(g,C)}function sAe(e){var t=Y8e(),r=ate(),n=z4(),a=K8e();return A.createElement(iAe,j8({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var bne=A.createContext(null),oAe=()=>A.useContext(bne),VS={exports:{}},kz;function lAe(){return kz||(kz=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,f||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,h=f.length,g=new Array(h);p<h;p++)g[p]=f[p].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,p,h,g){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,N,j;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,p),!0;case 5:return x.fn.call(x.context,d,f,p,h),!0;case 6:return x.fn.call(x.context,d,f,p,h,g),!0}for(j=1,N=new Array(b-1);j<b;j++)N[j-1]=arguments[j];x.fn.apply(x.context,N)}else{var w=x.length,C;for(j=0;j<w;j++)switch(x[j].once&&this.removeListener(u,x[j].fn,void 0,!0),b){case 1:x[j].fn.call(x[j].context);break;case 2:x[j].fn.call(x[j].context,d);break;case 3:x[j].fn.call(x[j].context,d,f);break;case 4:x[j].fn.call(x[j].context,d,f,p);break;default:if(!N)for(C=1,N=new Array(b-1);C<b;C++)N[C-1]=arguments[C];x[j].fn.apply(x[j].context,N)}}return!0},o.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,p){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var y=0,x=[],b=g.length;y<b;y++)(g[y].fn!==d||p&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(VS)),VS.exports}var cAe=lAe();const uAe=Ln(cAe);var _y=new uAe,C8="recharts.syncEvent.tooltip",Az="recharts.syncEvent.brush";function uI(e,t){if(t){var r=Number.parseInt(t,10);if(!ol(r))return e?.[r]}}var dAe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},wne=fl({name:"options",initialState:dAe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fAe=wne.reducer,{createEventEmitter:hAe}=wne.actions;function pAe(e){return e.tooltip.syncInteraction}var mAe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Nne=fl({name:"chartData",initialState:mAe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Dz,setDataStartEndIndexes:gAe,setComputedData:yYe}=Nne.actions,vAe=Nne.reducer,xAe=["x","y"];function Tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tz(Object(r),!0).forEach(function(n){yAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yAe(e,t,r){return(t=bAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bAe(e){var t=wAe(e,"string");return typeof t=="symbol"?t:t+""}function wAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NAe(e,t){if(e==null)return{};var r,n,a=SAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sne=()=>{};function jAe(){var e=Bt(TO),t=Bt(OO),r=fa(),n=Bt(pre),a=Bt(wf),i=z4(),s=eO(),o=Bt(l=>l.rootProps.className);A.useEffect(()=>{if(e==null)return Sne;var l=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var p;if(s&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate){var h=d.payload.coordinate,{x:g,y}=h,x=NAe(h,xAe),b=Ap(Ap(Ap({},x),typeof g=="number"&&{x:Math.max(s.x,Math.min(g,s.x+s.width))}),typeof y=="number"&&{y:Math.max(s.y,Math.min(y,s.y+s.height))}),N=Ap(Ap({},d),{},{payload:Ap(Ap({},d.payload),{},{coordinate:b})});r(N)}else r(d);return}if(a!=null){var j;if(typeof n=="function"){var w={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(a,w);j=a[C]}else n==="value"&&(j=a.find(F=>String(F.value)===d.payload.label));var{coordinate:E}=d.payload;if(j==null||d.payload.active===!1||E==null||s==null){r(N8({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:I,y:D}=E,O=Math.min(I,s.x+s.width),L=Math.min(D,s.y+s.height),R={x:i==="horizontal"?j.coordinate:O,y:i==="horizontal"?L:j.coordinate},P=N8({active:d.payload.active,coordinate:R,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label});r(P)}}};return _y.on(C8,l),()=>{_y.off(C8,l)}},[o,r,t,e,n,a,i,s])}function CAe(){var e=Bt(TO),t=Bt(OO),r=fa();A.useEffect(()=>{if(e==null)return Sne;var n=(a,i,s)=>{t!==s&&e===a&&r(gAe(i))};return _y.on(Az,n),()=>{_y.off(Az,n)}},[r,t,e])}function _Ae(){var e=fa();A.useEffect(()=>{e(hAe())},[e]),jAe(),CAe()}function EAe(e,t,r,n,a,i){var s=Bt(p=>J8e(p,e,t)),o=Bt(OO),l=Bt(TO),u=Bt(pre),d=Bt(pAe),f=d?.active;A.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=N8({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});_y.emit(C8,l,p,o)}},[f,r,s,a,n,o,l,u,i])}function Oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iz(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oz(Object(r),!0).forEach(function(n){PAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PAe(e,t,r){return(t=kAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kAe(e){var t=AAe(e,"string");return typeof t=="symbol"?t:t+""}function AAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DAe(e){return e.dataKey}function TAe(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(rCe,t)}var Mz=[],OAe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!qh.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function db(e){var t=Ki(e,OAe),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:l,offset:u,payloadUniqBy:d,position:f,reverseDirection:p,useTranslate3d:h,wrapperStyle:g,cursor:y,shared:x,trigger:b,defaultIndex:N,portal:j,axisId:w}=t,C=fa(),E=typeof N=="number"?String(N):N;A.useEffect(()=>{C(t8e({shared:x,trigger:b,axisId:w,active:r,defaultIndex:E}))},[C,x,b,w,r,E]);var I=eO(),D=lte(),O=Xke(x),{activeIndex:L,isActive:R}=Bt(Y=>eAe(Y,O,b,E)),P=Bt(Y=>Q8e(Y,O,b,E)),F=Bt(Y=>yne(Y,O,b,E)),V=Bt(Y=>Z8e(Y,O,b,E)),X=P,te=oAe(),q=r??R,[U,Q]=_ee([X,q]),se=O==="axis"?F:void 0;EAe(O,b,V,se,L,q);var K=j??te;if(K==null)return null;var T=X??Mz;q||(T=Mz),o&&T.length&&(T=wee(X.filter(Y=>Y.value!=null&&(Y.hide!==!0||t.includeHidden)),d,DAe));var W=T.length>0,J=A.createElement(cCe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:l,active:q,coordinate:V,hasPayload:W,offset:u,position:f,reverseDirection:p,useTranslate3d:h,viewBox:I,wrapperStyle:g,lastBoundingBox:U,innerRef:Q,hasPortalFromProps:!!j},TAe(s,Iz(Iz({},t),{},{payload:T,label:se,active:q,coordinate:V,accessibilityLayer:D})));return A.createElement(A.Fragment,null,hA.createPortal(J,K),q&&A.createElement(sAe,{cursor:y,tooltipEventType:O,coordinate:V,payload:X,index:L}))}var HS={},GS={},YS={},Rz;function IAe(){return Rz||(Rz=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),y()};let p=null;const h=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},g=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{g(),s=void 0,o=null},x=()=>{d()},b=function(...N){if(a?.aborted)return;s=this,o=N;const j=p==null;h(),l&&j&&d()};return b.schedule=h,b.cancel=y,b.flush=x,a?.addEventListener("abort",y,{once:!0}),b}e.debounce=t})(YS)),YS}var Lz;function MAe(){return Lz||(Lz=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IAe();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:l}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...y){d=n.apply(this,y),f=null},a,{edges:u}),h=function(...y){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,y),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,y),d)},g=()=>(p.flush(),d);return h.cancel=p.cancel,h.flush=g,h}e.debounce=r})(GS)),GS}var Fz;function RAe(){return Fz||(Fz=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MAe();function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(HS)),HS}var KS,Bz;function LAe(){return Bz||(Bz=1,KS=RAe().throttle),KS}var FAe=LAe();const BAe=Ln(FAe);var zx=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function zz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zz(Object(r),!0).forEach(function(n){zAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zAe(e,t,r){return(t=WAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WAe(e){var t=UAe(e,"string");return typeof t=="symbol"?t:t+""}function UAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fb=A.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:h,style:g={}}=e,y=A.useRef(null),x=A.useRef();x.current=h,A.useImperativeHandle(t,()=>y.current);var[b,N]=A.useState({containerWidth:n.width,containerHeight:n.height}),j=A.useCallback((C,E)=>{N(I=>{var D=Math.round(C),O=Math.round(E);return I.containerWidth===D&&I.containerHeight===O?I:{containerWidth:D,containerHeight:O}})},[]);A.useEffect(()=>{var C=O=>{var L,{width:R,height:P}=O[0].contentRect;j(R,P),(L=x.current)===null||L===void 0||L.call(x,R,P)};d>0&&(C=BAe(C,d,{trailing:!0,leading:!1}));var E=new ResizeObserver(C),{width:I,height:D}=y.current.getBoundingClientRect();return j(I,D),E.observe(y.current),()=>{E.disconnect()}},[j,d]);var w=A.useMemo(()=>{var{containerWidth:C,containerHeight:E}=b;if(C<0||E<0)return null;zx(Kp(a)||Kp(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),zx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var I=Kp(a)?C:a,D=Kp(i)?E:i;return r&&r>0&&(I?D=I/r:D&&(I=D*r),l&&D>l&&(D=l)),zx(I>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,D,a,i,s,o,r),A.Children.map(u,O=>A.cloneElement(O,{width:I,height:D,style:XS({width:I,height:D},O.props.style)}))},[r,u,i,l,o,s,b,a]);return A.createElement("div",{id:f?"".concat(f):void 0,className:Hr("recharts-responsive-container",p),style:XS(XS({},g),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:y},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),vh=e=>null;vh.displayName="Cell";function $Ae(e,t,r){return(t=qAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qAe(e){var t=VAe(e,"string");return typeof t=="symbol"?t:t+""}function VAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class HAe{constructor(t){$Ae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Wz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wz(Object(r),!0).forEach(function(n){YAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YAe(e,t,r){return(t=KAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KAe(e){var t=XAe(e,"string");return typeof t=="symbol"?t:t+""}function XAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JAe={cacheSize:2e3,enableCache:!0},jne=GAe({},JAe),Uz=new HAe(jne.cacheSize),ZAe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$z="recharts_measurement_span";function QAe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var qz=(e,t)=>{try{var r=document.getElementById($z);r||(r=document.createElement("span"),r.setAttribute("id",$z),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,ZAe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qh.isSsr)return{width:0,height:0};if(!jne.enableCache)return qz(t,r);var n=QAe(t,r),a=Uz.get(n);if(a)return a;var i=qz(t,r);return Uz.set(n,i),i},Vz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Cne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rDe=Object.keys(Cne),Kg="NaN";function nDe(e,t){return e*Cne[t]}class uo{static parse(t){var r,[,n,a]=(r=tDe.exec(t))!==null&&r!==void 0?r:[];return new uo(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ol(t)&&(this.unit=""),r!==""&&!eDe.test(r)&&(this.num=NaN,this.unit=""),rDe.includes(r)&&(this.num=nDe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new uo(NaN,""):new uo(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new uo(NaN,""):new uo(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new uo(NaN,""):new uo(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new uo(NaN,""):new uo(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ol(this.num)}}function _ne(e){if(e.includes(Kg))return Kg;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Vz.exec(t))!==null&&r!==void 0?r:[],s=uo.parse(n??""),o=uo.parse(i??""),l=a==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Kg;t=t.replace(Vz,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=Hz.exec(t))!==null&&u!==void 0?u:[],h=uo.parse(d??""),g=uo.parse(p??""),y=f==="+"?h.add(g):h.subtract(g);if(y.isNaN())return Kg;t=t.replace(Hz,y.toString())}return t}var Gz=/\(([^()]*)\)/;function aDe(e){for(var t=e,r;(r=Gz.exec(t))!=null;){var[,n]=r;t=t.replace(Gz,_ne(n))}return t}function iDe(e){var t=e.replace(/\s+/g,"");return t=aDe(t),t=_ne(t),t}function sDe(e){try{return iDe(e)}catch{return Kg}}function JS(e){var t=sDe(e.slice(5,-1));return t===Kg?"":t}var oDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lDe=["dx","dy","angle","className","breakAll"];function _8(){return _8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_8.apply(null,arguments)}function Yz(e,t){if(e==null)return{};var r,n,a=cDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ene=/[ \f\n\r\t\v\u2028\u2029]+/,Pne=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Kn(t)||(r?a=t.toString().split(""):a=t.toString().split(Ene));var i=a.map(o=>({word:o,width:Wx(o,n).width})),s=r?0:Wx("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},uDe=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,u=Yt(i),d=s,f=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce((P,F)=>{var{word:V,width:X}=F,te=P[P.length-1];if(te&&(n==null||a||te.width+X+r<Number(n)))te.words.push(V),te.width+=X+r;else{var q={words:[V],width:X};P.push(q)}return P},[])},p=f(t),h=L=>L.reduce((R,P)=>R.width>P.width?R:P);if(!u||a)return p;var g=p.length>i||h(p).width>Number(n);if(!g)return p;for(var y="",x=L=>{var R=d.slice(0,L),P=Pne({breakAll:l,style:o,children:R+y}).wordsWithComputedWidth,F=f(P),V=F.length>i||h(F).width>Number(n);return[V,F]},b=0,N=d.length-1,j=0,w;b<=N&&j<=d.length-1;){var C=Math.floor((b+N)/2),E=C-1,[I,D]=x(E),[O]=x(C);if(!I&&!O&&(b=C+1),I&&O&&(N=C-1),!I&&O){w=D;break}j++}return w||p},Kz=e=>{var t=Kn(e)?[]:e.toString().split(Ene);return[{words:t}]},dDe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!qh.isSsr){var o,l,u=Pne({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return Kz(n);return uDe({breakAll:i,children:n,maxLines:s,style:a},o,l,t,r)}return Kz(n)},Xz="#808080",a3=A.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:u=Xz}=e,d=Yz(e,oDe),f=A.useMemo(()=>dDe({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:s,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,s,d.style,d.width]),{dx:p,dy:h,angle:g,className:y,breakAll:x}=d,b=Yz(d,lDe);if(!Ru(r)||!Ru(n)||f.length===0)return null;var N=r+(Yt(p)?p:0),j=n+(Yt(h)?h:0),w;switch(l){case"start":w=JS("calc(".concat(i,")"));break;case"middle":w=JS("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:w=JS("calc(".concat(f.length-1," * -").concat(a,")"));break}var C=[];if(s){var E=f[0].width,{width:I}=d;C.push("scale(".concat(Yt(I)?I/E:1,")"))}return g&&C.push("rotate(".concat(g,", ").concat(N,", ").concat(j,")")),C.length&&(b.transform=C.join(" ")),A.createElement("text",_8({},da(b,!0),{ref:t,x:N,y:j,className:Hr("recharts-text",y),textAnchor:o,fill:u.includes("url")?Xz:u}),f.map((D,O)=>{var L=D.words.join(x?"":" ");return A.createElement("tspan",{x:N,dy:O===0?w:a,key:"".concat(L,"-").concat(O)},L)}))});a3.displayName="Text";var fDe=["labelRef"];function hDe(e,t){if(e==null)return{};var r,n,a=pDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jz(Object(r),!0).forEach(function(n){mDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mDe(e,t,r){return(t=gDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=vDe(e,"string");return typeof t=="symbol"?t:t+""}function vDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fd.apply(null,arguments)}var kne=A.createContext(null),xDe=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=A.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return A.createElement(kne.Provider,{value:s},i)},Ane=()=>{var e=A.useContext(kne),t=eO();return e||t},yDe=A.createContext(null),bDe=()=>{var e=A.useContext(yDe),t=Bt(yre);return e||t},wDe=e=>{var{value:t,formatter:r}=e,n=Kn(e.children)?t:e.children;return typeof r=="function"?r(n):n},dI=e=>e!=null&&typeof e=="function",NDe=(e,t)=>{var r=Ei(t-e),n=Math.min(Math.abs(t-e),360);return r*n},SDe=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:h}=a,g=(u+d)/2,y=NDe(f,p),x=y>=0?1:-1,b,N;switch(t){case"insideStart":b=f+x*i,N=h;break;case"insideEnd":b=p-x*i,N=!h;break;case"end":b=p+x*i,N=h;break;default:throw new Error("Unsupported position ".concat(t))}N=y<=0?N:!N;var j=Va(o,l,g,b),w=Va(o,l,g,b+(N?1:-1)*359),C="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(w.x,",").concat(w.y),E=Kn(e.id)?my("recharts-radial-line-"):e.id;return A.createElement("text",Fd({},n,{dominantBaseline:"central",className:Hr("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:E,d:C})),A.createElement("textPath",{xlinkHref:"#".concat(E)},r))},jDe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=Va(n,a,s+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+s)/2,{x:h,y:g}=Va(n,a,p,u);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Dne=e=>"cx"in e&&Yt(e.cx),CDe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Dne(r)&&(i=r);var{x:s,y:o,width:l,height:u}=t,d=u>=0?1:-1,f=d*n,p=d>0?"end":"start",h=d>0?"start":"end",g=l>=0?1:-1,y=g*n,x=g>0?"end":"start",b=g>0?"start":"end";if(a==="top"){var N={x:s+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:p};return Aa(Aa({},N),i?{height:Math.max(o-i.y,0),width:l}:{})}if(a==="bottom"){var j={x:s+l/2,y:o+u+f,textAnchor:"middle",verticalAnchor:h};return Aa(Aa({},j),i?{height:Math.max(i.y+i.height-(o+u),0),width:l}:{})}if(a==="left"){var w={x:s-y,y:o+u/2,textAnchor:x,verticalAnchor:"middle"};return Aa(Aa({},w),i?{width:Math.max(w.x-i.x,0),height:u}:{})}if(a==="right"){var C={x:s+l+y,y:o+u/2,textAnchor:b,verticalAnchor:"middle"};return Aa(Aa({},C),i?{width:Math.max(i.x+i.width-C.x,0),height:u}:{})}var E=i?{width:l,height:u}:{};return a==="insideLeft"?Aa({x:s+y,y:o+u/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideRight"?Aa({x:s+l-y,y:o+u/2,textAnchor:x,verticalAnchor:"middle"},E):a==="insideTop"?Aa({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:h},E):a==="insideBottom"?Aa({x:s+l/2,y:o+u-f,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?Aa({x:s+y,y:o+f,textAnchor:b,verticalAnchor:h},E):a==="insideTopRight"?Aa({x:s+l-y,y:o+f,textAnchor:x,verticalAnchor:h},E):a==="insideBottomLeft"?Aa({x:s+y,y:o+u-f,textAnchor:b,verticalAnchor:p},E):a==="insideBottomRight"?Aa({x:s+l-y,y:o+u-f,textAnchor:x,verticalAnchor:p},E):a&&typeof a=="object"&&(Yt(a.x)||Kp(a.x))&&(Yt(a.y)||Kp(a.y))?Aa({x:s+Ss(a.x,l),y:o+Ss(a.y,u),textAnchor:"end",verticalAnchor:"end"},E):Aa({x:s+l/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},_De={offset:5};function uh(e){var t=Ki(e,_De),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=bDe(),f=Ane(),p=n==="center"?f:d??f,h=r||p;if(!h||Kn(a)&&Kn(i)&&!A.isValidElement(s)&&typeof s!="function")return null;var g=Aa(Aa({},t),{},{viewBox:h});if(A.isValidElement(s)){var{labelRef:y}=g,x=hDe(g,fDe);return A.cloneElement(s,x)}var b;if(typeof s=="function"){if(b=A.createElement(s,g),A.isValidElement(b))return b}else b=wDe(t);var N=Dne(h),j=da(t,!0);if(N&&(n==="insideStart"||n==="insideEnd"||n==="end"))return SDe(t,n,b,j,h);var w=N?jDe(h,t.offset,t.position):CDe(t,h);return A.createElement(a3,Fd({ref:u,className:Hr("recharts-label",o)},j,w,{breakAll:l}),b)}uh.displayName="Label";var EDe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?A.createElement(uh,Fd({key:"label-implicit"},n)):Ru(e)?A.createElement(uh,Fd({key:"label-implicit",value:e},n)):A.isValidElement(e)?e.type===uh?A.cloneElement(e,Aa({key:"label-implicit"},n)):A.createElement(uh,Fd({key:"label-implicit",content:e},n)):dI(e)?A.createElement(uh,Fd({key:"label-implicit",content:e},n)):e&&typeof e=="object"?A.createElement(uh,Fd({},e,{key:"label-implicit"},n)):null};function PDe(e){var{label:t}=e,r=Ane();return EDe(t,r)||null}var ZS={},QS={},Zz;function kDe(){return Zz||(Zz=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(QS)),QS}var ej={},Qz;function ADe(){return Qz||(Qz=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ej)),ej}var eW;function DDe(){return eW||(eW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kDe(),r=ADe(),n=VT();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(ZS)),ZS}var tj,tW;function TDe(){return tW||(tW=1,tj=DDe().last),tj}var ODe=TDe();const IDe=Ln(ODe);var MDe=["valueAccessor"],RDe=["dataKey","clockWise","id","textBreakAll"];function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S5.apply(null,arguments)}function rW(e,t){if(e==null)return{};var r,n,a=LDe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LDe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FDe=e=>Array.isArray(e.value)?IDe(e.value):e.value,Tne=A.createContext(void 0),One=Tne.Provider,Ine=A.createContext(void 0),BDe=Ine.Provider;function zDe(){return A.useContext(Tne)}function WDe(){return A.useContext(Ine)}function zb(e){var{valueAccessor:t=FDe}=e,r=rW(e,MDe),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=rW(r,RDe),l=zDe(),u=WDe(),d=l||u;return!d||!d.length?null:A.createElement(Hi,{className:"recharts-label-list"},d.map((f,p)=>{var h,g=Kn(n)?t(f,p):_n(f&&f.payload,n),y=Kn(i)?{}:{id:"".concat(i,"-").concat(p)};return A.createElement(uh,S5({},da(f,!0),o,y,{fill:(h=r.fill)!==null&&h!==void 0?h:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(p),index:p}))}))}zb.displayName="LabelList";function fI(e){var{label:t}=e;return t?t===!0?A.createElement(zb,{key:"labelList-implicit"}):A.isValidElement(t)||dI(t)?A.createElement(zb,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(zb,S5({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function E8(){return E8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E8.apply(null,arguments)}var Mne=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Hr("recharts-dot",a);return t===+t&&r===+r&&n===+n?A.createElement("circle",E8({},Vu(e),RT(e),{className:i,cx:t,cy:r,r:n})):null},Rne=e=>e.graphicalItems.polarItems,UDe=He([Jn,j1],BO),hI=He([Rne,Fa,UDe],zO),$De=He([hI],WO),pI=He([$De,PO],UO),qDe=He([pI,Fa,hI],qO),VDe=He([pI,Fa,hI],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=_n(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:_n(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),nW=()=>{},HDe=He([Fa,Bre,nW,VDe,nW,Lr,Jn],HO),Lne=He([Fa,Lr,pI,qDe,S1,Jn,HDe],GO),GDe=He([Lne,Fa,sv],XO);He([Fa,Lne,GDe,Jn],ZO);var YDe={radiusAxis:{},angleAxis:{}},Fne=fl({name:"polarAxis",initialState:YDe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bYe,removeRadiusAxis:wYe,addAngleAxis:NYe,removeAngleAxis:SYe}=Fne.actions,KDe=Fne.reducer;function aW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aW(Object(r),!0).forEach(function(n){XDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XDe(e,t,r){return(t=JDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JDe(e){var t=ZDe(e,"string");return typeof t=="symbol"?t:t+""}function ZDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QDe=(e,t)=>t,mI=He([Rne,QDe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),eTe=[],gI=(e,t,r)=>r?.length===0?eTe:r,Bne=He([PO,mI,gI],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>iW(iW({},t.presentationProps),i.props))),a!=null)return a}}),tTe=He([Bne,mI,gI],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=_n(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:ev(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),rTe=He([Bne,mI,gI,ci],(e,t,r,n)=>{if(!(t==null||e==null))return QTe({offset:n,pieSettings:t,displayedData:e,cells:r})}),rj={},sW;function nTe(){return sW||(sW=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(rj)),rj}var nj,oW;function aTe(){return oW||(oW=1,nj=nTe().isPlainObject),nj}var iTe=aTe();const sTe=Ln(iTe);function lW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lW(Object(r),!0).forEach(function(n){oTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oTe(e,t,r){return(t=lTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lTe(e){var t=cTe(e,"string");return typeof t=="symbol"?t:t+""}function cTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j5.apply(null,arguments)}var uW=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},uTe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dTe=e=>{var t=Ki(e,uTe),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=A.useRef(),[h,g]=A.useState(-1),y=A.useRef(a),x=A.useRef(i),b=A.useRef(s),N=A.useRef(r),j=A.useRef(n),w=x1(e,"trapezoid-");if(A.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var V=p.current.getTotalLength();V&&g(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var C=Hr("recharts-trapezoid",o);if(!f)return A.createElement("g",null,A.createElement("path",j5({},da(t,!0),{className:C,d:uW(r,n,a,i,s)})));var E=y.current,I=x.current,D=b.current,O=N.current,L=j.current,R="0px ".concat(h===-1?1:h,"px"),P="".concat(h,"px 0px"),F=cte(["strokeDasharray"],u,l);return A.createElement(v1,{animationId:w,key:w,canBegin:h>0,duration:u,easing:l,isActive:f,begin:d},V=>{var X=Ca(E,a,V),te=Ca(I,i,V),q=Ca(D,s,V),U=Ca(O,r,V),Q=Ca(L,n,V);p.current&&(y.current=X,x.current=te,b.current=q,N.current=U,j.current=Q);var se=V>0?{transition:F,strokeDasharray:P}:{strokeDasharray:R};return A.createElement("path",j5({},da(t,!0),{className:C,d:uW(U,Q,X,te,q),ref:p,style:cW(cW({},se),t.style)}))})},fTe=["option","shapeType","propTransformer","activeClassName","isActive"];function hTe(e,t){if(e==null)return{};var r,n,a=pTe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pTe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dW(Object(r),!0).forEach(function(n){mTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mTe(e,t,r){return(t=gTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gTe(e){var t=vTe(e,"string");return typeof t=="symbol"?t:t+""}function vTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xTe(e,t){return C5(C5({},t),e)}function yTe(e,t){return e==="symbols"}function fW(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return A.createElement(hte,r);case"trapezoid":return A.createElement(dTe,r);case"sector":return A.createElement(gte,r);case"symbols":if(yTe(t))return A.createElement(UT,r);break;default:return null}}function bTe(e){return A.isValidElement(e)?e.props:e}function zne(e){var{option:t,shapeType:r,propTransformer:n=xTe,activeClassName:a="recharts-active-shape",isActive:i}=e,s=hTe(e,fTe),o;if(A.isValidElement(t))o=A.cloneElement(t,C5(C5({},s),bTe(t)));else if(typeof t=="function")o=t(s);else if(sTe(t)&&typeof t!="boolean"){var l=n(t,s);o=A.createElement(fW,{shapeType:r,elementProps:l})}else{var u=s;o=A.createElement(fW,{shapeType:r,elementProps:u})}return i?A.createElement(Hi,{className:a},o):o}var vI=(e,t)=>{var r=fa();return(n,a)=>i=>{e?.(n,a,i),r(tne({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},xI=e=>{var t=fa();return(r,n)=>a=>{e?.(r,n,a),t(r8e())}},yI=(e,t)=>{var r=fa();return(n,a)=>i=>{e?.(n,a,i),r(n8e({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function bI(e){var{fn:t,args:r}=e,n=fa(),a=So();return A.useEffect(()=>{if(!a){var i=t(r);return n(Qke(i)),()=>{n(e8e(i))}}},[t,r,n,a]),null}var Wne=()=>{};function Une(e){var{legendPayload:t}=e,r=fa(),n=So();return A.useEffect(()=>n?Wne:(r(ste(t)),()=>{r(ote(t))}),[r,n,t]),null}function wTe(e){var{legendPayload:t}=e,r=fa(),n=Bt(Lr);return A.useEffect(()=>n!=="centric"&&n!=="radial"?Wne:(r(ste(t)),()=>{r(ote(t))}),[r,n,t]),null}var aj,NTe=()=>{var[e]=A.useState(()=>my("uid-"));return e},STe=(aj=NY.useId)!==null&&aj!==void 0?aj:NTe;function jTe(e,t){var r=STe();return t||(e?"".concat(e,"-").concat(r):r)}var CTe=A.createContext(void 0),wI=e=>{var{id:t,type:r,children:n}=e,a=jTe("recharts-".concat(r),t);return A.createElement(CTe.Provider,{value:a},n(a))},_Te={cartesianItems:[],polarItems:[]},$ne=fl({name:"graphicalItems",initialState:_Te,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Kd(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Kd(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Kd(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:ETe,replaceCartesianGraphicalItem:PTe,removeCartesianGraphicalItem:kTe,addPolarGraphicalItem:ATe,removePolarGraphicalItem:DTe}=$ne.actions,TTe=$ne.reducer;function qne(e){var t=fa(),r=A.useRef(null);return A.useEffect(()=>{r.current===null?t(ETe(e)):r.current!==e&&t(PTe({prev:r.current,next:e})),r.current=e},[t,e]),A.useEffect(()=>()=>{r.current&&(t(kTe(r.current)),r.current=null)},[t]),null}function OTe(e){var t=fa();return A.useEffect(()=>(t(ATe(e)),()=>{t(DTe(e))}),[t,e]),null}var ITe=["onMouseEnter","onClick","onMouseLeave"],MTe=["id"],RTe=["id"];function NI(e,t){if(e==null)return{};var r,n,a=LTe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function LTe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hW(Object(r),!0).forEach(function(n){FTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FTe(e,t,r){return(t=BTe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BTe(e){var t=zTe(e,"string");return typeof t=="symbol"?t:t+""}function zTe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(null,arguments)}function WTe(e){var t=A.useMemo(()=>LT(e.children,vh),[e.children]),r=Bt(n=>tTe(n,e.id,t));return r==null?null:A.createElement(wTe,{legendPayload:r})}function UTe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:u}=e;return{dataDefinedOnItem:n.map(d=>d.tooltipPayload),positions:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:ev(o,t),hide:l,type:u,color:s,unit:""}}}var $Te=(e,t)=>e>t?"start":e<t?"end":"middle",qTe=(e,t,r)=>Ss(typeof t=="function"?t(e):t,r,r*.8),VTe=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=Jee(i,s),l=a+Ss(e.cx,i,i/2),u=n+Ss(e.cy,s,s/2),d=Ss(e.innerRadius,o,0),f=qTe(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},HTe=(e,t)=>{var r=Ei(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function GTe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var YTe=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Hr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return A.createElement(aO,Oh({},t,{type:"linear",className:r}))},KTe=(e,t,r)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),A.isValidElement(n)))return n;var a=Hr("recharts-pie-label-text",GTe(e));return A.createElement(a3,Oh({},t,{alignmentBaseline:"middle",className:a}),n)};function XTe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=Vu(r),l=da(a,!1),u=da(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,h)=>{var g=(p.startAngle+p.endAngle)/2,y=Va(p.cx,p.cy,p.outerRadius+d,g),x=Gn(Gn(Gn(Gn({},o),p),{},{stroke:"none"},l),{},{index:h,textAnchor:$Te(y.x,p.cx)},y),b=Gn(Gn(Gn(Gn({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:h,points:[Va(p.cx,p.cy,p.outerRadius,g),y],key:"line"});return A.createElement(Hi,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(h)},i&&YTe(i,b),KTe(a,x,_n(p,s)))});return A.createElement(Hi,{className:"recharts-pie-labels"},f)}function JTe(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?A.createElement(fI,{label:a}):A.createElement(XTe,{sectors:t,props:r,showLabels:n})}function ZTe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Bt(Th),{onMouseEnter:s,onClick:o,onMouseLeave:l}=a,u=NI(a,ITe),d=vI(s,a.dataKey),f=xI(l),p=yI(o,a.dataKey);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((h,g)=>{if(h?.startAngle===0&&h?.endAngle===0&&t.length!==1)return null;var y=r&&String(g)===i,x=i?n:null,b=y?r:x,N=Gn(Gn({},h),{},{stroke:h.stroke,tabIndex:-1,[rte]:g,[nte]:a.dataKey});return A.createElement(Hi,Oh({tabIndex:-1,className:"recharts-pie-sector"},h1(u,h,g),{onMouseEnter:d(h,g),onMouseLeave:f(h,g),onClick:p(h,g),key:"sector-".concat(h?.startAngle,"-").concat(h?.endAngle,"-").concat(h.midAngle,"-").concat(g)}),A.createElement(zne,Oh({option:b,isActive:y,shapeType:"sector"},N)))}))}function QTe(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=r,p=Math.abs(r.minAngle),h=HTe(o,l),g=Math.abs(h),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(E=>_n(E,u,0)!==0).length,b=(g>=360?x:x-1)*y,N=g-x*p-b,j=n.reduce((E,I)=>{var D=_n(I,u,0);return E+(Yt(D)?D:0)},0),w;if(j>0){var C;w=n.map((E,I)=>{var D=_n(E,u,0),O=_n(E,d,I),L=VTe(r,i,E),R=(Yt(D)?D:0)/j,P,F=Gn(Gn({},E),a&&a[I]&&a[I].props);I?P=C.endAngle+Ei(h)*y*(D!==0?1:0):P=o;var V=P+Ei(h)*((D!==0?p:0)+R*N),X=(P+V)/2,te=(L.innerRadius+L.outerRadius)/2,q=[{name:O,value:D,payload:F,dataKey:u,type:f}],U=Va(L.cx,L.cy,te,X);return C=Gn(Gn(Gn(Gn({},r.presentationProps),{},{percent:R,cornerRadius:s,name:O,tooltipPayload:q,midAngle:X,middleRadius:te,tooltipPosition:U},F),L),{},{value:D,startAngle:P,endAngle:V,payload:F,paddingAngle:Ei(h)*y}),C})}return w}function eOe(e){var{showLabels:t,sectors:r,children:n}=e,a=A.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return A.createElement(BDe,{value:t?a:void 0},n)}function tOe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,p=x1(t,"recharts-pie-"),h=r.current,[g,y]=A.useState(!1),x=A.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),b=A.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return A.createElement(eOe,{showLabels:!g,sectors:n},A.createElement(v1,{animationId:p,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:b,onAnimationEnd:x,key:p},N=>{var j=[],w=n&&n[0],C=w?.startAngle;return n?.forEach((E,I)=>{var D=h&&h[I],O=I>0?mm(E,"paddingAngle",0):0;if(D){var L=Ca(D.endAngle-D.startAngle,E.endAngle-E.startAngle,N),R=Gn(Gn({},E),{},{startAngle:C+O,endAngle:C+L+O});j.push(R),C=R.endAngle}else{var{endAngle:P,startAngle:F}=E,V=Ca(0,P-F,N),X=Gn(Gn({},E),{},{startAngle:C+O,endAngle:C+V+O});j.push(X),C=X.endAngle}}),r.current=j,A.createElement(Hi,null,A.createElement(ZTe,{sectors:j,activeShape:l,inactiveShape:u,allOtherPieProps:t}))}),A.createElement(JTe,{showLabels:!g,sectors:n,props:t}),t.children)}var rOe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!qh.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function nOe(e){var{id:t}=e,r=NI(e,MTe),{hide:n,className:a,rootTabIndex:i}=e,s=A.useMemo(()=>LT(e.children,vh),[e.children]),o=Bt(d=>rTe(d,t,s)),l=A.useRef(null),u=Hr("recharts-pie",a);return n||o==null?(l.current=null,A.createElement(Hi,{tabIndex:i,className:u})):A.createElement(A.Fragment,null,A.createElement(bI,{fn:UTe,args:Gn(Gn({},e),{},{sectors:o})}),A.createElement(Hi,{tabIndex:i,className:u},A.createElement(tOe,{props:Gn(Gn({},r),{},{sectors:o}),previousSectorsRef:l})))}function P8(e){var t=Ki(e,rOe),{id:r}=t,n=NI(t,RTe),a=Vu(n);return A.createElement(wI,{id:r,type:"pie"},i=>A.createElement(A.Fragment,null,A.createElement(OTe,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),A.createElement(WTe,Oh({},n,{id:i})),A.createElement(nOe,Oh({},n,{id:i}))))}P8.displayName="Pie";function pW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pW(Object(r),!0).forEach(function(n){aOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aOe(e,t,r){return(t=iOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iOe(e){var t=sOe(e,"string");return typeof t=="symbol"?t:t+""}function sOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oOe={xAxis:{},yAxis:{},zAxis:{}},Vne=fl({name:"cartesianAxis",initialState:oOe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=mW(mW({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:lOe,removeXAxis:cOe,addYAxis:uOe,removeYAxis:dOe,addZAxis:jYe,removeZAxis:CYe,updateYAxisWidth:fOe}=Vne.actions,hOe=Vne.reducer,pOe=He([ci],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),mOe=He([pOe,gf,vf],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),SI=()=>Bt(mOe),gOe=()=>Bt($8e);function gW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gW(Object(r),!0).forEach(function(n){vOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vOe(e,t,r){return(t=xOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xOe(e){var t=yOe(e,"string");return typeof t=="symbol"?t:t+""}function yOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bOe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=vW(vW({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},da(a,!1)),RT(a)),o;return A.isValidElement(a)?o=A.cloneElement(a,s):typeof a=="function"?o=a(s):o=A.createElement(Mne,s),A.createElement(Hi,{className:"recharts-active-dot"},o)};function wOe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Bt(Th),s=gOe();if(t==null||s==null)return null;var o=t.find(l=>s.includes(l.payload));return Kn(o)?null:bOe({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var NOe="Invariant failed";function SOe(e,t){throw new Error(NOe)}var jOe=["x","y"];function k8(){return k8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k8.apply(null,arguments)}function xW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xW(Object(r),!0).forEach(function(n){COe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function COe(e,t,r){return(t=_Oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Oe(e){var t=EOe(e,"string");return typeof t=="symbol"?t:t+""}function EOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function POe(e,t){if(e==null)return{};var r,n,a=kOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AOe(e,t){var{x:r,y:n}=e,a=POe(e,jOe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),p=parseInt(f,10);return cx(cx(cx(cx(cx({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:p,name:t.name,radius:t.radius})}function jI(e){return A.createElement(zne,k8({shapeType:"rectangle",propTransformer:AOe,activeClassName:"recharts-active-bar"},e))}var DOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Yt(t))return t;var i=Yt(n)||Kn(n);return i?t(n,a):(i||SOe(),r)}},TOe={},Hne=fl({name:"errorBars",initialState:TOe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:_Ye,replaceErrorBar:EYe,removeErrorBar:PYe}=Hne.actions,OOe=Hne.reducer,IOe=["children"];function MOe(e,t){if(e==null)return{};var r,n,a=ROe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ROe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LOe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},FOe=A.createContext(LOe);function Gne(e){var{children:t}=e,r=MOe(e,IOe);return A.createElement(FOe.Provider,{value:r},t)}function CI(e,t){var r,n,a=Bt(u=>yf(u,e)),i=Bt(u=>bf(u,t)),s=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:$o.allowDataOverflow,o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:qo.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function Yne(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=SI(),{needClipX:i,needClipY:s,needClip:o}=CI(t,r);if(!o)return null;var{x:l,y:u,width:d,height:f}=a;return A.createElement("clipPath",{id:"clipPath-".concat(n)},A.createElement("rect",{x:i?l:l-d/2,y:s?u:u-f/2,width:i?d:d*2,height:s?f:f*2}))}var BOe=["onMouseEnter","onMouseLeave","onClick"],zOe=["value","background","tooltipPosition"],WOe=["id"],UOe=["onMouseEnter","onClick","onMouseLeave"];function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ih.apply(null,arguments)}function yW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yW(Object(r),!0).forEach(function(n){$Oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Oe(e,t,r){return(t=qOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qOe(e){var t=VOe(e,"string");return typeof t=="symbol"?t:t+""}function VOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _5(e,t){if(e==null)return{};var r,n,a=HOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GOe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ev(r,t),payload:e}]};function YOe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ev(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function KOe(e){var t=Bt(Th),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=i,u=_5(i,BOe),d=vI(s,n),f=xI(o),p=yI(l,n);if(!a||r==null)return null;var h=da(a,!1);return A.createElement(A.Fragment,null,r.map((g,y)=>{var{value:x,background:b,tooltipPosition:N}=g,j=_5(g,zOe);if(!b)return null;var w=d(g,y),C=f(g,y),E=p(g,y),I=Bs(Bs(Bs(Bs(Bs({option:a,isActive:String(y)===t},j),{},{fill:"#eee"},b),h),h1(u,g,y)),{},{onMouseEnter:w,onMouseLeave:C,onClick:E,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return A.createElement(jI,Ih({key:"background-bar-".concat(I.index)},I))}))}function XOe(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return Bs(Bs({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return A.createElement(One,{value:t?a:void 0},r)}function JOe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=Bt(Th),l=Bt(pne),u=r&&String(i)===o&&(l==null||s===l),d=u?r:t;return A.createElement(jI,Ih({},n,a,{isActive:u,option:d,index:i,dataKey:s}))}function ZOe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return A.createElement(jI,Ih({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function QOe(e){var{data:t,props:r}=e,n=Vu(r),{id:a}=n,i=_5(n,WOe),{shape:s,dataKey:o,activeBar:l}=r,{onMouseEnter:u,onClick:d,onMouseLeave:f}=r,p=_5(r,UOe),h=vI(u,o),g=xI(f),y=yI(d,o);return t?A.createElement(A.Fragment,null,t.map((x,b)=>A.createElement(Hi,Ih({className:"recharts-bar-rectangle"},h1(p,x,b),{onMouseEnter:h(x,b),onMouseLeave:g(x,b),onClick:y(x,b),key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(b)}),l?A.createElement(JOe,{shape:s,activeBar:l,baseProps:i,entry:x,index:b,dataKey:o}):A.createElement(ZOe,{shape:s,baseProps:i,entry:x,index:b,dataKey:o})))):null}function eIe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,p=x1(t,"recharts-bar-"),[h,g]=A.useState(!1),y=!h,x=A.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),b=A.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return A.createElement(XOe,{showLabels:y,rects:n},A.createElement(v1,{animationId:p,begin:s,duration:o,isActive:i,easing:l,onAnimationEnd:x,onAnimationStart:b,key:p},N=>{var j=N===1?n:n?.map((w,C)=>{var E=f&&f[C];if(E)return Bs(Bs({},w),{},{x:Ca(E.x,w.x,N),y:Ca(E.y,w.y,N),width:Ca(E.width,w.width,N),height:Ca(E.height,w.height,N)});if(a==="horizontal"){var I=Ca(0,w.height,N);return Bs(Bs({},w),{},{y:w.y+w.height-I,height:I})}var D=Ca(0,w.width,N);return Bs(Bs({},w),{},{width:D})});return N>0&&(r.current=j??null),j==null?null:A.createElement(Hi,null,A.createElement(QOe,{props:t,data:j}))}),A.createElement(fI,{label:t.label}),t.children)}function tIe(e){var t=A.useRef(null);return A.createElement(eIe,{previousRectanglesRef:t,props:e})}var Kne=0,rIe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:_n(e,t)}};class nIe extends A.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var d=Hr("recharts-bar",a),f=u;return A.createElement(Hi,{className:d,id:u},o&&A.createElement("defs",null,A.createElement(Yne,{clipPathId:f,xAxisId:i,yAxisId:s})),A.createElement(Hi,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},A.createElement(KOe,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),A.createElement(tIe,this.props)))}}var aIe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!qh.isSsr,legendType:"rect",minPointSize:Kne,xAxisId:0,yAxisId:0};function iIe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=CI(t,r),p=z4(),h=So(),g=LT(e.children,vh),y=Bt(N=>OIe(N,t,r,h,e.id,g));if(p!=="vertical"&&p!=="horizontal")return null;var x,b=y?.[0];return b==null||b.height==null||b.width==null?x=0:x=p==="vertical"?b.height/2:b.width/2,A.createElement(Gne,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:rIe,errorBarOffset:x},A.createElement(nIe,Ih({},e,{layout:p,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:d})))}function sIe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:d,displayedData:f,offset:p,cells:h,parentViewBox:g}=e,y=t==="horizontal"?o:s,x=d?y.scale.domain():null,b=xje({numericAxis:y});return f.map((N,j)=>{var w,C,E,I,D,O;d?w=fje(d[j],x):(w=_n(N,r),Array.isArray(w)||(w=[b,w]));var L=DOe(n,Kne)(w[1],j);if(t==="horizontal"){var R,[P,F]=[o.scale(w[0]),o.scale(w[1])];C=aB({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:N,index:j}),E=(R=F??P)!==null&&R!==void 0?R:void 0,I=a.size;var V=P-F;if(D=ol(V)?0:V,O={x:C,y:p.top,width:I,height:p.height},Math.abs(L)>0&&Math.abs(D)<Math.abs(L)){var X=Ei(D||L)*(Math.abs(L)-Math.abs(D));E-=X,D+=X}}else{var[te,q]=[s.scale(w[0]),s.scale(w[1])];if(C=te,E=aB({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:N,index:j}),I=q-te,D=a.size,O={x:p.left,y:E,width:p.width,height:D},Math.abs(L)>0&&Math.abs(I)<Math.abs(L)){var U=Ei(I||L)*(Math.abs(L)-Math.abs(I));I+=U}}if(C==null||E==null||I==null||D==null)return null;var Q=Bs(Bs({},N),{},{x:C,y:E,width:I,height:D,value:d?w:w[1],payload:N,background:O,tooltipPosition:{x:C+I/2,y:E+D/2},parentViewBox:g},h&&h[j]&&h[j].props);return Q}).filter(Boolean)}function oIe(e){var t=Ki(e,aIe),r=So();return A.createElement(wI,{id:t.id,type:"bar"},n=>A.createElement(A.Fragment,null,A.createElement(Une,{legendPayload:GOe(t)}),A.createElement(bI,{fn:YOe,args:t}),A.createElement(qne,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:vje(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),A.createElement(iIe,Ih({},t,{id:n}))))}var Xne=A.memo(oIe);Xne.displayName="Bar";function bW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bW(Object(r),!0).forEach(function(n){lIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lIe(e,t,r){return(t=cIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cIe(e){var t=uIe(e,"string");return typeof t=="symbol"?t:t+""}function uIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dIe=(e,t)=>t,fIe=(e,t,r)=>r,hIe=(e,t,r,n)=>n,pIe=(e,t,r,n,a)=>a,A1=He([Z4,pIe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),mIe=He([A1],e=>e?.maxBarSize),gIe=(e,t,r,n,a,i)=>i,wW=(e,t,r)=>{var n=r??e;if(!Kn(n))return Ss(n,t,0)},vIe=He([Lr,Z4,dIe,fIe,hIe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),xIe=(e,t,r,n)=>{var a=Lr(e);return a==="horizontal"?w8(e,"yAxis",r,n):w8(e,"xAxis",t,n)},yIe=(e,t,r)=>{var n=Lr(e);return n==="horizontal"?wz(e,"xAxis",t):wz(e,"yAxis",r)},bIe=(e,t,r)=>{var n={},a=e.filter(J4),i=e.filter(u=>u.stackId==null),s=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(s).map(u=>{var[d,f]=u,p=f.map(g=>g.dataKey),h=wW(t,r,f[0].barSize);return{stackId:d,dataKeys:p,barSize:h}}),l=i.map(u=>{var d=[u.dataKey].filter(p=>p!=null),f=wW(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},wIe=He([vIe,ZPe,yIe],bIe),NIe=(e,t,r,n,a)=>{var i,s,o=A1(e,t,r,n,a);if(o!=null){var l=Lr(e),u=fre(e),{maxBarSize:d}=o,f=Kn(d)?u:d,p,h;return l==="horizontal"?(p=Dh(e,"xAxis",t,n),h=Ah(e,"xAxis",t,n)):(p=Dh(e,"yAxis",r,n),h=Ah(e,"yAxis",r,n)),(i=(s=xy(p,h,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},Jne=(e,t,r,n)=>{var a=Lr(e),i,s;return a==="horizontal"?(i=Dh(e,"xAxis",t,n),s=Ah(e,"xAxis",t,n)):(i=Dh(e,"yAxis",r,n),s=Ah(e,"yAxis",r,n)),xy(i,s)};function SIe(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=Ss(e,r,0,!0),o,l=[];if(cl(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((b,N)=>b+(N.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var p=(r-f)/2>>0,h={offset:p-s,size:0};o=n.reduce((b,N)=>{var j,w={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:h.offset+h.size+s,size:u?d:(j=N.barSize)!==null&&j!==void 0?j:0}},C=[...b,w];return h=C[C.length-1].position,C},l)}else{var g=Ss(t,r,0,!0);r-2*g-(i-1)*s<=0&&(s=0);var y=(r-2*g-(i-1)*s)/i;y>1&&(y>>=0);var x=cl(a)?Math.min(y,a):y;o=n.reduce((b,N,j)=>[...b,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:g+(y+s)*j+(y-x)/2,size:x}}],l)}return o}}var jIe=(e,t,r,n,a,i,s)=>{var o=Kn(s)?t:s,l=SIe(r,n,a!==i?a:i,e,o);return a!==i&&l!=null&&(l=l.map(u=>hb(hb({},u),{},{position:hb(hb({},u.position),{},{offset:u.position.offset-a/2})}))),l},CIe=He([wIe,fre,JPe,hre,NIe,Jne,mIe],jIe),_Ie=(e,t,r,n)=>Dh(e,"xAxis",t,n),EIe=(e,t,r,n)=>Dh(e,"yAxis",r,n),PIe=(e,t,r,n)=>Ah(e,"xAxis",t,n),kIe=(e,t,r,n)=>Ah(e,"yAxis",r,n),AIe=He([CIe,A1],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),DIe=(e,t)=>{var r=LO(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},TIe=He([xIe,A1],DIe),OIe=He([ci,QT,_Ie,EIe,PIe,kIe,AIe,Lr,G4,Jne,TIe,A1,gIe],(e,t,r,n,a,i,s,o,l,u,d,f,p)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:y}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=f,b;if(x!=null&&x.length>0?b=x:b=h?.slice(g,y+1),b!=null)return sIe({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:b,offset:e,cells:p})}}),Zne=e=>{var{chartData:t}=e,r=fa(),n=So();return A.useEffect(()=>n?()=>{}:(r(Dz(t)),()=>{r(Dz(void 0))}),[t,r,n]),null},NW={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Qne=fl({name:"brush",initialState:NW,reducers:{setBrushSettings(e,t){return t.payload==null?NW:t.payload}}}),{setBrushSettings:kYe}=Qne.actions,IIe=Qne.reducer;function MIe(e,t,r){return(t=RIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RIe(e){var t=LIe(e,"string");return typeof t=="symbol"?t:t+""}function LIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _I{static create(t){return new _I(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}MIe(_I,"EPS",1e-4);function FIe(e){return(e%180+180)%180}var BIe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=FIe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},zIe={dots:[],areas:[],lines:[]},eae=fl({name:"referenceElements",initialState:zIe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Kd(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Kd(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Kd(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:AYe,removeDot:DYe,addArea:TYe,removeArea:OYe,addLine:IYe,removeLine:MYe}=eae.actions,WIe=eae.reducer,UIe=A.createContext(void 0),$Ie=e=>{var{children:t}=e,[r]=A.useState("".concat(my("recharts"),"-clip")),n=SI();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return A.createElement(UIe.Provider,{value:r},A.createElement("defs",null,A.createElement("clipPath",{id:r},A.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function M0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function tae(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function qIe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return BIe(n,r)}function VIe(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function E5(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function HIe(e,t){return tae(e,t+1)}function GIe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var g=n?.[l];if(g===void 0)return{v:tae(n,u)};var y=l,x,b=()=>(x===void 0&&(x=r(g,y)),x),N=g.coordinate,j=l===0||E5(e,N,b,d,o);j||(l=0,d=s,u+=1),j&&(d=N+e*(b()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function SW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SW(Object(r),!0).forEach(function(n){YIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YIe(e,t,r){return(t=KIe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KIe(e){var t=XIe(e,"string");return typeof t=="symbol"?t:t+""}function XIe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JIe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,u=function(p){var h=i[p],g,y=()=>(g===void 0&&(g=r(h,p)),g);if(p===s-1){var x=e*(h.coordinate+e*y()/2-l);i[p]=h=hs(hs({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else i[p]=h=hs(hs({},h),{},{tickCoord:h.coordinate});var b=E5(e,h.tickCoord,y,o,l);b&&(l=h.tickCoord-e*(y()/2+a),i[p]=hs(hs({},h),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function ZIe(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(i){var d=n[o-1],f=r(d,o-1),p=e*(d.coordinate+e*f/2-u);s[o-1]=d=hs(hs({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate});var h=E5(e,d.tickCoord,()=>f,l,u);h&&(u=d.tickCoord-e*(f/2+a),s[o-1]=hs(hs({},d),{},{isShow:!0}))}for(var g=i?o-1:o,y=function(N){var j=s[N],w,C=()=>(w===void 0&&(w=r(j,N)),w);if(N===0){var E=e*(j.coordinate-e*C()/2-l);s[N]=j=hs(hs({},j),{},{tickCoord:E<0?j.coordinate-E*e:j.coordinate})}else s[N]=j=hs(hs({},j),{},{tickCoord:j.coordinate});var I=E5(e,j.tickCoord,C,l,u);I&&(l=j.tickCoord+e*(C()/2+a),s[N]=hs(hs({},j),{},{isShow:!0}))},x=0;x<g;x++)y(x);return s}function EI(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(Yt(l)||qh.isSsr){var p;return(p=HIe(a,Yt(l)?l:0))!==null&&p!==void 0?p:[]}var h=[],g=o==="top"||o==="bottom"?"width":"height",y=d&&g==="width"?Wx(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(j,w)=>{var C=typeof u=="function"?u(j.value,w):j.value;return g==="width"?qIe(Wx(C,{fontSize:t,letterSpacing:r}),y,f):Wx(C,{fontSize:t,letterSpacing:r})[g]},b=a.length>=2?Ei(a[1].coordinate-a[0].coordinate):1,N=VIe(i,b,g);return l==="equidistantPreserveStart"?GIe(b,N,x,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=ZIe(b,N,x,a,s,l==="preserveStartEnd"):h=JIe(b,N,x,a,s),h.filter(j=>j.isShow))}var QIe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+i,u=s+l+o+(r?n:0);return Math.round(u)}return 0},eMe=["axisLine","width","height","className","hide","ticks"],tMe=["viewBox"],rMe=["viewBox"];function A8(e,t){if(e==null)return{};var r,n,a=nMe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(null,arguments)}function jW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jW(Object(r),!0).forEach(function(n){aMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aMe(e,t,r){return(t=iMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iMe(e){var t=sMe(e,"string");return typeof t=="symbol"?t:t+""}function sMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PI={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function oMe(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=ti(ti(ti({},l),da(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!s||i==="bottom"&&s);u=ti(ti({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);u=ti(ti({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return A.createElement("line",ym({},u,{className:Hr("recharts-cartesian-axis-line",mm(o,"className"))}))}function lMe(e,t,r,n,a,i,s,o,l){var u,d,f,p,h,g,y=o?-1:1,x=e.tickSize||s,b=Yt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=r+ +!o*a,f=p-y*x,g=f-y*l,h=b;break;case"left":f=p=e.coordinate,d=t+ +!o*n,u=d-y*x,h=u-y*l,g=b;break;case"right":f=p=e.coordinate,d=t+ +o*n,u=d+y*x,h=u+y*l,g=b;break;default:u=d=e.coordinate,p=r+ +o*a,f=p+y*x,g=f+y*l,h=b;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:h,y:g}}}function cMe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function uMe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function dMe(e){var{option:t,tickProps:r,value:n}=e,a,i=Hr(r.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))a=A.cloneElement(t,ti(ti({},r),{},{className:i}));else if(typeof t=="function")a=t(ti(ti({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Hr(s,t?.className)),a=A.createElement(a3,ym({},r,{className:s}),n)}return a}function fMe(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:o,tickTextProps:l,orientation:u,mirror:d,x:f,y:p,width:h,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:N,getTicksConfig:j,events:w}=e,C=EI(ti(ti({},j),{},{ticks:t}),b,N),E=cMe(u,d),I=uMe(u,d),D=Vu(j),O=da(r,!1),L=ti(ti({},D),{},{fill:"none"},da(n,!1)),R=C.map((P,F)=>{var{line:V,tick:X}=lMe(P,f,p,h,g,u,y,d,x),te=ti(ti(ti(ti({textAnchor:E,verticalAnchor:I},D),{},{stroke:"none",fill:a},O),X),{},{index:F,payload:P,visibleTicksCount:C.length,tickFormatter:i,padding:o},l);return A.createElement(Hi,ym({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},h1(w,P,F)),n&&A.createElement("line",ym({},L,V,{className:Hr("recharts-cartesian-axis-tick-line",mm(n,"className"))})),r&&A.createElement(dMe,{option:r,tickProps:te,value:"".concat(typeof i=="function"?i(P.value,F):P.value).concat(s||"")}))});return R.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},R):null}var hMe=A.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o}=e,l=A8(e,eMe),[u,d]=A.useState(""),[f,p]=A.useState(""),h=A.useRef([]);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return QIe({ticks:h.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=A.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(x);var b=x[0];if(b){var N=window.getComputedStyle(b),j=N.fontSize,w=N.letterSpacing;(j!==u||w!==f)&&(d(j),p(w))}}},[u,f]);return s||n!=null&&n<=0||a!=null&&a<=0?null:A.createElement(Hi,{className:Hr("recharts-cartesian-axis",i),ref:g},A.createElement(oMe,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Vu(e)}),A.createElement(fMe,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:f,getTicksConfig:e,events:l}),A.createElement(xDe,{x:e.x,y:e.y,width:e.width,height:e.height},A.createElement(PDe,{label:e.label}),e.children))}),pMe=A.memo(hMe,(e,t)=>{var{viewBox:r}=e,n=A8(e,tMe),{viewBox:a}=t,i=A8(t,rMe);return M0(r,a)&&M0(n,i)}),kI=A.forwardRef((e,t)=>{var r=Ki(e,PI);return A.createElement(pMe,ym({},r,{ref:t}))});kI.displayName="CartesianAxis";var mMe=["x1","y1","x2","y2","key"],gMe=["offset"],vMe=["xAxisId","yAxisId"],xMe=["xAxisId","yAxisId"];function CW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CW(Object(r),!0).forEach(function(n){yMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yMe(e,t,r){return(t=bMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bMe(e){var t=wMe(e,"string");return typeof t=="symbol"?t:t+""}function wMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zp(){return Zp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zp.apply(null,arguments)}function P5(e,t){if(e==null)return{};var r,n,a=NMe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SMe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return A.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rae(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,l=P5(t,mMe),u=Vu(l),{offset:d}=u,f=P5(u,gMe);r=A.createElement("line",Zp({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function jMe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=P5(e,vMe),l=a.map((u,d)=>{var f=gs(gs({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return rae(n,f)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function CMe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=P5(e,xMe),l=a.map((u,d)=>{var f=gs(gs({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return rae(n,f)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function _Me(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var u=o.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var h=!u[p+1],g=h?a+s-f:u[p+1]-f;if(g<=0)return null;var y=p%t.length;return A.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:g,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function EMe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var h=!u[p+1],g=h?a+s-f:u[p+1]-f;if(g<=0)return null;var y=p%r.length;return A.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:g,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var PMe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return Qee(EI(gs(gs(gs({},PI),r),{},{ticks:ete(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},kMe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return Qee(EI(gs(gs(gs({},PI),r),{},{ticks:ete(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},AMe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function D8(e){var t=tO(),r=rO(),n=ate(),a=gs(gs({},Ki(e,AMe)),{},{x:Yt(e.x)?e.x:n.left,y:Yt(e.y)?e.y:n.top,width:Yt(e.width)?e.width:n.width,height:Yt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:h}=a,g=So(),y=Bt(O=>Nz(O,"xAxis",i,g)),x=Bt(O=>Nz(O,"yAxis",s,g));if(!Yt(u)||u<=0||!Yt(d)||d<=0||!Yt(o)||o!==+o||!Yt(l)||l!==+l)return null;var b=a.verticalCoordinatesGenerator||PMe,N=a.horizontalCoordinatesGenerator||kMe,{horizontalPoints:j,verticalPoints:w}=a;if((!j||!j.length)&&typeof N=="function"){var C=p&&p.length,E=N({yAxis:x?gs(gs({},x),{},{ticks:C?p:x.ticks}):void 0,width:t,height:r,offset:n},C?!0:f);zx(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}if((!w||!w.length)&&typeof b=="function"){var I=h&&h.length,D=b({xAxis:y?gs(gs({},y),{},{ticks:I?h:y.ticks}):void 0,width:t,height:r,offset:n},I?!0:f);zx(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(w=D)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(SMe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),A.createElement(_Me,Zp({},a,{horizontalPoints:j})),A.createElement(EMe,Zp({},a,{verticalPoints:w})),A.createElement(jMe,Zp({},a,{offset:n,horizontalPoints:j,xAxis:y,yAxis:x})),A.createElement(CMe,Zp({},a,{offset:n,verticalPoints:w,xAxis:y,yAxis:x})))}D8.displayName="CartesianGrid";var nae=(e,t,r,n)=>Dh(e,"xAxis",t,n),aae=(e,t,r,n)=>Ah(e,"xAxis",t,n),iae=(e,t,r,n)=>Dh(e,"yAxis",r,n),sae=(e,t,r,n)=>Ah(e,"yAxis",r,n),DMe=He([Lr,nae,iae,aae,sae],(e,t,r,n,a)=>$h(e,"xAxis")?xy(t,n,!1):xy(r,a,!1)),TMe=(e,t,r,n,a)=>a;function OMe(e){return e.type==="line"}var IMe=He([Z4,TMe],(e,t)=>e.filter(OMe).find(r=>r.id===t)),MMe=He([Lr,nae,iae,aae,sae,IMe,DMe,G4],(e,t,r,n,a,i,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:p}=i,h;if(p!=null&&p.length>0?h=p:h=l?.slice(u,d+1),h!=null)return nRe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:h})}}),RMe=["id"],LMe=["type","layout","connectNulls","needClip"],FMe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_W(Object(r),!0).forEach(function(n){BMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BMe(e,t,r){return(t=zMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zMe(e){var t=WMe(e,"string");return typeof t=="symbol"?t:t+""}function WMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AI(e,t){if(e==null)return{};var r,n,a=UMe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UMe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(null,arguments)}var $Me=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ev(r,t),payload:e}]};function qMe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ev(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var oae=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function VMe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var HMe=(e,t,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return oae(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],l=0,u=0;l<r.length;u+=r[l],++l)if(u+r[l]>i){o=[...r.slice(0,l),i-u];break}var d=o.length%2===0?[0,s]:[s];return[...VMe(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function GMe(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Hr("recharts-line-dot",typeof e!="boolean"?e.className:"");r=A.createElement(Mne,bm({},t,{className:n}))}return r}function YMe(e,t){return e==null?!1:t?!0:e.length===1}function KMe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!YMe(r,a))return null;var{id:o}=n,l=AI(n,RMe),u=YQ(a),d=Vu(l),f=da(a,!0),p=r.map((g,y)=>{var x=Yo(Yo(Yo({key:"dot-".concat(y),r:3},d),f),{},{index:y,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return GMe(a,x)}),h={clipPath:s?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return A.createElement(Hi,bm({className:"recharts-line-dots",key:"dots"},h),p)}function XMe(e){var{showLabels:t,children:r,points:n}=e,a=A.useMemo(()=>n?.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Yo(Yo({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return A.createElement(One,{value:t?a:null},r)}function EW(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:l,needClip:u}=i,d=AI(i,LMe),f=Yo(Yo({},da(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return A.createElement(A.Fragment,null,n?.length>1&&A.createElement(aO,bm({},f,{pathRef:r})),A.createElement(KMe,{points:n,clipPathId:t,props:i}))}function JMe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function ZMe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:h,height:g,onAnimationEnd:y,onAnimationStart:x}=r,b=a.current,N=x1(r,"recharts-line-"),[j,w]=A.useState(!1),C=!j,E=A.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),I=A.useCallback(()=>{typeof x=="function"&&x(),w(!0)},[x]),D=JMe(n.current),O=i.current;return A.createElement(XMe,{points:s,showLabels:C},r.children,A.createElement(v1,{animationId:N,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:E,onAnimationStart:I,key:N},L=>{var R=Ca(O,D+O,L),P=Math.min(R,D),F;if(l)if(o){var V="".concat(o).split(/[,\s]+/gim).map(q=>parseFloat(q));F=HMe(P,D,V)}else F=oae(D,P);else F=o==null?void 0:String(o);if(b){var X=b.length/s.length,te=L===1?s:s.map((q,U)=>{var Q=Math.floor(U*X);if(b[Q]){var se=b[Q];return Yo(Yo({},q),{},{x:Ca(se.x,q.x,L),y:Ca(se.y,q.y,L)})}return p?Yo(Yo({},q),{},{x:Ca(h*2,q.x,L),y:Ca(g/2,q.y,L)}):Yo(Yo({},q),{},{x:q.x,y:q.y})});return a.current=te,A.createElement(EW,{props:r,points:te,clipPathId:t,pathRef:n,strokeDasharray:F})}return L>0&&D>0&&(a.current=s,i.current=P),A.createElement(EW,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:F})}),A.createElement(fI,{label:r.label}))}function QMe(e){var{clipPathId:t,props:r}=e,n=A.useRef(null),a=A.useRef(0),i=A.useRef(null);return A.createElement(ZMe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var eRe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:_n(e.payload,t)});class tRe extends A.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:l,left:u,width:d,height:f,id:p,needClip:h}=this.props;if(r)return null;var g=Hr("recharts-line",i),y=p,{r:x=3,strokeWidth:b=2}=(t=da(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},N=YQ(n),j=x*2+b;return A.createElement(A.Fragment,null,A.createElement(Hi,{className:g},h&&A.createElement("defs",null,A.createElement(Yne,{clipPathId:y,xAxisId:s,yAxisId:o}),!N&&A.createElement("clipPath",{id:"clipPath-dots-".concat(y)},A.createElement("rect",{x:u-j/2,y:l-j/2,width:d+j,height:f+j}))),A.createElement(Gne,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:eRe,errorBarOffset:0},A.createElement(QMe,{props:this.props,clipPathId:y}))),A.createElement(wOe,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var lae={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!qh.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function rRe(e){var t=Ki(e,lae),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:h,yAxisId:g,id:y}=t,x=AI(t,FMe),{needClip:b}=CI(h,g),N=SI(),j=z4(),w=So(),C=Bt(L=>MMe(L,h,g,w,y));if(j!=="horizontal"&&j!=="vertical"||C==null||N==null)return null;var{height:E,width:I,x:D,y:O}=N;return A.createElement(tRe,bm({},x,{id:y,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:h,yAxisId:g,points:C,layout:j,height:E,width:I,left:D,top:O,needClip:b}))}function nRe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=_n(u,s);if(t==="horizontal"){var p=nB({axis:r,ticks:a,bandSize:o,entry:u,index:d}),h=Kn(f)?null:n.scale(f);return{x:p,y:h,value:f,payload:u}}var g=Kn(f)?null:r.scale(f),y=nB({axis:n,ticks:i,bandSize:o,entry:u,index:d});return g==null||y==null?null:{x:g,y,value:f,payload:u}}).filter(Boolean)}function aRe(e){var t=Ki(e,lae),r=So();return A.createElement(wI,{id:t.id,type:"line"},n=>A.createElement(A.Fragment,null,A.createElement(Une,{legendPayload:$Me(t)}),A.createElement(bI,{fn:qMe,args:t}),A.createElement(qne,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),A.createElement(rRe,bm({},t,{id:n}))))}var cae=A.memo(aRe);cae.displayName="Line";var iRe=["dangerouslySetInnerHTML","ticks"],sRe=["id"],oRe=["domain"],lRe=["domain"];function T8(){return T8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T8.apply(null,arguments)}function k5(e,t){if(e==null)return{};var r,n,a=cRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uRe(e){var t=fa();return A.useEffect(()=>(t(lOe(e)),()=>{t(cOe(e))}),[e,t]),null}var dRe=e=>{var{xAxisId:t,className:r}=e,n=Bt(QT),a=So(),i="xAxis",s=Bt(x=>ov(x,i,t,a)),o=Bt(x=>Kre(x,i,t,a)),l=Bt(x=>Vre(x,t)),u=Bt(x=>$ke(x,t)),d=Bt(x=>Nre(x,t));if(l==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,h=k5(e,iRe),{id:g}=d,y=k5(d,sRe);return A.createElement(kI,T8({},h,y,{scale:s,x:u.x,y:u.y,width:l.width,height:l.height,className:Hr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},fRe={allowDataOverflow:$o.allowDataOverflow,allowDecimals:$o.allowDecimals,allowDuplicatedCategory:$o.allowDuplicatedCategory,height:$o.height,hide:!1,mirror:$o.mirror,orientation:$o.orientation,padding:$o.padding,reversed:$o.reversed,scale:$o.scale,tickCount:$o.tickCount,type:$o.type,xAxisId:0},hRe=e=>{var t,r,n,a,i,s=Ki(e,fRe);return A.createElement(A.Fragment,null,A.createElement(uRe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),A.createElement(dRe,s))},pRe=(e,t)=>{var{domain:r}=e,n=k5(e,oRe),{domain:a}=t,i=k5(t,lRe);return M0(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:M0({domain:r},{domain:a}):!1},O8=A.memo(hRe,pRe);O8.displayName="XAxis";var mRe=["dangerouslySetInnerHTML","ticks"],gRe=["id"],vRe=["domain"],xRe=["domain"];function I8(){return I8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I8.apply(null,arguments)}function A5(e,t){if(e==null)return{};var r,n,a=yRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bRe(e){var t=fa();return A.useEffect(()=>(t(uOe(e)),()=>{t(dOe(e))}),[e,t]),null}var wRe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=A.useRef(null),s=A.useRef(null),o=Bt(QT),l=So(),u=fa(),d="yAxis",f=Bt(C=>ov(C,d,t,l)),p=Bt(C=>Hre(C,t)),h=Bt(C=>Vke(C,t)),g=Bt(C=>Kre(C,d,t,l)),y=Bt(C=>Sre(C,t));if(A.useLayoutEffect(()=>{if(!(n!=="auto"||!p||dI(a)||A.isValidElement(a)||y==null)){var C=i.current;if(C){var E=C.getCalculatedWidth();Math.round(p.width)!==Math.round(E)&&u(fOe({id:t,width:E}))}}},[g,p,u,a,t,n,y]),p==null||h==null||y==null)return null;var{dangerouslySetInnerHTML:x,ticks:b}=e,N=A5(e,mRe),{id:j}=y,w=A5(y,gRe);return A.createElement(kI,I8({},N,w,{ref:i,labelRef:s,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Hr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:g}))},NRe={allowDataOverflow:qo.allowDataOverflow,allowDecimals:qo.allowDecimals,allowDuplicatedCategory:qo.allowDuplicatedCategory,hide:!1,mirror:qo.mirror,orientation:qo.orientation,padding:qo.padding,reversed:qo.reversed,scale:qo.scale,tickCount:qo.tickCount,type:qo.type,width:qo.width,yAxisId:0},SRe=e=>{var t,r,n,a,i,s=Ki(e,NRe);return A.createElement(A.Fragment,null,A.createElement(bRe,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),A.createElement(wRe,s))},jRe=(e,t)=>{var{domain:r}=e,n=A5(e,vRe),{domain:a}=t,i=A5(t,xRe);return M0(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:M0({domain:r},{domain:a}):!1},M8=A.memo(SRe,jRe);M8.displayName="YAxis";var ij={exports:{}},sj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PW;function CRe(){if(PW)return sj;PW=1;var e=Yi();function t(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,s=e.useMemo,o=e.useDebugValue;return sj.useSyncExternalStoreWithSelector=function(l,u,d,f,p){var h=a(null);if(h.current===null){var g={hasValue:!1,value:null};h.current=g}else g=h.current;h=s(function(){function x(C){if(!b){if(b=!0,N=C,C=f(C),p!==void 0&&g.hasValue){var E=g.value;if(p(E,C))return j=E}return j=C}if(E=j,r(N,C))return E;var I=f(C);return p!==void 0&&p(E,I)?(N=C,E):(N=C,j=I)}var b=!1,N,j,w=d===void 0?null:d;return[function(){return x(u())},w===null?void 0:function(){return x(w())}]},[u,d,f,p]);var y=n(l,h[0],h[1]);return i(function(){g.hasValue=!0,g.value=y},[y]),o(y),y},sj}var kW;function _Re(){return kW||(kW=1,ij.exports=CRe()),ij.exports}_Re();function ERe(e){e()}function PRe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ERe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var AW={notify(){},get:()=>[]};function kRe(e,t){let r,n=AW,a=0,i=!1;function s(y){d();const x=n.subscribe(y);let b=!1;return()=>{b||(b=!0,x(),f())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(l),n=PRe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=AW)}function p(){i||(i=!0,d())}function h(){i&&(i=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:h,getListeners:()=>n};return g}var ARe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",DRe=ARe(),TRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ORe=TRe(),IRe=()=>DRe||ORe?A.useLayoutEffect:A.useEffect,MRe=IRe(),RRe=Symbol.for("react-redux-context"),LRe=typeof globalThis<"u"?globalThis:{};function FRe(){if(!A.createContext)return{};const e=LRe[RRe]??=new Map;let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var BRe=FRe();function zRe(e){const{children:t,context:r,serverState:n,store:a}=e,i=A.useMemo(()=>{const l=kRe(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),s=A.useMemo(()=>a.getState(),[a]);MRe(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const o=r||BRe;return A.createElement(o.Provider,{value:i},t)}var WRe=zRe,URe=(e,t)=>t,DI=He([URe,Lr,yre,di,une,wf,X8e,ci],tAe),TI=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},uae=Hl("mouseClick"),dae=m1();dae.startListening({actionCreator:uae,effect:(e,t)=>{var r=e.payload,n=DI(t.getState(),TI(r));n?.activeIndex!=null&&t.dispatch(a8e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var R8=Hl("mouseMove"),fae=m1();fae.startListening({actionCreator:R8,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=tI(n,n.tooltip.settings.shared),i=DI(n,TI(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(nne({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(rne()))}});var DW={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},hae=fl({name:"rootProps",initialState:DW,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:DW.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),$Re=hae.reducer,{updateOptions:qRe}=hae.actions,pae=fl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:VRe}=pae.actions,HRe=pae.reducer,mae=Hl("keyDown"),gae=Hl("focus"),OI=m1();OI.startListening({actionCreator:mae,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(rI(a,cv(r))),o=wf(r);if(i==="Enter"){var l=N5(r,"axis","hover",String(a.index));t.dispatch(S8({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var u=Kke(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,p=s+f*d;if(!(o==null||p>=o.length||p<0)){var h=N5(r,"axis","hover",String(p));t.dispatch(S8({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});OI.startListening({actionCreator:gae,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=N5(r,"axis","hover",String(i));t.dispatch(S8({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Rl=Hl("externalEvent"),vae=m1();vae.startListening({actionCreator:Rl,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:z8e(r),activeDataKey:pne(r),activeIndex:Th(r),activeLabel:hne(r),activeTooltipIndex:Th(r),isTooltipActive:W8e(r)};e.payload.handler(n,e.payload.reactEvent)}}});var GRe=He([lv],e=>e.tooltipItemPayloads),YRe=He([GRe,P1,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),xae=Hl("touchMove"),yae=m1();yae.startListening({actionCreator:xae,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=tI(n,n.tooltip.settings.shared);if(a==="axis"){var i=DI(n,TI({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(nne({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var u=l.getAttribute(rte),d=(s=l.getAttribute(nte))!==null&&s!==void 0?s:void 0,f=YRe(t.getState(),u,d);t.dispatch(tne({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var KRe=Pee({brush:IIe,cartesianAxis:hOe,chartData:vAe,errorBars:OOe,graphicalItems:TTe,layout:XSe,legend:zje,options:fAe,polarAxis:KDe,polarOptions:HRe,referenceElements:WIe,rootProps:$Re,tooltip:i8e}),XRe=function(t){return wSe({reducer:KRe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([dae.middleware,fae.middleware,OI.middleware,vae.middleware,yae.middleware]),devTools:qh.devToolsEnabled})};function bae(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=So(),i=A.useRef(null);if(a)return r;i.current==null&&(i.current=XRe(t));var s=GT;return A.createElement(WRe,{context:s,store:i.current},r)}function wae(e){var{layout:t,width:r,height:n,margin:a}=e,i=fa(),s=So();return A.useEffect(()=>{s||(i(GSe(t)),i(YSe({width:r,height:n})),i(HSe(a)))},[i,s,t,r,n,a]),null}function Nae(e){var t=fa();return A.useEffect(()=>{t(qRe(e))},[t,e]),null}var JRe=["children"];function ZRe(e,t){if(e==null)return{};var r,n,a=QRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function D5(){return D5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D5.apply(null,arguments)}var e7e={width:"100%",height:"100%"},t7e=A.forwardRef((e,t)=>{var r=tO(),n=rO(),a=lte();if(!A0(r)||!A0(n))return null;var{children:i,otherAttributes:s,title:o,desc:l}=e,u,d;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?d=s.role:d=a?"application":void 0,A.createElement(FT,D5({},s,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:e7e,ref:t}),i)}),r7e=e=>{var{children:t}=e,r=Bt(B4);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return A.createElement(FT,{width:n,height:a,x:s,y:i},t)},TW=A.forwardRef((e,t)=>{var{children:r}=e,n=ZRe(e,JRe),a=So();return a?A.createElement(r7e,null,r):A.createElement(t7e,D5({ref:t},n),r)});function n7e(){var e=fa(),[t,r]=A.useState(null),n=Bt(Cje);return A.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;cl(i)&&i!==n&&e(KSe(i))}},[t,e,n]),r}function OW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a7e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OW(Object(r),!0).forEach(function(n){i7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7e(e,t,r){return(t=s7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7e(e){var t=o7e(e,"string");return typeof t=="symbol"?t:t+""}function o7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l7e=A.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:h,onTouchMove:g,onTouchStart:y,style:x,width:b}=e,N=fa(),[j,w]=A.useState(null),[C,E]=A.useState(null);_Ae();var I=n7e(),D=A.useCallback(T=>{I(T),typeof t=="function"&&t(T),w(T),E(T)},[I,t,w,E]),O=A.useCallback(T=>{N(uae(T)),N(Rl({handler:i,reactEvent:T}))},[N,i]),L=A.useCallback(T=>{N(R8(T)),N(Rl({handler:u,reactEvent:T}))},[N,u]),R=A.useCallback(T=>{N(rne()),N(Rl({handler:d,reactEvent:T}))},[N,d]),P=A.useCallback(T=>{N(R8(T)),N(Rl({handler:f,reactEvent:T}))},[N,f]),F=A.useCallback(()=>{N(gae())},[N]),V=A.useCallback(T=>{N(mae(T.key))},[N]),X=A.useCallback(T=>{N(Rl({handler:s,reactEvent:T}))},[N,s]),te=A.useCallback(T=>{N(Rl({handler:o,reactEvent:T}))},[N,o]),q=A.useCallback(T=>{N(Rl({handler:l,reactEvent:T}))},[N,l]),U=A.useCallback(T=>{N(Rl({handler:p,reactEvent:T}))},[N,p]),Q=A.useCallback(T=>{N(Rl({handler:y,reactEvent:T}))},[N,y]),se=A.useCallback(T=>{N(xae(T)),N(Rl({handler:g,reactEvent:T}))},[N,g]),K=A.useCallback(T=>{N(Rl({handler:h,reactEvent:T}))},[N,h]);return A.createElement(bne.Provider,{value:j},A.createElement(KQ.Provider,{value:C},A.createElement("div",{className:Hr("recharts-wrapper",n),style:a7e({position:"relative",cursor:"default",width:b,height:a},x),onClick:O,onContextMenu:X,onDoubleClick:te,onFocus:F,onKeyDown:V,onMouseDown:q,onMouseEnter:L,onMouseLeave:R,onMouseMove:P,onMouseUp:U,onTouchEnd:K,onTouchMove:se,onTouchStart:Q,ref:D},r)))}),c7e=["children","className","width","height","style","compact","title","desc"];function u7e(e,t){if(e==null)return{};var r,n,a=d7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function d7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sae=A.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:o,title:l,desc:u}=e,d=u7e(e,c7e),f=Vu(d);return o?A.createElement(TW,{otherAttributes:f,title:l,desc:u},r):A.createElement(l7e,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(TW,{otherAttributes:f,title:l,desc:u,ref:t},A.createElement($Ie,null,r)))}),f7e=["width","height"];function L8(){return L8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L8.apply(null,arguments)}function h7e(e,t){if(e==null)return{};var r,n,a=p7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m7e={top:5,right:5,bottom:5,left:5},g7e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:m7e,reverseStackOrder:!1,syncMethod:"index"},jae=A.forwardRef(function(t,r){var n,a=Ki(t.categoricalChartProps,g7e),{width:i,height:s}=a,o=h7e(a,f7e);if(!A0(i)||!A0(s))return null;var{chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,h={chartName:l,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return A.createElement(bae,{preloadedState:{options:h},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:l},A.createElement(Zne,{chartData:p.data}),A.createElement(wae,{width:i,height:s,layout:a.layout,margin:a.margin}),A.createElement(Nae,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(Sae,L8({},o,{width:i,height:s,ref:r})))}),v7e=["axis"],x7e=A.forwardRef((e,t)=>A.createElement(jae,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:v7e,tooltipPayloadSearcher:uI,categoricalChartProps:e,ref:t})),y7e=["axis","item"],b7e=A.forwardRef((e,t)=>A.createElement(jae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:y7e,tooltipPayloadSearcher:uI,categoricalChartProps:e,ref:t}));function w7e(e){var t=fa();return A.useEffect(()=>{t(VRe(e))},[t,e]),null}var N7e=["width","height","layout"];function F8(){return F8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F8.apply(null,arguments)}function S7e(e,t){if(e==null)return{};var r,n,a=j7e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function j7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var C7e={top:5,right:5,bottom:5,left:5},_7e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:C7e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},E7e=A.forwardRef(function(t,r){var n,a=Ki(t.categoricalChartProps,_7e),{width:i,height:s,layout:o}=a,l=S7e(a,N7e);if(!A0(i)||!A0(s))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p}=t,h={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return A.createElement(bae,{preloadedState:{options:h},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},A.createElement(Zne,{chartData:a.data}),A.createElement(wae,{width:i,height:s,layout:o,margin:a.margin}),A.createElement(Nae,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(w7e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),A.createElement(Sae,F8({width:i,height:s},l,{ref:r})))}),P7e=["item"],k7e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},IW=A.forwardRef((e,t)=>{var r=Ki(e,k7e);return A.createElement(E7e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:P7e,tooltipPayloadSearcher:uI,categoricalChartProps:r,ref:t})});const A7e=({onNavigate:e})=>{const t=No(),[r,n]=A.useState({totalLeads:0,newLeads:0,contacted:0,converted:0,eventCompleted:0,totalRevenue:0,pendingPayments:0,receivedPayments:0,conversionRate:0,totalEvents:0,upcomingEvents:0,totalPhotographers:0,activePhotographers:0}),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState([]),[d,f]=A.useState({revenue:[],leadsByType:[],paymentStatus:[]}),[p,h]=A.useState(!0),[g,y]=A.useState(!1),[x,b]=A.useState(null),[N,j]=A.useState(!1),w="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{C();const F=setInterval(C,3e5);return()=>clearInterval(F)},[]);const C=async()=>{try{h(!0);const[F,V,X,te]=await Promise.all([fetch(w,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})}),fetch(w,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getEvents"})}),fetch(w,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPayments"})}),fetch(w,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPhotographers"})})]),q=await F.json(),U=await V.json(),Q=await X.json(),se=await te.json();q.success&&U.success&&Q.success&&E(q.leads||[],U.events||[],Q.payments||[],se.photographers||[])}catch(F){console.error("Error fetching dashboard data:",F)}finally{h(!1)}},E=(F,V,X,te)=>{const q=X.filter(ae=>ae.status==="Received").reduce((ae,pe)=>ae+parseFloat(pe.amount||0),0),U=X.filter(ae=>ae.status==="Pending").reduce((ae,pe)=>ae+parseFloat(pe.amount||0),0),Q=new Date;Q.setHours(0,0,0,0);const se=new Date(Q);se.setMonth(se.getMonth()+1);const K=V.filter(ae=>{if(!ae.eventDate)return!1;const pe=new Date(ae.eventDate);return pe>=Q&&pe<=se}).map(ae=>({...ae,source:"events",status:ae.status||"Scheduled"})),T=F.filter(ae=>{if(!["Converted","Event Completed"].includes(ae.Status)||!ae["Event Date"])return!1;const pe=new Date(ae["Event Date"]);return pe>=Q&&pe<=se}).map(ae=>({id:ae.id,clientName:ae["Client Name"],eventType:ae["Event Type"],eventDate:ae["Event Date"],venue:ae.Venue||"",phone:ae.Phone,email:ae.Email,amount:ae.Amount||0,photographer:ae.Photographer||"",source:"leads",status:ae.Status,notes:ae.Notes||""})),J=[...K,...T].filter((ae,pe,de)=>pe===de.findIndex(we=>we.clientName===ae.clientName&&we.eventDate===ae.eventDate));J.sort((ae,pe)=>new Date(ae.eventDate)-new Date(pe.eventDate)),n({totalLeads:F.length,newLeads:F.filter(ae=>ae.Status==="New Lead").length,contacted:F.filter(ae=>ae.Status==="Contacted").length,converted:F.filter(ae=>ae.Status==="Converted"||ae.Status==="Event Completed").length,eventCompleted:F.filter(ae=>ae.Status==="Event Completed").length,totalRevenue:q,pendingPayments:U,receivedPayments:X.filter(ae=>ae.status==="Received").length,conversionRate:F.length>0?Math.round(F.filter(ae=>ae.Status==="Converted"||ae.Status==="Event Completed").length/F.length*100):0,totalEvents:V.length,upcomingEvents:J.length,totalPhotographers:te.length,activePhotographers:te.filter(ae=>ae.status==="Active").length});const Y=F.sort((ae,pe)=>new Date(pe["Created At"])-new Date(ae["Created At"])).slice(0,5);i(Y),o(J.slice(0,10));const ee=X.sort((ae,pe)=>new Date(pe.date)-new Date(ae.date)).slice(0,5);u(ee),I(F,V,X)},I=(F,V,X)=>{const te=[],q=new Date;for(let K=5;K>=0;K--){const T=new Date(q.getFullYear(),q.getMonth()-K,1),W=T.toLocaleDateString("en-IN",{month:"short"}),Y=X.filter(ee=>{const ae=new Date(ee.date);return ae.getMonth()===T.getMonth()&&ae.getFullYear()===T.getFullYear()&&ee.status==="Received"}).reduce((ee,ae)=>ee+parseFloat(ae.amount||0),0);te.push({month:W,revenue:Y,events:V.filter(ee=>{const ae=new Date(ee.eventDate);return ae.getMonth()===T.getMonth()&&ae.getFullYear()===T.getFullYear()}).length})}const U={};F.forEach(K=>{const T=K["Event Type"]||"Other";U[T]=(U[T]||0)+1});const Q=Object.keys(U).map(K=>({name:K,value:U[K]})),se=[{name:"Received",value:X.filter(K=>K.status==="Received").length},{name:"Pending",value:X.filter(K=>K.status==="Pending").length},{name:"Overdue",value:X.filter(K=>K.status==="Overdue").length}];f({revenue:te,leadsByType:Q,paymentStatus:se})},D=F=>""+parseFloat(F||0).toLocaleString("en-IN"),O=F=>{if(!F)return"N/A";try{return new Date(F).toLocaleDateString("en-IN",{day:"numeric",month:"short"})}catch{return F}},L=["#4F46E5","#7C3AED","#EC4899","#F59E0B","#10B981","#3B82F6"],R=F=>{switch(y(!1),F){case"lead":t("/crm/leads");break;case"event":t("/crm/events");break;case"payment":t("/crm/payments");break;case"photographer":t("/crm/photographers");break;case"attendance":t("/crm/attendance");break}},P=()=>c.jsx(Kt,{children:g&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>y(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:F=>F.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl p-6 max-w-md w-full mx-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Quick Add"}),c.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-gray-600"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:()=>R("lead"),className:"p-6 bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-xl text-white transition-all transform hover:scale-105 shadow-lg",children:[c.jsx(Qg,{className:"text-3xl mb-3 mx-auto"}),c.jsx("p",{className:"font-semibold",children:"Add Lead"}),c.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"New client inquiry"})]}),c.jsxs("button",{onClick:()=>R("event"),className:"p-6 bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 rounded-xl text-white transition-all transform hover:scale-105 shadow-lg",children:[c.jsx(Wp,{className:"text-3xl mb-3 mx-auto"}),c.jsx("p",{className:"font-semibold",children:"Add Event"}),c.jsx("p",{className:"text-xs text-green-100 mt-1",children:"Schedule shoot"})]}),c.jsxs("button",{onClick:()=>R("payment"),className:"p-6 bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 rounded-xl text-white transition-all transform hover:scale-105 shadow-lg",children:[c.jsx(Cn,{className:"text-3xl mb-3 mx-auto"}),c.jsx("p",{className:"font-semibold",children:"Add Payment"}),c.jsx("p",{className:"text-xs text-purple-100 mt-1",children:"Record transaction"})]}),c.jsxs("button",{onClick:()=>R("photographer"),className:"p-6 bg-gradient-to-br from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 rounded-xl text-white transition-all transform hover:scale-105 shadow-lg",children:[c.jsx(qa,{className:"text-3xl mb-3 mx-auto"}),c.jsx("p",{className:"font-semibold",children:"Add Photographer"}),c.jsx("p",{className:"text-xs text-orange-100 mt-1",children:"Team member"})]}),c.jsxs("button",{onClick:()=>R("attendance"),className:"p-6 bg-gradient-to-br from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700 rounded-xl text-white transition-all transform hover:scale-105 shadow-lg col-span-2",children:[c.jsx(Pr,{className:"text-3xl mb-3 mx-auto"}),c.jsx("p",{className:"font-semibold",children:"Mark Attendance"}),c.jsx("p",{className:"text-xs text-teal-100 mt-1",children:"Daily check-in"})]})]}),c.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Quick access to common actions"})})]})})});return p?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your business."})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[c.jsx(qs,{}),"Export Report"]}),c.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-md",children:[c.jsx(bs,{}),"Quick Add"]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:c.jsx(Cn,{className:"text-2xl"})}),c.jsx("span",{className:"text-sm bg-white/20 px-3 py-1 rounded-full",children:"This Month"})]}),c.jsx("h3",{className:"text-3xl font-bold mb-2",children:D(r.totalRevenue)}),c.jsx("p",{className:"text-blue-100",children:"Total Revenue"}),c.jsxs("div",{className:"mt-3 flex items-center text-sm",children:[c.jsx(xX,{className:"mr-1"}),c.jsx("span",{children:"12% from last month"})]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:c.jsx(Qg,{className:"text-2xl text-purple-600"})}),c.jsxs("span",{className:"text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full font-medium",children:[r.newLeads," New"]})]}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:r.totalLeads}),c.jsx("p",{className:"text-gray-600",children:"Total Leads"}),c.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:[c.jsx(lk,{className:"text-orange-500 mr-1"}),c.jsxs("span",{children:[r.conversionRate,"% conversion rate"]})]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:c.jsx(Wp,{className:"text-2xl text-green-600"})}),c.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full font-medium",children:"This Week"})]}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:r.upcomingEvents}),c.jsx("p",{className:"text-gray-600",children:"Upcoming Events"}),c.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:[c.jsx(ri,{className:"text-yellow-500 mr-1"}),c.jsxs("span",{children:[r.totalEvents," total events"]})]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:c.jsx(ju,{className:"text-2xl text-red-600"})}),c.jsx("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full font-medium",children:"Action Needed"})]}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800 mb-2",children:D(r.pendingPayments)}),c.jsx("p",{className:"text-gray-600",children:"Pending Payments"}),c.jsxs("div",{className:"mt-3 flex items-center text-sm text-gray-500",children:[c.jsx(Pr,{className:"text-green-500 mr-1"}),c.jsxs("span",{children:[r.receivedPayments," received"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Revenue Overview"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{className:"text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded-lg font-medium",children:"6M"}),c.jsx("button",{className:"text-sm px-3 py-1 text-gray-600 hover:bg-gray-100 rounded-lg",children:"1Y"})]})]}),c.jsx(fb,{width:"100%",height:300,children:c.jsxs(x7e,{data:d.revenue,children:[c.jsx(D8,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),c.jsx(O8,{dataKey:"month",stroke:"#666"}),c.jsx(M8,{stroke:"#666"}),c.jsx(db,{formatter:F=>D(F),contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),c.jsx(yy,{}),c.jsx(cae,{type:"monotone",dataKey:"revenue",stroke:"#4F46E5",strokeWidth:3,dot:{fill:"#4F46E5",r:5},activeDot:{r:7}})]})})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Events by Month"}),c.jsx(fb,{width:"100%",height:300,children:c.jsxs(b7e,{data:d.revenue,children:[c.jsx(D8,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),c.jsx(O8,{dataKey:"month",stroke:"#666"}),c.jsx(M8,{stroke:"#666"}),c.jsx(db,{contentStyle:{borderRadius:"8px",border:"1px solid #e5e7eb"}}),c.jsx(yy,{}),c.jsx(Xne,{dataKey:"events",fill:"#10B981",radius:[8,8,0,0]})]})})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Lead Distribution by Type"}),c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(fb,{width:"100%",height:300,children:c.jsxs(IW,{children:[c.jsx(P8,{data:d.leadsByType,cx:"50%",cy:"50%",labelLine:!1,label:({name:F,percent:V})=>`${F}: ${(V*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:d.leadsByType.map((F,V)=>c.jsx(vh,{fill:L[V%L.length]},`cell-${V}`))}),c.jsx(db,{})]})})})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-6",children:"Payment Status"}),c.jsx("div",{className:"flex items-center justify-center",children:c.jsx(fb,{width:"100%",height:300,children:c.jsxs(IW,{children:[c.jsxs(P8,{data:d.paymentStatus,cx:"50%",cy:"50%",labelLine:!1,label:({name:F,value:V})=>`${F}: ${V}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:[c.jsx(vh,{fill:"#10B981"}),c.jsx(vh,{fill:"#F59E0B"}),c.jsx(vh,{fill:"#EF4444"})]}),c.jsx(db,{})]})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recent Leads"}),c.jsx(gu,{className:"text-blue-600"})]}),c.jsx("div",{className:"space-y-3",children:a.map((F,V)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:c.jsx(Qg,{className:"text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-900",children:F["Client Name"]}),c.jsx("p",{className:"text-sm text-gray-600",children:F["Event Type"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O(F["Created At"])})]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${F.Status==="New Lead"?"bg-blue-100 text-blue-600":F.Status==="Contacted"?"bg-yellow-100 text-yellow-600":"bg-green-100 text-green-600"}`,children:F.Status})]},V))})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200 h-full flex flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Upcoming Events"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full font-medium",children:s.length}),c.jsx(Wp,{className:"text-green-600"})]})]}),s.length>0?c.jsx("div",{className:"space-y-3 overflow-y-auto flex-1",style:{maxHeight:"400px"},children:s.map((F,V)=>{const X=new Date(F.eventDate),q=Math.ceil((X-new Date)/(1e3*60*60*24));return c.jsxs(le.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:V*.05},onClick:()=>{b(F),j(!0)},className:"flex items-center gap-3 p-3 bg-white border-2 border-gray-100 rounded-xl hover:border-green-300 hover:shadow-md transition-all cursor-pointer group",children:[c.jsxs("div",{className:"bg-gradient-to-br from-green-100 to-green-200 p-3 rounded-xl min-w-[65px] text-center border border-green-300",children:[c.jsx("p",{className:"text-2xl font-bold text-green-700",children:X.getDate()}),c.jsx("p",{className:"text-xs text-green-600 uppercase font-medium",children:X.toLocaleDateString("en-IN",{month:"short"})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 truncate group-hover:text-green-600 transition-colors",children:F.clientName}),c.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full flex-shrink-0 ${F.source==="leads"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:F.source==="leads"?"Lead":"Event"})]}),c.jsxs("p",{className:"text-sm text-gray-600 truncate mb-2",children:[" ",F.eventType]}),c.jsx("span",{className:`inline-flex text-xs px-2 py-1 rounded-full font-medium ${q===0?"bg-red-100 text-red-700":q<=3?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:q===0?" Today!":q===1?" Tomorrow":` ${q} days`})]})]},V)})}):c.jsxs("div",{className:"text-center py-12 flex-1 flex flex-col items-center justify-center",children:[c.jsx(Wp,{className:"text-6xl text-gray-300 mb-4"}),c.jsx("p",{className:"text-gray-500 font-medium mb-1",children:"No upcoming events"}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Convert leads or schedule events"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>t("/crm/leads"),className:"text-blue-600 hover:text-blue-700 text-sm font-medium hover:underline",children:"View Leads"}),c.jsx("span",{className:"text-gray-300",children:""}),c.jsx("button",{onClick:()=>t("/crm/events"),className:"text-purple-600 hover:text-purple-700 text-sm font-medium hover:underline",children:"Add Event"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Recent Payments"}),c.jsx(Cn,{className:"text-purple-600"})]}),c.jsx("div",{className:"space-y-3",children:l.map((F,V)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:c.jsx(Zg,{className:"text-purple-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-gray-900",children:F.clientName}),c.jsx("p",{className:"text-sm text-gray-600",children:D(F.amount)}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:O(F.date)})]}),c.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${F.status==="Received"?"bg-green-100 text-green-600":F.status==="Pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:F.status})]},V))})]})]}),c.jsx(P,{}),c.jsx(Kt,{children:N&&x&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:F=>F.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full",children:[c.jsx("div",{className:"bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:x.clientName}),c.jsx("p",{className:"text-green-100 text-sm mt-1",children:x.eventType})]}),c.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{})})]})}),c.jsxs("div",{className:"p-6 space-y-4 max-h-[60vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 rounded-lg",children:[c.jsx(Wp,{className:"text-blue-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Event Date"}),c.jsx("p",{className:"font-semibold text-gray-900",children:new Date(x.eventDate).toLocaleDateString("en-IN",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),x.venue&&c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 rounded-lg",children:[c.jsx(Ou,{className:"text-purple-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Venue"}),c.jsx("p",{className:"font-semibold text-gray-900",children:x.venue})]})]}),x.phone&&c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[c.jsx(qi,{className:"text-green-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),c.jsx("p",{className:"font-semibold text-gray-900",children:x.phone})]})]}),x.email&&c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-lg",children:[c.jsx(Ga,{className:"text-orange-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),c.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:x.email})]})]}),x.photographer&&c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-indigo-50 rounded-lg",children:[c.jsx(qa,{className:"text-indigo-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Photographer"}),c.jsx("p",{className:"font-semibold text-gray-900",children:x.photographer})]})]}),x.amount&&c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[c.jsx(Cn,{className:"text-yellow-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Amount"}),c.jsxs("p",{className:"font-semibold text-gray-900",children:["",parseFloat(x.amount).toLocaleString("en-IN")]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("span",{className:`flex-1 text-center px-3 py-2 rounded-lg text-sm font-medium ${x.status==="Event Completed"?"bg-green-100 text-green-700":x.status==="Converted"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:x.status}),c.jsxs("span",{className:`flex-1 text-center px-3 py-2 rounded-lg text-sm font-medium ${x.source==="leads"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:["From ",x.source==="leads"?"Leads":"Events"]})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-b-2xl flex gap-3",children:[c.jsxs("button",{onClick:()=>{j(!1),t(x.source==="leads"?"/crm/leads":"/crm/events")},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors font-medium",children:["View in ",x.source==="leads"?"Leads":"Events"]}),c.jsx("button",{onClick:()=>j(!1),className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg transition-colors font-medium",children:"Close"})]})]})})})]})},D7e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState(""),[s,o]=A.useState("All"),[l,u]=A.useState(null),[d,f]=A.useState(!1),[p,h]=A.useState(!1),[g,y]=A.useState(!1),[x,b]=A.useState({}),N="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec",j={"New Lead":{color:"bg-blue-100 text-blue-800",icon:hn,nextActions:["Contacted","Lost"]},Contacted:{color:"bg-yellow-100 text-yellow-800",icon:qi,nextActions:["Proposal Sent","Negotiating","Lost"]},"Proposal Sent":{color:"bg-purple-100 text-purple-800",icon:NX,nextActions:["Negotiating","Converted","Lost"]},Negotiating:{color:"bg-orange-100 text-orange-800",icon:Cn,nextActions:["Converted","Lost"]},Converted:{color:"bg-green-100 text-green-800",icon:KN,nextActions:["Event Completed"]},"Event Completed":{color:"bg-teal-100 text-teal-800",icon:KN,nextActions:[]},Lost:{color:"bg-red-100 text-red-800",icon:pr,nextActions:["New Lead","Contacted"]}};A.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0);const F=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json();F.success&&F.leads?t(F.leads):console.error("Failed to fetch leads:",F.message)}catch(P){console.error("Error fetching leads:",P),alert("Failed to load leads. Please check your connection.")}finally{n(!1)}},C=async(P,F)=>{try{const X=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"updateLead",id:P.id,Status:F,"Updated At":new Date().toISOString()})})).json();X.success?(t(e.map(te=>te.id===P.id?{...te,Status:F,"Updated At":new Date().toISOString()}:te)),alert(` Status updated to: ${F}`),F==="Converted"&&alert(" Lead converted! Booking confirmation email will be sent.")):alert(" Error: "+X.message)}catch(V){console.error("Error updating status:",V),alert("Failed to update status. Please try again.")}},E=async()=>{try{const F=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"updateLead",id:x.id,...x})})).json();F.success?(alert(" Lead updated successfully!"),h(!1),w()):alert(" Error: "+F.message)}catch(P){console.error("Error updating lead:",P),alert("Failed to update lead")}},I=async P=>{if(confirm(`Are you sure you want to delete lead for ${P["Client Name"]}?`))try{const V=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"deleteLead",id:P.id})})).json();V.success?(alert(" Lead deleted successfully"),w()):alert(" Error: "+V.message)}catch(F){console.error("Error deleting lead:",F),alert("Failed to delete lead")}},D=P=>{b({...P}),u(P),h(!0)},O=e.filter(P=>{const F=P["Client Name"]?.toLowerCase().includes(a.toLowerCase())||P.Email?.toLowerCase().includes(a.toLowerCase())||P.Phone?.includes(a)||P["Event Type"]?.toLowerCase().includes(a.toLowerCase()),V=s==="All"||P.Status===s;return F&&V}),L={total:e.length,new:e.filter(P=>P.Status==="New Lead").length,contacted:e.filter(P=>P.Status==="Contacted").length,converted:e.filter(P=>P.Status==="Converted").length,lost:e.filter(P=>P.Status==="Lost").length,conversionRate:e.length>0?Math.round(e.filter(P=>P.Status==="Converted").length/e.length*100):0},R=P=>P?new Date(P).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A";return r?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading leads..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(hn,{className:"text-blue-600"}),"Leads Manager"]}),c.jsx("p",{className:"text-gray-600",children:"Manage and track all your photography leads"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx(dm,{className:"text-3xl opacity-80"})}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:L.total}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Total Leads"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx(gu,{className:"text-3xl opacity-80"})}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:L.new}),c.jsx("p",{className:"text-yellow-100 text-sm",children:"New Leads"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx(qi,{className:"text-3xl opacity-80"})}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:L.contacted}),c.jsx("p",{className:"text-orange-100 text-sm",children:"Contacted"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx(KN,{className:"text-3xl opacity-80"})}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:L.converted}),c.jsx("p",{className:"text-green-100 text-sm",children:"Converted"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx(dm,{className:"text-3xl opacity-80"})}),c.jsxs("h3",{className:"text-2xl font-bold mb-1",children:[L.conversionRate,"%"]}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Conversion Rate"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Y0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by name, email, phone, or event type...",value:a,onChange:P=>i(P.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Q5,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),c.jsxs("select",{value:s,onChange:P=>o(P.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"New Lead",children:"New Lead"}),c.jsx("option",{value:"Contacted",children:"Contacted"}),c.jsx("option",{value:"Proposal Sent",children:"Proposal Sent"}),c.jsx("option",{value:"Negotiating",children:"Negotiating"}),c.jsx("option",{value:"Converted",children:"Converted"}),c.jsx("option",{value:"Event Completed",children:"Event Completed"}),c.jsx("option",{value:"Lost",children:"Lost"})]})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:O.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(hn,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No leads found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Lead ID"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Client"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Event"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:O.map((P,F)=>{const V=j[P.Status]||j["New Lead"];return V.icon,c.jsxs(le.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:F*.05},className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"text-sm font-mono text-gray-600",children:[P["Lead ID"]?.substring(0,15),"..."]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:P["Client Name"]}),c.jsx("div",{className:"text-sm text-gray-500",children:P.Email}),c.jsx("div",{className:"text-sm text-gray-500",children:P.Phone})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:P["Event Type"]}),c.jsx("div",{className:"text-sm text-gray-500",children:P["Package Category"]})]})}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:R(P["Event Date"])}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex justify-center",children:c.jsxs("select",{value:P.Status,onChange:X=>C(P,X.target.value),className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${V.color} cursor-pointer border-none focus:ring-2 focus:ring-blue-500`,children:[c.jsx("option",{value:P.Status,children:P.Status}),V.nextActions.map(X=>c.jsx("option",{value:X,children:X},X))]})})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>{u(P),f(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:c.jsx(sl,{})}),c.jsx("button",{onClick:()=>D(P),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Lead",children:c.jsx(tl,{})}),c.jsx("button",{onClick:()=>I(P),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Lead",children:c.jsx(bh,{})})]})})]},P.id||F)})})]})})}),c.jsx(Kt,{children:d&&l&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>f(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:P=>P.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:l["Client Name"]}),c.jsx("p",{className:"text-blue-100 mt-1",children:l["Lead ID"]})]}),c.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),c.jsxs("p",{className:"text-gray-900 flex items-center gap-2 mt-1",children:[c.jsx(Ga,{className:"text-blue-600"}),l.Email]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),c.jsxs("p",{className:"text-gray-900 flex items-center gap-2 mt-1",children:[c.jsx(qi,{className:"text-green-600"}),l.Phone]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Type"}),c.jsx("p",{className:"text-gray-900 mt-1",children:l["Event Type"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Date"}),c.jsxs("p",{className:"text-gray-900 flex items-center gap-2 mt-1",children:[c.jsx(um,{className:"text-purple-600"}),R(l["Event Date"])]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Package"}),c.jsx("p",{className:"text-gray-900 mt-1",children:l["Package Category"]||"Not selected"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Budget"}),c.jsxs("p",{className:"text-gray-900 flex items-center gap-2 mt-1",children:[c.jsx(Cn,{className:"text-green-600"}),l.Budget||"Not specified"]})]})]}),l.Venue&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),c.jsxs("p",{className:"text-gray-900 flex items-center gap-2 mt-1",children:[c.jsx(Ou,{className:"text-red-600"}),l.Venue]})]}),l["Custom Requirements"]&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requirements"}),c.jsx("p",{className:"text-gray-900 mt-1 bg-gray-50 p-3 rounded-lg",children:l["Custom Requirements"]})]})]})]})})}),c.jsx(Kt,{children:p&&x&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:P=>P.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(tl,{}),"Edit Lead"]}),c.jsx("p",{className:"text-green-100 mt-1",children:x["Client Name"]})]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name"}),c.jsx("input",{type:"text",value:x["Client Name"]||"",onChange:P=>b({...x,"Client Name":P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:x.Email||"",onChange:P=>b({...x,Email:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",value:x.Phone||"",onChange:P=>b({...x,Phone:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),c.jsxs("select",{value:x["Event Type"]||"",onChange:P=>b({...x,"Event Type":P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[c.jsx("option",{value:"",children:"Select Type"}),c.jsx("option",{value:"Wedding",children:"Wedding"}),c.jsx("option",{value:"Pre-Wedding",children:"Pre-Wedding"}),c.jsx("option",{value:"Birthday",children:"Birthday"}),c.jsx("option",{value:"Corporate Event",children:"Corporate Event"}),c.jsx("option",{value:"Product Shoot",children:"Product Shoot"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),c.jsx("input",{type:"date",value:x["Event Date"]||"",onChange:P=>b({...x,"Event Date":P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget"}),c.jsx("input",{type:"text",value:x.Budget||"",onChange:P=>b({...x,Budget:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),c.jsxs("select",{value:x.Status||"",onChange:P=>b({...x,Status:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[c.jsx("option",{value:"New Lead",children:"New Lead"}),c.jsx("option",{value:"Contacted",children:"Contacted"}),c.jsx("option",{value:"Proposal Sent",children:"Proposal Sent"}),c.jsx("option",{value:"Negotiating",children:"Negotiating"}),c.jsx("option",{value:"Converted",children:"Converted"}),c.jsx("option",{value:"Event Completed",children:"Event Completed"}),c.jsx("option",{value:"Lost",children:"Lost"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package"}),c.jsxs("select",{value:x["Package Category"]||"",onChange:P=>b({...x,"Package Category":P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",children:[c.jsx("option",{value:"",children:"Select Package"}),c.jsx("option",{value:"Basic",children:"Basic"}),c.jsx("option",{value:"Standard",children:"Standard"}),c.jsx("option",{value:"Premium",children:"Premium"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:x.Notes||"",onChange:P=>b({...x,Notes:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",rows:"3"})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:E,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Save Changes"]}),c.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})})]})},T7e=()=>{const[e,t]=A.useState(new Date),[r,n]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState([]),[d,f]=A.useState([]),[p,h]=A.useState(!0),[g,y]=A.useState("calendar"),[x,b]=A.useState(null),[N,j]=A.useState("All"),[w,C]=A.useState(null),[E,I]=A.useState(!1),[D,O]=A.useState(!1),[L,R]=A.useState(!1),[P,F]=A.useState(!1),[V,X]=A.useState({day:null,events:[]}),[te,q]=A.useState({clientName:"",phone:"",email:"",eventType:"Wedding",eventDate:"",eventTime:"",venue:"",venueAddress:"",photographerId:"",budget:"",notes:"",status:"Scheduled"}),U="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{Q()},[]),A.useEffect(()=>{console.log("Manual Events:",r),console.log("Converted Leads:",a);const me=[...r.map(_e=>({..._e,eventDate:_e.eventDate||_e.date,source:"manual"})),...a.map(_e=>({id:_e.id,eventId:_e["Lead ID"],clientName:_e["Client Name"],phone:_e.Phone,email:_e.Email,eventType:_e["Event Type"],eventDate:_e["Event Date"],eventTime:_e["Event Time"]||"",venue:_e.Venue||"",venueAddress:_e["Venue Address"]||"",photographer:_e["Assigned Photographer"]||"",budget:_e.Budget||"",status:_e.Status==="Event Completed"?"Completed":"Scheduled",notes:_e.Notes||_e["Custom Requirements"]||"",source:"lead"}))];console.log("Combined Events:",me),o(me)},[r,a]),A.useEffect(()=>{se()},[s,N]);const Q=async()=>{try{h(!0);const _e=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getEvents"})})).json(),Xe=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json(),st=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPhotographers"})})).json();if(_e.success&&(console.log("Events from backend:",_e.events),n(_e.events||[])),Xe.success){const pt=Xe.leads.filter(Fe=>(Fe.Status==="Converted"||Fe.Status==="Event Completed")&&Fe["Event Date"]);console.log("Converted Leads:",pt),i(pt)}st.success&&u(st.photographers||[])}catch(me){console.error("Error fetching data:",me),alert("Failed to load data. Please refresh the page.")}finally{h(!1)}},se=()=>{f(N==="All"?s:s.filter(me=>me.eventType===N))},K=async me=>{if(me.source==="lead"){alert(" Cannot delete lead-based events. Please update from Leads Manager.");return}if(confirm(`Are you sure you want to delete event for ${me.clientName}?`))try{const Ve=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"deleteEvent",id:me.id})})).json();Ve.success?(alert(" Event deleted successfully"),F(!1),I(!1),Q()):alert(" Error: "+Ve.message)}catch(_e){console.error("Error deleting event:",_e),alert("Failed to delete event")}},T=async me=>{if(me.source==="lead"){alert(" Please mark event complete from Leads Manager.");return}try{const Ve=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"updateEvent",id:me.id,status:"Completed"})})).json();Ve.success?(alert(" Event marked as completed!"),F(!1),I(!1),Q()):alert(" Error: "+Ve.message)}catch(_e){console.error("Error completing event:",_e),alert("Failed to complete event")}},W=async(me,_e)=>{try{let Ve={id:me.id};me.source==="lead"?(Ve.action="updateLead",Ve["Assigned Photographer"]=_e):(Ve.action="updateEvent",Ve.photographer=_e);const Re=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(Ve)})).json();Re.success?(alert(" Photographer assigned successfully!"),Q()):alert(" Error: "+Re.message)}catch(Ve){console.error("Error assigning photographer:",Ve),alert("Failed to assign photographer")}},J=me=>{if(me.source==="lead"){alert(" Lead-based events must be edited from Leads Manager");return}b(me),q({clientName:me.clientName||"",phone:me.phone||"",email:me.email||"",eventType:me.eventType||"Wedding",eventDate:me.eventDate||"",eventTime:me.eventTime||"",venue:me.venue||"",venueAddress:me.venueAddress||"",photographerId:me.photographer||"",budget:me.budget||"",notes:me.notes||"",status:me.status||"Scheduled"}),R(!0)},Y=me=>new Date(me.getFullYear(),me.getMonth()+1,0).getDate(),ee=me=>new Date(me.getFullYear(),me.getMonth(),1).getDay(),ae=me=>{const _e=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(me).padStart(2,"0")}`;return console.log("Looking for events on:",_e),console.log("Filtered Events:",d.map(Ve=>({date:Ve.eventDate,client:Ve.clientName}))),d.filter(Ve=>Ve.eventDate?Ve.eventDate.substring(0,10)===_e:!1)},pe=me=>{const _e=ae(me);console.log("Day events:",_e),_e.length>0&&(X({day:me,events:_e}),F(!0))},de=me=>{t(new Date(e.getFullYear(),e.getMonth()+me,1))},we=me=>{const _e=new Date;return me===_e.getDate()&&e.getMonth()===_e.getMonth()&&e.getFullYear()===_e.getFullYear()},Ae=me=>{const _e=new Date(e.getFullYear(),e.getMonth(),me),Ve=new Date;return Ve.setHours(0,0,0,0),_e<Ve},Se=me=>({Wedding:"bg-pink-500","Pre-Wedding":"bg-purple-500",Birthday:"bg-blue-500",Anniversary:"bg-red-500",Corporate:"bg-gray-700","Product Shoot":"bg-teal-500",Other:"bg-orange-500"})[me]||"bg-gray-500",Ge=me=>({Scheduled:"bg-blue-100 text-blue-800","In Progress":"bg-yellow-100 text-yellow-800",Completed:"bg-green-100 text-green-800",Cancelled:"bg-red-100 text-red-800",Converted:"bg-purple-100 text-purple-800","Event Completed":"bg-green-100 text-green-800"})[me]||"bg-gray-100 text-gray-800",ke=me=>{if(!me)return"Unassigned";const _e=l.find(Ve=>Ve.id===me);return _e?_e.name:me},Z=me=>{if(!me)return"N/A";try{return new Date(me).toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}catch{return me}},Qe=me=>{if(!me)return"N/A";try{return new Date(me).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return me}},Ne=["January","February","March","April","May","June","July","August","September","October","November","December"],ze=["All","Wedding","Pre-Wedding","Birthday","Anniversary","Corporate","Product Shoot","Other"],De={total:s.length,manual:r.length,fromLeads:a.length,thisMonth:s.filter(me=>{try{const _e=new Date(me.eventDate),Ve=new Date;return _e.getMonth()===Ve.getMonth()&&_e.getFullYear()===Ve.getFullYear()}catch{return!1}}).length,completed:s.filter(me=>me.status==="Completed"||me.status==="Event Completed").length,upcoming:s.filter(me=>{try{const _e=new Date(me.eventDate),Ve=new Date;return Ve.setHours(0,0,0,0),_e>=Ve&&me.status!=="Completed"&&me.status!=="Cancelled"&&me.status!=="Event Completed"}catch{return!1}}).length};return p?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading events..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(Pi,{className:"text-blue-600"}),"Events Manager"]}),c.jsx("p",{className:"text-gray-600",children:"Manage manual events and converted leads"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(Pi,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:De.total}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Total Events"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(bs,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:De.manual}),c.jsx("p",{className:"text-indigo-100 text-sm",children:"Manual Events"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(hn,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:De.fromLeads}),c.jsx("p",{className:"text-purple-100 text-sm",children:"From Leads"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-br from-teal-500 to-teal-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(ri,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:De.thisMonth}),c.jsx("p",{className:"text-teal-100 text-sm",children:"This Month"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(Pr,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:De.completed}),c.jsx("p",{className:"text-green-100 text-sm",children:"Completed"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(w0,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:De.upcoming}),c.jsx("p",{className:"text-orange-100 text-sm",children:"Upcoming"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>y("calendar"),className:`px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 ${g==="calendar"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(um,{}),"Calendar"]}),c.jsxs("button",{onClick:()=>y("list"),className:`px-6 py-3 rounded-lg font-medium transition-colors flex items-center gap-2 ${g==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(Ppe,{}),"List"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("select",{value:N,onChange:me=>j(me.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:ze.map(me=>c.jsx("option",{value:me,children:me},me))}),c.jsxs("button",{onClick:()=>O(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center gap-2",children:[c.jsx(bs,{}),"Add Event"]})]})]}),g==="calendar"&&c.jsxs("div",{className:"flex items-center justify-between mt-4",children:[c.jsx("button",{onClick:()=>de(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Du,{className:"text-xl"})}),c.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:[Ne[e.getMonth()]," ",e.getFullYear()]}),c.jsx("button",{onClick:()=>de(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Tu,{className:"text-xl"})})]})]}),g==="calendar"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(me=>c.jsx("div",{className:"text-center font-semibold text-gray-600 py-2",children:me},me))}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:(()=>{const me=Y(e),_e=ee(e),Ve=[];for(let Xe=0;Xe<_e;Xe++)Ve.push(c.jsx("div",{className:"min-h-[120px] bg-gray-50 rounded-lg"},`empty-${Xe}`));for(let Xe=1;Xe<=me;Xe++){const Re=ae(Xe),st=we(Xe),pt=Ae(Xe);Ve.push(c.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onMouseEnter:()=>C(Xe),onMouseLeave:()=>C(null),onClick:()=>Re.length>0&&pe(Xe),className:`min-h-[120px] p-2 rounded-lg border-2 cursor-pointer ${st?"border-blue-500 bg-blue-50":pt?"border-gray-200 bg-gray-50":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"} transition-all relative group`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:`text-sm font-semibold ${st?"text-blue-600":"text-gray-700"}`,children:Xe}),Re.length>0&&c.jsx("span",{className:"text-xs bg-blue-600 text-white px-2 py-0.5 rounded-full font-medium",children:Re.length})]}),c.jsxs("div",{className:"space-y-1",children:[Re.slice(0,2).map((Fe,at)=>c.jsx("div",{className:`text-xs p-1.5 rounded ${Se(Fe.eventType)} text-white truncate`,children:c.jsxs("div",{className:"flex items-center justify-between gap-1",children:[c.jsx("span",{className:"truncate flex-1",children:Fe.clientName}),Fe.source==="lead"&&c.jsx(hn,{className:"text-xs opacity-70 flex-shrink-0",title:"From Lead"})]})},at)),Re.length>2&&c.jsxs("div",{className:"text-xs text-gray-500 text-center font-medium pt-1",children:["+",Re.length-2," more"]})]}),w===Xe&&Re.length>0&&c.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 z-20 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl min-w-[220px] opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:[c.jsxs("div",{className:"font-semibold mb-2 text-sm",children:[Re.length," Event",Re.length!==1?"s":""]}),c.jsx("div",{className:"space-y-1",children:Re.slice(0,4).map((Fe,at)=>c.jsxs("div",{className:"text-gray-300 flex items-start gap-2",children:[c.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{children:Fe.clientName}),c.jsxs("div",{className:"text-xs text-gray-400",children:[Fe.eventType,"  ",Fe.eventTime||"Time TBD"]})]})]},at))}),Re.length>4&&c.jsxs("div",{className:"text-gray-400 text-center mt-2 pt-2 border-t border-gray-700",children:["Click to see all ",Re.length," events"]}),c.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-4 border-transparent border-t-gray-900"})]})]},Xe))}return Ve})()})]}),g==="list"&&c.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:d.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Pi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No events found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Source"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Client"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Event Type"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Date & Time"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Venue"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Photographer"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:d.sort((me,_e)=>new Date(me.eventDate)-new Date(_e.eventDate)).map((me,_e)=>c.jsxs(le.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:_e*.05},className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:me.source==="lead"?c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-medium",children:[c.jsx(hn,{className:"text-xs"})," Lead"]}):c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-800 rounded text-xs font-medium",children:[c.jsx(bs,{className:"text-xs"})," Manual"]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"font-medium text-gray-900",children:me.clientName}),me.phone&&c.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[c.jsx(qi,{className:"text-xs"})," ",me.phone]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-white text-xs font-medium ${Se(me.eventType)}`,children:me.eventType})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"text-sm text-gray-900 font-medium",children:Qe(me.eventDate)}),c.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-1 mt-0.5",children:[c.jsx(ri,{className:"text-xs"})," ",me.eventTime||"Time TBD"]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900",children:me.venue||"N/A"})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsxs("select",{value:me.photographer||"",onChange:Ve=>W(me,Ve.target.value),className:"text-sm px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 min-w-[150px]",children:[c.jsx("option",{value:"",children:"Assign photographer..."}),l.map(Ve=>c.jsx("option",{value:Ve.id,children:Ve.name},Ve.id))]}),me.photographer&&c.jsxs("div",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[c.jsx(qa,{className:"text-xs"})," ",ke(me.photographer)]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex justify-center",children:c.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium ${Ge(me.status)}`,children:me.status})})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>{b(me),I(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:c.jsx(sl,{})}),me.source==="manual"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>J(me),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit Event",children:c.jsx(tl,{})}),me.status!=="Completed"&&c.jsx("button",{onClick:()=>T(me),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Mark Complete",children:c.jsx(Pr,{})}),c.jsx("button",{onClick:()=>K(me),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event",children:c.jsx(bh,{})})]}),me.source==="lead"&&c.jsx("span",{className:"text-xs text-gray-500 italic px-2",children:"Edit in Leads"})]})})]},me.id||_e))})]})})}),c.jsx(Kt,{children:P&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>F(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:me=>me.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold",children:["Events on ",V.day," ",Ne[e.getMonth()]," ",e.getFullYear()]}),c.jsxs("p",{className:"text-blue-100 mt-1",children:[V.events.length," event",V.events.length!==1?"s":""," scheduled"]})]}),c.jsx("button",{onClick:()=>F(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6 space-y-4",children:V.events.map((me,_e)=>c.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:_e*.1},className:"bg-gray-50 rounded-xl p-5 border border-gray-200 hover:shadow-lg transition-all",children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-white text-sm font-medium ${Se(me.eventType)}`,children:me.eventType}),me.source==="lead"&&c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs font-medium",children:"From Lead"}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${Ge(me.status)}`,children:me.status})]}),c.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-3",children:me.clientName}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm text-gray-600",children:[me.eventTime&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ri,{className:"text-gray-400"}),c.jsx("span",{children:me.eventTime})]}),me.venue&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ou,{className:"text-gray-400"}),c.jsx("span",{children:me.venue})]}),me.photographer&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qa,{className:"text-gray-400"}),c.jsx("span",{children:ke(me.photographer)})]}),me.budget&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Cn,{className:"text-gray-400"}),c.jsx("span",{children:me.budget})]}),me.phone&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qi,{className:"text-gray-400"}),c.jsx("span",{children:me.phone})]}),me.email&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ga,{className:"text-gray-400"}),c.jsx("span",{className:"truncate",children:me.email})]})]}),me.notes&&c.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-gray-200",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Notes:"}),c.jsx("p",{className:"text-sm text-gray-700",children:me.notes})]})]}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("button",{onClick:()=>{b(me),F(!1),I(!0)},className:"p-2.5 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:c.jsx(sl,{className:"text-lg"})}),me.source==="manual"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{F(!1),J(me)},className:"p-2.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(tl,{className:"text-lg"})}),me.status!=="Completed"&&c.jsx("button",{onClick:()=>T(me),className:"p-2.5 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Complete",children:c.jsx(Pr,{className:"text-lg"})}),c.jsx("button",{onClick:()=>K(me),className:"p-2.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(bh,{className:"text-lg"})})]})]})]})},_e))})]})})}),c.jsx(Kt,{children:E&&x&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>I(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:me=>me.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:x.clientName}),c.jsxs("p",{className:"text-indigo-100 mt-1",children:[x.eventType," Event"]})]}),c.jsx("button",{onClick:()=>I(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[x.source==="lead"?c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-purple-100 text-purple-800 rounded-lg text-sm font-medium",children:[c.jsx(hn,{})," From Lead"]}):c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-800 rounded-lg text-sm font-medium",children:[c.jsx(bs,{})," Manual Event"]}),c.jsx("span",{className:`px-3 py-1.5 rounded-lg text-sm font-medium ${Ge(x.status)}`,children:x.status})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Type"}),c.jsx("p",{className:"text-gray-900 mt-1",children:x.eventType})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Date"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(um,{className:"text-indigo-600"}),Z(x.eventDate)]})]}),x.eventTime&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Event Time"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(ri,{className:"text-indigo-600"}),x.eventTime]})]}),x.phone&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Phone"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(qi,{className:"text-indigo-600"}),x.phone]})]}),x.email&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Email"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(Ga,{className:"text-indigo-600"}),x.email]})]}),x.venue&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(Ou,{className:"text-indigo-600"}),x.venue]})]}),x.photographer&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Photographer"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(qa,{className:"text-indigo-600"}),ke(x.photographer)]})]}),x.budget&&c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Budget"}),c.jsxs("p",{className:"text-gray-900 mt-1 flex items-center gap-2",children:[c.jsx(Cn,{className:"text-indigo-600"}),x.budget]})]})]}),x.venueAddress&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Venue Address"}),c.jsx("p",{className:"text-gray-900 mt-1 bg-gray-50 p-3 rounded-lg",children:x.venueAddress})]}),x.notes&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Notes"}),c.jsx("p",{className:"text-gray-900 mt-1 bg-gray-50 p-3 rounded-lg",children:x.notes})]})]}),x.source==="manual"&&c.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>{I(!1),J(x)},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(tl,{}),"Edit Event"]}),x.status!=="Completed"&&c.jsxs("button",{onClick:()=>T(x),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Pr,{}),"Mark Complete"]}),c.jsxs("button",{onClick:()=>K(x),className:"bg-red-600 hover:bg-red-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(bh,{}),"Delete"]})]})]})]})})})]})},O7e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState(!0),[l,u]=A.useState(""),[d,f]=A.useState("All"),[p,h]=A.useState(null),[g,y]=A.useState([]),[x,b]=A.useState(!1),[N,j]=A.useState(!1),[w,C]=A.useState(!1),[E,I]=A.useState({amount:"",paymentType:"Advance",paymentMethod:"UPI",paymentDate:new Date().toISOString().split("T")[0],transactionId:"",notes:""}),[D,O]=A.useState({totalRevenue:0,totalReceived:0,totalPending:0,fullyPaid:0,partialPaid:0,noPaid:0,overduePayments:0}),L="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{R()},[]),A.useEffect(()=>{V()},[e,r,l,d]);const R=async()=>{try{o(!0);const J=await(await fetch(L,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json(),ee=await(await fetch(L,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPayments"})})).json();if(J.success&&J.leads){const ae=J.leads.filter(pe=>pe.Status==="Converted"||pe.Status==="Event Completed");t(ae)}ee.success&&ee.payments&&n(ee.payments),P(J.leads||[],ee.payments||[])}catch(W){console.error("Error fetching data:",W)}finally{o(!1)}},P=(W,J)=>{const Y={totalRevenue:0,totalReceived:0,totalPending:0,fullyPaid:0,partialPaid:0,noPaid:0,overduePayments:0};W.forEach(ee=>{if(ee.Status!=="Converted"&&ee.Status!=="Event Completed")return;const ae=F(ee.Budget);ae>0&&(Y.totalRevenue+=ae);const de=J.filter(we=>we.leadId===ee.id).reduce((we,Ae)=>we+parseFloat(Ae.amount||0),0);Y.totalReceived+=de,Y.totalPending+=ae-de,de>=ae?Y.fullyPaid++:de>0?Y.partialPaid++:Y.noPaid++,ee["Balance Due Date"]&&de<ae&&new Date(ee["Balance Due Date"])<new Date&&Y.overduePayments++}),O(Y)},F=W=>{if(!W)return 0;const Y=String(W).replace(/[,]/g,"").trim();return parseFloat(Y)||0},V=()=>{let W=e;l&&(W=W.filter(J=>J["Client Name"]?.toLowerCase().includes(l.toLowerCase())||J.Phone?.includes(l)||J.Email?.toLowerCase().includes(l.toLowerCase()))),d!=="All"&&(W=W.filter(J=>{const Y=F(J.Budget),ae=r.filter(pe=>pe.leadId===J.id).reduce((pe,de)=>pe+parseFloat(de.amount||0),0);switch(d){case"Fully Paid":return ae>=Y;case"Partial Paid":return ae>0&&ae<Y;case"Pending":return ae===0;case"Overdue":return J["Balance Due Date"]?new Date(J["Balance Due Date"])<new Date&&ae<Y:!1;default:return!0}})),i(W)},X=W=>{const J=F(W.Budget),Y=r.filter(Ae=>Ae.leadId===W.id),ee=Y.reduce((Ae,Se)=>Ae+parseFloat(Se.amount||0),0),ae=J-ee;let pe,de,we;return ee>=J?(pe="Fully Paid",de="bg-green-100 text-green-800",we=Pr):ee>0?(pe="Partial Paid",de="bg-yellow-100 text-yellow-800",we=ri):(pe="Pending",de="bg-red-100 text-red-800",we=ju),W["Balance Due Date"]&&ee<J&&new Date(W["Balance Due Date"])<new Date&&(pe="Overdue",de="bg-red-100 text-red-800",we=ju),{budget:J,totalPaid:ee,pending:ae,status:pe,color:de,icon:we,paymentCount:Y.length}},te=async()=>{if(!p||!E.amount){alert("Please fill all required fields");return}try{const J=await(await fetch(L,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"addPayment",leadId:p.id,clientName:p["Client Name"],amount:parseFloat(E.amount),paymentType:E.paymentType,paymentMethod:E.paymentMethod,paymentDate:E.paymentDate,transactionId:E.transactionId,notes:E.notes})})).json();J.success?(alert("Payment added successfully!"),j(!1),q(),R()):alert("Error: "+J.message)}catch(W){console.error("Error adding payment:",W),alert("Failed to add payment")}},q=()=>{I({amount:"",paymentType:"Advance",paymentMethod:"UPI",paymentDate:new Date().toISOString().split("T")[0],transactionId:"",notes:""})},U=W=>{h(W);const J=X(W);I({...E,amount:J.pending>0?J.pending.toString():"",paymentType:J.totalPaid===0?"Advance":"Balance"}),j(!0)},Q=W=>{h(W);const J=r.filter(Y=>Y.leadId===W.id);y(J),C(!0)},se=W=>""+parseFloat(W).toLocaleString("en-IN"),K=W=>W?new Date(W).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A",T=W=>{switch(W){case"UPI":return c.jsx(nD,{});case"Cash":return c.jsx(Ob,{});case"Card":return c.jsx(rD,{});case"Bank Transfer":return c.jsx(iD,{});default:return c.jsx(Cn,{})}};return s?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading payment data..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(Cn,{className:"text-blue-600"}),"Payment Tracker"]}),c.jsx("p",{className:"text-gray-600",children:"Manage payments, track dues, and monitor revenue"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx(dm,{className:"text-3xl opacity-80"}),c.jsx("span",{className:"text-sm font-medium bg-white/20 px-3 py-1 rounded-full",children:"Total"})]}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:se(D.totalRevenue)}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Total Revenue"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx(Pr,{className:"text-3xl opacity-80"}),c.jsx("span",{className:"text-sm font-medium bg-white/20 px-3 py-1 rounded-full",children:"Received"})]}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:se(D.totalReceived)}),c.jsxs("p",{className:"text-green-100 text-sm",children:[D.fullyPaid," Fully Paid"]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx(ri,{className:"text-3xl opacity-80"}),c.jsx("span",{className:"text-sm font-medium bg-white/20 px-3 py-1 rounded-full",children:"Pending"})]}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:se(D.totalPending)}),c.jsxs("p",{className:"text-orange-100 text-sm",children:[D.partialPaid," Partial + ",D.noPaid," Unpaid"]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx(ju,{className:"text-3xl opacity-80"}),c.jsx("span",{className:"text-sm font-medium bg-white/20 px-3 py-1 rounded-full",children:"Alert"})]}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:D.overduePayments}),c.jsx("p",{className:"text-red-100 text-sm",children:"Overdue Payments"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Y0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by client name, phone, or email...",value:l,onChange:W=>u(W.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Q5,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),c.jsxs("select",{value:d,onChange:W=>f(W.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[c.jsx("option",{value:"All",children:"All Payments"}),c.jsx("option",{value:"Fully Paid",children:"Fully Paid"}),c.jsx("option",{value:"Partial Paid",children:"Partial Paid"}),c.jsx("option",{value:"Pending",children:"Pending"}),c.jsx("option",{value:"Overdue",children:"Overdue"})]})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:a.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Cn,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No payment records found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Client"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Event"}),c.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total Amount"}),c.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Paid"}),c.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Pending"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:a.map((W,J)=>{const Y=X(W),ee=Y.icon;return c.jsxs(le.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:J*.05},className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:W["Client Name"]}),c.jsx("div",{className:"text-sm text-gray-500",children:W.Phone})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:W["Event Type"]}),c.jsx("div",{className:"text-sm text-gray-500",children:K(W["Event Date"])})]})}),c.jsx("td",{className:"px-6 py-4 text-right font-semibold text-gray-900",children:se(Y.budget)}),c.jsxs("td",{className:"px-6 py-4 text-right",children:[c.jsx("div",{className:"font-semibold text-green-600",children:se(Y.totalPaid)}),c.jsxs("div",{className:"text-xs text-gray-500",children:[Y.paymentCount," payment",Y.paymentCount!==1?"s":""]})]}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx("div",{className:`font-semibold ${Y.pending>0?"text-orange-600":"text-gray-400"}`,children:se(Y.pending)})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex justify-center",children:c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${Y.color}`,children:[c.jsx(ee,{}),Y.status]})})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>U(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Add Payment",children:c.jsx(bs,{})}),c.jsx("button",{onClick:()=>Q(W),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"View History",children:c.jsx(vu,{})}),c.jsx("button",{className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Generate Receipt",children:c.jsx(em,{})})]})})]},W.id||J)})})]})})}),c.jsx(Kt,{children:N&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:W=>W.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Cn,{}),"Add Payment"]}),c.jsx("p",{className:"text-blue-100 mt-1",children:p?.["Client Name"]})]}),c.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6",children:[p&&(()=>{const W=X(p);return c.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:se(W.budget)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Already Paid"}),c.jsx("p",{className:"text-lg font-bold text-green-600",children:se(W.totalPaid)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remaining"}),c.jsx("p",{className:"text-lg font-bold text-orange-600",children:se(W.pending)})]})]})})})(),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),c.jsx("input",{type:"number",value:E.amount,onChange:W=>I({...E,amount:W.target.value}),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type *"}),c.jsxs("select",{value:E.paymentType,onChange:W=>I({...E,paymentType:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"Advance",children:"Advance"}),c.jsx("option",{value:"Balance",children:"Balance"}),c.jsx("option",{value:"Full Payment",children:"Full Payment"}),c.jsx("option",{value:"Partial",children:"Partial Payment"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method *"}),c.jsxs("select",{value:E.paymentMethod,onChange:W=>I({...E,paymentMethod:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"UPI",children:"UPI"}),c.jsx("option",{value:"Cash",children:"Cash"}),c.jsx("option",{value:"Card",children:"Card"}),c.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),c.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date *"}),c.jsx("input",{type:"date",value:E.paymentDate,onChange:W=>I({...E,paymentDate:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID / Reference"}),c.jsx("input",{type:"text",value:E.transactionId,onChange:W=>I({...E,transactionId:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter transaction ID or reference number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:E.notes,onChange:W=>I({...E,notes:W.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Add any additional notes..."})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:te,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Pr,{}),"Add Payment"]}),c.jsx("button",{onClick:()=>j(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),c.jsx(Kt,{children:w&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>C(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:W=>W.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(vu,{}),"Payment History"]}),c.jsx("p",{className:"text-green-100 mt-1",children:p?.["Client Name"]})]}),c.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6",children:g.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(vu,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No payment history found"})]}):c.jsx("div",{className:"space-y-4",children:g.map((W,J)=>c.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:J*.1},className:"bg-gray-50 rounded-xl p-4 border border-gray-200 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:T(W.paymentMethod)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:W.paymentType}),c.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:W.paymentMethod})]}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:K(W.paymentDate)}),W.transactionId&&c.jsxs("p",{className:"text-xs text-gray-500",children:["Txn ID: ",W.transactionId]}),W.notes&&c.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['"',W.notes,'"']})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"text-2xl font-bold text-green-600",children:se(W.amount)})})]})},W.id||J))})})]})})})]})},I7e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(""),[l,u]=A.useState(!1),[d,f]=A.useState(!1),[p,h]=A.useState(!1),[g,y]=A.useState(null),[x,b]=A.useState({name:"",phone:"",email:"",aadharNumber:"",dailyRate:"",specialization:"Wedding",experience:"",address:"",status:"Active"}),N="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{j()},[]),A.useEffect(()=>{I()},[e,s]);const j=async()=>{try{i(!0);const V=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPhotographers"})})).json();V.success&&V.photographers&&t(V.photographers)}catch(F){console.error("Error fetching photographers:",F),alert("Failed to fetch photographers. Please check console.")}finally{i(!1)}},w=async()=>{if(!x.name||!x.phone){alert(" Name and Phone are required!");return}try{const F={action:"addPhotographer",...x,id:"PH-"+new Date().getTime(),joinedDate:new Date().toISOString().split("T")[0]},X=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(F)})).json();X.success?(alert(" Photographer added successfully!"),u(!1),D(),j()):alert(" Failed to add photographer: "+X.error)}catch(F){console.error("Error adding photographer:",F),alert(" Error adding photographer. Check console.")}},C=async()=>{if(!x.name||!x.phone){alert(" Name and Phone are required!");return}try{const F={action:"updatePhotographer",id:g.id,...x},X=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(F)})).json();X.success?(alert(" Photographer updated successfully!"),f(!1),D(),j()):alert(" Failed to update photographer: "+X.error)}catch(F){console.error("Error updating photographer:",F),alert(" Error updating photographer. Check console.")}},E=async F=>{if(window.confirm(` Are you sure you want to delete ${F.name}?

This action cannot be undone!`))try{const te=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"deletePhotographer",id:F.id})})).json();te.success?(alert(" Photographer deleted successfully!"),j()):alert(" Failed to delete photographer: "+te.error)}catch(X){console.error("Error deleting photographer:",X),alert(" Error deleting photographer. Check console.")}},I=()=>{if(!s){n(e);return}const F=e.filter(V=>V.name?.toLowerCase().includes(s.toLowerCase())||V.phone?.includes(s)||V.email?.toLowerCase().includes(s.toLowerCase())||V.specialization?.toLowerCase().includes(s.toLowerCase()));n(F)},D=()=>{b({name:"",phone:"",email:"",aadharNumber:"",dailyRate:"",specialization:"Wedding",experience:"",address:"",status:"Active"}),y(null)},O=F=>{y(F),b({name:F.name||"",phone:F.phone||"",email:F.email||"",aadharNumber:F.aadharNumber||"",dailyRate:F.dailyRate||"",specialization:F.specialization||"Wedding",experience:F.experience||"",address:F.address||"",status:F.status||"Active"}),f(!0)},L=F=>{y(F),h(!0)},R=(F,V)=>{b(X=>({...X,[F]:V}))},P=F=>F?""+parseFloat(F).toLocaleString("en-IN"):"N/A";return a?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Loading photographers..."})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Photographers Manager"}),c.jsx("p",{className:"text-gray-600",children:"Manage your photography team"})]}),c.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 font-semibold",children:[c.jsx(bs,{})," Add Photographer"]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Total Photographers"}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:e.length})]}),c.jsx(qa,{className:"text-4xl text-blue-500 opacity-20"})]})}),c.jsx(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Active"}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:e.filter(F=>F.status==="Active").length})]}),c.jsx(Pr,{className:"text-4xl text-green-500 opacity-20"})]})}),c.jsx(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Inactive"}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:e.filter(F=>F.status==="Inactive").length})]}),c.jsx(ju,{className:"text-4xl text-orange-500 opacity-20"})]})}),c.jsx(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Avg Daily Rate"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:P(e.reduce((F,V)=>F+(parseFloat(V.dailyRate)||0),0)/(e.length||1))})]}),c.jsx(Cn,{className:"text-4xl text-purple-500 opacity-20"})]})})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:c.jsxs("div",{className:"relative",children:[c.jsx(Y0,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by name, phone, email, or specialization...",value:s,onChange:F=>o(F.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.length===0?c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-20 text-center",children:[c.jsx(qa,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No photographers found"}),c.jsx("button",{onClick:()=>u(!0),className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Photographer"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((F,V)=>c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.05},className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-shadow",children:[c.jsxs("div",{className:`p-6 ${F.status==="Active"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-gray-500 to-gray-600"} text-white`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(_X,{className:"text-4xl"})}),c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${F.status==="Active"?"bg-green-500":"bg-gray-500"}`,children:F.status})]}),c.jsx("h3",{className:"text-xl font-bold",children:F.name}),c.jsx("p",{className:"text-sm text-white/80",children:F.specialization})]}),c.jsxs("div",{className:"p-6 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(qi,{className:"text-green-500"}),c.jsx("span",{children:F.phone})]}),F.email&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(Ga,{className:"text-blue-500"}),c.jsx("span",{className:"truncate",children:F.email})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(tD,{className:"text-purple-500"}),c.jsxs("span",{children:[F.experience||"N/A"," years experience"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(Cn,{className:"text-orange-500"}),c.jsxs("span",{className:"font-semibold",children:[P(F.dailyRate),"/day"]})]}),F.joinedDate&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(um,{className:"text-red-500"}),c.jsxs("span",{children:["Joined: ",new Date(F.joinedDate).toLocaleDateString("en-IN")]})]})]}),c.jsxs("div",{className:"px-6 pb-6 flex gap-2",children:[c.jsxs("button",{onClick:()=>L(F),className:"flex-1 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(sl,{})," View"]}),c.jsxs("button",{onClick:()=>O(F),className:"flex-1 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(tl,{})," Edit"]}),c.jsx("button",{onClick:()=>E(F),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:c.jsx(bh,{})})]})]},F.id||V))})]}),c.jsx(Kt,{children:(l||d)&&c.jsx(M7e,{isOpen:l||d,isEdit:d,formData:x,onInputChange:R,onSave:d?C:w,onClose:()=>{l?u(!1):f(!1),D()}})}),c.jsx(Kt,{children:p&&g&&c.jsx(R7e,{photographer:g,onClose:()=>{h(!1),y(null)},onEdit:()=>{h(!1),O(g)}})})]})},M7e=({isOpen:e,isEdit:t,formData:r,onInputChange:n,onSave:a,onClose:i})=>c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:i,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:s=>s.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl sticky top-0 z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-2xl font-bold",children:t?"Edit Photographer":"Add New Photographer"}),c.jsx("button",{onClick:i,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{size:24})})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),c.jsx("input",{type:"text",value:r.name,onChange:s=>n("name",s.target.value),placeholder:"Enter full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number *"}),c.jsx("input",{type:"tel",value:r.phone,onChange:s=>n("phone",s.target.value),placeholder:"+91 XXXXX XXXXX",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",value:r.email,onChange:s=>n("email",s.target.value),placeholder:"email@example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Aadhar Number"}),c.jsx("input",{type:"text",value:r.aadharNumber,onChange:s=>n("aadharNumber",s.target.value),placeholder:"XXXX XXXX XXXX",maxLength:12,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Professional Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Specialization"}),c.jsxs("select",{value:r.specialization,onChange:s=>n("specialization",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Wedding",children:"Wedding"}),c.jsx("option",{value:"Pre-Wedding",children:"Pre-Wedding"}),c.jsx("option",{value:"Birthday",children:"Birthday"}),c.jsx("option",{value:"Corporate",children:"Corporate"}),c.jsx("option",{value:"All-Round",children:"All-Round"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Experience (Years)"}),c.jsx("input",{type:"number",value:r.experience,onChange:s=>n("experience",s.target.value),placeholder:"Years of experience",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Daily Rate ()"}),c.jsx("input",{type:"number",value:r.dailyRate,onChange:s=>n("dailyRate",s.target.value),placeholder:"Daily rate in rupees",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),c.jsxs("select",{value:r.status,onChange:s=>n("status",s.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"Active",children:"Active"}),c.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),c.jsx("textarea",{value:r.address,onChange:s=>n("address",s.target.value),placeholder:"Enter complete address",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex gap-3",children:[c.jsx("button",{onClick:i,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Cancel"}),c.jsxs("button",{onClick:a,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold flex items-center justify-center gap-2",children:[c.jsx(rl,{})," ",t?"Update":"Save"]})]})]})}),R7e=({photographer:e,onClose:t,onEdit:r})=>{const n=a=>a?""+parseFloat(a).toLocaleString("en-IN"):"N/A";return c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:`p-6 rounded-t-2xl ${e.status==="Active"?"bg-gradient-to-r from-blue-600 to-purple-600":"bg-gradient-to-r from-gray-600 to-gray-700"} text-white`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(_X,{className:"text-5xl"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold",children:e.name}),c.jsx("p",{className:"text-white/80",children:e.specialization})]})]}),c.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{size:24})})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(hn,{})," Contact Information"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Phone"}),c.jsx("p",{className:"font-medium text-gray-800",children:e.phone})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Email"}),c.jsx("p",{className:"font-medium text-gray-800",children:e.email||"N/A"})]}),e.aadharNumber&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Aadhar Number"}),c.jsx("p",{className:"font-medium text-gray-800",children:e.aadharNumber})]})]})]}),c.jsxs("div",{children:[c.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(tD,{})," Professional Details"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Specialization"}),c.jsx("p",{className:"font-medium text-gray-800",children:e.specialization})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Experience"}),c.jsxs("p",{className:"font-medium text-gray-800",children:[e.experience||"N/A"," years"]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Daily Rate"}),c.jsx("p",{className:"font-medium text-gray-800",children:n(e.dailyRate)})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),c.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${e.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.status})]})]})]}),e.address&&c.jsxs("div",{children:[c.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Ou,{})," Address"]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:c.jsx("p",{className:"text-gray-700",children:e.address})})]}),e.joinedDate&&c.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-blue-600 mb-1",children:"Joined On"}),c.jsx("p",{className:"font-semibold text-blue-800",children:new Date(e.joinedDate).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex gap-3",children:[c.jsx("button",{onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Close"}),c.jsxs("button",{onClick:r,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[c.jsx(tl,{})," Edit Details"]})]})]})})},L7e=()=>{const[e,t]=A.useState(new Date),[r,n]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState(!0),[l,u]=A.useState(null),[d,f]=A.useState("mark"),[p,h]=A.useState(!1),[g,y]=A.useState(!1),[x,b]=A.useState(!1),[N,j]=A.useState(""),[w,C]=A.useState({photographerId:"",date:new Date().toISOString().split("T")[0],status:"Present",notes:""}),E="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{I()},[]);const I=async()=>{try{o(!0);const W=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPhotographers"})})).json();W.success&&n(W.photographers||[]);const Y=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getAttendance"})})).json();Y.success&&i(Y.attendance||[])}catch(T){console.error("Error fetching data:",T),alert("Failed to load data. Please refresh the page.")}finally{o(!1)}},D=(T,W)=>{if(!T||!W||!Array.isArray(a)||a.length===0)return!1;let J;try{J=new Date(W).toISOString().split("T")[0]}catch{return!1}for(let Y=0;Y<a.length;Y++){const ee=a[Y];if(ee.photographerId===T&&ee.date)try{let ae;if(typeof ee.date=="string"?ae=ee.date.substring(0,10):ae=new Date(ee.date).toISOString().split("T")[0],ae===J)return!0}catch{console.warn("Skipping invalid date:",ee.date);continue}}return!1},O=async()=>{if(!w.photographerId){alert(" Please select a photographer!");return}if(D(w.photographerId,w.date)){alert(` Attendance Already Marked!

Attendance for this photographer on this date is already recorded.

Please select a different date or photographer.`);return}try{const W=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"markAttendance",photographerId:w.photographerId,date:w.date,status:w.status,notes:w.notes,timestamp:new Date().toISOString()})})).json();W.success?(alert(" Attendance marked successfully!"),h(!1),L(),I()):alert(" "+W.message)}catch(T){console.error("Error marking attendance:",T),alert(" Error marking attendance. Please try again.")}},L=()=>{C({photographerId:"",date:new Date().toISOString().split("T")[0],status:"Present",notes:""})},R=(T,W)=>{const J=typeof W=="string"?W:W.toISOString().split("T")[0],Y=a.find(ee=>ee.photographerId===T&&ee.date?.substring(0,10)===J);return Y?Y.status:null},P=T=>a.filter(W=>W.photographerId===T).sort((W,J)=>new Date(J.date)-new Date(W.date)),F=T=>{const W=new Date(e.getFullYear(),e.getMonth(),1),J=new Date(e.getFullYear(),e.getMonth()+1,0),Y=a.filter(ee=>{if(ee.photographerId!==T)return!1;try{const ae=new Date(ee.date);return ae>=W&&ae<=J}catch{return!1}});return{present:Y.filter(ee=>ee.status==="Present").length,absent:Y.filter(ee=>ee.status==="Absent").length,halfDay:Y.filter(ee=>ee.status==="Half-Day").length,leave:Y.filter(ee=>ee.status==="Leave").length,total:Y.length,records:Y}},V=(T,W)=>{const J=F(T),Y={present:"Present",absent:"Absent",halfDay:"Half-Day",leave:"Leave"};return J.records.filter(ee=>ee.status===Y[W])},X=(T,W)=>{u(T),j(W),b(!0)},te=T=>({Present:"bg-green-100 text-green-800",Absent:"bg-red-100 text-red-800","Half-Day":"bg-yellow-100 text-yellow-800",Leave:"bg-blue-100 text-blue-800"})[T]||"bg-gray-100 text-gray-800",q=T=>({Present:Pr,Absent:ny,"Half-Day":ri,Leave:SL})[T]||w0,U=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return"N/A"}},Q=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleDateString("en-IN",{day:"2-digit",month:"short"})}catch{return"N/A"}},se=T=>{const W=new Date(e);W.setMonth(e.getMonth()+T),t(W)},K=()=>e.toLocaleDateString("en-IN",{month:"long",year:"numeric"});return s?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading attendance data..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(Wp,{className:"text-blue-600"}),"Attendance Tracker"]}),c.jsx("p",{className:"text-gray-600",children:"Mark and manage photographer attendance"})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>f("mark"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${d==="mark"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(bs,{className:"inline mr-2"}),"Mark Today"]}),c.jsxs("button",{onClick:()=>f("history"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${d==="history"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(vu,{className:"inline mr-2"}),"History"]}),c.jsxs("button",{onClick:()=>f("stats"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${d==="stats"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[c.jsx(ok,{className:"inline mr-2"}),"Statistics"]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>se(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Du,{})}),c.jsx("span",{className:"font-semibold text-gray-700 min-w-[150px] text-center",children:K()}),c.jsx("button",{onClick:()=>se(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Tu,{})})]})]})}),d==="mark"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Mark Today's Attendance"}),c.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center gap-2",children:[c.jsx(bs,{}),"Mark Attendance"]})]}),r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(hn,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No photographers found"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(T=>{const W=R(T.id,new Date().toISOString().split("T")[0]),J=W?q(W):hn;return c.jsxs(le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gradient-to-br from-gray-50 to-white border border-gray-200 rounded-xl p-4 hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),c.jsx("p",{className:"text-sm text-gray-500",children:T.specialization})]}),c.jsx("div",{className:`p-2 rounded-lg ${W?te(W):"bg-gray-100"}`,children:c.jsx(J,{className:"text-lg"})})]}),W?c.jsx("div",{className:`text-center py-2 rounded-lg ${te(W)}`,children:c.jsx("span",{className:"font-medium",children:W})}):c.jsx("button",{onClick:()=>{C({...w,photographerId:T.id}),h(!0)},className:"w-full bg-blue-50 hover:bg-blue-100 text-blue-600 py-2 rounded-lg transition-colors font-medium",children:"Mark Attendance"})]},T.id)})})]}),d==="history"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-6",children:"Attendance History"}),r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(vu,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No photographers found"})]}):c.jsx("div",{className:"space-y-4",children:r.map(T=>{const W=P(T.id);return c.jsxs(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(hn,{className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:T.name}),c.jsx("p",{className:"text-sm text-gray-500",children:T.specialization})]})]}),c.jsxs("button",{onClick:()=>{u(T),y(!0)},className:"text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-lg transition-colors flex items-center gap-2",children:[c.jsx(sl,{}),"View Full History"]})]}),W.length===0?c.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"No attendance records"}):c.jsx("div",{className:"grid grid-cols-7 gap-2",children:W.slice(0,14).map((J,Y)=>{const ee=q(J.status);return c.jsxs("div",{className:`p-2 rounded-lg text-center ${te(J.status)}`,title:`${U(J.date)} - ${J.status}`,children:[c.jsx(ee,{className:"mx-auto mb-1"}),c.jsx("p",{className:"text-xs",children:Q(J.date)})]},Y)})}),c.jsxs("div",{className:"mt-3 text-sm text-gray-600 text-center",children:["Total Records: ",W.length," days"]})]},T.id)})})]}),d==="stats"&&c.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Photographer"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Present"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Absent"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Half-Day"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Leave"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Total Days"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map((T,W)=>{const J=F(T.id);return c.jsxs(le.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:W*.05},className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(hn,{className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:T.name}),c.jsx("div",{className:"text-sm text-gray-500",children:T.specialization})]})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("button",{onClick:()=>X(T,"present"),className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 hover:bg-green-100 text-green-800 rounded-lg transition-colors cursor-pointer",children:[c.jsx(Pr,{}),c.jsx("span",{className:"font-semibold",children:J.present})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("button",{onClick:()=>X(T,"absent"),className:"inline-flex items-center gap-2 px-4 py-2 bg-red-50 hover:bg-red-100 text-red-800 rounded-lg transition-colors cursor-pointer",children:[c.jsx(ny,{}),c.jsx("span",{className:"font-semibold",children:J.absent})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("button",{onClick:()=>X(T,"halfDay"),className:"inline-flex items-center gap-2 px-4 py-2 bg-yellow-50 hover:bg-yellow-100 text-yellow-800 rounded-lg transition-colors cursor-pointer",children:[c.jsx(ri,{}),c.jsx("span",{className:"font-semibold",children:J.halfDay})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("button",{onClick:()=>X(T,"leave"),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 hover:bg-blue-100 text-blue-800 rounded-lg transition-colors cursor-pointer",children:[c.jsx(SL,{}),c.jsx("span",{className:"font-semibold",children:J.leave})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:"font-semibold text-gray-900",children:J.total})})]},T.id)})})]})})}),c.jsx(Kt,{children:p&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Wp,{}),"Mark Attendance"]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Photographer *"}),c.jsxs("select",{value:w.photographerId,onChange:T=>C({...w,photographerId:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"Choose photographer..."}),r.map(T=>c.jsxs("option",{value:T.id,children:[T.name," - ",T.specialization]},T.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date *"}),c.jsx("input",{type:"date",value:w.date,onChange:T=>C({...w,date:T.target.value}),max:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),c.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Present","Absent","Half-Day","Leave"].map(T=>{const W=q(T);return c.jsxs("button",{onClick:()=>C({...w,status:T}),className:`p-3 rounded-lg border-2 transition-all ${w.status===T?`${te(T)} border-current`:"border-gray-300 hover:border-gray-400"}`,children:[c.jsx(W,{className:"mx-auto mb-1 text-xl"}),c.jsx("span",{className:"text-sm font-medium",children:T})]},T)})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),c.jsx("textarea",{value:w.notes,onChange:T=>C({...w,notes:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Add any notes..."})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:O,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Mark Attendance"]}),c.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),c.jsx(Kt,{children:g&&l&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>y(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(vu,{}),"Attendance History"]}),c.jsx("p",{className:"text-purple-100 mt-1",children:l.name})]}),c.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6",children:(()=>{const T=P(l.id);return T.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(vu,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No attendance records found"})]}):c.jsx("div",{className:"space-y-3",children:T.map((W,J)=>{const Y=q(W.status);return c.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:J*.05},className:`p-4 rounded-xl border-2 ${te(W.status)} border-current`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Y,{className:"text-2xl"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:W.status}),c.jsx("div",{className:"text-sm opacity-80",children:U(W.date)})]})]}),W.notes&&c.jsxs("div",{className:"text-sm opacity-80 max-w-md italic",children:['"',W.notes,'"']})]})},J)})})})()})]})})}),c.jsx(Kt,{children:x&&l&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>b(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(ok,{}),N.charAt(0).toUpperCase()+N.slice(1)," Days Details"]}),c.jsxs("p",{className:"text-green-100 mt-1",children:[l.name," - ",K()]})]}),c.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6",children:(()=>{const T=V(l.id,N);return T.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Pi,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No records found for this category"})]}):c.jsxs("div",{className:"space-y-3",children:[T.map((W,J)=>{const Y=q(W.status);return c.jsx(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.05},className:`p-4 rounded-xl ${te(W.status)}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Y,{className:"text-2xl"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:U(W.date)}),c.jsx("div",{className:"text-sm opacity-80",children:W.status})]})]}),W.notes&&c.jsxs("div",{className:"text-sm opacity-80 italic max-w-xs",children:['"',W.notes,'"']})]})},J)}),c.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded-xl text-center",children:c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["Total: ",T.length," day",T.length!==1?"s":""]})})]})})()})]})})})]})},F7e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(""),[l,u]=A.useState("All"),[d,f]=A.useState(new Date),[p,h]=A.useState(!1),[g,y]=A.useState(!1),[x,b]=A.useState(!1),[N,j]=A.useState(null),[w,C]=A.useState({category:"Equipment",amount:"",description:"",date:new Date().toISOString().split("T")[0],paymentMethod:"Cash",vendor:"",notes:""}),E="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec",I=[{name:"Equipment",icon:qa,color:"from-blue-500 to-blue-600"},{name:"Travel",icon:Spe,color:"from-green-500 to-green-600"},{name:"Food",icon:mpe,color:"from-orange-500 to-orange-600"},{name:"Maintenance",icon:zpe,color:"from-purple-500 to-purple-600"},{name:"Marketing",icon:Mpe,color:"from-pink-500 to-pink-600"},{name:"Utilities",icon:dpe,color:"from-yellow-500 to-yellow-600"},{name:"Internet",icon:$pe,color:"from-indigo-500 to-indigo-600"},{name:"Phone",icon:qi,color:"from-teal-500 to-teal-600"},{name:"Rent",icon:ck,color:"from-red-500 to-red-600"},{name:"Other",icon:em,color:"from-gray-500 to-gray-600"}];A.useEffect(()=>{D()},[]),A.useEffect(()=>{P()},[e,s,l,d]);const D=async()=>{try{i(!0);const ee=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getExpenses"})})).json();ee.success&&ee.expenses&&t(ee.expenses)}catch(Y){console.error("Error fetching expenses:",Y),alert("Failed to fetch expenses. Please check console.")}finally{i(!1)}},O=async()=>{if(!w.amount||!w.description){alert(" Amount and Description are required!");return}try{const Y={action:"addExpense",...w,id:"EXP-"+new Date().getTime(),createdAt:new Date().toISOString()},ae=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(Y)})).json();ae.success?(alert(" Expense added successfully!"),h(!1),F(),D()):alert(" Failed to add expense: "+ae.error)}catch(Y){console.error("Error adding expense:",Y),alert(" Error adding expense. Check console.")}},L=async()=>{if(!w.amount||!w.description){alert(" Amount and Description are required!");return}try{const Y={action:"updateExpense",id:N.id,...w,updatedAt:new Date().toISOString()},ae=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(Y)})).json();ae.success?(alert(" Expense updated successfully!"),y(!1),F(),D()):alert(" Failed to update expense: "+ae.error)}catch(Y){console.error("Error updating expense:",Y),alert(" Error updating expense. Check console.")}},R=async Y=>{if(window.confirm(` Are you sure you want to delete this expense?

${Y.description}
Amount: ${Y.amount}

This action cannot be undone!`))try{const pe=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"deleteExpense",id:Y.id})})).json();pe.success?(alert(" Expense deleted successfully!"),D()):alert(" Failed to delete expense: "+pe.error)}catch(ae){console.error("Error deleting expense:",ae),alert(" Error deleting expense. Check console.")}},P=()=>{let Y=e;const ee=new Date(d.getFullYear(),d.getMonth(),1),ae=new Date(d.getFullYear(),d.getMonth()+1,0);Y=Y.filter(pe=>{const de=new Date(pe.date);return de>=ee&&de<=ae}),s&&(Y=Y.filter(pe=>pe.description?.toLowerCase().includes(s.toLowerCase())||pe.vendor?.toLowerCase().includes(s.toLowerCase())||pe.category?.toLowerCase().includes(s.toLowerCase()))),l!=="All"&&(Y=Y.filter(pe=>pe.category===l)),n(Y)},F=()=>{C({category:"Equipment",amount:"",description:"",date:new Date().toISOString().split("T")[0],paymentMethod:"Cash",vendor:"",notes:""}),j(null)},V=Y=>{j(Y),C({category:Y.category||"Equipment",amount:Y.amount||"",description:Y.description||"",date:Y.date||new Date().toISOString().split("T")[0],paymentMethod:Y.paymentMethod||"Cash",vendor:Y.vendor||"",notes:Y.notes||""}),y(!0)},X=Y=>{j(Y),b(!0)},te=(Y,ee)=>{C(ae=>({...ae,[Y]:ee}))},q=Y=>""+parseFloat(Y||0).toLocaleString("en-IN"),U=Y=>{const ee=I.find(ae=>ae.name===Y);return ee?ee.icon:em},Q=Y=>{const ee=I.find(ae=>ae.name===Y);return ee?ee.color:"from-gray-500 to-gray-600"},se=r.reduce((Y,ee)=>Y+parseFloat(ee.amount||0),0),K={};r.forEach(Y=>{const ee=Y.category||"Other";K[ee]=(K[ee]||0)+parseFloat(Y.amount||0)});const T=Y=>{f(new Date(d.getFullYear(),d.getMonth()+Y,1))},W=["January","February","March","April","May","June","July","August","September","October","November","December"],J=()=>{const Y=["Date","Category","Description","Amount","Vendor","Payment Method","Notes"],ee=r.map(Ae=>[Ae.date,Ae.category,Ae.description,Ae.amount,Ae.vendor,Ae.paymentMethod,Ae.notes]);let ae=Y.join(",")+`
`;ee.forEach(Ae=>{ae+=Ae.map(Se=>`"${Se||""}"`).join(",")+`
`});const pe=new Blob([ae],{type:"text/csv"}),de=window.URL.createObjectURL(pe),we=document.createElement("a");we.href=de,we.download=`Expenses_${W[d.getMonth()]}_${d.getFullYear()}.csv`,we.click()};return a?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Loading expenses..."})]})}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Expenses Manager"}),c.jsx("p",{className:"text-gray-600",children:"Track and manage business expenses"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:J,className:"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[c.jsx(qs,{})," Export"]}),c.jsxs("button",{onClick:()=>h(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 font-semibold",children:[c.jsx(bs,{})," Add Expense"]})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:()=>T(-1),className:"p-3 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Du,{className:"text-xl"})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[W[d.getMonth()]," ",d.getFullYear()]}),c.jsx("button",{onClick:()=>T(1),className:"p-3 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Tu,{className:"text-xl"})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsxs(le.div,{whileHover:{scale:1.02},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-xl p-6 text-white",children:[c.jsx("div",{className:"flex items-center justify-between mb-2",children:c.jsx(Cn,{className:"text-4xl opacity-80"})}),c.jsx("p",{className:"text-red-100 text-sm mb-1",children:"Total Expenses"}),c.jsx("h3",{className:"text-3xl font-bold",children:q(se)}),c.jsxs("p",{className:"text-xs text-red-100 mt-2",children:[r.length," transactions"]})]}),c.jsxs(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Avg Expense"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:q(r.length>0?se/r.length:0)}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per transaction"})]}),c.jsxs(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Highest Expense"}),c.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:q(r.length>0?Math.max(...r.map(Y=>parseFloat(Y.amount||0))):0)}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Single transaction"})]}),c.jsxs(le.div,{whileHover:{scale:1.02},className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[c.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"Categories"}),c.jsx("h3",{className:"text-3xl font-bold text-gray-800",children:Object.keys(K).length}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Active categories"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Y0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search expenses...",value:s,onChange:Y=>o(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(Q5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),c.jsxs("select",{value:l,onChange:Y=>u(Y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[c.jsx("option",{value:"All",children:"All Categories"}),I.map(Y=>c.jsx("option",{value:Y.name,children:Y.name},Y.name))]})]})]})}),Object.keys(K).length>0&&c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(bX,{className:"text-purple-600"}),"Category Breakdown"]}),c.jsx("div",{className:"space-y-3",children:Object.entries(K).sort((Y,ee)=>ee[1]-Y[1]).map(([Y,ee],ae)=>{const pe=(ee/se*100).toFixed(1),de=U(Y);return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(de,{className:"text-gray-500"}),c.jsx("span",{className:"font-semibold text-gray-700",children:Y})]}),c.jsxs("span",{className:"font-bold text-gray-800",children:[q(ee)," (",pe,"%)"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx(le.div,{initial:{width:0},animate:{width:`${pe}%`},transition:{duration:.5,delay:ae*.1},className:`bg-gradient-to-r ${Q(Y)} h-full rounded-full`})})]},Y)})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"All Expenses"})}),r.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx(em,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No expenses found for this period"}),c.jsx("button",{onClick:()=>h(!0),className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Your First Expense"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Date"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Category"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Description"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Vendor"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Amount"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Payment"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map((Y,ee)=>{const ae=U(Y.category);return c.jsxs(le.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ee*.03},className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4 text-sm text-gray-800",children:new Date(Y.date).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${Q(Y.category)} rounded-full flex items-center justify-center text-white`,children:c.jsx(ae,{size:14})}),c.jsx("span",{className:"font-medium text-gray-800",children:Y.category})]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("p",{className:"font-medium text-gray-800",children:Y.description}),Y.notes&&c.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate max-w-xs",children:Y.notes})]}),c.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Y.vendor||"-"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"font-bold text-gray-800 text-lg",children:q(Y.amount)})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:Y.paymentMethod})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>X(Y),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:c.jsx(sl,{})}),c.jsx("button",{onClick:()=>V(Y),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:c.jsx(tl,{})}),c.jsx("button",{onClick:()=>R(Y),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(bh,{})})]})})]},Y.id||ee)})})]})})]})]}),c.jsx(Kt,{children:(p||g)&&c.jsx(B7e,{isOpen:p||g,isEdit:g,formData:w,categories:I,onInputChange:te,onSave:g?L:O,onClose:()=>{p?h(!1):y(!1),F()}})}),c.jsx(Kt,{children:x&&N&&c.jsx(z7e,{expense:N,getCategoryIcon:U,getCategoryColor:Q,formatCurrency:q,onClose:()=>{b(!1),j(null)},onEdit:()=>{b(!1),V(N)}})})]})},B7e=({isOpen:e,isEdit:t,formData:r,categories:n,onInputChange:a,onSave:i,onClose:s})=>c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:s,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 text-white p-6 rounded-t-2xl sticky top-0 z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-2xl font-bold",children:t?"Edit Expense":"Add New Expense"}),c.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{size:24})})]})}),c.jsx("div",{className:"p-6 space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),c.jsx("select",{value:r.category,onChange:o=>a("category",o.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:n.map(o=>c.jsx("option",{value:o.name,children:o.name},o.name))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Amount () *"}),c.jsx("input",{type:"number",value:r.amount,onChange:o=>a("amount",o.target.value),placeholder:"Enter amount",min:"0",step:"0.01",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description *"}),c.jsx("input",{type:"text",value:r.description,onChange:o=>a("description",o.target.value),placeholder:"What was this expense for?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date *"}),c.jsx("input",{type:"date",value:r.date,onChange:o=>a("date",o.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Method"}),c.jsxs("select",{value:r.paymentMethod,onChange:o=>a("paymentMethod",o.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",children:[c.jsx("option",{value:"Cash",children:"Cash"}),c.jsx("option",{value:"Card",children:"Card"}),c.jsx("option",{value:"UPI",children:"UPI"}),c.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),c.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Vendor/Supplier (Optional)"}),c.jsx("input",{type:"text",value:r.vendor,onChange:o=>a("vendor",o.target.value),placeholder:"Who did you pay?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes (Optional)"}),c.jsx("textarea",{value:r.notes,onChange:o=>a("notes",o.target.value),placeholder:"Add any additional notes...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent"})]})]})}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex gap-3",children:[c.jsx("button",{onClick:s,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Cancel"}),c.jsxs("button",{onClick:i,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-lg hover:shadow-lg transition-all font-semibold flex items-center justify-center gap-2",children:[c.jsx(rl,{})," ",t?"Update":"Save"]})]})]})}),z7e=({expense:e,getCategoryIcon:t,getCategoryColor:r,formatCurrency:n,onClose:a,onEdit:i})=>{const s=t(e.category);return c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:a,children:c.jsxs(le.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:o=>o.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[c.jsx("div",{className:`bg-gradient-to-r ${r(e.category)} text-white p-6 rounded-t-2xl`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(s,{className:"text-3xl"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-2xl font-bold",children:e.category}),c.jsx("p",{className:"text-white/80",children:e.description})]})]}),c.jsx("button",{onClick:a,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{size:24})})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl text-center",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Amount Spent"}),c.jsx("p",{className:"text-4xl font-bold text-gray-800",children:n(e.amount)})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Date"}),c.jsx("p",{className:"font-semibold text-gray-800",children:new Date(e.date).toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Payment Method"}),c.jsx("p",{className:"font-semibold text-gray-800",children:e.paymentMethod})]})]}),e.vendor&&c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Vendor/Supplier"}),c.jsx("p",{className:"font-semibold text-gray-800",children:e.vendor})]}),e.notes&&c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg",children:[c.jsx("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Notes"}),c.jsx("p",{className:"text-gray-700",children:e.notes})]}),e.createdAt&&c.jsxs("div",{className:"text-center text-xs text-gray-500",children:["Created on: ",new Date(e.createdAt).toLocaleString("en-IN")]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex gap-3",children:[c.jsx("button",{onClick:a,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold",children:"Close"}),c.jsxs("button",{onClick:i,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[c.jsx(tl,{})," Edit Expense"]})]})]})})},W7e=()=>{const[e,t]=A.useState(new Date),[r,n]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState([]),[d,f]=A.useState(!0),[p,h]=A.useState(!1),[g,y]=A.useState(!1),[x,b]=A.useState(!1),[N,j]=A.useState(!1),[w,C]=A.useState(!1),[E,I]=A.useState(null),[D,O]=A.useState(null),[L,R]=A.useState({photographerId:"",photographerName:"",month:"",year:"",workingDays:0,dailyRate:0,basicSalary:0,bonus:0,deductions:0,netSalary:0,notes:""}),[P,F]=A.useState({amount:"",paymentMethod:"UPI",paymentDate:new Date().toISOString().split("T")[0],paymentType:"Full Payment",transactionId:"",notes:""}),V="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{X()},[]),A.useEffect(()=>{q()},[L.basicSalary,L.bonus,L.deductions]);const X=async()=>{try{f(!0);const Qe=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPhotographers"})})).json();Qe.success&&n(Qe.photographers||[]);const ze=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getAttendance"})})).json();ze.success&&i(ze.attendance||[]);const me=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getSalaries"})})).json();me.success&&o(me.salaries||[]);const Ve=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getSalaryPayments"})})).json();Ve.success&&u(Ve.payments||[])}catch(Z){console.error("Error fetching data:",Z),alert("Failed to load data")}finally{f(!1)}},te=(Z,Qe,Ne)=>{const ze=new Date(Ne,Qe,1),De=new Date(Ne,Qe+1,0),me=a.filter(Ve=>{if(Ve.photographerId!==Z)return!1;try{const Xe=new Date(Ve.date);return Xe>=ze&&Xe<=De}catch{return!1}});let _e=0;return me.forEach(Ve=>{Ve.status==="Present"?_e+=1:Ve.status==="Half-Day"&&(_e+=.5)}),_e},q=()=>{const Z=parseFloat(L.basicSalary||0)+parseFloat(L.bonus||0)-parseFloat(L.deductions||0);R(Qe=>({...Qe,netSalary:Z}))},U=Z=>{const Qe=e.getMonth(),Ne=e.getFullYear(),ze=te(Z.id,Qe,Ne),De=parseFloat(Z.dailyRate)||0,me=ze*De;R({photographerId:Z.id,photographerName:Z.name,month:Qe,year:Ne,workingDays:ze,dailyRate:De,basicSalary:me,bonus:0,deductions:0,netSalary:me,notes:""}),I(Z),h(!0)},Q=(Z,Qe)=>{R({id:Z.id,photographerId:Z.photographerId,photographerName:Z.photographerName,month:parseInt(Z.month),year:parseInt(Z.year),workingDays:parseFloat(Z.workingDays)||0,dailyRate:parseFloat(Z.dailyRate)||0,basicSalary:parseFloat(Z.basicSalary)||0,bonus:parseFloat(Z.bonus)||0,deductions:parseFloat(Z.deductions)||0,netSalary:parseFloat(Z.netSalary)||0,notes:Z.notes||""}),O(Z),I(Qe),b(!0)},se=async()=>{if(!L.photographerId){alert(" Photographer not selected!");return}try{const Qe=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"processSalary",photographerId:L.photographerId,photographerName:L.photographerName,month:L.month,year:L.year,workingDays:L.workingDays,dailyRate:L.dailyRate,basicSalary:L.basicSalary,bonus:L.bonus,deductions:L.deductions,netSalary:L.netSalary,notes:L.notes,processedDate:new Date().toISOString()})})).json();Qe.success?(alert(" Salary processed successfully!"),h(!1),J(),X()):alert(" Error: "+Qe.message)}catch(Z){console.error("Error processing salary:",Z),alert(" Error processing salary")}},K=async()=>{if(!L.id){alert(" Salary ID missing!");return}try{const Qe=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"updateSalary",id:L.id,photographerId:L.photographerId,photographerName:L.photographerName,month:L.month,year:L.year,workingDays:L.workingDays,dailyRate:L.dailyRate,basicSalary:L.basicSalary,bonus:L.bonus,deductions:L.deductions,netSalary:L.netSalary,notes:L.notes,updatedDate:new Date().toISOString()})})).json();Qe.success?(alert(" Salary updated successfully!"),b(!1),X()):alert(" Error: "+Qe.message)}catch(Z){console.error("Error updating salary:",Z),alert(" Error updating salary")}},T=(Z,Qe)=>{O(Z),I(Qe);const Ne=ae(Z.id).reduce((De,me)=>De+parseFloat(me.amount||0),0),ze=parseFloat(Z.netSalary||0)-Ne;F({amount:ze>0?ze.toString():"",paymentMethod:"UPI",paymentDate:new Date().toISOString().split("T")[0],paymentType:Ne>0?"Partial Payment":"Full Payment",transactionId:"",notes:""}),j(!0)},W=async()=>{if(!D||!P.amount){alert(" Please fill amount!");return}try{const Qe=await(await fetch(V,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"addSalaryPayment",salaryId:D.id,photographerId:D.photographerId,photographerName:D.photographerName,month:D.month,year:D.year,amount:parseFloat(P.amount),paymentMethod:P.paymentMethod,paymentDate:P.paymentDate,paymentType:P.paymentType,transactionId:P.transactionId,notes:P.notes})})).json();Qe.success?(alert(" Payment added successfully!"),j(!1),Y(),X()):alert(" Error: "+Qe.message)}catch(Z){console.error("Error adding payment:",Z),alert(" Error adding payment")}},J=()=>{R({photographerId:"",photographerName:"",month:"",year:"",workingDays:0,dailyRate:0,basicSalary:0,bonus:0,deductions:0,netSalary:0,notes:""}),I(null),O(null)},Y=()=>{F({amount:"",paymentMethod:"UPI",paymentDate:new Date().toISOString().split("T")[0],paymentType:"Full Payment",transactionId:"",notes:""})},ee=Z=>s.find(Qe=>Qe.photographerId===Z&&parseInt(Qe.month)===e.getMonth()&&parseInt(Qe.year)===e.getFullYear()),ae=Z=>l.filter(Qe=>Qe.salaryId===Z),pe=Z=>{const Ne=ae(Z.id).reduce((De,me)=>De+parseFloat(me.amount||0),0),ze=parseFloat(Z.netSalary||0);return Ne>=ze?{status:"Paid",color:"bg-green-100 text-green-800",icon:Pr}:Ne>0?{status:"Partial",color:"bg-yellow-100 text-yellow-800",icon:ju}:{status:"Pending",color:"bg-red-100 text-red-800",icon:ny}},de=Z=>{switch(Z){case"UPI":return c.jsx(nD,{});case"Cash":return c.jsx(Ob,{});case"Card":return c.jsx(rD,{});case"Bank Transfer":return c.jsx(iD,{});default:return c.jsx(Cn,{})}},we=Z=>""+parseFloat(Z||0).toLocaleString("en-IN"),Ae=Z=>{if(!Z)return"N/A";try{return new Date(Z).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return"N/A"}},Se=Z=>{t(new Date(e.getFullYear(),e.getMonth()+Z,1))},Ge=["January","February","March","April","May","June","July","August","September","October","November","December"],ke={total:r.length,processed:s.filter(Z=>parseInt(Z.month)===e.getMonth()&&parseInt(Z.year)===e.getFullYear()).length,pending:r.length-s.filter(Z=>parseInt(Z.month)===e.getMonth()&&parseInt(Z.year)===e.getFullYear()).length,totalPayout:s.filter(Z=>parseInt(Z.month)===e.getMonth()&&parseInt(Z.year)===e.getFullYear()).reduce((Z,Qe)=>Z+parseFloat(Qe.netSalary||0),0)};return d?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading salary data..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(Cn,{className:"text-blue-600"}),"Salary Processor"]}),c.jsx("p",{className:"text-gray-600",children:"Process and manage photographer salaries with payment tracking"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(hn,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:ke.total}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Total Photographers"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(Pr,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:ke.processed}),c.jsx("p",{className:"text-green-100 text-sm",children:"Processed"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(ju,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:ke.pending}),c.jsx("p",{className:"text-orange-100 text-sm",children:"Pending"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(Cn,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:we(ke.totalPayout)}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Total Payout"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("button",{onClick:()=>Se(-1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Du,{className:"text-xl"})}),c.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[Ge[e.getMonth()]," ",e.getFullYear()]}),c.jsx("button",{onClick:()=>Se(1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Tu,{className:"text-xl"})})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:r.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(hn,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No photographers found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Photographer"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Daily Rate"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Working Days"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Net Salary"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Payment Status"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map((Z,Qe)=>{const Ne=ee(Z.id),ze=te(Z.id,e.getMonth(),e.getFullYear());return c.jsxs(le.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:Qe*.05},className:"hover:bg-gray-50 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(hn,{className:"text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:Z.name}),c.jsx("div",{className:"text-sm text-gray-500",children:Z.specialization})]})]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsx("span",{className:"font-semibold text-gray-900",children:we(Z.dailyRate)})}),c.jsx("td",{className:"px-6 py-4 text-center",children:c.jsxs("span",{className:"font-semibold text-gray-900",children:[ze," days"]})}),c.jsx("td",{className:"px-6 py-4 text-center",children:Ne?c.jsx("span",{className:"font-semibold text-green-600",children:we(Ne.netSalary)}):c.jsx("span",{className:"text-gray-400",children:"Not processed"})}),c.jsx("td",{className:"px-6 py-4",children:Ne?c.jsx("div",{className:"flex flex-col items-center gap-1",children:(()=>{const De=pe(Ne),me=De.icon,Ve=ae(Ne.id).reduce((Xe,Re)=>Xe+parseFloat(Re.amount||0),0);return c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${De.color}`,children:[c.jsx(me,{}),De.status]}),Ve>0&&c.jsxs("span",{className:"text-xs text-gray-600",children:["Paid: ",we(Ve)]})]})})()}):c.jsx("div",{className:"flex justify-center",children:c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[c.jsx(ny,{}),"Not Processed"]})})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex items-center justify-center gap-2",children:Ne?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{O(Ne),I(Z),y(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Slip",children:c.jsx(sl,{})}),c.jsx("button",{onClick:()=>Q(Ne,Z),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit/Re-process",children:c.jsx(tl,{})}),c.jsx("button",{onClick:()=>T(Ne,Z),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Add Payment",children:c.jsx(Ob,{})}),c.jsx("button",{onClick:()=>{O(Ne),I(Z),C(!0)},className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Payment History",children:c.jsx(vu,{})})]}):c.jsxs("button",{onClick:()=>U(Z),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm font-medium",children:[c.jsx(gw,{}),"Process Salary"]})})})]},Z.id)})})]})})}),c.jsx(Kt,{children:p&&E&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:Z=>Z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(gw,{}),"Process Salary"]}),c.jsx("p",{className:"text-blue-100 mt-1",children:E.name})]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx("div",{className:"bg-blue-50 rounded-xl p-4",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Month/Year"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[Ge[L.month]," ",L.year]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Working Days"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:L.workingDays})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Daily Rate"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:we(L.dailyRate)})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Basic Salary (Auto-calculated)"}),c.jsx("input",{type:"number",value:L.basicSalary,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bonus"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),c.jsx("input",{type:"number",value:L.bonus,onChange:Z=>R({...L,bonus:Z.target.value}),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deductions"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),c.jsx("input",{type:"number",value:L.deductions,onChange:Z=>R({...L,deductions:Z.target.value}),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Net Salary"}),c.jsx("div",{className:"relative",children:c.jsx("input",{type:"text",value:we(L.netSalary),readOnly:!0,className:"w-full px-4 py-3 border-2 border-green-500 rounded-lg bg-green-50 text-green-700 font-bold text-xl"})})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:L.notes,onChange:Z=>R({...L,notes:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Add any notes..."})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:se,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Process Salary"]}),c.jsx("button",{onClick:()=>h(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),c.jsx(Kt,{children:x&&E&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>b(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:Z=>Z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-600 to-green-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(tl,{}),"Edit Salary (Re-processing)"]}),c.jsx("p",{className:"text-green-100 mt-1",children:E.name})]}),c.jsx("button",{onClick:()=>b(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx("div",{className:"bg-green-50 rounded-xl p-4",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Month/Year"}),c.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[Ge[L.month]," ",L.year]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Working Days"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:L.workingDays})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Daily Rate"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:we(L.dailyRate)})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Basic Salary"}),c.jsx("input",{type:"number",value:L.basicSalary,onChange:Z=>R({...L,basicSalary:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bonus"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),c.jsx("input",{type:"number",value:L.bonus,onChange:Z=>R({...L,bonus:Z.target.value}),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deductions"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),c.jsx("input",{type:"number",value:L.deductions,onChange:Z=>R({...L,deductions:Z.target.value}),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Net Salary"}),c.jsx("input",{type:"text",value:we(L.netSalary),readOnly:!0,className:"w-full px-4 py-3 border-2 border-green-500 rounded-lg bg-green-50 text-green-700 font-bold text-xl"})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:L.notes,onChange:Z=>R({...L,notes:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",rows:"3"})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:K,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Update Salary"]}),c.jsx("button",{onClick:()=>b(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),c.jsx(Kt,{children:N&&D&&E&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:Z=>Z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Ob,{}),"Add Payment"]}),c.jsx("p",{className:"text-purple-100 mt-1",children:E.name})]}),c.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsx("div",{className:"bg-purple-50 rounded-xl p-4",children:(()=>{const Qe=ae(D.id).reduce((ze,De)=>ze+parseFloat(De.amount||0),0),Ne=parseFloat(D.netSalary||0)-Qe;return c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Net Salary"}),c.jsx("p",{className:"text-lg font-bold text-gray-900",children:we(D.netSalary)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Already Paid"}),c.jsx("p",{className:"text-lg font-bold text-green-600",children:we(Qe)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remaining"}),c.jsx("p",{className:"text-lg font-bold text-orange-600",children:we(Ne)})]})]})})()}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Amount *"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:""}),c.jsx("input",{type:"number",value:P.amount,onChange:Z=>F({...P,amount:Z.target.value}),className:"w-full pl-8 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"0.00"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),c.jsxs("select",{value:P.paymentMethod,onChange:Z=>F({...P,paymentMethod:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[c.jsx("option",{value:"UPI",children:"UPI"}),c.jsx("option",{value:"Cash",children:"Cash"}),c.jsx("option",{value:"Card",children:"Card"}),c.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),c.jsx("option",{value:"Cheque",children:"Cheque"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date"}),c.jsx("input",{type:"date",value:P.paymentDate,onChange:Z=>F({...P,paymentDate:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID / Reference"}),c.jsx("input",{type:"text",value:P.transactionId,onChange:Z=>F({...P,transactionId:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter transaction ID"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:P.notes,onChange:Z=>F({...P,notes:Z.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:"2",placeholder:"Add any notes..."})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:W,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Add Payment"]}),c.jsx("button",{onClick:()=>j(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),c.jsx(Kt,{children:w&&D&&E&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>C(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:Z=>Z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-600 to-orange-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(vu,{}),"Payment History"]}),c.jsxs("p",{className:"text-orange-100 mt-1",children:[E.name," - ",Ge[parseInt(D.month)]," ",D.year]})]}),c.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6",children:(()=>{const Z=ae(D.id);if(Z.length===0)return c.jsxs("div",{className:"text-center py-12",children:[c.jsx(vu,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"No payment history found"})]});const Qe=Z.reduce((ze,De)=>ze+parseFloat(De.amount||0),0),Ne=parseFloat(D.netSalary||0)-Qe;return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Net Salary"}),c.jsx("p",{className:"text-xl font-bold text-gray-900",children:we(D.netSalary)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Paid"}),c.jsx("p",{className:"text-xl font-bold text-green-600",children:we(Qe)})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Remaining"}),c.jsx("p",{className:"text-xl font-bold text-orange-600",children:we(Ne)})]})]})}),c.jsx("div",{className:"space-y-3",children:Z.map((ze,De)=>{const me=de(ze.paymentMethod);return c.jsx(le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:De*.1},className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx("div",{className:"p-3 bg-white rounded-lg shadow-sm",children:me}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:ze.paymentMethod}),c.jsx("span",{className:"text-xs text-gray-500",children:Ae(ze.paymentDate)})]}),ze.transactionId&&c.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Txn ID: ",ze.transactionId]}),ze.notes&&c.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',ze.notes,'"']})]})]}),c.jsx("div",{className:"text-right",children:c.jsx("p",{className:"text-2xl font-bold text-green-600",children:we(ze.amount)})})]})},De)})})]})})()})]})})}),c.jsx(Kt,{children:g&&D&&E&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>y(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:Z=>Z.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Zg,{}),"Salary Slip"]}),c.jsxs("p",{className:"text-indigo-100 mt-1",children:[Ge[parseInt(D.month)]," ",D.year]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>window.print(),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",title:"Print Slip",children:c.jsx(SX,{className:"text-xl"})}),c.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})]})}),c.jsxs("div",{id:"salary-slip-content",className:"p-8",children:[c.jsxs("div",{className:"text-center mb-8 pb-6 border-b-4 border-indigo-600",children:[c.jsx("h1",{className:"text-3xl font-bold text-indigo-600 mb-2",children:"RN PHOTOFILMS"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Professional Photography & Videography Services"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-700 mt-4",children:"SALARY SLIP"}),c.jsxs("p",{className:"text-gray-600 text-sm",children:["For the month of ",Ge[parseInt(D.month)]," ",D.year]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-indigo-600 mb-4",children:"Employee Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),c.jsx("p",{className:"font-semibold",children:E.name})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"ID"}),c.jsx("p",{className:"font-semibold",children:E.id})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Working Days"}),c.jsx("p",{className:"font-semibold",children:D.workingDays})]}),c.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[c.jsx("p",{className:"text-sm text-gray-600",children:"Daily Rate"}),c.jsx("p",{className:"font-semibold",children:we(D.dailyRate)})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-green-600 mb-4",children:"Earnings"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between bg-gray-50 p-3 rounded",children:[c.jsx("span",{children:"Basic Salary"}),c.jsx("span",{className:"font-semibold",children:we(D.basicSalary)})]}),parseFloat(D.bonus||0)>0&&c.jsxs("div",{className:"flex justify-between bg-gray-50 p-3 rounded",children:[c.jsx("span",{children:"Bonus"}),c.jsxs("span",{className:"font-semibold text-green-600",children:["+",we(D.bonus)]})]})]})]}),parseFloat(D.deductions||0)>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-red-600 mb-4",children:"Deductions"}),c.jsxs("div",{className:"flex justify-between bg-gray-50 p-3 rounded",children:[c.jsx("span",{children:"Total Deductions"}),c.jsxs("span",{className:"font-semibold text-red-600",children:["-",we(D.deductions)]})]})]}),c.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white p-6 rounded-xl text-center mb-6",children:[c.jsx("p",{className:"text-lg mb-2",children:"Net Salary"}),c.jsx("p",{className:"text-4xl font-bold",children:we(D.netSalary)})]}),D.notes&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-700 mb-2",children:"Notes"}),c.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:c.jsx("p",{className:"text-gray-700 text-sm",children:D.notes})})]}),c.jsxs("div",{className:"mt-16 pt-8 border-t-2 flex justify-between",children:[c.jsx("div",{className:"text-center",children:c.jsx("div",{className:"w-48 border-t-2 border-gray-800 pt-2",children:c.jsx("p",{className:"text-sm font-semibold",children:"Employee Signature"})})}),c.jsx("div",{className:"text-center",children:c.jsx("div",{className:"w-48 border-t-2 border-gray-800 pt-2",children:c.jsx("p",{className:"text-sm font-semibold",children:"Authorized Signatory"})})})]}),c.jsxs("div",{className:"mt-8 pt-4 border-t border-gray-300 text-center",children:[c.jsx("p",{className:"text-xs text-gray-500",children:"This is a computer-generated salary slip and does not require a signature."}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Generated on ",new Date().toLocaleDateString("en-IN",{day:"numeric",month:"long",year:"numeric"})]})]})]})]})})})]})},U7e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState("All"),[s,o]=A.useState("All"),[l,u]=A.useState("upcoming"),[d,f]=A.useState(!1),[p,h]=A.useState(!1),[g,y]=A.useState(null),[x,b]=A.useState({type:"Follow-up",relatedId:"",clientName:"",clientEmail:"",clientPhone:"",reminderDate:"",reminderTime:"10:00",message:""}),N="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{j()},[]);const j=async()=>{try{n(!0);const Q=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getReminders"})})).json();Q.success?t(Q.reminders||[]):console.error("Failed to fetch reminders:",Q.message)}catch(U){console.error("Error fetching reminders:",U),alert("Failed to load reminders")}finally{n(!1)}},w=async()=>{if(!x.clientName||!x.reminderDate){alert(" Please fill required fields!");return}try{const Q=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"createReminder",...x})})).json();Q.success?(alert(" Reminder created successfully!"),f(!1),E(),j()):alert(" Error: "+Q.message)}catch(U){console.error("Error creating reminder:",U),alert("Failed to create reminder")}},C=async U=>{if(confirm(`Delete reminder for ${U.clientName}?`))try{const se=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"deleteReminder",id:U.id})})).json();se.success?(alert(" Reminder deleted"),j()):alert(" Error: "+se.message)}catch(Q){console.error("Error deleting reminder:",Q),alert("Failed to delete reminder")}},E=()=>{b({type:"Follow-up",relatedId:"",clientName:"",clientEmail:"",clientPhone:"",reminderDate:"",reminderTime:"10:00",message:""})},I=U=>({"Follow-up":uk,Event:Pi,Payment:Cn,Birthday:upe,Anniversary:Ws})[U]||gu,D=U=>({"Follow-up":"bg-blue-500",Event:"bg-purple-500",Payment:"bg-green-500",Birthday:"bg-pink-500",Anniversary:"bg-red-500"})[U]||"bg-gray-500",O=U=>({Pending:"bg-yellow-100 text-yellow-800",Sent:"bg-green-100 text-green-800",Failed:"bg-red-100 text-red-800"})[U]||"bg-gray-100 text-gray-800",L=U=>({Pending:ri,Sent:Pr,Failed:ny})[U]||w0,R=U=>{if(!U)return"N/A";try{return new Date(U).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return U}},P=U=>{if(!U)return"N/A";try{return new Date(U).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return U}},F=U=>U.status!=="Pending"?!1:new Date(U.reminderDate)>=new Date,V=U=>new Date(U.reminderDate)<new Date,te=[...e.filter(U=>!(a!=="All"&&U.type!==a||s!=="All"&&U.status!==s||l==="upcoming"&&!F(U)||l==="history"&&U.status==="Pending"))].sort((U,Q)=>new Date(Q.reminderDate)-new Date(U.reminderDate)),q={total:e.length,pending:e.filter(U=>U.status==="Pending").length,sent:e.filter(U=>U.status==="Sent").length,upcoming:e.filter(U=>F(U)).length};return r?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading reminders..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(gu,{className:"text-blue-600"}),"Reminders Manager"]}),c.jsx("p",{className:"text-gray-600",children:"Manage automated reminders for follow-ups, events, and payments"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(gu,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:q.total}),c.jsx("p",{className:"text-blue-100 text-sm",children:"Total Reminders"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(ri,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:q.pending}),c.jsx("p",{className:"text-yellow-100 text-sm",children:"Pending"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(Pr,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:q.sent}),c.jsx("p",{className:"text-green-100 text-sm",children:"Sent"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[c.jsx(Pi,{className:"text-3xl opacity-80 mb-2"}),c.jsx("h3",{className:"text-2xl font-bold mb-1",children:q.upcoming}),c.jsx("p",{className:"text-purple-100 text-sm",children:"Upcoming"})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>u("upcoming"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${l==="upcoming"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"Upcoming"}),c.jsx("button",{onClick:()=>u("all"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${l==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All"}),c.jsx("button",{onClick:()=>u("history"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${l==="history"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"History"})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("select",{value:a,onChange:U=>i(U.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"All",children:"All Types"}),c.jsx("option",{value:"Follow-up",children:"Follow-up"}),c.jsx("option",{value:"Event",children:"Event"}),c.jsx("option",{value:"Payment",children:"Payment"}),c.jsx("option",{value:"Birthday",children:"Birthday"}),c.jsx("option",{value:"Anniversary",children:"Anniversary"})]}),c.jsxs("select",{value:s,onChange:U=>o(U.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"All",children:"All Status"}),c.jsx("option",{value:"Pending",children:"Pending"}),c.jsx("option",{value:"Sent",children:"Sent"}),c.jsx("option",{value:"Failed",children:"Failed"})]}),c.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center gap-2",children:[c.jsx(bs,{}),"Add Reminder"]})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:te.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(gu,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500 text-lg",children:"No reminders found"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Type"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Client"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Reminder Date"}),c.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Message"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:te.map((U,Q)=>{const se=I(U.type),K=L(U.status);return c.jsxs(le.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:Q*.05},className:`hover:bg-gray-50 transition-colors ${V(U)&&U.status==="Pending"?"bg-red-50":""}`,children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:`p-2 ${D(U.type)} rounded-lg`,children:c.jsx(se,{className:"text-white"})}),c.jsx("span",{className:"font-medium text-gray-900",children:U.type})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:U.clientName}),U.clientEmail&&c.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[c.jsx(Ga,{className:"text-xs"}),U.clientEmail]})]})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Pi,{className:"text-gray-400"}),c.jsx("span",{className:"text-gray-900",children:R(U.reminderDate)})]}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx(ri,{className:"text-gray-400 text-xs"}),c.jsx("span",{className:"text-sm text-gray-500",children:U.reminderTime})]})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:U.message})}),c.jsxs("td",{className:"px-6 py-4",children:[c.jsx("div",{className:"flex justify-center",children:c.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${O(U.status)}`,children:[c.jsx(K,{}),U.status]})}),U.sentAt&&c.jsx("div",{className:"text-xs text-gray-500 text-center mt-1",children:P(U.sentAt)})]}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx("button",{onClick:()=>{y(U),h(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:c.jsx(sl,{})}),U.status==="Pending"&&c.jsx("button",{onClick:()=>C(U),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:c.jsx(bh,{})})]})})]},U.id)})})]})})}),c.jsx(Kt,{children:d&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>f(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:U=>U.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(bs,{}),"Create Reminder"]}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Schedule a new reminder"})]}),c.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Type *"}),c.jsxs("select",{value:x.type,onChange:U=>b({...x,type:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"Follow-up",children:"Follow-up"}),c.jsx("option",{value:"Event",children:"Event"}),c.jsx("option",{value:"Payment",children:"Payment"}),c.jsx("option",{value:"Birthday",children:"Birthday"}),c.jsx("option",{value:"Anniversary",children:"Anniversary"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),c.jsx("input",{type:"text",value:x.clientName,onChange:U=>b({...x,clientName:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsx("input",{type:"email",value:x.clientEmail,onChange:U=>b({...x,clientEmail:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"client@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",value:x.clientPhone,onChange:U=>b({...x,clientPhone:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9876543210"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Date *"}),c.jsx("input",{type:"date",value:x.reminderDate,onChange:U=>b({...x,reminderDate:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reminder Time"}),c.jsx("input",{type:"time",value:x.reminderTime,onChange:U=>b({...x,reminderTime:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),c.jsx("textarea",{value:x.message,onChange:U=>b({...x,message:U.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"4",placeholder:"Enter reminder message..."})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsxs("button",{onClick:w,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Create Reminder"]}),c.jsx("button",{onClick:()=>f(!1),className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})]})})}),c.jsx(Kt,{children:p&&g&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:U=>U.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Reminder Details"}),c.jsx("p",{className:"text-indigo-100 mt-1",children:g.type})]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Client Name"}),c.jsx("p",{className:"font-semibold text-gray-900",children:g.clientName})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Type"}),c.jsx("p",{className:"font-semibold text-gray-900",children:g.type})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Email"}),c.jsx("p",{className:"font-semibold text-gray-900",children:g.clientEmail||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Phone"}),c.jsx("p",{className:"font-semibold text-gray-900",children:g.clientPhone||"N/A"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Reminder Date"}),c.jsx("p",{className:"font-semibold text-gray-900",children:R(g.reminderDate)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Time"}),c.jsx("p",{className:"font-semibold text-gray-900",children:g.reminderTime})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Status"}),c.jsx("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${O(g.status)}`,children:g.status})]}),g.sentAt&&c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Sent At"}),c.jsx("p",{className:"font-semibold text-gray-900",children:P(g.sentAt)})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-600",children:"Message"}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-lg mt-2",children:c.jsx("p",{className:"text-gray-900",children:g.message})})]})]})})]})})})]})},$7e=e=>{if(!e)return 0;const r=(typeof e=="string"?e:String(e)).replace(/[,\s]/g,"").trim(),n=parseFloat(r);return isNaN(n)?0:n},q7e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(!0),[a,i]=A.useState("all"),[s,o]=A.useState({totalLeads:0,converted:0,revenue:0,conversionRate:0,avgDealSize:0,eventsByType:{},monthlyTrend:[],topPackages:[],sourceAnalysis:{}}),l="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{u()},[]),A.useEffect(()=>{e.length>0&&d()},[e,a]);const u=async()=>{try{n(!0);const y=await(await fetch(l,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json();y.success&&y.leads&&t(y.leads)}catch(g){console.error("Error fetching analytics:",g)}finally{n(!1)}},d=()=>{let g=e;if(a==="month"){const O=new Date,L=new Date(O.getFullYear(),O.getMonth()-1,O.getDate());g=e.filter(R=>R["Created At"]?new Date(R["Created At"])>=L:!1)}else if(a==="week"){const O=new Date,L=new Date(O.getTime()-10080*60*1e3);g=e.filter(R=>R["Created At"]?new Date(R["Created At"])>=L:!1)}const y=g.length,x=g.filter(O=>O.Status==="Converted"||O.Status==="Event Completed").length;let b=0;g.forEach(O=>{if(O.Status==="Converted"||O.Status==="Event Completed")try{const L=$7e(O.Budget);b+=L}catch(L){console.warn("Budget parse error:",L)}});const N=y>0?(x/y*100).toFixed(1):0,j=x>0?Math.round(b/x):0,w={};g.forEach(O=>{const L=O["Event Type"]||"Other";w[L]=(w[L]||0)+1});const C={};g.forEach(O=>{const L=O.Source||"Direct";C[L]=(C[L]||0)+1});const E={};g.forEach(O=>{if(O["Package Category"]){const L=O["Package Category"];E[L]=(E[L]||0)+1}});const I=Object.entries(E).sort((O,L)=>L[1]-O[1]).slice(0,5).map(([O,L])=>({name:O,count:L})),D=[];for(let O=5;O>=0;O--){const L=new Date;L.setMonth(L.getMonth()-O);const R=L.toLocaleString("en",{month:"short"}),P=e.filter(F=>{if(!F["Created At"])return!1;const V=new Date(F["Created At"]);return V.getMonth()===L.getMonth()&&V.getFullYear()===L.getFullYear()}).length;D.push({month:R,leads:P})}o({totalLeads:y,converted:x,revenue:b,conversionRate:parseFloat(N),avgDealSize:j,eventsByType:w,monthlyTrend:D,topPackages:I,sourceAnalysis:C})},f=g=>""+g.toLocaleString("en-IN"),p=()=>{const g=["Lead ID","Client Name","Email","Phone","Event Type","Event Date","Status","Budget","Package"],y=e.map(w=>[w["Lead ID"],w["Client Name"],w.Email,w.Phone,w["Event Type"],w["Event Date"],w.Status,w.Budget,w["Package Category"]]);let x=g.join(",")+`
`;y.forEach(w=>{x+=w.map(C=>`"${C||""}"`).join(",")+`
`});const b=new Blob([x],{type:"text/csv"}),N=window.URL.createObjectURL(b),j=document.createElement("a");j.href=N,j.download=`RN_PhotoFilms_Report_${new Date().toISOString().split("T")[0]}.csv`,j.click()},h=()=>{window.print()};return r?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Loading analytics..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Reports & Analytics"}),c.jsx("p",{className:"text-gray-600",children:"Comprehensive business insights and performance metrics"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[c.jsx(wpe,{})," Export CSV"]}),c.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[c.jsx(SX,{})," Print Report"]})]})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[c.jsx(Pi,{className:"text-gray-400 text-xl"}),c.jsx("span",{className:"text-gray-700 font-semibold",children:"Time Period:"}),c.jsx("div",{className:"flex gap-2",children:["all","month","week"].map(g=>c.jsx("button",{onClick:()=>i(g),className:`px-4 py-2 rounded-lg transition-colors ${a===g?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:g==="all"?"All Time":g==="month"?"Last Month":"Last Week"},g))}),c.jsx("button",{onClick:u,className:"ml-auto px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Refresh Data"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-xl p-6 text-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Qg,{className:"text-4xl opacity-80"}),c.jsx(xX,{className:"text-2xl"})]}),c.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Total Leads"}),c.jsx("h3",{className:"text-4xl font-bold",children:s.totalLeads}),c.jsx("p",{className:"text-xs text-blue-100 mt-2",children:"All enquiries received"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-xl p-6 text-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Ape,{className:"text-4xl opacity-80"}),c.jsx(Wpe,{className:"text-2xl"})]}),c.jsx("p",{className:"text-green-100 text-sm mb-1",children:"Conversion Rate"}),c.jsxs("h3",{className:"text-4xl font-bold",children:[s.conversionRate,"%"]}),c.jsxs("p",{className:"text-xs text-green-100 mt-2",children:[s.converted," converted"]})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-xl p-6 text-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(Cn,{className:"text-4xl opacity-80"}),c.jsx(dm,{className:"text-2xl"})]}),c.jsx("p",{className:"text-purple-100 text-sm mb-1",children:"Total Revenue"}),c.jsx("h3",{className:"text-3xl font-bold",children:f(s.revenue)}),c.jsx("p",{className:"text-xs text-purple-100 mt-2",children:"From converted leads"})]}),c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl shadow-xl p-6 text-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx(ok,{className:"text-4xl opacity-80"}),c.jsx(Pr,{className:"text-2xl"})]}),c.jsx("p",{className:"text-orange-100 text-sm mb-1",children:"Avg Deal Size"}),c.jsx("h3",{className:"text-3xl font-bold",children:f(s.avgDealSize)}),c.jsx("p",{className:"text-xs text-orange-100 mt-2",children:"Per converted lead"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[c.jsx(dm,{className:"text-blue-600"}),"Monthly Lead Trend"]}),c.jsx("div",{className:"space-y-4",children:s.monthlyTrend.map((g,y)=>{const x=Math.max(...s.monthlyTrend.map(N=>N.leads),1),b=g.leads/x*100;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:g.month}),c.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[g.leads," leads"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-full rounded-full transition-all duration-500",style:{width:`${b}%`}})})]},y)})})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6",children:[c.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[c.jsx(bX,{className:"text-purple-600"}),"Events by Type"]}),c.jsx("div",{className:"space-y-4",children:Object.entries(s.eventsByType).sort((g,y)=>y[1]-g[1]).map(([g,y],x)=>{const b=Object.values(s.eventsByType).reduce((j,w)=>j+w,0),N=b>0?(y/b*100).toFixed(1):0;return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-700",children:g}),c.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[y," (",N,"%)"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-full rounded-full transition-all duration-500",style:{width:`${N}%`}})})]},g)})})]})]})]})})},V7e="modulepreload",H7e=function(e){return"/rnphotofilms/"+e},MW={},oj=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");a=l(r.map(u=>{if(u=H7e(u),u in MW)return;MW[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":V7e,d||(p.as="script"),p.crossOrigin="",p.href=u,o&&p.setAttribute("nonce",o),document.head.appendChild(p),d)return new Promise((h,g)=>{p.addEventListener("load",h),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function Ar(e){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(e)}var Ic=Uint8Array,Qo=Uint16Array,II=Int32Array,MI=new Ic([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),RI=new Ic([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),RW=new Ic([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cae=function(e,t){for(var r=new Qo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new II(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},_ae=Cae(MI,2),G7e=_ae.b,B8=_ae.r;G7e[28]=258,B8[258]=28;var Y7e=Cae(RI,0),LW=Y7e.r,z8=new Qo(32768);for(var In=0;In<32768;++In){var nh=(In&43690)>>1|(In&21845)<<1;nh=(nh&52428)>>2|(nh&13107)<<2,nh=(nh&61680)>>4|(nh&3855)<<4,z8[In]=((nh&65280)>>8|(nh&255)<<8)>>1}var Ux=(function(e,t,r){for(var n=e.length,a=0,i=new Qo(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Qo(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Qo(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=s[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)o[z8[f]>>l]=u}else for(o=new Qo(n),a=0;a<n;++a)e[a]&&(o[a]=z8[s[e[a]-1]++]>>15-e[a]);return o}),wm=new Ic(288);for(var In=0;In<144;++In)wm[In]=8;for(var In=144;In<256;++In)wm[In]=9;for(var In=256;In<280;++In)wm[In]=7;for(var In=280;In<288;++In)wm[In]=8;var T5=new Ic(32);for(var In=0;In<32;++In)T5[In]=5;var K7e=Ux(wm,9,0),X7e=Ux(T5,5,0),Eae=function(e){return(e+7)/8|0},J7e=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ic(e.subarray(t,r))},Ad=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},ux=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},lj=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:kae,l:0};if(a==1){var s=new Ic(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(C,E){return C.f-E.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var h=new Qo(p+1),g=W8(r[d-1],h,0);if(g>t){var n=0,y=0,x=g-t,b=1<<x;for(i.sort(function(E,I){return h[I.s]-h[E.s]||E.f-I.f});n<a;++n){var N=i[n].s;if(h[N]>t)y+=b-(1<<g-h[N]),h[N]=t;else break}for(y>>=x;y>0;){var j=i[n].s;h[j]<t?y-=1<<t-h[j]++-1:++n}for(;n>=0&&y;--n){var w=i[n].s;h[w]==t&&(--h[w],++y)}g=t}return{t:new Ic(h),l:g}},W8=function(e,t,r){return e.s==-1?Math.max(W8(e.l,t,r+1),W8(e.r,t,r+1)):t[e.s]=r},FW=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Qo(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},dx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Pae=function(e,t,r){var n=r.length,a=Eae(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},BW=function(e,t,r,n,a,i,s,o,l,u,d){Ad(t,d++,r),++a[256];for(var f=lj(a,15),p=f.t,h=f.l,g=lj(i,15),y=g.t,x=g.l,b=FW(p),N=b.c,j=b.n,w=FW(y),C=w.c,E=w.n,I=new Qo(19),D=0;D<N.length;++D)++I[N[D]&31];for(var D=0;D<C.length;++D)++I[C[D]&31];for(var O=lj(I,7),L=O.t,R=O.l,P=19;P>4&&!L[RW[P-1]];--P);var F=u+5<<3,V=dx(a,wm)+dx(i,T5)+s,X=dx(a,p)+dx(i,y)+s+14+3*P+dx(I,L)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&F<=V&&F<=X)return Pae(t,d,e.subarray(l,l+u));var te,q,U,Q;if(Ad(t,d,1+(X<V)),d+=2,X<V){te=Ux(p,h,0),q=p,U=Ux(y,x,0),Q=y;var se=Ux(L,R,0);Ad(t,d,j-257),Ad(t,d+5,E-1),Ad(t,d+10,P-4),d+=14;for(var D=0;D<P;++D)Ad(t,d+3*D,L[RW[D]]);d+=3*P;for(var K=[N,C],T=0;T<2;++T)for(var W=K[T],D=0;D<W.length;++D){var J=W[D]&31;Ad(t,d,se[J]),d+=L[J],J>15&&(Ad(t,d,W[D]>>5&127),d+=W[D]>>12)}}else te=K7e,q=wm,U=X7e,Q=T5;for(var D=0;D<o;++D){var Y=n[D];if(Y>255){var J=Y>>18&31;ux(t,d,te[J+257]),d+=q[J+257],J>7&&(Ad(t,d,Y>>23&31),d+=MI[J]);var ee=Y&31;ux(t,d,U[ee]),d+=Q[ee],ee>3&&(ux(t,d,Y>>5&8191),d+=RI[ee])}else ux(t,d,te[Y]),d+=q[Y]}return ux(t,d,te[256]),d+q[256]},Z7e=new II([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kae=new Ic(0),Q7e=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Ic(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),u=i.l,d=(i.r||0)&7;if(t){d&&(l[0]=i.r>>3);for(var f=Z7e[t-1],p=f>>13,h=f&8191,g=(1<<r)-1,y=i.p||new Qo(32768),x=i.h||new Qo(g+1),b=Math.ceil(r/3),N=2*b,j=function(ke){return(e[ke]^e[ke+1]<<b^e[ke+2]<<N)&g},w=new II(25e3),C=new Qo(288),E=new Qo(32),I=0,D=0,O=i.i||0,L=0,R=i.w||0,P=0;O+2<s;++O){var F=j(O),V=O&32767,X=x[F];if(y[V]=X,x[F]=V,R<=O){var te=s-O;if((I>7e3||L>24576)&&(te>423||!u)){d=BW(e,l,0,w,C,E,D,L,P,O-P,d),L=I=D=0,P=O;for(var q=0;q<286;++q)C[q]=0;for(var q=0;q<30;++q)E[q]=0}var U=2,Q=0,se=h,K=V-X&32767;if(te>2&&F==j(O-K))for(var T=Math.min(p,te)-1,W=Math.min(32767,O),J=Math.min(258,te);K<=W&&--se&&V!=X;){if(e[O+U]==e[O+U-K]){for(var Y=0;Y<J&&e[O+Y]==e[O+Y-K];++Y);if(Y>U){if(U=Y,Q=K,Y>T)break;for(var ee=Math.min(K,Y-2),ae=0,q=0;q<ee;++q){var pe=O-K+q&32767,de=y[pe],we=pe-de&32767;we>ae&&(ae=we,X=pe)}}}V=X,X=y[V],K+=V-X&32767}if(Q){w[L++]=268435456|B8[U]<<18|LW[Q];var Ae=B8[U]&31,Se=LW[Q]&31;D+=MI[Ae]+RI[Se],++C[257+Ae],++E[Se],R=O+U,++I}else w[L++]=e[O],++C[e[O]]}}for(O=Math.max(O,R);O<s;++O)w[L++]=e[O],++C[e[O]];d=BW(e,l,u,w,C,E,D,L,P,O-P,d),u||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=x,i.p=y,i.i=O,i.w=R)}else{for(var O=i.w||0;O<s+u;O+=65535){var Ge=O+65535;Ge>=s&&(l[d/8|0]=u,Ge=s),d=Pae(l,d+1,e.subarray(O,Ge))}i.i=s}return J7e(o,0,n+Eae(d)+a)},Aae=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},eLe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Ic(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Q7e(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Dae=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},tLe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Aae();a.p(t.dictionary),Dae(e,2,a.d())}};function U8(e,t){t||(t={});var r=Aae();r.p(e);var n=eLe(e,t,t.dictionary?6:2,4);return tLe(n,t),Dae(n,n.length-4,r.d()),n}var rLe=typeof TextDecoder<"u"&&new TextDecoder,nLe=0;try{rLe.decode(kae,{stream:!0}),nLe=1}catch{}function Tae(e){if(Array.isArray(e))return e}function aLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}function $8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function LI(e,t){if(e){if(typeof e=="string")return $8(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$8(e,t):void 0}}function Oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function po(e,t){return Tae(e)||aLe(e,t)||LI(e,t)||Oae()}function zW(e,t="utf8"){return new TextDecoder(t).decode(e)}const iLe=new TextEncoder;function sLe(e){return iLe.encode(e)}const oLe=1024*8,lLe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),cj={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class FI{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=oLe,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let s=a;(ArrayBuffer.isView(t)||t instanceof FI)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=cj[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===lLe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const l=new cj[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new cj[r](i);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return zW(this.readBytes(t))}decodeText(t=1,r="utf8"){return zW(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(sLe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function uv(e){let t=e.length;for(;--t>=0;)e[t]=0}const cLe=3,uLe=258,Iae=29,dLe=256,fLe=dLe+1+Iae,Mae=30,hLe=512,pLe=new Array((fLe+2)*2);uv(pLe);const mLe=new Array(Mae*2);uv(mLe);const gLe=new Array(hLe);uv(gLe);const vLe=new Array(uLe-cLe+1);uv(vLe);const xLe=new Array(Iae);uv(xLe);const yLe=new Array(Mae);uv(yLe);const bLe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+t[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var q8=bLe;const wLe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},NLe=new Uint32Array(wLe()),SLe=(e,t,r,n)=>{const a=NLe,i=n+r;e^=-1;for(let s=n;s<i;s++)e=e>>>8^a[(e^t[s])&255];return e^-1};var ou=SLe,V8={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Rae={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const jLe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var CLe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)jLe(r,n)&&(e[n]=r[n])}}return e},_Le=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let s=e[n];r.set(s,a),a+=s.length}return r},Lae={assign:CLe,flattenChunks:_Le};let Fae=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Fae=!1}const Ey=new Uint8Array(256);for(let e=0;e<256;e++)Ey[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ey[254]=Ey[254]=1;var ELe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const PLe=(e,t)=>{if(t<65534&&e.subarray&&Fae)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var kLe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=e[n++];if(s<128){i[a++]=s;continue}let o=Ey[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return PLe(i,a)},ALe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ey[e[r]]>t?r:t},H8={string2buf:ELe,buf2string:kLe,utf8border:ALe};function DLe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var TLe=DLe;const pb=16209,OLe=16191;var ILe=function(t,r){let n,a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D,O,L;const R=t.state;n=t.next_in,O=t.input,a=n+(t.avail_in-5),i=t.next_out,L=t.output,s=i-(r-t.avail_out),o=i+(t.avail_out-257),l=R.dmax,u=R.wsize,d=R.whave,f=R.wnext,p=R.window,h=R.hold,g=R.bits,y=R.lencode,x=R.distcode,b=(1<<R.lenbits)-1,N=(1<<R.distbits)-1;e:do{g<15&&(h+=O[n++]<<g,g+=8,h+=O[n++]<<g,g+=8),j=y[h&b];t:for(;;){if(w=j>>>24,h>>>=w,g-=w,w=j>>>16&255,w===0)L[i++]=j&65535;else if(w&16){C=j&65535,w&=15,w&&(g<w&&(h+=O[n++]<<g,g+=8),C+=h&(1<<w)-1,h>>>=w,g-=w),g<15&&(h+=O[n++]<<g,g+=8,h+=O[n++]<<g,g+=8),j=x[h&N];r:for(;;){if(w=j>>>24,h>>>=w,g-=w,w=j>>>16&255,w&16){if(E=j&65535,w&=15,g<w&&(h+=O[n++]<<g,g+=8,g<w&&(h+=O[n++]<<g,g+=8)),E+=h&(1<<w)-1,E>l){t.msg="invalid distance too far back",R.mode=pb;break e}if(h>>>=w,g-=w,w=i-s,E>w){if(w=E-w,w>d&&R.sane){t.msg="invalid distance too far back",R.mode=pb;break e}if(I=0,D=p,f===0){if(I+=u-w,w<C){C-=w;do L[i++]=p[I++];while(--w);I=i-E,D=L}}else if(f<w){if(I+=u+f-w,w-=f,w<C){C-=w;do L[i++]=p[I++];while(--w);if(I=0,f<C){w=f,C-=w;do L[i++]=p[I++];while(--w);I=i-E,D=L}}}else if(I+=f-w,w<C){C-=w;do L[i++]=p[I++];while(--w);I=i-E,D=L}for(;C>2;)L[i++]=D[I++],L[i++]=D[I++],L[i++]=D[I++],C-=3;C&&(L[i++]=D[I++],C>1&&(L[i++]=D[I++]))}else{I=i-E;do L[i++]=L[I++],L[i++]=L[I++],L[i++]=L[I++],C-=3;while(C>2);C&&(L[i++]=L[I++],C>1&&(L[i++]=L[I++]))}}else if((w&64)===0){j=x[(j&65535)+(h&(1<<w)-1)];continue r}else{t.msg="invalid distance code",R.mode=pb;break e}break}}else if((w&64)===0){j=y[(j&65535)+(h&(1<<w)-1)];continue t}else if(w&32){R.mode=OLe;break e}else{t.msg="invalid literal/length code",R.mode=pb;break e}break}}while(n<a&&i<o);C=g>>3,n-=C,g-=C<<3,h&=(1<<g)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),R.hold=h,R.bits=g};const Dg=15,WW=852,UW=592,$W=0,uj=1,qW=2,MLe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RLe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),LLe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),FLe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),BLe=(e,t,r,n,a,i,s,o)=>{const l=o.bits;let u=0,d=0,f=0,p=0,h=0,g=0,y=0,x=0,b=0,N=0,j,w,C,E,I,D=null,O;const L=new Uint16Array(Dg+1),R=new Uint16Array(Dg+1);let P=null,F,V,X;for(u=0;u<=Dg;u++)L[u]=0;for(d=0;d<n;d++)L[t[r+d]]++;for(h=l,p=Dg;p>=1&&L[p]===0;p--);if(h>p&&(h=p),p===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<p&&L[f]===0;f++);for(h<f&&(h=f),x=1,u=1;u<=Dg;u++)if(x<<=1,x-=L[u],x<0)return-1;if(x>0&&(e===$W||p!==1))return-1;for(R[1]=0,u=1;u<Dg;u++)R[u+1]=R[u]+L[u];for(d=0;d<n;d++)t[r+d]!==0&&(s[R[t[r+d]]++]=d);if(e===$W?(D=P=s,O=20):e===uj?(D=MLe,P=RLe,O=257):(D=LLe,P=FLe,O=0),N=0,d=0,u=f,I=i,g=h,y=0,C=-1,b=1<<h,E=b-1,e===uj&&b>WW||e===qW&&b>UW)return 1;for(;;){F=u-y,s[d]+1<O?(V=0,X=s[d]):s[d]>=O?(V=P[s[d]-O],X=D[s[d]-O]):(V=96,X=0),j=1<<u-y,w=1<<g,f=w;do w-=j,a[I+(N>>y)+w]=F<<24|V<<16|X|0;while(w!==0);for(j=1<<u-1;N&j;)j>>=1;if(j!==0?(N&=j-1,N+=j):N=0,d++,--L[u]===0){if(u===p)break;u=t[r+s[d]]}if(u>h&&(N&E)!==C){for(y===0&&(y=h),I+=f,g=u-y,x=1<<g;g+y<p&&(x-=L[g+y],!(x<=0));)g++,x<<=1;if(b+=1<<g,e===uj&&b>WW||e===qW&&b>UW)return 1;C=N&E,a[C]=h<<24|g<<16|I-i|0}}return N!==0&&(a[I+N]=u-y<<24|64<<16|0),o.bits=h,0};var $x=BLe;const zLe=0,Bae=1,zae=2,{Z_FINISH:VW,Z_BLOCK:WLe,Z_TREES:mb,Z_OK:Nm,Z_STREAM_END:ULe,Z_NEED_DICT:$Le,Z_STREAM_ERROR:Yl,Z_DATA_ERROR:Wae,Z_MEM_ERROR:Uae,Z_BUF_ERROR:qLe,Z_DEFLATED:HW}=Rae,i3=16180,GW=16181,YW=16182,KW=16183,XW=16184,JW=16185,ZW=16186,QW=16187,eU=16188,tU=16189,O5=16190,Dd=16191,dj=16192,rU=16193,fj=16194,nU=16195,aU=16196,iU=16197,sU=16198,gb=16199,vb=16200,oU=16201,lU=16202,cU=16203,uU=16204,dU=16205,hj=16206,fU=16207,hU=16208,Vn=16209,$ae=16210,qae=16211,VLe=852,HLe=592,GLe=15,YLe=GLe,pU=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function KLe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<i3||t.mode>qae?1:0},Vae=e=>{if(Wm(e))return Yl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=i3,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(VLe),t.distcode=t.distdyn=new Int32Array(HLe),t.sane=1,t.back=-1,Nm},Hae=e=>{if(Wm(e))return Yl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Vae(e)},Gae=(e,t)=>{let r;if(Wm(e))return Yl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Yl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Hae(e))},Yae=(e,t)=>{if(!e)return Yl;const r=new KLe;e.state=r,r.strm=e,r.window=null,r.mode=i3;const n=Gae(e,t);return n!==Nm&&(e.state=null),n},XLe=e=>Yae(e,YLe);let mU=!0,pj,mj;const JLe=e=>{if(mU){pj=new Int32Array(512),mj=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for($x(Bae,e.lens,0,288,pj,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;$x(zae,e.lens,0,32,mj,0,e.work,{bits:5}),mU=!1}e.lencode=pj,e.lenbits=9,e.distcode=mj,e.distbits=5},Kae=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},ZLe=(e,t)=>{let r,n,a,i,s,o,l,u,d,f,p,h,g,y,x=0,b,N,j,w,C,E,I,D;const O=new Uint8Array(4);let L,R;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wm(e)||!e.output||!e.input&&e.avail_in!==0)return Yl;r=e.state,r.mode===Dd&&(r.mode=dj),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,d=r.bits,f=o,p=l,D=Nm;e:for(;;)switch(r.mode){case i3:if(r.wrap===0){r.mode=dj;break}for(;d<16;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,O[0]=u&255,O[1]=u>>>8&255,r.check=ou(r.check,O,2,0),u=0,d=0,r.mode=GW;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Vn;break}if((u&15)!==HW){e.msg="unknown compression method",r.mode=Vn;break}if(u>>>=4,d-=4,I=(u&15)+8,r.wbits===0&&(r.wbits=I),I>15||I>r.wbits){e.msg="invalid window size",r.mode=Vn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=u&512?tU:Dd,u=0,d=0;break;case GW:for(;d<16;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(r.flags=u,(r.flags&255)!==HW){e.msg="unknown compression method",r.mode=Vn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Vn;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=ou(r.check,O,2,0)),u=0,d=0,r.mode=YW;case YW:for(;d<32;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,O[2]=u>>>16&255,O[3]=u>>>24&255,r.check=ou(r.check,O,4,0)),u=0,d=0,r.mode=KW;case KW:for(;d<16;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=ou(r.check,O,2,0)),u=0,d=0,r.mode=XW;case XW:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(O[0]=u&255,O[1]=u>>>8&255,r.check=ou(r.check,O,2,0)),u=0,d=0}else r.head&&(r.head.extra=null);r.mode=JW;case JW:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),I)),r.flags&512&&r.wrap&4&&(r.check=ou(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=ZW;case ZW:if(r.flags&2048){if(o===0)break e;h=0;do I=n[i+h++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I));while(I&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ou(r.check,n,h,i)),o-=h,i+=h,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=QW;case QW:if(r.flags&4096){if(o===0)break e;h=0;do I=n[i+h++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I));while(I&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=ou(r.check,n,h,i)),o-=h,i+=h,I)break e}else r.head&&(r.head.comment=null);r.mode=eU;case eU:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Vn;break}u=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Dd;break;case tU:for(;d<32;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}e.adler=r.check=pU(u),u=0,d=0,r.mode=O5;case O5:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=d,$Le;e.adler=r.check=1,r.mode=Dd;case Dd:if(t===WLe||t===mb)break e;case dj:if(r.last){u>>>=d&7,d-=d&7,r.mode=hj;break}for(;d<3;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}switch(r.last=u&1,u>>>=1,d-=1,u&3){case 0:r.mode=rU;break;case 1:if(JLe(r),r.mode=gb,t===mb){u>>>=2,d-=2;break e}break;case 2:r.mode=aU;break;case 3:e.msg="invalid block type",r.mode=Vn}u>>>=2,d-=2;break;case rU:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Vn;break}if(r.length=u&65535,u=0,d=0,r.mode=fj,t===mb)break e;case fj:r.mode=nU;case nU:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;a.set(n.subarray(i,i+h),s),o-=h,i+=h,l-=h,s+=h,r.length-=h;break}r.mode=Dd;break;case aU:for(;d<14;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(r.nlen=(u&31)+257,u>>>=5,d-=5,r.ndist=(u&31)+1,u>>>=5,d-=5,r.ncode=(u&15)+4,u>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Vn;break}r.have=0,r.mode=iU;case iU:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}r.lens[P[r.have++]]=u&7,u>>>=3,d-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,L={bits:r.lenbits},D=$x(zLe,r.lens,0,19,r.lencode,0,r.work,L),r.lenbits=L.bits,D){e.msg="invalid code lengths set",r.mode=Vn;break}r.have=0,r.mode=sU;case sU:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],b=x>>>24,N=x>>>16&255,j=x&65535,!(b<=d);){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(j<16)u>>>=b,d-=b,r.lens[r.have++]=j;else{if(j===16){for(R=b+2;d<R;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(u>>>=b,d-=b,r.have===0){e.msg="invalid bit length repeat",r.mode=Vn;break}I=r.lens[r.have-1],h=3+(u&3),u>>>=2,d-=2}else if(j===17){for(R=b+3;d<R;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,I=0,h=3+(u&7),u>>>=3,d-=3}else{for(R=b+7;d<R;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}u>>>=b,d-=b,I=0,h=11+(u&127),u>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Vn;break}for(;h--;)r.lens[r.have++]=I}}if(r.mode===Vn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Vn;break}if(r.lenbits=9,L={bits:r.lenbits},D=$x(Bae,r.lens,0,r.nlen,r.lencode,0,r.work,L),r.lenbits=L.bits,D){e.msg="invalid literal/lengths set",r.mode=Vn;break}if(r.distbits=6,r.distcode=r.distdyn,L={bits:r.distbits},D=$x(zae,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,L),r.distbits=L.bits,D){e.msg="invalid distances set",r.mode=Vn;break}if(r.mode=gb,t===mb)break e;case gb:r.mode=vb;case vb:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=d,ILe(e,p),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,u=r.hold,d=r.bits,r.mode===Dd&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],b=x>>>24,N=x>>>16&255,j=x&65535,!(b<=d);){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(N&&(N&240)===0){for(w=b,C=N,E=j;x=r.lencode[E+((u&(1<<w+C)-1)>>w)],b=x>>>24,N=x>>>16&255,j=x&65535,!(w+b<=d);){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=b,d-=b,r.back+=b,r.length=j,N===0){r.mode=dU;break}if(N&32){r.back=-1,r.mode=Dd;break}if(N&64){e.msg="invalid literal/length code",r.mode=Vn;break}r.extra=N&15,r.mode=oU;case oU:if(r.extra){for(R=r.extra;d<R;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=lU;case lU:for(;x=r.distcode[u&(1<<r.distbits)-1],b=x>>>24,N=x>>>16&255,j=x&65535,!(b<=d);){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if((N&240)===0){for(w=b,C=N,E=j;x=r.distcode[E+((u&(1<<w+C)-1)>>w)],b=x>>>24,N=x>>>16&255,j=x&65535,!(w+b<=d);){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}u>>>=w,d-=w,r.back+=w}if(u>>>=b,d-=b,r.back+=b,N&64){e.msg="invalid distance code",r.mode=Vn;break}r.offset=j,r.extra=N&15,r.mode=cU;case cU:if(r.extra){for(R=r.extra;d<R;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Vn;break}r.mode=uU;case uU:if(l===0)break e;if(h=p-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Vn;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),y=r.window}else y=a,g=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do a[s++]=y[g++];while(--h);r.length===0&&(r.mode=vb);break;case dU:if(l===0)break e;a[s++]=r.length,l--,r.mode=vb;break;case hj:if(r.wrap){for(;d<32;){if(o===0)break e;o--,u|=n[i++]<<d,d+=8}if(p-=l,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?ou(r.check,a,p,s-p):q8(r.check,a,p,s-p)),p=l,r.wrap&4&&(r.flags?u:pU(u))!==r.check){e.msg="incorrect data check",r.mode=Vn;break}u=0,d=0}r.mode=fU;case fU:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,u+=n[i++]<<d,d+=8}if(r.wrap&4&&u!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Vn;break}u=0,d=0}r.mode=hU;case hU:D=ULe;break e;case Vn:D=Wae;break e;case $ae:return Uae;case qae:default:return Yl}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=u,r.bits=d,(r.wsize||p!==e.avail_out&&r.mode<Vn&&(r.mode<hj||t!==VW))&&Kae(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,r.total+=p,r.wrap&4&&p&&(e.adler=r.check=r.flags?ou(r.check,a,p,e.next_out-p):q8(r.check,a,p,e.next_out-p)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Dd?128:0)+(r.mode===gb||r.mode===fj?256:0),(f===0&&p===0||t===VW)&&D===Nm&&(D=qLe),D},QLe=e=>{if(Wm(e))return Yl;let t=e.state;return t.window&&(t.window=null),e.state=null,Nm},eFe=(e,t)=>{if(Wm(e))return Yl;const r=e.state;return(r.wrap&2)===0?Yl:(r.head=t,t.done=!1,Nm)},tFe=(e,t)=>{const r=t.length;let n,a,i;return Wm(e)||(n=e.state,n.wrap!==0&&n.mode!==O5)?Yl:n.mode===O5&&(a=1,a=q8(a,t,r,0),a!==n.check)?Wae:(i=Kae(e,t,r,r),i?(n.mode=$ae,Uae):(n.havedict=1,Nm))};var rFe=Hae,nFe=Gae,aFe=Vae,iFe=XLe,sFe=Yae,oFe=ZLe,lFe=QLe,cFe=eFe,uFe=tFe,dFe="pako inflate (from Nodeca project)",Md={inflateReset:rFe,inflateReset2:nFe,inflateResetKeep:aFe,inflateInit:iFe,inflateInit2:sFe,inflate:oFe,inflateEnd:lFe,inflateGetHeader:cFe,inflateSetDictionary:uFe,inflateInfo:dFe};function fFe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hFe=fFe;const Xae=Object.prototype.toString,{Z_NO_FLUSH:pFe,Z_FINISH:mFe,Z_OK:Py,Z_STREAM_END:gj,Z_NEED_DICT:vj,Z_STREAM_ERROR:gFe,Z_DATA_ERROR:gU,Z_MEM_ERROR:vFe}=Rae;function D1(e){this.options=Lae.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new TLe,this.strm.avail_out=0;let r=Md.inflateInit2(this.strm,t.windowBits);if(r!==Py)throw new Error(V8[r]);if(this.header=new hFe,Md.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=H8.string2buf(t.dictionary):Xae.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Md.inflateSetDictionary(this.strm,t.dictionary),r!==Py)))throw new Error(V8[r])}D1.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?mFe:pFe,Xae.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Md.inflate(r,s),i===vj&&a&&(i=Md.inflateSetDictionary(r,a),i===Py?i=Md.inflate(r,s):i===gU&&(i=vj));r.avail_in>0&&i===gj&&r.state.wrap>0&&e[r.next_in]!==0;)Md.inflateReset(r),i=Md.inflate(r,s);switch(i){case gFe:case gU:case vj:case vFe:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===gj))if(this.options.to==="string"){let l=H8.utf8border(r.output,r.next_out),u=r.next_out-l,d=H8.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Py&&o===0)){if(i===gj)return i=Md.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};D1.prototype.onData=function(e){this.chunks.push(e)};D1.prototype.onEnd=function(e){e===Py&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Lae.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function xFe(e,t){const r=new D1(t);if(r.push(e),r.err)throw r.msg||V8[r.err];return r.result}var yFe=D1,bFe=xFe,wFe={Inflate:yFe,inflate:bFe};const{Inflate:NFe,inflate:SFe}=wFe;var vU=NFe,jFe=SFe;const Jae=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;Jae[e]=t}const xU=4294967295;function CFe(e,t,r){let n=e;for(let a=0;a<r;a++)n=Jae[(n^t[a])&255]^n>>>8;return n}function _Fe(e,t){return(CFe(xU,e,t)^xU)>>>0}function yU(e,t,r){const n=e.readUint32(),a=_Fe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function Zae(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Qae(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function eie(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function tie(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function rie(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+EFe(t[i-a],r[i],r[i-a])&255}}function EFe(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),s=Math.abs(n-r);return a<=i&&a<=s?e:i<=s?t:r}function PFe(e,t,r,n,a,i){switch(e){case 0:Zae(t,r,a);break;case 1:Qae(t,r,a,i);break;case 2:eie(t,r,n,a);break;case 3:tie(t,r,n,a,i);break;case 4:rie(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const kFe=new Uint16Array([255]),AFe=new Uint8Array(kFe.buffer),DFe=AFe[0]===255;function TFe(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(n*r*o);let u=0;for(let d=0;d<7;d++){const f=s[d],p=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(p<=0||h<=0)continue;const g=p*o,y=new Uint8Array(g);for(let x=0;x<h;x++){const b=t[u++],N=t.subarray(u,u+g);u+=g;const j=new Uint8Array(g);PFe(b,N,j,y,g,o),y.set(j);for(let w=0;w<p;w++){const C=f.x+w*f.xStep,E=f.y+x*f.yStep;if(!(C>=r||E>=n))for(let I=0;I<o;I++)l[(E*r+C)*o+I]=j[w*o+I]}}}if(i===16){const d=new Uint16Array(l.buffer);if(DFe)for(let f=0;f<d.length;f++)d[f]=OFe(d[f]);return d}else return l}function OFe(e){return(e&255)<<8|e>>8&255}const IFe=new Uint16Array([255]),MFe=new Uint8Array(IFe.buffer),RFe=MFe[0]===255,LFe=new Uint8Array(0);function bU(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),l=new Uint8Array(n*o);let u=LFe,d=0,f,p;for(let h=0;h<n;h++){switch(f=t.subarray(d+1,d+1+o),p=l.subarray(h*o,(h+1)*o),t[d]){case 0:Zae(f,p,o);break;case 1:Qae(f,p,o,s);break;case 2:eie(f,p,u,o);break;case 3:tie(f,p,u,o,s);break;case 4:rie(f,p,u,o,s);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=p,d+=o+1}if(i===16){const h=new Uint16Array(l.buffer);if(RFe)for(let g=0;g<h.length;g++)h[g]=FFe(h[g]);return h}else return l}function FFe(e){return(e&255)<<8|e>>8&255}const Wb=Uint8Array.of(137,80,78,71,13,10,26,10);function wU(e){if(!BFe(e.readBytes(Wb.length)))throw new Error("wrong PNG signature")}function BFe(e){if(e.length<Wb.length)return!1;for(let t=0;t<Wb.length;t++)if(e[t]!==Wb[t])return!1;return!0}const zFe="tEXt",WFe=0,nie=new TextDecoder("latin1");function UFe(e){if(qFe(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const $Fe=/^[\u0000-\u00FF]*$/;function qFe(e){if(!$Fe.test(e))throw new Error("invalid latin1 text")}function VFe(e,t,r){const n=aie(t);e[n]=HFe(t,r-n.length-1)}function aie(e){for(e.mark();e.readByte()!==WFe;);const t=e.offset;e.reset();const r=nie.decode(e.readBytes(t-e.offset-1));return e.skip(1),UFe(r),r}function HFe(e,t){return nie.decode(e.readBytes(t))}const Wo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xj={UNKNOWN:-1,DEFLATE:0},NU={UNKNOWN:-1,ADAPTIVE:0},yj={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},xb={NONE:0,BACKGROUND:1,PREVIOUS:2},bj={SOURCE:0,OVER:1};class GFe extends FI{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new vU,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xj.UNKNOWN,this._filterMethod=NU.UNKNOWN,this._interlaceMethod=yj.UNKNOWN,this._colorType=Wo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(wU(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(wU(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case zFe:VFe(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?yU(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?yU(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=YFe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Wo.GREYSCALE:n=1;break;case Wo.TRUECOLOUR:n=3;break;case Wo.INDEXED_COLOUR:n=1;break;case Wo.GREYSCALE_ALPHA:n=2;break;case Wo.TRUECOLOUR_ALPHA:n=4;break;case Wo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==xj.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let a=0;a<r;a++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Wo.GREYSCALE:case Wo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Wo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Wo.UNKNOWN:case Wo.GREYSCALE_ALPHA:case Wo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=aie(this),n=this.readUint8();if(n!==xj.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const a=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:jFe(a)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=bU({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const a=this._apng.frames.at(t-1);this.disposeFrame(n,a,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case xb.NONE:break;case xb.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let i=0;i<this._png.width;i++){const s=(a*t.width+i)*this._png.channels;for(let o=0;o<this._png.channels;o++)n.data[s+o]=0}break;case xb.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,a=(i,s)=>{const o=((i+r.yOffset)*this._png.width+r.xOffset+s)*this._png.channels,l=(i*r.width+s)*this._png.channels;return{index:o,frameIndex:l}};switch(r.blendOp){case bj.SOURCE:for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:l}=a(i,s);for(let u=0;u<this._png.channels;u++)t.data[o+u]=r.data[l+u]}break;case bj.OVER:for(let i=0;i<r.height;i++)for(let s=0;s<r.width;s++){const{index:o,frameIndex:l}=a(i,s);for(let u=0;u<this._png.channels;u++){const d=r.data[l+this._png.channels-1]/n,f=u%(this._png.channels-1)===0?1:r.data[l+u],p=Math.floor(d*f+(1-d)*t.data[o+u]);t.data[o+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==NU.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yj.NO_INTERLACE)this._png.data=bU({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yj.ADAM7)this._png.data=TFe({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:xb.NONE,blendOp:bj.SOURCE,data:t}),this._inflator=new vU,this._writingDataChunks=!1}}function YFe(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var SU;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(SU||(SU={}));function KFe(e,t){return new GFe(e,t).decode()}var fr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function wj(){fr.console&&typeof fr.console.log=="function"&&fr.console.log.apply(fr.console,arguments)}var vn={log:wj,warn:function(e){fr.console&&(typeof fr.console.warn=="function"?fr.console.warn.apply(fr.console,arguments):wj.call(null,arguments))},error:function(e){fr.console&&(typeof fr.console.error=="function"?fr.console.error.apply(fr.console,arguments):wj(e))}};function Nj(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){zp(n.response,t,r)},n.onerror=function(){vn.error("could not download file")},n.send()}function jU(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zp=fr.saveAs||((typeof window>"u"?"undefined":Ar(window))!=="object"||window!==fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=fr.URL||fr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?jU(a.href)?Nj(e,t,r):yb(a,a.target="_blank"):yb(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){yb(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(jU(e))Nj(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){yb(n)})}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Ar(i)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Nj(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(fr.HTMLElement)||fr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Ar(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(e)}else{var l=fr.URL||fr.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iie(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Ub=fr.atob.bind(fr),CU=fr.btoa.bind(fr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Sj(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=os(r,n,a,i,t[0],7,-680876936),i=os(i,r,n,a,t[1],12,-389564586),a=os(a,i,r,n,t[2],17,606105819),n=os(n,a,i,r,t[3],22,-1044525330),r=os(r,n,a,i,t[4],7,-176418897),i=os(i,r,n,a,t[5],12,1200080426),a=os(a,i,r,n,t[6],17,-1473231341),n=os(n,a,i,r,t[7],22,-45705983),r=os(r,n,a,i,t[8],7,1770035416),i=os(i,r,n,a,t[9],12,-1958414417),a=os(a,i,r,n,t[10],17,-42063),n=os(n,a,i,r,t[11],22,-1990404162),r=os(r,n,a,i,t[12],7,1804603682),i=os(i,r,n,a,t[13],12,-40341101),a=os(a,i,r,n,t[14],17,-1502002290),r=ls(r,n=os(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ls(i,r,n,a,t[6],9,-1069501632),a=ls(a,i,r,n,t[11],14,643717713),n=ls(n,a,i,r,t[0],20,-373897302),r=ls(r,n,a,i,t[5],5,-701558691),i=ls(i,r,n,a,t[10],9,38016083),a=ls(a,i,r,n,t[15],14,-660478335),n=ls(n,a,i,r,t[4],20,-405537848),r=ls(r,n,a,i,t[9],5,568446438),i=ls(i,r,n,a,t[14],9,-1019803690),a=ls(a,i,r,n,t[3],14,-187363961),n=ls(n,a,i,r,t[8],20,1163531501),r=ls(r,n,a,i,t[13],5,-1444681467),i=ls(i,r,n,a,t[2],9,-51403784),a=ls(a,i,r,n,t[7],14,1735328473),r=cs(r,n=ls(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=cs(i,r,n,a,t[8],11,-2022574463),a=cs(a,i,r,n,t[11],16,1839030562),n=cs(n,a,i,r,t[14],23,-35309556),r=cs(r,n,a,i,t[1],4,-1530992060),i=cs(i,r,n,a,t[4],11,1272893353),a=cs(a,i,r,n,t[7],16,-155497632),n=cs(n,a,i,r,t[10],23,-1094730640),r=cs(r,n,a,i,t[13],4,681279174),i=cs(i,r,n,a,t[0],11,-358537222),a=cs(a,i,r,n,t[3],16,-722521979),n=cs(n,a,i,r,t[6],23,76029189),r=cs(r,n,a,i,t[9],4,-640364487),i=cs(i,r,n,a,t[12],11,-421815835),a=cs(a,i,r,n,t[15],16,530742520),r=us(r,n=cs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=us(i,r,n,a,t[7],10,1126891415),a=us(a,i,r,n,t[14],15,-1416354905),n=us(n,a,i,r,t[5],21,-57434055),r=us(r,n,a,i,t[12],6,1700485571),i=us(i,r,n,a,t[3],10,-1894986606),a=us(a,i,r,n,t[10],15,-1051523),n=us(n,a,i,r,t[1],21,-2054922799),r=us(r,n,a,i,t[8],6,1873313359),i=us(i,r,n,a,t[15],10,-30611744),a=us(a,i,r,n,t[6],15,-1560198380),n=us(n,a,i,r,t[13],21,1309151649),r=us(r,n,a,i,t[4],6,-145523070),i=us(i,r,n,a,t[11],10,-1120210379),a=us(a,i,r,n,t[2],15,718787259),n=us(n,a,i,r,t[9],21,-343485551),e[0]=xh(r,e[0]),e[1]=xh(n,e[1]),e[2]=xh(a,e[2]),e[3]=xh(i,e[3])}function s3(e,t,r,n,a,i){return t=xh(xh(t,e),xh(n,i)),xh(t<<a|t>>>32-a,r)}function os(e,t,r,n,a,i,s){return s3(t&r|~t&n,e,t,a,i,s)}function ls(e,t,r,n,a,i,s){return s3(t&n|r&~n,e,t,a,i,s)}function cs(e,t,r,n,a,i,s){return s3(t^r^n,e,t,a,i,s)}function us(e,t,r,n,a,i,s){return s3(r^(t|~n),e,t,a,i,s)}function sie(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Sj(n,XFe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Sj(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Sj(n,a),n}function XFe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var _U="0123456789abcdef".split("");function JFe(e){for(var t="",r=0;r<4;r++)t+=_U[e>>8*r+4&15]+_U[e>>8*r&15];return t}function ZFe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function G8(e){return sie(e).map(ZFe).join("")}var QFe=(function(e){for(var t=0;t<e.length;t++)e[t]=JFe(e[t]);return e.join("")})(sie("hello"))!="5d41402abc4b2a76b9719d911017c592";function xh(e,t){if(QFe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y8(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+s.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=e,n=o}else o=n;var f=t.length,p=0,h=0,g="";for(l=0;l<f;l++)h=(h+(d=o[p=(p+1)%256]))%256,o[p]=o[h],o[h]=d,s=o[(o[p]+o[h])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var EU={print:4,modify:8,copy:16,"annot-forms":32};function Wg(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(EU.perm!==void 0)throw new Error("Invalid permission: "+o);a+=EU[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=G8(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Y8(this.encryptionKey,this.padding)}function Ug(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function PU(e){if(Ar(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){fr.console&&vn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function I5(e){if(!(this instanceof I5))return new I5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function oie(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function $p(e,t,r,n,a){if(!(this instanceof $p))return new $p(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,oie.call(this,n,a)}function Xg(e,t,r,n,a){if(!(this instanceof Xg))return new Xg(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,oie.call(this,n,a)}function Ht(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,u="S",d=null;Ar(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},h={internal:{},__private__:{}};h.__private__.PubSub=PU;var g="1.3",y=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(B){g=B};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var b=h.__private__.getPageFormat=function(B){return x[B]};a=a||"a4";var N="compat",j="advanced",w=N;function C(){this.saveGraphicsState(),Z(new Zt(wt,0,0,-wt,0,Qs()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),u="n",w=j}function E(){this.restoreGraphicsState(),u="S",w=N}var I=h.__private__.combineFontStyleAndFontWeight=function(B,ne){if(B=="bold"&&ne=="normal"||B=="bold"&&ne==400||B=="normal"&&ne=="italic"||B=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(B=ne==400||ne==="normal"?B==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||B!=="normal"?(ne==700?"bold":ne)+""+B:"bold"),B};h.advancedAPI=function(B){var ne=w===N;return ne&&C.call(this),typeof B!="function"||(B(this),ne&&E.call(this)),this},h.compatAPI=function(B){var ne=w===j;return ne&&E.call(this),typeof B!="function"||(B(this),ne&&C.call(this)),this},h.isAdvancedAPI=function(){return w===j};var D,O=function(B){if(w!==j)throw new Error(B+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=h.roundToPrecision=h.__private__.roundToPrecision=function(B,ne){var xe=t||ne;if(isNaN(B)||isNaN(xe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return B.toFixed(xe).replace(/0+$/,"")};D=h.hpf=h.__private__.hpf=typeof l=="number"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,l)}:l==="smart"?function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,B>-1&&B<1?16:5)}:function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.hpf");return L(B,16)};var R=h.f2=h.__private__.f2=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f2");return L(B,2)},P=h.__private__.f3=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.f3");return L(B,3)},F=h.scale=h.__private__.scale=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.scale");return w===N?B*wt:w===j?B:void 0},V=function(B){return F((function(ne){return w===N?Qs()-ne:w===j?ne:void 0})(B))};h.__private__.setPrecision=h.setPrecision=function(B){typeof parseInt(B,10)=="number"&&(t=parseInt(B,10))};var X,te="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return te},U=h.__private__.setFileId=function(B){return te=B!==void 0&&/^[a-fA-F0-9]{32}$/.test(B)?B.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Qn=new Wg(d.userPermissions,d.userPassword,d.ownerPassword,te)),te};h.setFileId=function(B){return U(B),this},h.getFileId=function(){return q()};var Q=h.__private__.convertDateToPDFDate=function(B){var ne=B.getTimezoneOffset(),xe=ne<0?"+":"-",je=Math.floor(Math.abs(ne/60)),Le=Math.abs(ne%60),rt=[xe,J(je),"'",J(Le),"'"].join("");return["D:",B.getFullYear(),J(B.getMonth()+1),J(B.getDate()),J(B.getHours()),J(B.getMinutes()),J(B.getSeconds()),rt].join("")},se=h.__private__.convertPDFDateToDate=function(B){var ne=parseInt(B.substr(2,4),10),xe=parseInt(B.substr(6,2),10)-1,je=parseInt(B.substr(8,2),10),Le=parseInt(B.substr(10,2),10),rt=parseInt(B.substr(12,2),10),ut=parseInt(B.substr(14,2),10);return new Date(ne,xe,je,Le,rt,ut,0)},K=h.__private__.setCreationDate=function(B){var ne;if(B===void 0&&(B=new Date),B instanceof Date)ne=Q(B);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(B))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=B}return X=ne},T=h.__private__.getCreationDate=function(B){var ne=X;return B==="jsDate"&&(ne=se(X)),ne};h.setCreationDate=function(B){return K(B),this},h.getCreationDate=function(B){return T(B)};var W,J=h.__private__.padd2=function(B){return("0"+parseInt(B)).slice(-2)},Y=h.__private__.padd2Hex=function(B){return("00"+(B=B.toString())).substr(B.length)},ee=0,ae=[],pe=[],de=0,we=[],Ae=[],Se=!1,Ge=pe;h.__private__.setCustomOutputDestination=function(B){Se=!0,Ge=B};var ke=function(B){Se||(Ge=B)};h.__private__.resetCustomOutputDestination=function(){Se=!1,Ge=pe};var Z=h.__private__.out=function(B){return B=B.toString(),de+=B.length+1,Ge.push(B),Ge},Qe=h.__private__.write=function(B){return Z(arguments.length===1?B.toString():Array.prototype.join.call(arguments," "))},Ne=h.__private__.getArrayBuffer=function(B){for(var ne=B.length,xe=new ArrayBuffer(ne),je=new Uint8Array(xe);ne--;)je[ne]=B.charCodeAt(ne);return xe},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ze};var De=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(B){return De=w===j?B/wt:B,this};var me,_e=h.__private__.getFontSize=h.getFontSize=function(){return w===N?De:De*wt},Ve=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(B){return Ve=B,this},h.__private__.getR2L=h.getR2L=function(){return Ve};var Xe,Re=h.__private__.setZoomMode=function(B){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(B))me=B;else if(isNaN(B)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(B)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+B+'" is not recognized.');me=B}else me=parseInt(B,10)};h.__private__.getZoomMode=function(){return me};var st,pt=h.__private__.setPageMode=function(B){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(B)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+B+'" is not recognized.');Xe=B};h.__private__.getPageMode=function(){return Xe};var Fe=h.__private__.setLayoutMode=function(B){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(B)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+B+'" is not recognized.');st=B};h.__private__.getLayoutMode=function(){return st},h.__private__.setDisplayMode=h.setDisplayMode=function(B,ne,xe){return Re(B),Fe(ne),pt(xe),this};var at={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(B){if(Object.keys(at).indexOf(B)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return at[B]},h.__private__.getDocumentProperties=function(){return at},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(B){for(var ne in at)at.hasOwnProperty(ne)&&B[ne]&&(at[ne]=B[ne]);return this},h.__private__.setDocumentProperty=function(B,ne){if(Object.keys(at).indexOf(B)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return at[B]=ne};var ct,wt,Nt,_r,lr,jt={},nr={},Kr=[],Jt={},wr={},cr={},Pn={},bn=null,Tr=0,ir=[],Fr=new PU(h),Uc=e.hotfixes||[],Ya={},hl={},Vs=[],Zt=function B(ne,xe,je,Le,rt,ut){if(!(this instanceof B))return new B(ne,xe,je,Le,rt,ut);isNaN(ne)&&(ne=1),isNaN(xe)&&(xe=0),isNaN(je)&&(je=0),isNaN(Le)&&(Le=1),isNaN(rt)&&(rt=0),isNaN(ut)&&(ut=0),this._matrix=[ne,xe,je,Le,rt,ut]};Object.defineProperty(Zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(B){this._matrix[0]=B}}),Object.defineProperty(Zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(B){this._matrix[1]=B}}),Object.defineProperty(Zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(B){this._matrix[2]=B}}),Object.defineProperty(Zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(B){this._matrix[3]=B}}),Object.defineProperty(Zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(B){this._matrix[4]=B}}),Object.defineProperty(Zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(B){this._matrix[5]=B}}),Object.defineProperty(Zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Zt.prototype.join=function(B){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(B)},Zt.prototype.multiply=function(B){var ne=B.sx*this.sx+B.shy*this.shx,xe=B.sx*this.shy+B.shy*this.sy,je=B.shx*this.sx+B.sy*this.shx,Le=B.shx*this.shy+B.sy*this.sy,rt=B.tx*this.sx+B.ty*this.shx+this.tx,ut=B.tx*this.shy+B.ty*this.sy+this.ty;return new Zt(ne,xe,je,Le,rt,ut)},Zt.prototype.decompose=function(){var B=this.sx,ne=this.shy,xe=this.shx,je=this.sy,Le=this.tx,rt=this.ty,ut=Math.sqrt(B*B+ne*ne),Tt=(B/=ut)*xe+(ne/=ut)*je;xe-=B*Tt,je-=ne*Tt;var zt=Math.sqrt(xe*xe+je*je);return Tt/=zt,B*(je/=zt)<ne*(xe/=zt)&&(B=-B,ne=-ne,Tt=-Tt,ut=-ut),{scale:new Zt(ut,0,0,zt,0,0),translate:new Zt(1,0,0,1,Le,rt),rotate:new Zt(B,ne,-ne,B,0,0),skew:new Zt(1,0,Tt,1,0,0)}},Zt.prototype.toString=function(B){return this.join(" ")},Zt.prototype.inversed=function(){var B=this.sx,ne=this.shy,xe=this.shx,je=this.sy,Le=this.tx,rt=this.ty,ut=1/(B*je-ne*xe),Tt=je*ut,zt=-ne*ut,sr=-xe*ut,or=B*ut;return new Zt(Tt,zt,sr,or,-Tt*Le-sr*rt,-zt*Le-or*rt)},Zt.prototype.applyToPoint=function(B){var ne=B.x*this.sx+B.y*this.shx+this.tx,xe=B.x*this.shy+B.y*this.sy+this.ty;return new yl(ne,xe)},Zt.prototype.applyToRectangle=function(B){var ne=this.applyToPoint(B),xe=this.applyToPoint(new yl(B.x+B.w,B.y+B.h));return new ad(ne.x,ne.y,xe.x-ne.x,xe.y-ne.y)},Zt.prototype.clone=function(){var B=this.sx,ne=this.shy,xe=this.shx,je=this.sy,Le=this.tx,rt=this.ty;return new Zt(B,ne,xe,je,Le,rt)},h.Matrix=Zt;var Es=h.matrixMult=function(B,ne){return ne.multiply(B)},Co=new Zt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Co;var pi=function(B,ne){if(!wr[B]){var xe=(ne instanceof $p?"Sh":"P")+(Object.keys(Jt).length+1).toString(10);ne.id=xe,wr[B]=xe,Jt[xe]=ne,Fr.publish("addPattern",ne)}};h.ShadingPattern=$p,h.TilingPattern=Xg,h.addShadingPattern=function(B,ne){return O("addShadingPattern()"),pi(B,ne),this},h.beginTilingPattern=function(B){O("beginTilingPattern()"),Xs(B.boundingBox[0],B.boundingBox[1],B.boundingBox[2]-B.boundingBox[0],B.boundingBox[3]-B.boundingBox[1],B.matrix)},h.endTilingPattern=function(B,ne){O("endTilingPattern()"),ne.stream=Ae[W].join(`
`),pi(B,ne),Fr.publish("endTilingPattern",ne),Vs.pop().restore()};var Hs,cn=h.__private__.newObject=function(){var B=Zn();return ha(B,!0),B},Zn=h.__private__.newObjectDeferred=function(){return ee++,ae[ee]=function(){return de},ee},ha=function(B,ne){return ne=typeof ne=="boolean"&&ne,ae[B]=de,ne&&Z(B+" 0 obj"),B},rc=h.__private__.newAdditionalObject=function(){var B={objId:Zn(),content:""};return we.push(B),B},$c=Zn(),_o=Zn(),pl=h.__private__.decodeColorString=function(B){var ne=B.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var xe=parseFloat(ne[0]);ne=[xe,xe,xe,"r"]}for(var je="#",Le=0;Le<3;Le++)je+=("0"+Math.floor(255*parseFloat(ne[Le])).toString(16)).slice(-2);return je},Ka=h.__private__.encodeColorString=function(B){var ne;typeof B=="string"&&(B={ch1:B});var xe=B.ch1,je=B.ch2,Le=B.ch3,rt=B.ch4,ut=B.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xe=="string"&&xe.charAt(0)!=="#"){var Tt=new iie(xe);if(Tt.ok)xe=Tt.toHex();else if(!/^\d*\.?\d*$/.test(xe))throw new Error('Invalid color "'+xe+'" passed to jsPDF.encodeColorString.')}if(typeof xe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xe)&&(xe="#"+xe[1]+xe[1]+xe[2]+xe[2]+xe[3]+xe[3]),typeof xe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xe)){var zt=parseInt(xe.substr(1),16);xe=zt>>16&255,je=zt>>8&255,Le=255&zt}if(je===void 0||rt===void 0&&xe===je&&je===Le)ne=typeof xe=="string"?xe+" "+ut[0]:B.precision===2?R(xe/255)+" "+ut[0]:P(xe/255)+" "+ut[0];else if(rt===void 0||Ar(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",ut[1]].join(" ");ne=typeof xe=="string"?[xe,je,Le,ut[1]].join(" "):B.precision===2?[R(xe/255),R(je/255),R(Le/255),ut[1]].join(" "):[P(xe/255),P(je/255),P(Le/255),ut[1]].join(" ")}else ne=typeof xe=="string"?[xe,je,Le,rt,ut[2]].join(" "):B.precision===2?[R(xe),R(je),R(Le),R(rt),ut[2]].join(" "):[P(xe),P(je),P(Le),P(rt),ut[2]].join(" ");return ne},Gs=h.__private__.getFilters=function(){return s},Ps=h.__private__.putStream=function(B){var ne=(B=B||{}).data||"",xe=B.filters||Gs(),je=B.alreadyAppliedFilters||[],Le=B.addLength1||!1,rt=ne.length,ut=B.objectId,Tt=function(_a){return _a};if(d!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Tt=Qn.encryptor(ut,0));var zt={};xe===!0&&(xe=["FlateEncode"]);var sr=B.additionalKeyValues||[],or=(zt=Ht.API.processDataByFilters!==void 0?Ht.API.processDataByFilters(ne,xe):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(zt.data.length!==0&&(sr.push({key:"Length",value:zt.data.length}),Le===!0&&sr.push({key:"Length1",value:rt})),or.length!=0)if(or.split("/").length-1==1)sr.push({key:"Filter",value:or});else{sr.push({key:"Filter",value:"["+or+"]"});for(var Br=0;Br<sr.length;Br+=1)if(sr[Br].key==="DecodeParms"){for(var kn=[],ma=0;ma<zt.reverseChain.split("/").length-1;ma+=1)kn.push("null");kn.push(sr[Br].value),sr[Br].value="["+kn.join(" ")+"]"}}Z("<<");for(var un=0;un<sr.length;un++)Z("/"+sr[un].key+" "+sr[un].value);Z(">>"),zt.data.length!==0&&(Z("stream"),Z(Tt(zt.data)),Z("endstream"))},Yu=h.__private__.putPage=function(B){var ne=B.number,xe=B.data,je=B.objId,Le=B.contentsObjId;ha(je,!0),Z("<</Type /Page"),Z("/Parent "+B.rootDictionaryObjId+" 0 R"),Z("/Resources "+B.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(D(B.mediaBox.bottomLeftX))+" "+parseFloat(D(B.mediaBox.bottomLeftY))+" "+D(B.mediaBox.topRightX)+" "+D(B.mediaBox.topRightY)+"]"),B.cropBox!==null&&Z("/CropBox ["+D(B.cropBox.bottomLeftX)+" "+D(B.cropBox.bottomLeftY)+" "+D(B.cropBox.topRightX)+" "+D(B.cropBox.topRightY)+"]"),B.bleedBox!==null&&Z("/BleedBox ["+D(B.bleedBox.bottomLeftX)+" "+D(B.bleedBox.bottomLeftY)+" "+D(B.bleedBox.topRightX)+" "+D(B.bleedBox.topRightY)+"]"),B.trimBox!==null&&Z("/TrimBox ["+D(B.trimBox.bottomLeftX)+" "+D(B.trimBox.bottomLeftY)+" "+D(B.trimBox.topRightX)+" "+D(B.trimBox.topRightY)+"]"),B.artBox!==null&&Z("/ArtBox ["+D(B.artBox.bottomLeftX)+" "+D(B.artBox.bottomLeftY)+" "+D(B.artBox.topRightX)+" "+D(B.artBox.topRightY)+"]"),typeof B.userUnit=="number"&&B.userUnit!==1&&Z("/UserUnit "+B.userUnit),Fr.publish("putPage",{objId:je,pageContext:ir[ne],pageNumber:ne,page:xe}),Z("/Contents "+Le+" 0 R"),Z(">>"),Z("endobj");var rt=xe.join(`
`);return w===j&&(rt+=`
Q`),ha(Le,!0),Ps({data:rt,filters:Gs(),objectId:Le}),Z("endobj"),je},Eo=h.__private__.putPages=function(){var B,ne,xe=[];for(B=1;B<=Tr;B++)ir[B].objId=Zn(),ir[B].contentsObjId=Zn();for(B=1;B<=Tr;B++)xe.push(Yu({number:B,data:Ae[B],objId:ir[B].objId,contentsObjId:ir[B].contentsObjId,mediaBox:ir[B].mediaBox,cropBox:ir[B].cropBox,bleedBox:ir[B].bleedBox,trimBox:ir[B].trimBox,artBox:ir[B].artBox,userUnit:ir[B].userUnit,rootDictionaryObjId:$c,resourceDictionaryObjId:_o}));ha($c,!0),Z("<</Type /Pages");var je="/Kids [";for(ne=0;ne<Tr;ne++)je+=xe[ne]+" 0 R ";Z(je+"]"),Z("/Count "+Tr),Z(">>"),Z("endobj"),Fr.publish("postPutPages")},qc=function(B){Fr.publish("putFont",{font:B,out:Z,newObject:cn,putStream:Ps}),B.isAlreadyPutted!==!0&&(B.objectNumber=cn(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Ug(B.postScriptName)),Z("/Subtype /Type1"),typeof B.encoding=="string"&&Z("/Encoding /"+B.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Ku=function(B){B.objectNumber=cn();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[D(B.x),D(B.y),D(B.x+B.width),D(B.y+B.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+B.matrix.toString()+"]"});var xe=B.pages[1].join(`
`);Ps({data:xe,additionalKeyValues:ne,objectId:B.objectNumber}),Z("endobj")},Xu=function(B,ne){ne||(ne=21);var xe=cn(),je=(function(ut,Tt){var zt,sr=[],or=1/(Tt-1);for(zt=0;zt<1;zt+=or)sr.push(zt);if(sr.push(1),ut[0].offset!=0){var Br={offset:0,color:ut[0].color};ut.unshift(Br)}if(ut[ut.length-1].offset!=1){var kn={offset:1,color:ut[ut.length-1].color};ut.push(kn)}for(var ma="",un=0,_a=0;_a<sr.length;_a++){for(zt=sr[_a];zt>ut[un+1].offset;)un++;var ea=ut[un].offset,Xa=(zt-ea)/(ut[un+1].offset-ea),eo=ut[un].color,Zi=ut[un+1].color;ma+=Y(Math.round((1-Xa)*eo[0]+Xa*Zi[0]).toString(16))+Y(Math.round((1-Xa)*eo[1]+Xa*Zi[1]).toString(16))+Y(Math.round((1-Xa)*eo[2]+Xa*Zi[2]).toString(16))}return ma.trim()})(B.colors,ne),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+ne+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ps({data:je,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xe}),Z("endobj"),B.objectNumber=cn(),Z("<< /ShadingType "+B.type),Z("/ColorSpace /DeviceRGB");var rt="/Coords ["+D(parseFloat(B.coords[0]))+" "+D(parseFloat(B.coords[1]))+" ";B.type===2?rt+=D(parseFloat(B.coords[2]))+" "+D(parseFloat(B.coords[3])):rt+=D(parseFloat(B.coords[2]))+" "+D(parseFloat(B.coords[3]))+" "+D(parseFloat(B.coords[4]))+" "+D(parseFloat(B.coords[5])),Z(rt+="]"),B.matrix&&Z("/Matrix ["+B.matrix.toString()+"]"),Z("/Function "+xe+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Sf=function(B,ne){var xe=Zn(),je=cn();ne.push({resourcesOid:xe,objectOid:je}),B.objectNumber=je;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+B.boundingBox.map(D).join(" ")+"]"}),Le.push({key:"XStep",value:D(B.xStep)}),Le.push({key:"YStep",value:D(B.yStep)}),Le.push({key:"Resources",value:xe+" 0 R"}),B.matrix&&Le.push({key:"Matrix",value:"["+B.matrix.toString()+"]"}),Ps({data:B.stream,additionalKeyValues:Le,objectId:B.objectNumber}),Z("endobj")},yv=function(B){for(var ne in B.objectNumber=cn(),Z("<<"),B)switch(ne){case"opacity":Z("/ca "+R(B[ne]));break;case"stroke-opacity":Z("/CA "+R(B[ne]))}Z(">>"),Z("endobj")},mn=function(B){ha(B.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in Z("/Font <<"),jt)jt.hasOwnProperty(ne)&&(f===!1||f===!0&&p.hasOwnProperty(ne))&&Z("/"+ne+" "+jt[ne].objectNumber+" 0 R");Z(">>")})(),(function(){if(Object.keys(Jt).length>0){for(var ne in Z("/Shading <<"),Jt)Jt.hasOwnProperty(ne)&&Jt[ne]instanceof $p&&Jt[ne].objectNumber>=0&&Z("/"+ne+" "+Jt[ne].objectNumber+" 0 R");Fr.publish("putShadingPatternDict"),Z(">>")}})(),(function(ne){if(Object.keys(Jt).length>0){for(var xe in Z("/Pattern <<"),Jt)Jt.hasOwnProperty(xe)&&Jt[xe]instanceof h.TilingPattern&&Jt[xe].objectNumber>=0&&Jt[xe].objectNumber<ne&&Z("/"+xe+" "+Jt[xe].objectNumber+" 0 R");Fr.publish("putTilingPatternDict"),Z(">>")}})(B.objectOid),(function(){if(Object.keys(cr).length>0){var ne;for(ne in Z("/ExtGState <<"),cr)cr.hasOwnProperty(ne)&&cr[ne].objectNumber>=0&&Z("/"+ne+" "+cr[ne].objectNumber+" 0 R");Fr.publish("putGStateDict"),Z(">>")}})(),(function(){for(var ne in Z("/XObject <<"),Ya)Ya.hasOwnProperty(ne)&&Ya[ne].objectNumber>=0&&Z("/"+ne+" "+Ya[ne].objectNumber+" 0 R");Fr.publish("putXobjectDict"),Z(">>")})(),Z(">>"),Z("endobj")},Hm=function(B){nr[B.fontName]=nr[B.fontName]||{},nr[B.fontName][B.fontStyle]=B.id},jf=function(B,ne,xe,je,Le){var rt={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:B,fontName:ne,fontStyle:xe,encoding:je,isStandardFont:Le||!1,metadata:{}};return Fr.publish("addFont",{font:rt,instance:this}),jt[rt.id]=rt,Hm(rt),rt.id},ks=h.__private__.pdfEscape=h.pdfEscape=function(B,ne){return(function(xe,je){var Le,rt,ut,Tt,zt,sr,or,Br,kn;if(ut=(je=je||{}).sourceEncoding||"Unicode",zt=je.outputEncoding,(je.autoencode||zt)&&jt[ct].metadata&&jt[ct].metadata[ut]&&jt[ct].metadata[ut].encoding&&(Tt=jt[ct].metadata[ut].encoding,!zt&&jt[ct].encoding&&(zt=jt[ct].encoding),!zt&&Tt.codePages&&(zt=Tt.codePages[0]),typeof zt=="string"&&(zt=Tt[zt]),zt)){for(or=!1,sr=[],Le=0,rt=xe.length;Le<rt;Le++)(Br=zt[xe.charCodeAt(Le)])?sr.push(String.fromCharCode(Br)):sr.push(xe[Le]),sr[Le].charCodeAt(0)>>8&&(or=!0);xe=sr.join("")}for(Le=xe.length;or===void 0&&Le!==0;)xe.charCodeAt(Le-1)>>8&&(or=!0),Le--;if(!or)return xe;for(sr=je.noBOM?[]:[254,255],Le=0,rt=xe.length;Le<rt;Le++){if((kn=(Br=xe.charCodeAt(Le))>>8)>>8)throw new Error("Character at position "+Le+" of string '"+xe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");sr.push(kn),sr.push(Br-(kn<<8))}return String.fromCharCode.apply(void 0,sr)})(B,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vc=h.__private__.beginPage=function(B){Ae[++Tr]=[],ir[Tr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(B[0]),topRightY:Number(B[1])}},Ju(Tr),ke(Ae[W])},Gm=function(B,ne){var xe,je,Le;switch(r=ne||r,typeof B=="string"&&(xe=b(B.toLowerCase()),Array.isArray(xe)&&(je=xe[0],Le=xe[1])),Array.isArray(B)&&(je=B[0]*wt,Le=B[1]*wt),isNaN(je)&&(je=a[0],Le=a[1]),(je>14400||Le>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),Le=Math.min(14400,Le)),a=[je,Le],r.substr(0,1)){case"l":Le>je&&(a=[Le,je]);break;case"p":je>Le&&(a=[Le,je])}Vc(a),rd(Ks),Z(nd),rp!==0&&Z(rp+" J"),np!==0&&Z(np+" j"),Fr.publish("addPage",{pageNumber:Tr})},Cf=function(B){B>0&&B<=Tr&&(Ae.splice(B,1),ir.splice(B,1),Tr--,W>Tr&&(W=Tr),this.setPage(W))},Ju=function(B){B>0&&B<=Tr&&(W=B)},As=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ae.length-1},Ym=function(B,ne,xe){var je,Le=void 0;return xe=xe||{},B=B!==void 0?B:jt[ct].fontName,ne=ne!==void 0?ne:jt[ct].fontStyle,je=B.toLowerCase(),nr[je]!==void 0&&nr[je][ne]!==void 0?Le=nr[je][ne]:nr[B]!==void 0&&nr[B][ne]!==void 0?Le=nr[B][ne]:xe.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+B+"', '"+ne+"'. Refer to getFontList() for available fonts."),Le||xe.noFallback||(Le=nr.times[ne])==null&&(Le=nr.times.normal),Le},mi=h.__private__.putInfo=function(){var B=cn(),ne=function(je){return je};for(var xe in d!==null&&(ne=Qn.encryptor(B,0)),Z("<<"),Z("/Producer ("+ks(ne("jsPDF "+Ht.version))+")"),at)at.hasOwnProperty(xe)&&at[xe]&&Z("/"+xe.substr(0,1).toUpperCase()+xe.substr(1)+" ("+ks(ne(at[xe]))+")");Z("/CreationDate ("+ks(ne(X))+")"),Z(">>"),Z("endobj")},bv=h.__private__.putCatalog=function(B){var ne=(B=B||{}).rootDictionaryObjId||$c;switch(cn(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+ne+" 0 R"),me||(me="fullwidth"),me){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xe=""+me;xe.substr(xe.length-1)==="%"&&(me=parseInt(me)/100),typeof me=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+R(me)+"]")}switch(st||(st="continuous"),st){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}Xe&&Z("/PageMode /"+Xe),Fr.publish("putCatalog"),Z(">>"),Z("endobj")},pa=h.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(ee+1)),Z("/Root "+ee+" 0 R"),Z("/Info "+(ee-1)+" 0 R"),d!==null&&Z("/Encrypt "+Qn.oid+" 0 R"),Z("/ID [ <"+te+"> <"+te+"> ]"),Z(">>")},Km=h.__private__.putHeader=function(){Z("%PDF-"+g),Z("%")},Zu=h.__private__.putXRef=function(){var B="0000000000";Z("xref"),Z("0 "+(ee+1)),Z("0000000000 65535 f ");for(var ne=1;ne<=ee;ne++)typeof ae[ne]=="function"?Z((B+ae[ne]()).slice(-10)+" 00000 n "):ae[ne]!==void 0?Z((B+ae[ne]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Ys=h.__private__.buildDocument=function(){var B;ee=0,de=0,pe=[],ae=[],we=[],$c=Zn(),_o=Zn(),ke(pe),Fr.publish("buildDocument"),Km(),Eo(),(function(){Fr.publish("putAdditionalObjects");for(var xe=0;xe<we.length;xe++){var je=we[xe];ha(je.objId,!0),Z(je.content),Z("endobj")}Fr.publish("postPutAdditionalObjects")})(),B=[],(function(){for(var xe in jt)jt.hasOwnProperty(xe)&&(f===!1||f===!0&&p.hasOwnProperty(xe))&&qc(jt[xe])})(),(function(){var xe;for(xe in cr)cr.hasOwnProperty(xe)&&yv(cr[xe])})(),(function(){for(var xe in Ya)Ya.hasOwnProperty(xe)&&Ku(Ya[xe])})(),(function(xe){var je;for(je in Jt)Jt.hasOwnProperty(je)&&(Jt[je]instanceof $p?Xu(Jt[je]):Jt[je]instanceof Xg&&Sf(Jt[je],xe))})(B),Fr.publish("putResources"),B.forEach(mn),mn({resourcesOid:_o,objectOid:Number.MAX_SAFE_INTEGER}),Fr.publish("postPutResources"),d!==null&&(Qn.oid=cn(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Qn.v),Z("/R "+Qn.r),Z("/U <"+Qn.toHexString(Qn.U)+">"),Z("/O <"+Qn.toHexString(Qn.O)+">"),Z("/P "+Qn.P),Z(">>"),Z("endobj")),mi(),bv();var ne=de;return Zu(),pa(),Z("startxref"),Z(""+ne),Z("%%EOF"),ke(Ae[W]),pe.join(`
`)},Po=h.__private__.getBlob=function(B){return new Blob([Ne(B)],{type:"application/pdf"})},Xi=h.output=h.__private__.output=(Hs=function(B,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",B){case void 0:return Ys();case"save":h.save(ne.filename);break;case"arraybuffer":return Ne(Ys());case"blob":return Po(Ys());case"bloburi":case"bloburl":if(fr.URL!==void 0&&typeof fr.URL.createObjectURL=="function")return fr.URL&&fr.URL.createObjectURL(Po(Ys()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xe="",je=Ys();try{xe=CU(je)}catch{xe=CU(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+ne.filename+";base64,"+xe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Le=ne.pdfObjectUrl,rt="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Tt=fr.open();return Tt!==null&&Tt.document.write(ut),Tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fr)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',sr=fr.open();if(sr!==null){sr.document.write(zt);var or=this;sr.document.documentElement.querySelector("#pdfViewer").onload=function(){sr.document.title=ne.filename,sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(or.output("bloburl"))}}return sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',kn=fr.open();if(kn!==null&&(kn.document.write(Br),kn.document.title=ne.filename),kn||typeof safari>"u")return kn;break;case"datauri":case"dataurl":return fr.document.location.href=this.output("datauristring",ne);default:return null}},Hs.foo=function(){try{return Hs.apply(this,arguments)}catch(xe){var B=xe.stack||"";~B.indexOf(" at ")&&(B=B.split(" at ")[1]);var ne="Error in function "+B.split(`
`)[0].split("<")[0]+": "+xe.message;if(!fr.console)throw new Error(ne);fr.console.error(ne,xe),fr.alert&&alert(ne)}},Hs.foo.bar=Hs,Hs.foo),Qu=function(B){return Array.isArray(Uc)===!0&&Uc.indexOf(B)>-1};switch(n){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=Qu("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);wt=n}var Qn=null;K(),U();var ed=h.__private__.getPageInfo=h.getPageInfo=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ir[B].objId,pageNumber:B,pageContext:ir[B]}},Xm=h.__private__.getPageInfoByObjId=function(B){if(isNaN(B)||B%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in ir)if(ir[ne].objId===B)break;return ed(ne)},Qh=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:ir[W].objId,pageNumber:W,pageContext:ir[W]}};h.addPage=function(){return Gm.apply(this,arguments),this},h.setPage=function(){return Ju.apply(this,arguments),ke.call(this,Ae[W]),this},h.insertPage=function(B){return this.addPage(),this.movePage(W,B),this},h.movePage=function(B,ne){var xe,je;if(B>ne){xe=Ae[B],je=ir[B];for(var Le=B;Le>ne;Le--)Ae[Le]=Ae[Le-1],ir[Le]=ir[Le-1];Ae[ne]=xe,ir[ne]=je,this.setPage(ne)}else if(B<ne){xe=Ae[B],je=ir[B];for(var rt=B;rt<ne;rt++)Ae[rt]=Ae[rt+1],ir[rt]=ir[rt+1];Ae[ne]=xe,ir[ne]=je,this.setPage(ne)}return this},h.deletePage=function(){return Cf.apply(this,arguments),this},h.__private__.text=h.text=function(B,ne,xe,je,Le){var rt,ut,Tt,zt,sr,or,Br,kn,ma,un=(je=je||{}).scope||this;if(typeof B=="number"&&typeof ne=="number"&&(typeof xe=="string"||Array.isArray(xe))){var _a=xe;xe=ne,ne=B,B=_a}if(arguments[3]instanceof Zt==0?(Tt=arguments[4],zt=arguments[5],Ar(Br=arguments[3])==="object"&&Br!==null||(typeof Tt=="string"&&(zt=Tt,Tt=null),typeof Br=="string"&&(zt=Br,Br=null),typeof Br=="number"&&(Tt=Br,Br=null),je={flags:Br,angle:Tt,align:zt})):(O("The transform parameter of text() with a Matrix value"),ma=Le),isNaN(ne)||isNaN(xe)||B==null)throw new Error("Invalid arguments passed to jsPDF.text");if(B.length===0)return un;var ea,Xa="",eo=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:Ji,Zi=un.internal.scaleFactor;function tg(zr){return zr=zr.split("	").join(Array(je.TabLen||9).join(" ")),ks(zr,Br)}function Hc(zr){for(var Zr,Wn=zr.concat(),ga=[],Io=Wn.length;Io--;)typeof(Zr=Wn.shift())=="string"?ga.push(Zr):Array.isArray(zr)&&(Zr.length===1||Zr[1]===void 0&&Zr[2]===void 0)?ga.push(Zr[0]):ga.push([Zr[0],Zr[1],Zr[2]]);return ga}function od(zr,Zr){var Wn;if(typeof zr=="string")Wn=Zr(zr)[0];else if(Array.isArray(zr)){for(var ga,Io,lp=zr.concat(),Rf=[],fc=lp.length;fc--;)typeof(ga=lp.shift())=="string"?Rf.push(Zr(ga)[0]):Array.isArray(ga)&&typeof ga[0]=="string"&&(Io=Zr(ga[0],ga[1],ga[2]),Rf.push([Io[0],Io[1],Io[2]]));Wn=Rf}return Wn}var Gc=!1,ld=!0;if(typeof B=="string")Gc=!0;else if(Array.isArray(B)){var Yc=B.concat();ut=[];for(var cd,vi=Yc.length;vi--;)(typeof(cd=Yc.shift())!="string"||Array.isArray(cd)&&typeof cd[0]!="string")&&(ld=!1);Gc=ld}if(Gc===!1)throw new Error('Type of text must be string or Array. "'+B+'" is not recognized.');typeof B=="string"&&(B=B.match(/[\r?\n]/)?B.split(/\r\n|\r|\n/g):[B]);var ud=De/un.internal.scaleFactor,dd=ud*(eo-1);switch(je.baseline){case"bottom":xe-=dd;break;case"top":xe+=ud-dd;break;case"hanging":xe+=ud-2*dd;break;case"middle":xe+=ud/2-dd}if((or=je.maxWidth||0)>0&&(typeof B=="string"?B=un.splitTextToSize(B,or):Object.prototype.toString.call(B)==="[object Array]"&&(B=B.reduce(function(zr,Zr){return zr.concat(un.splitTextToSize(Zr,or))},[]))),rt={text:B,x:ne,y:xe,options:je,mutex:{pdfEscape:ks,activeFontKey:ct,fonts:jt,activeFontSize:De}},Fr.publish("preProcessText",rt),B=rt.text,Tt=(je=rt.options).angle,ma instanceof Zt==0&&Tt&&typeof Tt=="number"){Tt*=Math.PI/180,je.rotationDirection===0&&(Tt=-Tt),w===j&&(Tt=-Tt);var sp=Math.cos(Tt),op=Math.sin(Tt);ma=new Zt(sp,op,-op,sp,0,0)}else Tt&&Tt instanceof Zt&&(ma=Tt);w!==j||ma||(ma=Co),(sr=je.charSpace||Do)!==void 0&&(Xa+=D(F(sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kn=je.horizontalScale)!==void 0&&(Xa+=D(100*kn)+` Tz
`),je.lang;var Bn=-1,To=je.renderingMode!==void 0?je.renderingMode:je.stroke,bl=un.internal.getCurrentPageInfo().pageContext;switch(To){case 0:case!1:case"fill":Bn=0;break;case 1:case!0:case"stroke":Bn=1;break;case 2:case"fillThenStroke":Bn=2;break;case 3:case"invisible":Bn=3;break;case 4:case"fillAndAddForClipping":Bn=4;break;case 5:case"strokeAndAddPathForClipping":Bn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bn=6;break;case 7:case"addToPathForClipping":Bn=7}var rg=bl.usedRenderingMode!==void 0?bl.usedRenderingMode:-1;Bn!==-1?Xa+=Bn+` Tr
`:rg!==-1&&(Xa+=`0 Tr
`),Bn!==-1&&(bl.usedRenderingMode=Bn),zt=je.align||"left";var Ts,Kc=De*eo,Tf=un.internal.pageSize.getWidth(),Of=jt[ct];sr=je.charSpace||Do,or=je.maxWidth||0,Br=Object.assign({autoencode:!0,noBOM:!0},je.flags);var lc=[],to=function(zr){return un.getStringUnitWidth(zr,{font:Of,charSpace:sr,fontSize:De,doKerning:!1})*De/Zi};if(Object.prototype.toString.call(B)==="[object Array]"){var Os;ut=Hc(B),zt!=="left"&&(Ts=ut.map(to));var Is,Xc=0;if(zt==="right"){ne-=Ts[0],B=[],vi=ut.length;for(var wl=0;wl<vi;wl++)wl===0?(Is=Ds(ne),Os=ic(xe)):(Is=F(Xc-Ts[wl]),Os=-Kc),B.push([ut[wl],Is,Os]),Xc=Ts[wl]}else if(zt==="center"){ne-=Ts[0]/2,B=[],vi=ut.length;for(var cc=0;cc<vi;cc++)cc===0?(Is=Ds(ne),Os=ic(xe)):(Is=F((Xc-Ts[cc])/2),Os=-Kc),B.push([ut[cc],Is,Os]),Xc=Ts[cc]}else if(zt==="left"){B=[],vi=ut.length;for(var uc=0;uc<vi;uc++)B.push(ut[uc])}else if(zt==="justify"&&Of.encoding==="Identity-H"){B=[],vi=ut.length,or=or!==0?or:Tf;for(var Nl=0,ta=0;ta<vi;ta++)if(Os=ta===0?ic(xe):-Kc,Is=ta===0?Ds(ne):Nl,ta<vi-1){var fd=F((or-Ts[ta])/(ut[ta].split(" ").length-1)),Sl=ut[ta].split(" ");B.push([Sl[0]+" ",Is,Os]),Nl=0;for(var Oo=1;Oo<Sl.length;Oo++){var hd=(to(Sl[Oo-1]+" "+Sl[Oo])-to(Sl[Oo]))*Zi+fd;Oo==Sl.length-1?B.push([Sl[Oo],hd,0]):B.push([Sl[Oo]+" ",hd,0]),Nl-=hd}}else B.push([ut[ta],Is,Os]);B.push(["",Nl,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(B=[],vi=ut.length,or=or!==0?or:Tf,ta=0;ta<vi;ta++){Os=ta===0?ic(xe):-Kc,Is=ta===0?Ds(ne):0;var pd=ut[ta].split(" ").length-1,If=pd>0?(or-Ts[ta])/pd:0;ta<vi-1?lc.push(D(F(If))):lc.push(0),B.push([ut[ta],Is,Os])}}}(typeof je.R2L=="boolean"?je.R2L:Ve)===!0&&(B=od(B,function(zr,Zr,Wn){return[zr.split("").reverse().join(""),Zr,Wn]})),rt={text:B,x:ne,y:xe,options:je,mutex:{pdfEscape:ks,activeFontKey:ct,fonts:jt,activeFontSize:De}},Fr.publish("postProcessText",rt),B=rt.text,ea=rt.mutex.isHex||!1;var Mf=jt[ct].encoding;Mf!=="WinAnsiEncoding"&&Mf!=="StandardEncoding"||(B=od(B,function(zr,Zr,Wn){return[tg(zr),Zr,Wn]})),ut=Hc(B),B=[];for(var dc,Jc,Zc,md=Array.isArray(ut[0])?1:0,Qc="",gd=function(zr,Zr,Wn){var ga="";return Wn instanceof Zt?(Wn=typeof je.angle=="number"?Es(Wn,new Zt(1,0,0,1,zr,Zr)):Es(new Zt(1,0,0,1,zr,Zr),Wn),w===j&&(Wn=Es(new Zt(1,0,0,-1,0,0),Wn)),ga=Wn.join(" ")+` Tm
`):ga=D(zr)+" "+D(Zr)+` Td
`,ga},zn=0;zn<ut.length;zn++){switch(Qc="",md){case 1:Zc=(ea?"<":"(")+ut[zn][0]+(ea?">":")"),dc=parseFloat(ut[zn][1]),Jc=parseFloat(ut[zn][2]);break;case 0:Zc=(ea?"<":"(")+ut[zn]+(ea?">":")"),dc=Ds(ne),Jc=ic(xe)}lc!==void 0&&lc[zn]!==void 0&&(Qc=lc[zn]+` Tw
`),zn===0?B.push(Qc+gd(dc,Jc,ma)+Zc):md===0?B.push(Qc+Zc):md===1&&B.push(Qc+gd(dc,Jc,ma)+Zc)}B=md===0?B.join(` Tj
T* `):B.join(` Tj
`),B+=` Tj
`;var Qi=`BT
/`;return Qi+=ct+" "+De+` Tf
`,Qi+=D(De*eo)+` TL
`,Qi+=Ao+`
`,Qi+=Xa,Qi+=B,Z(Qi+="ET"),p[ct]=!0,un};var td=h.__private__.clip=h.clip=function(B){return Z(B==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return td("evenodd")},h.__private__.discardPath=h.discardPath=function(){return Z("n"),this};var ml=h.__private__.isValidStyle=function(B){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(B)!==-1&&(ne=!0),ne};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(B){return ml(B)&&(u=B),this};var _f=h.__private__.getStyle=h.getStyle=function(B){var ne=u;switch(B){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=B}return ne},Or=h.close=function(){return Z("h"),this};h.stroke=function(){return Z("S"),this},h.fill=function(B){return nc("f",B),this},h.fillEvenOdd=function(B){return nc("f*",B),this},h.fillStroke=function(B){return nc("B",B),this},h.fillStrokeEvenOdd=function(B){return nc("B*",B),this};var nc=function(B,ne){Ar(ne)==="object"?Jm(ne,B):Z(B)},Ef=function(B){B===null||w===j&&B===void 0||(B=_f(B),Z(B))};function ep(B,ne,xe,je,Le){var rt=new Xg(ne||this.boundingBox,xe||this.xStep,je||this.yStep,this.gState,Le||this.matrix);rt.stream=this.stream;var ut=B+"$$"+this.cloneIndex+++"$$";return pi(ut,rt),rt}var Jm=function(B,ne){var xe=wr[B.key],je=Jt[xe];if(je instanceof $p)Z("q"),Z(Zm(ne)),je.gState&&h.setGState(je.gState),Z(B.matrix.toString()+" cm"),Z("/"+xe+" sh"),Z("Q");else if(je instanceof Xg){var Le=new Zt(1,0,0,-1,0,Qs());B.matrix&&(Le=Le.multiply(B.matrix||Co),xe=ep.call(je,B.key,B.boundingBox,B.xStep,B.yStep,Le).id),Z("q"),Z("/Pattern cs"),Z("/"+xe+" scn"),je.gState&&h.setGState(je.gState),Z(ne),Z("Q")}},Zm=function(B){switch(B){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Pf=h.moveTo=function(B,ne){return Z(D(F(B))+" "+D(V(ne))+" m"),this},ac=h.lineTo=function(B,ne){return Z(D(F(B))+" "+D(V(ne))+" l"),this},ko=h.curveTo=function(B,ne,xe,je,Le,rt){return Z([D(F(B)),D(V(ne)),D(F(xe)),D(V(je)),D(F(Le)),D(V(rt)),"c"].join(" ")),this};h.__private__.line=h.line=function(B,ne,xe,je,Le){if(isNaN(B)||isNaN(ne)||isNaN(xe)||isNaN(je)||!ml(Le))throw new Error("Invalid arguments passed to jsPDF.line");return w===N?this.lines([[xe-B,je-ne]],B,ne,[1,1],Le||"S"):this.lines([[xe-B,je-ne]],B,ne,[1,1]).stroke()},h.__private__.lines=h.lines=function(B,ne,xe,je,Le,rt){var ut,Tt,zt,sr,or,Br,kn,ma,un,_a,ea,Xa;if(typeof B=="number"&&(Xa=xe,xe=ne,ne=B,B=Xa),je=je||[1,1],rt=rt||!1,isNaN(ne)||isNaN(xe)||!Array.isArray(B)||!Array.isArray(je)||!ml(Le)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Pf(ne,xe),ut=je[0],Tt=je[1],sr=B.length,_a=ne,ea=xe,zt=0;zt<sr;zt++)(or=B[zt]).length===2?(_a=or[0]*ut+_a,ea=or[1]*Tt+ea,ac(_a,ea)):(Br=or[0]*ut+_a,kn=or[1]*Tt+ea,ma=or[2]*ut+_a,un=or[3]*Tt+ea,_a=or[4]*ut+_a,ea=or[5]*Tt+ea,ko(Br,kn,ma,un,_a,ea));return rt&&Or(),Ef(Le),this},h.path=function(B){for(var ne=0;ne<B.length;ne++){var xe=B[ne],je=xe.c;switch(xe.op){case"m":Pf(je[0],je[1]);break;case"l":ac(je[0],je[1]);break;case"c":ko.apply(this,je);break;case"h":Or()}}return this},h.__private__.rect=h.rect=function(B,ne,xe,je,Le){if(isNaN(B)||isNaN(ne)||isNaN(xe)||isNaN(je)||!ml(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return w===N&&(je=-je),Z([D(F(B)),D(V(ne)),D(F(xe)),D(F(je)),"re"].join(" ")),Ef(Le),this},h.__private__.triangle=h.triangle=function(B,ne,xe,je,Le,rt,ut){if(isNaN(B)||isNaN(ne)||isNaN(xe)||isNaN(je)||isNaN(Le)||isNaN(rt)||!ml(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xe-B,je-ne],[Le-xe,rt-je],[B-Le,ne-rt]],B,ne,[1,1],ut,!0),this},h.__private__.roundedRect=h.roundedRect=function(B,ne,xe,je,Le,rt,ut){if(isNaN(B)||isNaN(ne)||isNaN(xe)||isNaN(je)||isNaN(Le)||isNaN(rt)||!ml(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Tt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*xe),rt=Math.min(rt,.5*je),this.lines([[xe-2*Le,0],[Le*Tt,0,Le,rt-rt*Tt,Le,rt],[0,je-2*rt],[0,rt*Tt,-Le*Tt,rt,-Le,rt],[2*Le-xe,0],[-Le*Tt,0,-Le,-rt*Tt,-Le,-rt],[0,2*rt-je],[0,-rt*Tt,Le*Tt,-rt,Le,-rt]],B+Le,ne,[1,1],ut,!0),this},h.__private__.ellipse=h.ellipse=function(B,ne,xe,je,Le){if(isNaN(B)||isNaN(ne)||isNaN(xe)||isNaN(je)||!ml(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*xe,ut=4/3*(Math.SQRT2-1)*je;return Pf(B+xe,ne),ko(B+xe,ne-ut,B+rt,ne-je,B,ne-je),ko(B-rt,ne-je,B-xe,ne-ut,B-xe,ne),ko(B-xe,ne+ut,B-rt,ne+je,B,ne+je),ko(B+rt,ne+je,B+xe,ne+ut,B+xe,ne),Ef(Le),this},h.__private__.circle=h.circle=function(B,ne,xe,je){if(isNaN(B)||isNaN(ne)||isNaN(xe)||!ml(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(B,ne,xe,xe,je)},h.setFont=function(B,ne,xe){return xe&&(ne=I(ne,xe)),ct=Ym(B,ne,{disableWarning:!1}),this};var gl=h.__private__.getFont=h.getFont=function(){return jt[Ym.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var B,ne,xe={};for(B in nr)if(nr.hasOwnProperty(B))for(ne in xe[B]=[],nr[B])nr[B].hasOwnProperty(ne)&&xe[B].push(ne);return xe},h.addFont=function(B,ne,xe,je,Le){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(xe=I(xe,je)),jf.call(this,B,ne,xe,Le=Le||"Identity-H")};var Ji,Ks=e.lineWidth||.200025,tr=h.__private__.getLineWidth=h.getLineWidth=function(){return Ks},rd=h.__private__.setLineWidth=h.setLineWidth=function(B){return Ks=B,Z(D(F(B))+" w"),this};h.__private__.setLineDash=Ht.API.setLineDash=Ht.API.setLineDashPattern=function(B,ne){if(B=B||[],ne=ne||0,isNaN(ne)||!Array.isArray(B))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return B=B.map(function(xe){return D(F(xe))}).join(" "),ne=D(F(ne)),Z("["+B+"] "+ne+" d"),this};var vl=h.__private__.getLineHeight=h.getLineHeight=function(){return De*Ji};h.__private__.getLineHeight=h.getLineHeight=function(){return De*Ji};var wv=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(B){return typeof(B=B||1.15)=="number"&&(Ji=B),this},Qm=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Ji};wv(e.lineHeight);var Ds=h.__private__.getHorizontalCoordinate=function(B){return F(B)},ic=h.__private__.getVerticalCoordinate=function(B){return w===j?B:ir[W].mediaBox.topRightY-ir[W].mediaBox.bottomLeftY-F(B)},eg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(B){return D(Ds(B))},kf=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(B){return D(ic(B))},nd=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return pl(nd)},h.__private__.setStrokeColor=h.setDrawColor=function(B,ne,xe,je){return nd=Ka({ch1:B,ch2:ne,ch3:xe,ch4:je,pdfColorType:"draw",precision:2}),Z(nd),this};var tp=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return pl(tp)},h.__private__.setFillColor=h.setFillColor=function(B,ne,xe,je){return tp=Ka({ch1:B,ch2:ne,ch3:xe,ch4:je,pdfColorType:"fill",precision:2}),Z(tp),this};var Ao=e.textColor||"0 g",xl=h.__private__.getTextColor=h.getTextColor=function(){return pl(Ao)};h.__private__.setTextColor=h.setTextColor=function(B,ne,xe,je){return Ao=Ka({ch1:B,ch2:ne,ch3:xe,ch4:je,pdfColorType:"text",precision:3}),this};var Do=e.charSpace,Af=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Do||0)};h.__private__.setCharSpace=h.setCharSpace=function(B){if(isNaN(B))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Do=B,this};var rp=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(B){var ne=h.CapJoinStyles[B];if(ne===void 0)throw new Error("Line cap style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rp=ne,Z(ne+" J"),this};var np=0;h.__private__.setLineJoin=h.setLineJoin=function(B){var ne=h.CapJoinStyles[B];if(ne===void 0)throw new Error("Line join style of '"+B+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return np=ne,Z(ne+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(B){if(B=B||0,isNaN(B))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(D(F(B))+" M"),this},h.GState=I5,h.setGState=function(B){(B=typeof B=="string"?cr[Pn[B]]:sc(null,B)).equals(bn)||(Z("/"+B.id+" gs"),bn=B)};var sc=function(B,ne){if(!B||!Pn[B]){var xe=!1;for(var je in cr)if(cr.hasOwnProperty(je)&&cr[je].equals(ne)){xe=!0;break}if(xe)ne=cr[je];else{var Le="GS"+(Object.keys(cr).length+1).toString(10);cr[Le]=ne,ne.id=Le}return B&&(Pn[B]=ne.id),Fr.publish("addGState",ne),ne}};h.addGState=function(B,ne){return sc(B,ne),this},h.saveGraphicsState=function(){return Z("q"),Kr.push({key:ct,size:De,color:Ao}),this},h.restoreGraphicsState=function(){Z("Q");var B=Kr.pop();return ct=B.key,De=B.size,Ao=B.color,bn=null,this},h.setCurrentTransformationMatrix=function(B){return Z(B.toString()+" cm"),this},h.comment=function(B){return Z("#"+B),this};var yl=function(B,ne){var xe=B||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xe},set:function(rt){isNaN(rt)||(xe=parseFloat(rt))}});var je=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(rt){isNaN(rt)||(je=parseFloat(rt))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(rt){Le=rt.toString()}}),this},ad=function(B,ne,xe,je){yl.call(this,B,ne),this.type="rect";var Le=xe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(ut){isNaN(ut)||(Le=parseFloat(ut))}});var rt=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(ut){isNaN(ut)||(rt=parseFloat(ut))}}),this},id=function(){this.page=Tr,this.currentPage=W,this.pages=Ae.slice(0),this.pagesContext=ir.slice(0),this.x=Nt,this.y=_r,this.matrix=lr,this.width=sd(W),this.height=Js(W),this.outputDestination=Ge,this.id="",this.objectNumber=-1};id.prototype.restore=function(){Tr=this.page,W=this.currentPage,ir=this.pagesContext,Ae=this.pages,Nt=this.x,_r=this.y,lr=this.matrix,ap(W,this.width),Zs(W,this.height),Ge=this.outputDestination};var Xs=function(B,ne,xe,je,Le){Vs.push(new id),Tr=W=0,Ae=[],Nt=B,_r=ne,lr=Le,Vc([xe,je])};for(var oc in h.beginFormObject=function(B,ne,xe,je,Le){return Xs(B,ne,xe,je,Le),this},h.endFormObject=function(B){return(function(ne){if(hl[ne])Vs.pop().restore();else{var xe=new id,je="Xo"+(Object.keys(Ya).length+1).toString(10);xe.id=je,hl[ne]=je,Ya[je]=xe,Fr.publish("addFormObject",xe),Vs.pop().restore()}})(B),this},h.doFormObject=function(B,ne){var xe=Ya[hl[B]];return Z("q"),Z(ne.toString()+" cm"),Z("/"+xe.id+" Do"),Z("Q"),this},h.getFormObject=function(B){var ne=Ya[hl[B]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},h.save=function(B,ne){return B=B||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(zp(Po(Ys()),B),typeof zp.unload=="function"&&fr.setTimeout&&setTimeout(zp.unload,911),this):new Promise(function(xe,je){try{var Le=zp(Po(Ys()),B);typeof zp.unload=="function"&&fr.setTimeout&&setTimeout(zp.unload,911),xe(Le)}catch(rt){je(rt.message)}})},Ht.API)Ht.API.hasOwnProperty(oc)&&(oc==="events"&&Ht.API.events.length?(function(B,ne){var xe,je,Le;for(Le=ne.length-1;Le!==-1;Le--)xe=ne[Le][0],je=ne[Le][1],B.subscribe.apply(B,[xe].concat(typeof je=="function"?[je]:je))})(Fr,Ht.API.events):h[oc]=Ht.API[oc]);function sd(B){return ir[B].mediaBox.topRightX-ir[B].mediaBox.bottomLeftX}function ap(B,ne){ir[B].mediaBox.topRightX=ne+ir[B].mediaBox.bottomLeftX}function Js(B){return ir[B].mediaBox.topRightY-ir[B].mediaBox.bottomLeftY}function Zs(B,ne){ir[B].mediaBox.topRightY=ne+ir[B].mediaBox.bottomLeftY}var ip=h.getPageWidth=function(B){return sd(B=B||W)/wt},gi=h.setPageWidth=function(B,ne){ap(B,ne*wt)},Qs=h.getPageHeight=function(B){return Js(B=B||W)/wt},Df=h.setPageHeight=function(B,ne){Zs(B,ne*wt)};return h.internal={pdfEscape:ks,getStyle:_f,getFont:gl,getFontSize:_e,getCharSpace:Af,getTextColor:xl,getLineHeight:vl,getLineHeightFactor:Qm,getLineWidth:tr,write:Qe,getHorizontalCoordinate:Ds,getVerticalCoordinate:ic,getCoordinateString:eg,getVerticalCoordinateString:kf,collections:{},newObject:cn,newAdditionalObject:rc,newObjectDeferred:Zn,newObjectDeferredBegin:ha,getFilters:Gs,putStream:Ps,events:Fr,scaleFactor:wt,pageSize:{getWidth:function(){return ip(W)},setWidth:function(B){gi(W,B)},getHeight:function(){return Qs(W)},setHeight:function(B){Df(W,B)}},encryptionOptions:d,encryption:Qn,getEncryptor:function(B){return d!==null?Qn.encryptor(B,0):function(ne){return ne}},output:Xi,getNumberOfPages:As,pages:Ae,out:Z,f2:R,f3:P,getPageInfo:ed,getPageInfoByObjId:Xm,getCurrentPageInfo:Qh,getPDFVersion:y,Point:yl,Rectangle:ad,Matrix:Zt,hasHotfix:Qu},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return ip(W)},set:function(B){gi(W,B)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Qs(W)},set:function(B){Df(W,B)},enumerable:!0,configurable:!0}),(function(B){for(var ne=0,xe=ze.length;ne<xe;ne++){var je=jf.call(this,B[ne][0],B[ne][1],B[ne][2],ze[ne][3],!0);f===!1&&(p[je]=!0);var Le=B[ne][0].split("-");Hm({id:je,fontName:Le[0],fontStyle:Le[1]||""})}Fr.publish("addFonts",{fonts:jt,dictionary:nr})}).call(h,ze),ct="F1",Gm(a,r),Fr.publish("initialized"),h}Wg.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Wg.prototype.processOwnerPassword=function(e,t){return Y8(G8(t).substr(0,5),e)},Wg.prototype.encryptor=function(e,t){var r=G8(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Y8(r,n)}},I5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Ar(e)!==Ar(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ht.API={events:[]},Ht.version="3.0.3";var Na=Ht.API,BI=1,Um=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xr=function(e){return e.toFixed(2)},ah=function(e){return e.toFixed(5)};Na.__acroform__={};var jo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kU=function(e){return e*BI},cu=function(e){var t=new cie,r=Mt.internal.getHeight(e)||0,n=Mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(xr(n)),Number(xr(r))],t},e9e=Na.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},t9e=Na.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},r9e=Na.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Oa=Na.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return r9e(e,t-1)},Ia=Na.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return e9e(e,t-1)},Ma=Na.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return t9e(e,t-1)},n9e=Na.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(xr(l.lowerLeft_X)),Number(xr(l.lowerLeft_Y)),Number(xr(l.upperRight_X)),Number(xr(l.upperRight_Y))]},a9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=K8(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+xr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=cu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},K8=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(R){return R.split(`
`)}):a.map(function(R){return[R]});var i=r,s=Mt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Mt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(R,P,F){if(R+1<a.length){var V=P+" "+a[R+1][0];return bb(V,e,F).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,d,f=bb("3",e,i).height,p=e.multiline?s-i:(s-f)/2,h=p+=2,g=0,y=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+bb(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var b="",N=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var w=!1;if(a[j].length!==1&&x!==a[j].length-1){if((f+2)*(N+2)+2>s)continue e;b+=a[j][x],w=!0,y=j,j--}else{b=(b+=a[j][x]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var C=parseInt(j),E=l(C,b,i),I=j>=a.length-1;if(E&&!I){b+=" ",x=0;continue}if(E||I){if(I)y=C;else if(e.multiline&&(f+2)*(N+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(N+2)+2>s)continue e;y=C}}for(var D="",O=g;O<=y;O++){var L=a[O];if(e.multiline){if(O===y){D+=L[x]+" ",x=(x+1)%L.length;continue}if(O===g){D+=L[L.length-1]+" ";continue}}D+=L[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=bb(D,e,i).width,e.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}t+=xr(u)+" "+xr(h)+` Td
`,t+="("+Um(D)+`) Tj
`,t+=-xr(u)+` 0 Td
`,h=-(i+2),d=0,g=w?y:y+1,N++,b=""}break}return n.text=t,n.fontSize=i,n},bb=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},i9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},s9e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},o9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(zc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(i9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");BI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new uie,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&s9e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],u=o.Rect;if(o.Rect&&(o.Rect=n9e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Mt.createDefaultAppearanceStream(o),Ar(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=a9e(o);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var h=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&(function(y,x){for(var b in y)if(y.hasOwnProperty(b)){var N=b,j=y[b];x.internal.newObjectDeferredBegin(j.objId,!0),Ar(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete y[N]}})(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},lie=Na.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Ar(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Um(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jj=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Um(n(e))+")"},bu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};bu.prototype.toString=function(){return this.objId+" 0 R"},bu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},bu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:lie(a,this.objId,this.scope)}):a instanceof bu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var cie=function(){bu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};jo(cie,bu);var uie=function(){bu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Um(r(e))+")"}},set:function(r){e=r}})};jo(uie,bu);var zc=function e(){bu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Oa(t,3)},set:function(b){b?this.F=Ia(t,3):this.F=Ma(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');r=b}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(b){n=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(b){n[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(b){n[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(b){n[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(b){n[3]=b}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof M5)return;i="FieldObject"+e.FieldNum++}var b=function(N){return N};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Um(b(i))+")"},set:function(b){i=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(b){i=b}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(b){s=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/BI:u},set:function(b){u=b}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(b){d=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof M5||this instanceof om))return jj(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof _i==0?jj(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof _i==0?b.substr(0,1)==="("?Tg(b.substr(1,b.length-2)):Tg(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _i==1?Tg(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof _i==1?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof _i==0?jj(h,this.objId,this.scope):h},set:function(b){b=b.toString(),h=this instanceof _i==0?b.substr(0,1)==="("?Tg(b.substr(1,b.length-2)):Tg(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _i==1?Tg(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof _i==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(b){b=!!b,y=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(b){g=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,1)},set:function(b){b?this.Ff=Ia(this.Ff,1):this.Ff=Ma(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,2)},set:function(b){b?this.Ff=Ia(this.Ff,2):this.Ff=Ma(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,3)},set:function(b){b?this.Ff=Ia(this.Ff,3):this.Ff=Ma(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');x=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(x){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};jo(zc,bu);var h0=function(){zc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lie(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(i,s,o){o||(o=1);for(var l,u=[];l=s.exec(i);)u.push(l[o]);return u})(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,18)},set:function(r){r?this.Ff=Ia(this.Ff,18):this.Ff=Ma(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ia(this.Ff,19):this.Ff=Ma(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,20)},set:function(r){r?(this.Ff=Ia(this.Ff,20),t.sort()):this.Ff=Ma(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,22)},set:function(r){r?this.Ff=Ia(this.Ff,22):this.Ff=Ma(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(r){r?this.Ff=Ia(this.Ff,23):this.Ff=Ma(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,27)},set:function(r){r?this.Ff=Ia(this.Ff,27):this.Ff=Ma(this.Ff,27)}}),this.hasAppearanceStream=!1};jo(h0,zc);var p0=function(){h0.call(this),this.fontName="helvetica",this.combo=!1};jo(p0,h0);var m0=function(){p0.call(this),this.combo=!0};jo(m0,p0);var $b=function(){m0.call(this),this.edit=!0};jo($b,m0);var _i=function(){zc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,15)},set:function(r){r?this.Ff=Ia(this.Ff,15):this.Ff=Ma(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,16)},set:function(r){r?this.Ff=Ia(this.Ff,16):this.Ff=Ma(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,17)},set:function(r){r?this.Ff=Ia(this.Ff,17):this.Ff=Ma(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(r){r?this.Ff=Ia(this.Ff,26):this.Ff=Ma(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Um(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ar(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};jo(_i,zc);var qb=function(){_i.call(this),this.pushButton=!0};jo(qb,_i);var g0=function(){_i.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};jo(g0,_i);var M5=function(){var e,t;zc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Um(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Ar(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jo(M5,zc),g0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},g0.prototype.createOption=function(e){var t=new M5;return t.Parent=this,t.optionName=e,this.Kids.push(t),l9e.call(this.scope,t),t};var Vb=function(){_i.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mt.CheckBox.createAppearanceStream()};jo(Vb,_i);var om=function(){zc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,13)},set:function(t){t?this.Ff=Ia(this.Ff,13):this.Ff=Ma(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,21)},set:function(t){t?this.Ff=Ia(this.Ff,21):this.Ff=Ma(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,23)},set:function(t){t?this.Ff=Ia(this.Ff,23):this.Ff=Ma(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,24)},set:function(t){t?this.Ff=Ia(this.Ff,24):this.Ff=Ma(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,25)},set:function(t){t?this.Ff=Ia(this.Ff,25):this.Ff=Ma(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,26)},set:function(t){t?this.Ff=Ia(this.Ff,26):this.Ff=Ma(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jo(om,zc);var Hb=function(){om.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Oa(this.Ff,14)},set:function(e){e?this.Ff=Ia(this.Ff,14):this.Ff=Ma(this.Ff,14)}}),this.password=!0};jo(Hb,om);var Mt={CheckBox:{createAppearanceStream:function(){return{N:{On:Mt.CheckBox.YesNormal},D:{On:Mt.CheckBox.YesPushDown,Off:Mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=cu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=K8(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+xr(Mt.internal.getWidth(e))+" "+xr(Mt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+xr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=cu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Mt.internal.getHeight(e),s=Mt.internal.getWidth(e),o=K8(e,e.caption);return a.push("1 g"),a.push("0 0 "+xr(s)+" "+xr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+xr(s-1)+" "+xr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+xr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=cu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Mt.internal.getWidth(e))+" "+xr(Mt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mt.RadioButton.Circle.YesNormal,t.D[e]=Mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=cu(e);t.scope=e.scope;var r=[],n=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Mt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ah(Mt.internal.getWidth(e)/2)+" "+ah(Mt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cu(e);t.scope=e.scope;var r=[],n=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Mt.internal.Bezier_C).toFixed(5)),s=Number((n*Mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ah(Mt.internal.getWidth(e)/2)+" "+ah(Mt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ah(Mt.internal.getWidth(e)/2)+" "+ah(Mt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=cu(e);t.scope=e.scope;var r=[],n=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ah(Mt.internal.getWidth(e)/2)+" "+ah(Mt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mt.RadioButton.Cross.YesNormal,t.D[e]=Mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=cu(e);t.scope=e.scope;var r=[],n=Mt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+xr(Mt.internal.getWidth(e)-2)+" "+xr(Mt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(xr(n.x1.x)+" "+xr(n.x1.y)+" m"),r.push(xr(n.x2.x)+" "+xr(n.x2.y)+" l"),r.push(xr(n.x4.x)+" "+xr(n.x4.y)+" m"),r.push(xr(n.x3.x)+" "+xr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=cu(e);t.scope=e.scope;var r=Mt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+xr(Mt.internal.getWidth(e))+" "+xr(Mt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+xr(Mt.internal.getWidth(e)-2)+" "+xr(Mt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(xr(r.x1.x)+" "+xr(r.x1.y)+" m"),n.push(xr(r.x2.x)+" "+xr(r.x2.y)+" l"),n.push(xr(r.x4.x)+" "+xr(r.x4.y)+" m"),n.push(xr(r.x3.x)+" "+xr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=cu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+xr(Mt.internal.getWidth(e))+" "+xr(Mt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mt.internal.getWidth(e),r=Mt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Mt.internal.getWidth=function(e){var t=0;return Ar(e)==="object"&&(t=kU(e.Rect[2])),t},Mt.internal.getHeight=function(e){var t=0;return Ar(e)==="object"&&(t=kU(e.Rect[3])),t};var l9e=Na.addField=function(e){if(o9e(this,e),!(e instanceof zc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Na.AcroFormChoiceField=h0,Na.AcroFormListBox=p0,Na.AcroFormComboBox=m0,Na.AcroFormEditBox=$b,Na.AcroFormButton=_i,Na.AcroFormPushButton=qb,Na.AcroFormRadioButton=g0,Na.AcroFormCheckBox=Vb,Na.AcroFormTextField=om,Na.AcroFormPasswordField=Hb,Na.AcroFormAppearance=Mt,Na.AcroForm={ChoiceField:h0,ListBox:p0,ComboBox:m0,EditBox:$b,Button:_i,PushButton:qb,RadioButton:g0,CheckBox:Vb,TextField:om,PasswordField:Hb,Appearance:Mt},Ht.AcroForm={ChoiceField:h0,ListBox:p0,ComboBox:m0,EditBox:$b,Button:_i,PushButton:qb,RadioButton:g0,CheckBox:Vb,TextField:om,PasswordField:Hb,Appearance:Mt};Ht.AcroForm;function die(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(R,P){var F,V,X,te,q,U=r;if((P=P||r)==="RGBA"||R.data!==void 0&&R.data instanceof Uint8ClampedArray&&"height"in R&&"width"in R)return"RGBA";if(E(R))for(q in n)for(X=n[q],F=0;F<X.length;F+=1){for(te=!0,V=0;V<X[F].length;V+=1)if(X[F][V]!==void 0&&X[F][V]!==R[V]){te=!1;break}if(te===!0){U=q;break}}else for(q in n)for(X=n[q],F=0;F<X.length;F+=1){for(te=!0,V=0;V<X[F].length;V+=1)if(X[F][V]!==void 0&&X[F][V]!==R.charCodeAt(V)){te=!1;break}if(te===!0){U=q;break}}return U===r&&P!==r&&(U=P),U},i=function R(P){for(var F=this.internal.write,V=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:P.width}),te.push({key:"Height",value:P.height}),P.colorSpace===b.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===b.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)&&P.transparency.length>0){for(var q="",U=0,Q=P.transparency.length;U<Q;U++)q+=P.transparency[U]+" "+P.transparency[U]+" ";te.push({key:"Mask",value:"["+q+"]"})}P.sMask!==void 0&&te.push({key:"SMask",value:P.objectId+1+" 0 R"});var se=P.filter!==void 0?["/"+P.filter]:void 0;if(V({data:P.data,additionalKeyValues:te,alreadyAppliedFilters:se,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var K,T=(K=P.sMaskBitsPerComponent)!==null&&K!==void 0?K:P.bitsPerComponent,W={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:P.sMask};"filter"in P&&(W.decodeParameters="/Predictor ".concat(P.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(P.width),W.filter=P.filter),R.call(this,W)}if(P.colorSpace===b.INDEXED){var J=this.internal.newObject();V({data:D(new Uint8Array(P.palette)),objectId:J}),F("endobj")}},s=function(){var R=this.internal.collections[t+"images"];for(var P in R)i.call(this,R[P])},o=function(){var R,P=this.internal.collections[t+"images"],F=this.internal.write;for(var V in P)F("/I"+(R=P[V]).index,R.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var R=this.internal.collections[t+"images"];return l.call(this),R},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(R){return typeof e["process"+R.toUpperCase()]=="function"},p=function(R){return Ar(R)==="object"&&R.nodeType===1},h=function(R,P){if(R.nodeName==="IMG"&&R.hasAttribute("src")){var F=""+R.getAttribute("src");if(F.indexOf("data:image/")===0)return Ub(unescape(F).split("base64,").pop());var V=e.loadFile(F,!0);if(V!==void 0)return V}if(R.nodeName==="CANVAS"){if(R.width===0||R.height===0)throw new Error("Given canvas must have data. Canvas width: "+R.width+", height: "+R.height);var X;switch(P){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return Ub(R.toDataURL(X,1).split("base64,").pop())}},g=function(R){var P=this.internal.collections[t+"images"];if(P){for(var F in P)if(R===P[F].alias)return P[F]}},y=function(R,P,F){return R||P||(R=-96,P=-96),R<0&&(R=-1*F.width*72/R/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),R===0&&(R=P*F.width/F.height),P===0&&(P=R*F.height/F.width),[R,P]},x=function(R,P,F,V,X,te){var q=y.call(this,F,V,X),U=this.internal.getCoordinateString,Q=this.internal.getVerticalCoordinateString,se=u.call(this);if(F=q[0],V=q[1],se[X.index]=X,te){te*=Math.PI/180;var K=Math.cos(te),T=Math.sin(te),W=function(Y){return Y.toFixed(4)},J=[W(K),W(T),W(-1*T),W(K),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,U(R),Q(P+V),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([U(F),"0","0",U(V),"0","0","cm"].join(" "))):this.internal.write([U(F),"0","0",U(V),U(R),Q(P+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(R){var P,F,V=0;if(typeof R=="string")for(F=R.length,P=0;P<F;P++)V=(V<<5)-V+R.charCodeAt(P),V|=0;else if(E(R))for(F=R.byteLength/2,P=0;P<F;P++)V=(V<<5)-V+R[P],V|=0;return V},w=e.__addimage__.validateStringAsBase64=function(R){(R=R||"").toString().trim();var P=!0;return R.length===0&&(P=!1),R.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(R.substr(0,R.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(R.substr(-2))===!1&&(P=!1),P},C=e.__addimage__.extractImageFromDataUrl=function(R){if(R==null||!(R=R.trim()).startsWith("data:"))return null;var P=R.indexOf(",");return P<0?null:R.substring(0,P).trim().endsWith("base64")?R.substring(P+1):null};e.__addimage__.isArrayBuffer=function(R){return R instanceof ArrayBuffer};var E=e.__addimage__.isArrayBufferView=function(R){return R instanceof Int8Array||R instanceof Uint8Array||R instanceof Uint8ClampedArray||R instanceof Int16Array||R instanceof Uint16Array||R instanceof Int32Array||R instanceof Uint32Array||R instanceof Float32Array||R instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(R){for(var P=R.length,F=new Uint8Array(P),V=0;V<P;V++)F[V]=R.charCodeAt(V);return F},D=e.__addimage__.arrayBufferToBinaryString=function(R){for(var P="",F=E(R)?R:new Uint8Array(R),V=0;V<F.length;V+=8192)P+=String.fromCharCode.apply(null,F.subarray(V,V+8192));return P};e.addImage=function(){var R,P,F,V,X,te,q,U,Q;if(typeof arguments[1]=="number"?(P=r,F=arguments[1],V=arguments[2],X=arguments[3],te=arguments[4],q=arguments[5],U=arguments[6],Q=arguments[7]):(P=arguments[1],F=arguments[2],V=arguments[3],X=arguments[4],te=arguments[5],q=arguments[6],U=arguments[7],Q=arguments[8]),Ar(R=arguments[0])==="object"&&!p(R)&&"imageData"in R){var se=R;R=se.imageData,P=se.format||P||r,F=se.x||F||0,V=se.y||V||0,X=se.w||se.width||X,te=se.h||se.height||te,q=se.alias||q,U=se.compression||U,Q=se.rotation||se.angle||Q}var K=this.internal.getFilters();if(U===void 0&&K.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN(F)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var T=O.call(this,R,P,q,U);return x.call(this,F,V,X,te,T,Q),this};var O=function(R,P,F,V){var X,te,q;if(typeof R=="string"&&a(R)===r){R=unescape(R);var U=L(R,!1);(U!==""||(U=e.loadFile(R,!0))!==void 0)&&(R=U)}if(p(R)&&(R=h(R,P)),P=a(R,P),!f(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((q=F)==null||q.length===0)&&(F=(function(Q){return typeof Q=="string"||E(Q)?j(Q):E(Q.data)?j(Q.data):null})(R)),(X=g.call(this,F))||(R instanceof Uint8Array||P==="RGBA"||(te=R,R=I(R)),X=this["process"+P.toUpperCase()](R,d.call(this),F,(function(Q){return Q&&typeof Q=="string"&&(Q=Q.toUpperCase()),Q in e.image_compression?Q:N.NONE})(V),te)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},L=e.__addimage__.convertBase64ToBinaryString=function(R,P){P=typeof P!="boolean"||P;var F,V="";if(typeof R=="string"){var X;F=(X=C(R))!==null&&X!==void 0?X:R;try{V=Ub(F)}catch(te){if(P)throw w(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(R){var P,F,V="";if(p(R)&&(R=h(R)),typeof R=="string"&&a(R)===r&&((V=L(R,!1))===""&&(V=e.loadFile(R)||""),R=V),F=a(R),!f(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(R instanceof Uint8Array||(R=I(R)),!(P=this["process"+F.toUpperCase()](R)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(Ht.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ht.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(y.objId),N=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(b(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(b(N))+") >>",y.content=i;var j=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+j,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(y.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var w=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var E=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+E+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;s=Math.ceil(u*d)}else o=l,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-u,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ht.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=e.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&i(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var x=0,b=r,N="",j=0;for(x=0;x<y.length;x+=1)b[y.charCodeAt(x)]!==void 0?(j++,typeof(b=b[y.charCodeAt(x)])=="number"&&(N+=String.fromCharCode(b),b=r,j=0),x===y.length-1&&(b=r,N+=y.charAt(x-(j-1)),x-=j-1,j=0)):(b=r,N+=y.charAt(x-j),x-=j,j=0);return N};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(y,x,b){return s(y)?i(y)===!1?-1:!u(y)||!s(x)&&!s(b)||!s(b)&&o(x)||o(y)&&!s(x)||o(y)&&l(x)||o(y)&&o(x)?0:d(y)&&s(x)&&!o(x)&&s(b)&&u(b)?3:o(y)||!s(b)?1:2:-1},h=function(y){var x=0,b=0,N=0,j="",w="",C="",E=(y=y||"").split("\\s+"),I=[];for(x=0;x<E.length;x+=1){for(I.push(""),b=0;b<E[x].length;b+=1)j=E[x][b],w=E[x][b-1],C=E[x][b+1],s(j)?(N=p(j,w,C),I[x]+=N!==-1?String.fromCharCode(t[j.charCodeAt(0)][N]):j):I[x]+=j;I[x]=f(I[x])}return I.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var y,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(x)){var N=0;for(b=[],N=0;N<x.length;N+=1)Array.isArray(x[N])?b.push([h(x[N][0]),x[N][1],x[N][2]]):b.push([h(x[N])]);y=b}else y=h(x);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",g])})(Ht.API),Ht.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Ht.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,y=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=u.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,w){return j.concat(x.splitTextToSize(w,b))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)h<(y=this.getStringUnitWidth(l[N],{font:f})*d)&&(h=y);return h!==0&&(g=l.length),{w:h/=p,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,g,y,x,b=[],N=[],j=[],w={},C={},E=[],I=[],D=(p=p||{}).autoSize||!1,O=p.printHeaders!==!1,L=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,R=p.margins||Object.assign({width:this.getPageWidth()},t),P=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",V=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=R,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=V,this.setFontSize(L),f==null)N=b=Object.keys(d[0]),j=b.map(function(){return"left"});else if(Array.isArray(f)&&Ar(f[0])==="object")for(b=f.map(function(se){return se.name}),N=f.map(function(se){return se.prompt||se.name||""}),j=f.map(function(se){return se.align||"left"}),h=0;h<f.length;h+=1)C[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(N=b=f,j=b.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(w[x=b[h]]=d.map(function(se){return se[x]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(N[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=w[x],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)E.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[x]=Math.max.apply(null,E)+P+P,E=[]}if(O){var X={};for(h=0;h<b.length;h+=1)X[b[h]]={},X[b[h]].text=N[h],X[b[h]].align=j[h];var te=o.call(this,X,C);I=b.map(function(se){return new i(l,u,C[se],te,X[se].text,void 0,X[se].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var q=f.reduce(function(se,K){return se[K.name]=K.align,se},{});for(h=0;h<d.length;h+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:h,data:d[h]},this);var U=o.call(this,d[h],C);for(y=0;y<b.length;y+=1){var Q=d[h][b[y]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:h,col:y,data:Q},this),s.call(this,new i(l,u,C[b[y]],U,Q,h+2,q[b[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/p+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(g)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(Ht.API);var fie={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},hie=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],X8=die(hie),pie=[100,200,300,400,500,600,700,800,900],c9e=die(pie);function Cj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return fie[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),a=(function(i){return typeof X8[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function AU(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var u9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},DU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function TU(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function OU(e){return e.trimLeft()}function d9e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function f9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var wb,IU,MU,Og,Nb,RU,LU,FU,_j=["times"];function BU(e,t,r,n,a){var i=4,s=WU;switch(a){case Ht.API.image_compression.FAST:i=1,s=zU;break;case Ht.API.image_compression.MEDIUM:i=6,s=UU;break;case Ht.API.image_compression.SLOW:i=9,s=$U}e=(function(l,u,d,f){for(var p,h=l.length/u,g=new Uint8Array(l.length+h),y=[h9e,zU,WU,UU,$U],x=0;x<h;x+=1){var b=x*u,N=l.subarray(b,b+u);if(f)g.set(f(N,d,p),b+x);else{for(var j=y.length,w=[],C=0;C<j;C+=1)w[C]=y[C](N,d,p);var E=m9e(w.concat());g.set(w[E],b+x)}p=N}return g})(e,t,Math.ceil(r*n/8),s);var o=U8(e,{level:i});return Ht.API.__addimage__.arrayBufferToBinaryString(o)}function h9e(e){var t=Array.apply([],e);return t.unshift(0),t}function zU(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function WU(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=e[i]-s+256&255}return a}function UU(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(s+o>>>1)&255}return a}function $U(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=p9e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-s+256&255}return a}function p9e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function m9e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Ej(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return mie(e,a)>>i&s}function qU(e,t,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),o=(1<<n)-1,l=(t&o)<<s;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var p=f>>8&255;u.setUint8(d,p)}})(e,i,mie(e,i)&~(o<<s)&65535|l)}function mie(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function g9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var u=!0,d=[],f=0,p=null,h=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],1&y||(p=null),h=y>>2&7,t++;break;case 254:for(;;){if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,w=e[t++],C=w>>6&1,E=1<<1+(7&w),I=o,D=l,O=!1;w>>7&&(O=!0,I=t,D=E,t+=3*E);var L=t;for(t++;;){var R;if(!((R=e[t++])>=0))throw Error("Invalid block size");if(R===0)break;t+=R}d.push({x,y:b,width:N,height:j,has_local_palette:O,palette_offset:I,palette_size:D,data_offset:L,data_length:t-L,transparent_index:p,interlaced:!!C,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,F){var V=this.frameInfo(P),X=V.width*V.height,te=new Uint8Array(X);VU(e,V.data_offset,te,X);var q=V.palette_offset,U=V.transparent_index;U===null&&(U=256);var Q=V.width,se=r-Q,K=Q,T=4*(V.y*r+V.x),W=4*((V.y+V.height)*r+V.x),J=T,Y=4*se;V.interlaced===!0&&(Y+=4*r*7);for(var ee=8,ae=0,pe=te.length;ae<pe;++ae){var de=te[ae];if(K===0&&(K=Q,(J+=Y)>=W&&(Y=4*se+4*r*(ee-1),J=T+(Q+se)*(ee<<1),ee>>=1)),de===U)J+=4;else{var we=e[q+3*de],Ae=e[q+3*de+1],Se=e[q+3*de+2];F[J++]=Se,F[J++]=Ae,F[J++]=we,F[J++]=255}--K}},this.decodeAndBlitFrameRGBA=function(P,F){var V=this.frameInfo(P),X=V.width*V.height,te=new Uint8Array(X);VU(e,V.data_offset,te,X);var q=V.palette_offset,U=V.transparent_index;U===null&&(U=256);var Q=V.width,se=r-Q,K=Q,T=4*(V.y*r+V.x),W=4*((V.y+V.height)*r+V.x),J=T,Y=4*se;V.interlaced===!0&&(Y+=4*r*7);for(var ee=8,ae=0,pe=te.length;ae<pe;++ae){var de=te[ae];if(K===0&&(K=Q,(J+=Y)>=W&&(Y=4*se+4*r*(ee-1),J=T+(Q+se)*(ee<<1),ee>>=1)),de===U)J+=4;else{var we=e[q+3*de],Ae=e[q+3*de+1],Se=e[q+3*de+2];F[J++]=we,F[J++]=Ae,F[J++]=Se,F[J++]=255}--K}}}function VU(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,u=(1<<l)-1,d=0,f=0,p=0,h=e[t++],g=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<l)break;var x=f&u;if(f>>=l,d-=l,x!==i){if(x===s)break;for(var b=x<o?x:y,N=0,j=b;j>i;)j=g[j]>>8,++N;var w=j;if(p+N+(b!==x?1:0)>n)return void vn.log("Warning, gif stream longer than expected.");r[p++]=w;var C=p+=N;for(b!==x&&(r[p++]=w),j=b;N--;)j=g[j],r[--C]=255&j,j>>=8;y!==null&&o<4096&&(g[o++]=y<<8|w,o>=u+1&&l<12&&(++l,u=u<<1|1)),y=x}else o=s+1,u=(1<<(l=a+1))-1,y=null}return p!==n&&vn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Pj(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),h=new Array(64),g=new Array(64),y=[],x=0,b=7,N=new Array(64),j=new Array(64),w=new Array(64),C=new Array(256),E=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],R=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te(T,W){for(var J=0,Y=0,ee=new Array,ae=1;ae<=16;ae++){for(var pe=1;pe<=T[ae];pe++)ee[W[Y]]=[],ee[W[Y]][0]=J,ee[W[Y]][1]=ae,Y++,J++;J*=2}return ee}function q(T){for(var W=T[0],J=T[1]-1;J>=0;)W&1<<J&&(x|=1<<b),J--,--b<0&&(x==255?(U(255),U(0)):U(x),b=7,x=0)}function U(T){y.push(T)}function Q(T){U(T>>8&255),U(255&T)}function se(T,W,J,Y,ee){for(var ae,pe=ee[0],de=ee[240],we=(function(De,me){var _e,Ve,Xe,Re,st,pt,Fe,at,ct,wt,Nt=0;for(ct=0;ct<8;++ct){_e=De[Nt],Ve=De[Nt+1],Xe=De[Nt+2],Re=De[Nt+3],st=De[Nt+4],pt=De[Nt+5],Fe=De[Nt+6];var _r=_e+(at=De[Nt+7]),lr=_e-at,jt=Ve+Fe,nr=Ve-Fe,Kr=Xe+pt,Jt=Xe-pt,wr=Re+st,cr=Re-st,Pn=_r+wr,bn=_r-wr,Tr=jt+Kr,ir=jt-Kr;De[Nt]=Pn+Tr,De[Nt+4]=Pn-Tr;var Fr=.707106781*(ir+bn);De[Nt+2]=bn+Fr,De[Nt+6]=bn-Fr;var Uc=.382683433*((Pn=cr+Jt)-(ir=nr+lr)),Ya=.5411961*Pn+Uc,hl=1.306562965*ir+Uc,Vs=.707106781*(Tr=Jt+nr),Zt=lr+Vs,Es=lr-Vs;De[Nt+5]=Es+Ya,De[Nt+3]=Es-Ya,De[Nt+1]=Zt+hl,De[Nt+7]=Zt-hl,Nt+=8}for(Nt=0,ct=0;ct<8;++ct){_e=De[Nt],Ve=De[Nt+8],Xe=De[Nt+16],Re=De[Nt+24],st=De[Nt+32],pt=De[Nt+40],Fe=De[Nt+48];var Co=_e+(at=De[Nt+56]),pi=_e-at,Hs=Ve+Fe,cn=Ve-Fe,Zn=Xe+pt,ha=Xe-pt,rc=Re+st,$c=Re-st,_o=Co+rc,pl=Co-rc,Ka=Hs+Zn,Gs=Hs-Zn;De[Nt]=_o+Ka,De[Nt+32]=_o-Ka;var Ps=.707106781*(Gs+pl);De[Nt+16]=pl+Ps,De[Nt+48]=pl-Ps;var Yu=.382683433*((_o=$c+ha)-(Gs=cn+pi)),Eo=.5411961*_o+Yu,qc=1.306562965*Gs+Yu,Ku=.707106781*(Ka=ha+cn),Xu=pi+Ku,Sf=pi-Ku;De[Nt+40]=Sf+Eo,De[Nt+24]=Sf-Eo,De[Nt+8]=Xu+qc,De[Nt+56]=Xu-qc,Nt++}for(ct=0;ct<64;++ct)wt=De[ct]*me[ct],h[ct]=wt>0?wt+.5|0:wt-.5|0;return h})(T,W),Ae=0;Ae<64;++Ae)g[I[Ae]]=we[Ae];var Se=g[0]-J;J=g[0],Se==0?q(Y[0]):(q(Y[p[ae=32767+Se]]),q(f[ae]));for(var Ge=63;Ge>0&&g[Ge]==0;)Ge--;if(Ge==0)return q(pe),J;for(var ke,Z=1;Z<=Ge;){for(var Qe=Z;g[Z]==0&&Z<=Ge;)++Z;var Ne=Z-Qe;if(Ne>=16){ke=Ne>>4;for(var ze=1;ze<=ke;++ze)q(de);Ne&=15}ae=32767+g[Z],q(ee[(Ne<<4)+p[ae]]),q(f[ae]),Z++}return Ge!=63&&q(pe),J}function K(T){T=Math.min(Math.max(T,1),100),i!=T&&((function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ee=s((J[Y]*W+50)/100);ee=Math.min(Math.max(ee,1),255),o[I[Y]]=ee}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var de=s((ae[pe]*W+50)/100);de=Math.min(Math.max(de,1),255),l[I[pe]]=de}for(var we=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,Se=0;Se<8;Se++)for(var Ge=0;Ge<8;Ge++)u[Ae]=1/(o[I[Ae]]*we[Se]*we[Ge]*8),d[Ae]=1/(l[I[Ae]]*we[Se]*we[Ge]*8),Ae++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),i=T)}this.encode=function(T,W){W&&K(W),y=new Array,x=0,b=7,Q(65496),Q(65504),Q(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),Q(1),Q(1),U(0),U(0),(function(){Q(65499),Q(132),U(0);for(var Ve=0;Ve<64;Ve++)U(o[Ve]);U(1);for(var Xe=0;Xe<64;Xe++)U(l[Xe])})(),(function(Ve,Xe){Q(65472),Q(17),U(8),Q(Xe),Q(Ve),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)})(T.width,T.height),(function(){Q(65476),Q(418),U(0);for(var Ve=0;Ve<16;Ve++)U(D[Ve+1]);for(var Xe=0;Xe<=11;Xe++)U(O[Xe]);U(16);for(var Re=0;Re<16;Re++)U(L[Re+1]);for(var st=0;st<=161;st++)U(R[st]);U(1);for(var pt=0;pt<16;pt++)U(P[pt+1]);for(var Fe=0;Fe<=11;Fe++)U(F[Fe]);U(17);for(var at=0;at<16;at++)U(V[at+1]);for(var ct=0;ct<=161;ct++)U(X[ct])})(),Q(65498),Q(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var J=0,Y=0,ee=0;x=0,b=7,this.encode.displayName="_encode_";for(var ae,pe,de,we,Ae,Se,Ge,ke,Z,Qe=T.data,Ne=T.width,ze=T.height,De=4*Ne,me=0;me<ze;){for(ae=0;ae<De;){for(Ae=De*me+ae,Ge=-1,ke=0,Z=0;Z<64;Z++)Se=Ae+(ke=Z>>3)*De+(Ge=4*(7&Z)),me+ke>=ze&&(Se-=De*(me+1+ke-ze)),ae+Ge>=De&&(Se-=ae+Ge-De+4),pe=Qe[Se++],de=Qe[Se++],we=Qe[Se++],N[Z]=(E[pe]+E[de+256|0]+E[we+512|0]>>16)-128,j[Z]=(E[pe+768|0]+E[de+1024|0]+E[we+1280|0]>>16)-128,w[Z]=(E[pe+1280|0]+E[de+1536|0]+E[we+1792|0]>>16)-128;J=se(N,u,J,t,n),Y=se(j,d,Y,r,a),ee=se(w,d,ee,r,a),ae+=32}me+=8}if(b>=0){var _e=[];_e[1]=b+1,_e[0]=(1<<b+1)-1,q(_e)}return Q(65497),new Uint8Array(y)},e=e||50,(function(){for(var T=String.fromCharCode,W=0;W<256;W++)C[W]=T(W)})(),t=te(D,O),r=te(P,F),n=te(L,R),a=te(V,X),(function(){for(var T=1,W=2,J=1;J<=15;J++){for(var Y=T;Y<W;Y++)p[32767+Y]=J,f[32767+Y]=[],f[32767+Y][1]=J,f[32767+Y][0]=Y;for(var ee=-(W-1);ee<=-T;ee++)p[32767+ee]=J,f[32767+ee]=[],f[32767+ee][1]=J,f[32767+ee][0]=W-1+ee;T<<=1,W<<=1}})(),(function(){for(var T=0;T<256;T++)E[T]=19595*T,E[T+256|0]=38470*T,E[T+512|0]=7471*T+32768,E[T+768|0]=-11059*T,E[T+1024|0]=-21709*T,E[T+1280|0]=32768*T+8421375,E[T+1536|0]=-27439*T,E[T+1792|0]=-5329*T})(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Nc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function HU(e){function t(O){if(!O)throw Error("assert :P")}function r(O,L,R){for(var P=0;4>P;P++)if(O[L+P]!=R.charCodeAt(P))return!0;return!1}function n(O,L,R,P,F){for(var V=0;V<F;V++)O[L+V]=R[P+V]}function a(O,L,R,P){for(var F=0;F<P;F++)O[L+F]=R}function i(O){return new Int32Array(O)}function s(O,L){for(var R=[],P=0;P<O;P++)R.push(new L);return R}function o(O,L){var R=[];return(function P(F,V,X){for(var te=X[V],q=0;q<te&&(F.push(X.length>V+1?[]:new L),!(X.length<V+1));q++)P(F[q],V+1,X)})(R,0,O),R}var l=function(){var O=this;function L(_,M){for(var $=1<<M-1>>>0;_&$;)$>>>=1;return $?(_&$-1)+$:_}function R(_,M,$,G,re){t(!(G%$));do _[M+(G-=$)]=re;while(0<G)}function P(_,M,$,G,re){if(t(2328>=re),512>=re)var oe=i(512);else if((oe=i(re))==null)return 0;return(function(ce,ue,fe,ge,Ee,We){var ve,Te,Be=ue,tt=1<<fe,$e=i(16),Ze=i(16);for(t(Ee!=0),t(ge!=null),t(ce!=null),t(0<fe),Te=0;Te<Ee;++Te){if(15<ge[Te])return 0;++$e[ge[Te]]}if($e[0]==Ee)return 0;for(Ze[1]=0,ve=1;15>ve;++ve){if($e[ve]>1<<ve)return 0;Ze[ve+1]=Ze[ve]+$e[ve]}for(Te=0;Te<Ee;++Te)ve=ge[Te],0<ge[Te]&&(We[Ze[ve]++]=Te);if(Ze[15]==1)return(ge=new F).g=0,ge.value=We[0],R(ce,Be,1,tt,ge),tt;var et,it=-1,ot=tt-1,Wt=0,_t=1,hr=1,Ot=1<<fe;for(Te=0,ve=1,Ee=2;ve<=fe;++ve,Ee<<=1){if(_t+=hr<<=1,0>(hr-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve])(ge=new F).g=ve,ge.value=We[Te++],R(ce,Be+Wt,Ee,Ot,ge),Wt=L(Wt,ve)}for(ve=fe+1,Ee=2;15>=ve;++ve,Ee<<=1){if(_t+=hr<<=1,0>(hr-=$e[ve]))return 0;for(;0<$e[ve];--$e[ve]){if(ge=new F,(Wt&ot)!=it){for(Be+=Ot,et=1<<(it=ve)-fe;15>it&&!(0>=(et-=$e[it]));)++it,et<<=1;tt+=Ot=1<<(et=it-fe),ce[ue+(it=Wt&ot)].g=et+fe,ce[ue+it].value=Be-ue-it}ge.g=ve-fe,ge.value=We[Te++],R(ce,Be+(Wt>>fe),Ee,Ot,ge),Wt=L(Wt,ve)}}return _t!=2*Ze[15]-1?0:tt})(_,M,$,G,re,oe)}function F(){this.value=this.g=0}function V(){this.value=this.g=0}function X(){this.G=s(5,F),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(to,V)}function te(_,M,$,G){t(_!=null),t(M!=null),t(2147483648>G),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=M,_.pa=$,_.Jd=M,_.Yc=$+G,_.Zc=4<=G?$+G-4+1:$,pe(_)}function q(_,M){for(var $=0;0<M--;)$|=we(_,128)<<M;return $}function U(_,M){var $=q(_,M);return de(_)?-$:$}function Q(_,M,$,G){var re,oe=0;for(t(_!=null),t(M!=null),t(4294967288>G),_.Sb=G,_.Ra=0,_.u=0,_.h=0,4<G&&(G=4),re=0;re<G;++re)oe+=M[$+re]<<8*re;_.Ra=oe,_.bb=G,_.oa=M,_.pa=$}function se(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<Xc-8>>>0,++_.bb,_.u-=8;Y(_)&&(_.h=1,_.u=0)}function K(_,M){if(t(0<=M),!_.h&&M<=Is){var $=J(_)&Os[M];return _.u+=M,se(_),$}return _.h=1,_.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(_){return _.Ra>>>(_.u&Xc-1)>>>0}function Y(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>Xc}function ee(_,M){_.u=M,_.h=Y(_)}function ae(_){_.u>=wl&&(t(_.u>=wl),se(_))}function pe(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function de(_){return q(_,1)}function we(_,M){var $=_.Ca;0>_.b&&pe(_);var G=_.b,re=$*M>>>8,oe=(_.I>>>G>re)+0;for(oe?($-=re,_.I-=re+1<<G>>>0):$=re+1,G=$,re=0;256<=G;)re+=8,G>>=8;return G=7^re+cc[G],_.b-=G,_.Ca=($<<G)-1,oe}function Ae(_,M,$){_[M+0]=$>>24&255,_[M+1]=$>>16&255,_[M+2]=$>>8&255,_[M+3]=255&$}function Se(_,M){return _[M+0]|_[M+1]<<8}function Ge(_,M){return Se(_,M)|_[M+2]<<16}function ke(_,M){return Se(_,M)|Se(_,M+2)<<16}function Z(_,M){var $=1<<M;return t(_!=null),t(0<M),_.X=i($),_.X==null?0:(_.Mb=32-M,_.Xa=M,1)}function Qe(_,M){t(_!=null),t(M!=null),t(_.Xa==M.Xa),n(M.X,0,_.X,0,1<<M.Xa)}function Ne(){this.X=[],this.Xa=this.Mb=0}function ze(_,M,$,G){t($!=null),t(G!=null);var re=$[0],oe=G[0];return re==0&&(re=(_*oe+M/2)/M),oe==0&&(oe=(M*re+_/2)/_),0>=re||0>=oe?0:($[0]=re,G[0]=oe,1)}function De(_,M){return _+(1<<M)-1>>>M}function me(_,M){return((4278255360&_)+(4278255360&M)>>>0&4278255360)+((16711935&_)+(16711935&M)>>>0&16711935)>>>0}function _e(_,M){O[M]=function($,G,re,oe,ce,ue,fe){var ge;for(ge=0;ge<ce;++ge){var Ee=O[_](ue[fe+ge-1],re,oe+ge);ue[fe+ge]=me($[G+ge],Ee)}}}function Ve(){this.ud=this.hd=this.jd=0}function Xe(_,M){return((4278124286&(_^M))>>>1)+(_&M)>>>0}function Re(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function st(_,M){return Re(_+(_-M+.5>>1))}function pt(_,M,$){return Math.abs(M-$)-Math.abs(_-$)}function Fe(_,M,$,G,re,oe,ce){for(G=oe[ce-1],$=0;$<re;++$)oe[ce+$]=G=me(_[M+$],G)}function at(_,M,$,G,re){var oe;for(oe=0;oe<$;++oe){var ce=_[M+oe],ue=ce>>8&255,fe=16711935&(fe=(fe=16711935&ce)+((ue<<16)+ue));G[re+oe]=(4278255360&ce)+fe>>>0}}function ct(_,M){M.jd=255&_,M.hd=_>>8&255,M.ud=_>>16&255}function wt(_,M,$,G,re,oe){var ce;for(ce=0;ce<G;++ce){var ue=M[$+ce],fe=ue>>>8,ge=ue,Ee=255&(Ee=(Ee=ue>>>16)+((_.jd<<24>>24)*(fe<<24>>24)>>>5));ge=255&(ge=(ge+=(_.hd<<24>>24)*(fe<<24>>24)>>>5)+((_.ud<<24>>24)*(Ee<<24>>24)>>>5)),re[oe+ce]=(4278255360&ue)+(Ee<<16)+ge}}function Nt(_,M,$,G,re){O[M]=function(oe,ce,ue,fe,ge,Ee,We,ve,Te){for(fe=We;fe<ve;++fe)for(We=0;We<Te;++We)ge[Ee++]=re(ue[G(oe[ce++])])},O[_]=function(oe,ce,ue,fe,ge,Ee,We){var ve=8>>oe.b,Te=oe.Ea,Be=oe.K[0],tt=oe.w;if(8>ve)for(oe=(1<<oe.b)-1,tt=(1<<ve)-1;ce<ue;++ce){var $e,Ze=0;for($e=0;$e<Te;++$e)$e&oe||(Ze=G(fe[ge++])),Ee[We++]=re(Be[Ze&tt]),Ze>>=ve}else O["VP8LMapColor"+$](fe,ge,Be,tt,Ee,We,ce,ue,Te)}}function _r(_,M,$,G,re){for($=M+$;M<$;){var oe=_[M++];G[re++]=oe>>16&255,G[re++]=oe>>8&255,G[re++]=255&oe}}function lr(_,M,$,G,re){for($=M+$;M<$;){var oe=_[M++];G[re++]=oe>>16&255,G[re++]=oe>>8&255,G[re++]=255&oe,G[re++]=oe>>24&255}}function jt(_,M,$,G,re){for($=M+$;M<$;){var oe=(ce=_[M++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;G[re++]=oe,G[re++]=ce}}function nr(_,M,$,G,re){for($=M+$;M<$;){var oe=(ce=_[M++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;G[re++]=oe,G[re++]=ce}}function Kr(_,M,$,G,re){for($=M+$;M<$;){var oe=_[M++];G[re++]=255&oe,G[re++]=oe>>8&255,G[re++]=oe>>16&255}}function Jt(_,M,$,G,re,oe){if(oe==0)for($=M+$;M<$;)Ae(G,((oe=_[M++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),re+=32;else n(G,re,_,M,$)}function wr(_,M){O[M][0]=O[_+"0"],O[M][1]=O[_+"1"],O[M][2]=O[_+"2"],O[M][3]=O[_+"3"],O[M][4]=O[_+"4"],O[M][5]=O[_+"5"],O[M][6]=O[_+"6"],O[M][7]=O[_+"7"],O[M][8]=O[_+"8"],O[M][9]=O[_+"9"],O[M][10]=O[_+"10"],O[M][11]=O[_+"11"],O[M][12]=O[_+"12"],O[M][13]=O[_+"13"],O[M][14]=O[_+"0"],O[M][15]=O[_+"0"]}function cr(_){return _==Bf||_==yd||_==hp||_==pp}function Pn(){this.eb=[],this.size=this.A=this.fb=0}function bn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pn,this.f.kb=new bn,this.sd=null}function ir(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Uc(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function Ya(_,M){var $=_.T,G=M.ba.f.RGBA,re=G.eb,oe=G.fb+_.ka*G.A,ce=ts[M.ba.S],ue=_.y,fe=_.O,ge=_.f,Ee=_.N,We=_.ea,ve=_.W,Te=M.cc,Be=M.dc,tt=M.Mc,$e=M.Nc,Ze=_.ka,et=_.ka+_.T,it=_.U,ot=it+1>>1;for(Ze==0?ce(ue,fe,null,null,ge,Ee,We,ve,ge,Ee,We,ve,re,oe,null,null,it):(ce(M.ec,M.fc,ue,fe,Te,Be,tt,$e,ge,Ee,We,ve,re,oe-G.A,re,oe,it),++$);Ze+2<et;Ze+=2)Te=ge,Be=Ee,tt=We,$e=ve,Ee+=_.Rc,ve+=_.Rc,oe+=2*G.A,ce(ue,(fe+=2*_.fa)-_.fa,ue,fe,Te,Be,tt,$e,ge,Ee,We,ve,re,oe-G.A,re,oe,it);return fe+=_.fa,_.j+et<_.o?(n(M.ec,M.fc,ue,fe,it),n(M.cc,M.dc,ge,Ee,ot),n(M.Mc,M.Nc,We,ve,ot),$--):1&et||ce(ue,fe,null,null,ge,Ee,We,ve,ge,Ee,We,ve,re,oe+G.A,null,null,it),$}function hl(_,M,$){var G=_.F,re=[_.J];if(G!=null){var oe=_.U,ce=M.ba.S,ue=ce==fp||ce==hp;M=M.ba.f.RGBA;var fe=[0],ge=_.ka;fe[0]=_.T,_.Kb&&(ge==0?--fe[0]:(--ge,re[0]-=_.width),_.j+_.ka+_.T==_.o&&(fe[0]=_.o-_.j-ge));var Ee=M.eb;ge=M.fb+ge*M.A,_=up(G,re[0],_.width,oe,fe,Ee,ge+(ue?0:3),M.A),t($==fe),_&&cr(ce)&&xd(Ee,ge,ue,oe,fe,M.A)}return 0}function Vs(_){var M=_.ma,$=M.ba.S,G=11>$,re=$==eu||$==dp||$==fp||$==nn||$==12||cr($);if(M.memory=null,M.Ib=null,M.Jb=null,M.Nd=null,!Tf(M.Oa,_,re?11:12))return 0;if(re&&cr($)&&tg(),_.da)alert("todo:use_scaling");else{if(G){if(M.Ib=Uc,_.Kb){if($=_.U+1>>1,M.memory=i(_.U+2*$),M.memory==null)return 0;M.ec=M.memory,M.fc=0,M.cc=M.ec,M.dc=M.fc+_.U,M.Mc=M.cc,M.Nc=M.dc+$,M.Ib=Ya,tg()}}else alert("todo:EmitYUV");re&&(M.Jb=hl,G&&eo())}if(G&&!Ja){for(_=0;256>_;++_)rs[_]=89858*(_-128)+Mo>>hc,ns[_]=-22014*(_-128)+Mo,$f[_]=-45773*(_-128),Sd[_]=113618*(_-128)+Mo>>hc;for(_=Xr;_<Qr;++_)M=76283*(_-16)+Mo>>hc,cg[_-Xr]=Bn(M,255),Z1[_-Xr]=Bn(M+8>>4,15);Ja=1}return 1}function Zt(_){var M=_.ma,$=_.U,G=_.T;return t(!(1&_.ka)),0>=$||0>=G?0:($=M.Ib(_,M),M.Jb!=null&&M.Jb(_,M,$),M.Dc+=$,1)}function Es(_){_.ma.memory=null}function Co(_,M,$,G){return K(_,8)!=47?0:(M[0]=K(_,14)+1,$[0]=K(_,14)+1,G[0]=K(_,1),K(_,3)!=0?0:!_.h)}function pi(_,M){if(4>_)return _+1;var $=_-2>>1;return(2+(1&_)<<$)+K(M,$)+1}function Hs(_,M){return 120<M?M-120:1<=($=(($=V3[M-1])>>4)*_+(8-(15&$)))?$:1;var $}function cn(_,M,$){var G=J($),re=_[M+=255&G].g-8;return 0<re&&(ee($,$.u+8),G=J($),M+=_[M].value,M+=G&(1<<re)-1),ee($,$.u+_[M].g),_[M].value}function Zn(_,M,$){return $.g+=_.g,$.value+=_.value<<M>>>0,t(8>=$.g),_.g}function ha(_,M,$){var G=_.xc;return t((M=G==0?0:_.vc[_.md*($>>G)+(M>>G)])<_.Wb),_.Ya[M]}function rc(_,M,$,G){var re=_.ab,oe=_.c*M,ce=_.C;M=ce+M;var ue=$,fe=G;for(G=_.Ta,$=_.Ua;0<re--;){var ge=_.gc[re],Ee=ce,We=M,ve=ue,Te=fe,Be=(fe=G,ue=$,ge.Ea);switch(t(Ee<We),t(We<=ge.nc),ge.hc){case 2:ta(ve,Te,(We-Ee)*Be,fe,ue);break;case 0:var tt=Ee,$e=We,Ze=fe,et=ue,it=(Ot=ge).Ea;tt==0&&(uc(ve,Te,null,null,1,Ze,et),Fe(ve,Te+1,0,0,it-1,Ze,et+1),Te+=it,et+=it,++tt);for(var ot=1<<Ot.b,Wt=ot-1,_t=De(it,Ot.b),hr=Ot.K,Ot=Ot.w+(tt>>Ot.b)*_t;tt<$e;){var Sr=hr,Un=Ot,gr=1;for(Nl(ve,Te,Ze,et-it,1,Ze,et);gr<it;){var Et=(gr&~Wt)+ot;Et>it&&(Et=it),(0,pd[Sr[Un++]>>8&15])(ve,Te+ +gr,Ze,et+gr-it,Et-gr,Ze,et+gr),gr=Et}Te+=it,et+=it,++tt&Wt||(Ot+=_t)}We!=ge.nc&&n(fe,ue-Be,fe,ue+(We-Ee-1)*Be,Be);break;case 1:for(Be=ve,$e=Te,it=(ve=ge.Ea)-(et=ve&~(Ze=(Te=1<<ge.b)-1)),tt=De(ve,ge.b),ot=ge.K,ge=ge.w+(Ee>>ge.b)*tt;Ee<We;){for(Wt=ot,_t=ge,hr=new Ve,Ot=$e+et,Sr=$e+ve;$e<Ot;)ct(Wt[_t++],hr),If(hr,Be,$e,Te,fe,ue),$e+=Te,ue+=Te;$e<Sr&&(ct(Wt[_t++],hr),If(hr,Be,$e,it,fe,ue),$e+=it,ue+=it),++Ee&Ze||(ge+=tt)}break;case 3:if(ve==fe&&Te==ue&&0<ge.b){for($e=fe,ve=Be=ue+(We-Ee)*Be-(et=(We-Ee)*De(ge.Ea,ge.b)),Te=fe,Ze=ue,tt=[],et=(it=et)-1;0<=et;--et)tt[et]=Te[Ze+et];for(et=it-1;0<=et;--et)$e[ve+et]=tt[et];fd(ge,Ee,We,fe,Be,fe,ue)}else fd(ge,Ee,We,ve,Te,fe,ue)}ue=G,fe=$}fe!=$&&n(G,$,ue,fe,oe)}function $c(_,M){var $=_.V,G=_.Ba+_.c*_.C,re=M-_.C;if(t(M<=_.l.o),t(16>=re),0<re){var oe=_.l,ce=_.Ta,ue=_.Ua,fe=oe.width;if(rc(_,re,$,G),re=ue=[ue],t(($=_.C)<(G=M)),t(oe.v<oe.va),G>oe.o&&(G=oe.o),$<oe.j){var ge=oe.j-$;$=oe.j,re[0]+=ge*fe}if($>=G?$=0:(re[0]+=4*oe.v,oe.ka=$-oe.j,oe.U=oe.va-oe.v,oe.T=G-$,$=1),$){if(ue=ue[0],11>($=_.ca).S){var Ee=$.f.RGBA,We=(G=$.S,re=oe.U,oe=oe.T,ge=Ee.eb,Ee.A),ve=oe;for(Ee=Ee.fb+_.Ma*Ee.A;0<ve--;){var Te=ce,Be=ue,tt=re,$e=ge,Ze=Ee;switch(G){case ig:Mf(Te,Be,tt,$e,Ze);break;case eu:dc(Te,Be,tt,$e,Ze);break;case Bf:dc(Te,Be,tt,$e,Ze),xd($e,Ze,0,tt,1,0);break;case G1:md(Te,Be,tt,$e,Ze);break;case dp:Jt(Te,Be,tt,$e,Ze,1);break;case yd:Jt(Te,Be,tt,$e,Ze,1),xd($e,Ze,0,tt,1,0);break;case fp:Jt(Te,Be,tt,$e,Ze,0);break;case hp:Jt(Te,Be,tt,$e,Ze,0),xd($e,Ze,1,tt,1,0);break;case nn:Jc(Te,Be,tt,$e,Ze);break;case pp:Jc(Te,Be,tt,$e,Ze),Sv($e,Ze,tt,1,0);break;case sg:Zc(Te,Be,tt,$e,Ze);break;default:t(0)}ue+=fe,Ee+=We}_.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=$.height)}}_.C=M,t(_.C<=_.i)}function _o(_){var M;if(0<_.ua)return 0;for(M=0;M<_.Wb;++M){var $=_.Ya[M].G,G=_.Ya[M].H;if(0<$[1][G[1]+0].g||0<$[2][G[2]+0].g||0<$[3][G[3]+0].g)return 0}return 1}function pl(_,M,$,G,re,oe){if(_.Z!=0){var ce=_.qd,ue=_.rd;for(t(xi[_.Z]!=null);M<$;++M)xi[_.Z](ce,ue,G,re,G,re,oe),ce=G,ue=re,re+=oe;_.qd=ce,_.rd=ue}}function Ka(_,M){var $=_.l.ma,G=$.Z==0||$.Z==1?_.l.j:_.C;if(G=_.C<G?G:_.C,t(M<=_.l.o),M>G){var re=_.l.width,oe=$.ca,ce=$.tb+re*G,ue=_.V,fe=_.Ba+_.c*G,ge=_.gc;t(_.ab==1),t(ge[0].hc==3),Oo(ge[0],G,M,ue,fe,oe,ce),pl($,G,M,oe,ce,re)}_.C=_.Ma=M}function Gs(_,M,$,G,re,oe,ce){var ue=_.$/G,fe=_.$%G,ge=_.m,Ee=_.s,We=$+_.$,ve=We;re=$+G*re;var Te=$+G*oe,Be=280+Ee.ua,tt=_.Pb?ue:16777216,$e=0<Ee.ua?Ee.Wa:null,Ze=Ee.wc,et=We<Te?ha(Ee,fe,ue):null;t(_.C<oe),t(Te<=re);var it=!1;e:for(;;){for(;it||We<Te;){var ot=0;if(ue>=tt){var Wt=We-$;t((tt=_).Pb),tt.wd=tt.m,tt.xd=Wt,0<tt.s.ua&&Qe(tt.s.Wa,tt.s.vb),tt=ue+lg}if(fe&Ze||(et=ha(Ee,fe,ue)),t(et!=null),et.Qb&&(M[We]=et.qb,it=!0),!it)if(ae(ge),et.jc){ot=ge,Wt=M;var _t=We,hr=et.pd[J(ot)&to-1];t(et.jc),256>hr.g?(ee(ot,ot.u+hr.g),Wt[_t]=hr.value,ot=0):(ee(ot,ot.u+hr.g-256),t(256<=hr.value),ot=hr.value),ot==0&&(it=!0)}else ot=cn(et.G[0],et.H[0],ge);if(ge.h)break;if(it||256>ot){if(!it)if(et.nd)M[We]=(et.qb|ot<<8)>>>0;else{if(ae(ge),it=cn(et.G[1],et.H[1],ge),ae(ge),Wt=cn(et.G[2],et.H[2],ge),_t=cn(et.G[3],et.H[3],ge),ge.h)break;M[We]=(_t<<24|it<<16|ot<<8|Wt)>>>0}if(it=!1,++We,++fe>=G&&(fe=0,++ue,ce!=null&&ue<=oe&&!(ue%16)&&ce(_,ue),$e!=null))for(;ve<We;)ot=M[ve++],$e.X[(506832829*ot&4294967295)>>>$e.Mb]=ot}else if(280>ot){if(ot=pi(ot-256,ge),Wt=cn(et.G[4],et.H[4],ge),ae(ge),Wt=Hs(G,Wt=pi(Wt,ge)),ge.h)break;if(We-$<Wt||re-We<ot)break e;for(_t=0;_t<ot;++_t)M[We+_t]=M[We+_t-Wt];for(We+=ot,fe+=ot;fe>=G;)fe-=G,++ue,ce!=null&&ue<=oe&&!(ue%16)&&ce(_,ue);if(t(We<=re),fe&Ze&&(et=ha(Ee,fe,ue)),$e!=null)for(;ve<We;)ot=M[ve++],$e.X[(506832829*ot&4294967295)>>>$e.Mb]=ot}else{if(!(ot<Be))break e;for(it=ot-280,t($e!=null);ve<We;)ot=M[ve++],$e.X[(506832829*ot&4294967295)>>>$e.Mb]=ot;ot=We,t(!(it>>>(Wt=$e).Xa)),M[ot]=Wt.X[it],it=!0}it||t(ge.h==Y(ge))}if(_.Pb&&ge.h&&We<re)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&Qe(_.s.vb,_.s.Wa);else{if(ge.h)break e;ce?.(_,ue>oe?oe:ue),_.a=0,_.$=We-$}return 1}return _.a=3,0}function Ps(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var M=_.Wa;M!=null&&(M.X=null),_.vb=null,t(_!=null)}function Yu(){var _=new zt;return _==null?null:(_.a=0,_.xb=Wf,wr("Predictor","VP8LPredictors"),wr("Predictor","VP8LPredictors_C"),wr("PredictorAdd","VP8LPredictorsAdd"),wr("PredictorAdd","VP8LPredictorsAdd_C"),ta=at,If=wt,Mf=_r,dc=lr,Jc=jt,Zc=nr,md=Kr,O.VP8LMapColor32b=Sl,O.VP8LMapColor8b=hd,_)}function Eo(_,M,$,G,re){var oe=1,ce=[_],ue=[M],fe=G.m,ge=G.s,Ee=null,We=0;e:for(;;){if($)for(;oe&&K(fe,1);){var ve=ce,Te=ue,Be=G,tt=1,$e=Be.m,Ze=Be.gc[Be.ab],et=K($e,2);if(Be.Oc&1<<et)oe=0;else{switch(Be.Oc|=1<<et,Ze.hc=et,Ze.Ea=ve[0],Ze.nc=Te[0],Ze.K=[null],++Be.ab,t(4>=Be.ab),et){case 0:case 1:Ze.b=K($e,3)+2,tt=Eo(De(Ze.Ea,Ze.b),De(Ze.nc,Ze.b),0,Be,Ze.K),Ze.K=Ze.K[0];break;case 3:var it,ot=K($e,8)+1,Wt=16<ot?0:4<ot?1:2<ot?2:3;if(ve[0]=De(Ze.Ea,Wt),Ze.b=Wt,it=tt=Eo(ot,1,0,Be,Ze.K)){var _t,hr=ot,Ot=Ze,Sr=1<<(8>>Ot.b),Un=i(Sr);if(Un==null)it=0;else{var gr=Ot.K[0],Et=Ot.w;for(Un[0]=Ot.K[0][0],_t=1;_t<1*hr;++_t)Un[_t]=me(gr[Et+_t],Un[_t-1]);for(;_t<4*Sr;++_t)Un[_t]=0;Ot.K[0]=null,Ot.K[0]=Un,it=1}}tt=it;break;case 2:break;default:t(0)}oe=tt}}if(ce=ce[0],ue=ue[0],oe&&K(fe,1)&&!(oe=1<=(We=K(fe,4))&&11>=We)){G.a=3;break e}var bt;if(bt=oe)t:{var ra,ar,Nr,dn=G,Ba=ce,va=ue,An=We,Ea=$,za=dn.m,wn=dn.s,Er=[null],Wr=1,Nn=0,Ur=K1[An];r:for(;;){if(Ea&&K(za,1)){var $n=K(za,3)+2,qn=De(Ba,$n),an=De(va,$n),yi=qn*an;if(!Eo(qn,an,0,dn,Er))break r;for(Er=Er[0],wn.xc=$n,ra=0;ra<yi;++ra){var en=Er[ra]>>8&65535;Er[ra]=en,en>=Wr&&(Wr=en+1)}}if(za.h)break r;for(ar=0;5>ar;++ar){var sn=bd[ar];!ar&&0<An&&(sn+=1<<An),Nn<sn&&(Nn=sn)}var xa=s(Wr*Ur,F),Za=Wr,as=s(Za,X);if(as==null)var na=null;else t(65536>=Za),na=as;var aa=i(Nn);if(na==null||aa==null||xa==null){dn.a=1;break r}var bi=xa;for(ra=Nr=0;ra<Wr;++ra){var on=na[ra],wi=on.G,ao=on.H,Ro=0,Wa=1,ia=0;for(ar=0;5>ar;++ar){sn=bd[ar],wi[ar]=bi,ao[ar]=Nr,!ar&&0<An&&(sn+=1<<An);a:{var nu,mc=sn,qf=dn,_l=aa,e2=bi,Mv=Nr,gn=0,Lo=qf.m,Rv=K(Lo,1);if(a(_l,0,0,mc),Rv){var Lv=K(Lo,1)+1,ug=K(Lo,1),dg=K(Lo,ug==0?1:8);_l[dg]=1,Lv==2&&(_l[dg=K(Lo,8)]=1);var El=1}else{var Sn=i(19),ya=K(Lo,4)+4;if(19<ya){qf.a=3;var sa=0;break a}for(nu=0;nu<ya;++nu)Sn[q3[nu]]=K(Lo,3);var Vf=void 0,gc=void 0,Hf=qf,X3=Sn,Pa=mc,fg=_l,yp=0,Pl=Hf.m,Fo=8,Ms=s(128,F);n:for(;P(Ms,0,7,X3,19);){if(K(Pl,1)){var bp=2+2*K(Pl,3);if((Vf=2+K(Pl,bp))>Pa)break n}else Vf=Pa;for(gc=0;gc<Pa&&Vf--;){ae(Pl);var hg=Ms[0+(127&J(Pl))];ee(Pl,Pl.u+hg.g);var au=hg.value;if(16>au)fg[gc++]=au,au!=0&&(Fo=au);else{var t2=au==16,Fv=au-16,r2=og[Fv],Bv=K(Pl,mp[Fv])+r2;if(gc+Bv>Pa)break n;for(var n2=t2?Fo:0;0<Bv--;)fg[gc++]=n2}}yp=1;break n}yp||(Hf.a=3),El=yp}(El=El&&!Lo.h)&&(gn=P(e2,Mv,8,_l,mc)),El&&gn!=0?sa=gn:(qf.a=3,sa=0)}if(sa==0)break r;if(Wa&&Y1[ar]==1&&(Wa=bi[Nr].g==0),Ro+=bi[Nr].g,Nr+=sa,3>=ar){var Gf,pg=aa[0];for(Gf=1;Gf<sn;++Gf)aa[Gf]>pg&&(pg=aa[Gf]);ia+=pg}}if(on.nd=Wa,on.Qb=0,Wa&&(on.qb=(wi[3][ao[3]+0].value<<24|wi[1][ao[1]+0].value<<16|wi[2][ao[2]+0].value)>>>0,Ro==0&&256>wi[0][ao[0]+0].value&&(on.Qb=1,on.qb+=wi[0][ao[0]+0].value<<8)),on.jc=!on.Qb&&6>ia,on.jc){var wp,Rs=on;for(wp=0;wp<to;++wp){var vc=wp,Bo=Rs.pd[vc],Cd=Rs.G[0][Rs.H[0]+vc];256<=Cd.value?(Bo.g=Cd.g+256,Bo.value=Cd.value):(Bo.g=0,Bo.value=0,vc>>=Zn(Cd,8,Bo),vc>>=Zn(Rs.G[1][Rs.H[1]+vc],16,Bo),vc>>=Zn(Rs.G[2][Rs.H[2]+vc],0,Bo),Zn(Rs.G[3][Rs.H[3]+vc],24,Bo))}}}wn.vc=Er,wn.Wb=Wr,wn.Ya=na,wn.yc=xa,bt=1;break t}bt=0}if(!(oe=bt)){G.a=3;break e}if(0<We){if(ge.ua=1<<We,!Z(ge.Wa,We)){G.a=1,oe=0;break e}}else ge.ua=0;var mg=G,gg=ce,a2=ue,vg=mg.s,xg=vg.xc;if(mg.c=gg,mg.i=a2,vg.md=De(gg,xg),vg.wc=xg==0?-1:(1<<xg)-1,$){G.xb=Cl;break e}if((Ee=i(ce*ue))==null){G.a=1,oe=0;break e}oe=(oe=Gs(G,Ee,0,ce,ue,ue,null))&&!fe.h;break e}return oe?(re!=null?re[0]=Ee:(t(Ee==null),t($)),G.$=0,$||Ps(ge)):Ps(ge),oe}function qc(_,M){var $=_.c*_.i,G=$+M+16*M;return t(_.c<=M),_.V=i(G),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+$+M,1)}function Ku(_,M){var $=_.C,G=M-$,re=_.V,oe=_.Ba+_.c*$;for(t(M<=_.l.o);0<G;){var ce=16<G?16:G,ue=_.l.ma,fe=_.l.width,ge=fe*ce,Ee=ue.ca,We=ue.tb+fe*$,ve=_.Ta,Te=_.Ua;rc(_,ce,re,oe),jv(ve,Te,Ee,We,ge),pl(ue,$,$+ce,Ee,We,fe),G-=ce,re+=ce*_.c,$+=ce}t($==M),_.C=_.Ma=M}function Xu(){this.ub=this.yd=this.td=this.Rb=0}function Sf(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yv(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function mn(){this.Yb=(function(){var _=[];return(function M($,G,re){for(var oe=re[G],ce=0;ce<oe&&($.push(re.length>G+1?[]:0),!(re.length<G+1));ce++)M($[ce],G+1,re)})(_,0,[3,11]),_})()}function Hm(){this.jb=i(3),this.Wc=o([4,8],mn),this.Xc=o([4,17],mn)}function jf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function ks(){this.ld=this.La=this.dd=this.tc=0}function Vc(){this.Na=this.la=0}function Gm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cf(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ju(){this.uc=this.M=this.Nb=0,this.wa=Array(new ks),this.Y=0,this.ya=Array(new Cf),this.aa=0,this.l=new mi}function As(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ym(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Xu,this.Kc=new Sf,this.ed=new jf,this.Qa=new yv,this.Ic=this.$c=this.Aa=0,this.D=new Ju,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,T),this.ia=0,this.pb=s(4,Gm),this.Pa=new Hm,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new As),this.Hd=0,this.rb=Array(new Vc),this.sb=0,this.wa=Array(new ks),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cf),this.L=this.aa=0,this.gd=o([4,2],ks),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function mi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function bv(){var _=new Ym;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,wd||(wd=Ys)),_}function pa(_,M,$){return _.a==0&&(_.a=M,_.sc=$,_.cb=0),0}function Km(_,M,$){return 3<=$&&_[M+0]==157&&_[M+1]==1&&_[M+2]==42}function Zu(_,M){if(_==null)return 0;if(_.a=0,_.sc="OK",M==null)return pa(_,2,"null VP8Io passed to VP8GetHeaders()");var $=M.data,G=M.w,re=M.ha;if(4>re)return pa(_,7,"Truncated header.");var oe=$[G+0]|$[G+1]<<8|$[G+2]<<16,ce=_.Od;if(ce.Rb=!(1&oe),ce.td=oe>>1&7,ce.yd=oe>>4&1,ce.ub=oe>>5,3<ce.td)return pa(_,3,"Incorrect keyframe parameters.");if(!ce.yd)return pa(_,4,"Frame not displayable.");G+=3,re-=3;var ue=_.Kc;if(ce.Rb){if(7>re)return pa(_,7,"cannot parse picture header");if(!Km($,G,re))return pa(_,3,"Bad code word");ue.c=16383&($[G+4]<<8|$[G+3]),ue.Td=$[G+4]>>6,ue.i=16383&($[G+6]<<8|$[G+5]),ue.Ud=$[G+6]>>6,G+=7,re-=7,_.za=ue.c+15>>4,_.Ub=ue.i+15>>4,M.width=ue.c,M.height=ue.i,M.Da=0,M.j=0,M.v=0,M.va=M.width,M.o=M.height,M.da=0,M.ib=M.width,M.hb=M.height,M.U=M.width,M.T=M.height,a((oe=_.Pa).jb,0,255,oe.jb.length),t((oe=_.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(ce.ub>re)return pa(_,7,"bad partition length");te(oe=_.m,$,G,ce.ub),G+=ce.ub,re-=ce.ub,ce.Rb&&(ue.Ld=de(oe),ue.Kd=de(oe)),ue=_.Qa;var fe,ge=_.Pa;if(t(oe!=null),t(ue!=null),ue.Cb=de(oe),ue.Cb){if(ue.Bb=de(oe),de(oe)){for(ue.Fb=de(oe),fe=0;4>fe;++fe)ue.Zb[fe]=de(oe)?U(oe,7):0;for(fe=0;4>fe;++fe)ue.Lb[fe]=de(oe)?U(oe,6):0}if(ue.Bb)for(fe=0;3>fe;++fe)ge.jb[fe]=de(oe)?q(oe,8):255}else ue.Bb=0;if(oe.Ka)return pa(_,3,"cannot parse segment header");if((ue=_.ed).zd=de(oe),ue.Tb=q(oe,6),ue.wb=q(oe,3),ue.Pc=de(oe),ue.Pc&&de(oe)){for(ge=0;4>ge;++ge)de(oe)&&(ue.vd[ge]=U(oe,6));for(ge=0;4>ge;++ge)de(oe)&&(ue.od[ge]=U(oe,6))}if(_.L=ue.Tb==0?0:ue.zd?1:2,oe.Ka)return pa(_,3,"cannot parse filter header");var Ee=re;if(re=fe=G,G=fe+Ee,ue=Ee,_.Xb=(1<<q(_.m,2))-1,Ee<3*(ge=_.Xb))$=7;else{for(fe+=3*ge,ue-=3*ge,Ee=0;Ee<ge;++Ee){var We=$[re+0]|$[re+1]<<8|$[re+2]<<16;We>ue&&(We=ue),te(_.Jc[+Ee],$,fe,We),fe+=We,ue-=We,re+=3}te(_.Jc[+ge],$,fe,ue),$=fe<G?0:5}if($!=0)return pa(_,$,"cannot parse partitions");for($=q(fe=_.m,7),re=de(fe)?U(fe,4):0,G=de(fe)?U(fe,4):0,ue=de(fe)?U(fe,4):0,ge=de(fe)?U(fe,4):0,fe=de(fe)?U(fe,4):0,Ee=_.Qa,We=0;4>We;++We){if(Ee.Cb){var ve=Ee.Zb[We];Ee.Fb||(ve+=$)}else{if(0<We){_.pb[We]=_.pb[0];continue}ve=$}var Te=_.pb[We];Te.Sc[0]=zf[Bn(ve+re,127)],Te.Sc[1]=gp[Bn(ve+0,127)],Te.Eb[0]=2*zf[Bn(ve+G,127)],Te.Eb[1]=101581*gp[Bn(ve+ue,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=zf[Bn(ve+ge,117)],Te.Qc[1]=gp[Bn(ve+fe,127)],Te.lc=ve+fe}if(!ce.Rb)return pa(_,4,"Not a key frame.");for(de(oe),ce=_.Pa,$=0;4>$;++$){for(re=0;8>re;++re)for(G=0;3>G;++G)for(ue=0;11>ue;++ue)ge=we(oe,G3[$][re][G][ue])?q(oe,8):J1[$][re][G][ue],ce.Wc[$][re].Yb[G][ue]=ge;for(re=0;17>re;++re)ce.Xc[$][re]=ce.Wc[$][Tv[re]]}return _.kc=de(oe),_.kc&&(_.Bd=q(oe,8)),_.cb=1}function Ys(_,M,$,G,re,oe,ce){var ue=M[re].Yb[$];for($=0;16>re;++re){if(!we(_,ue[$+0]))return re;for(;!we(_,ue[$+1]);)if(ue=M[++re].Yb[0],$=0,re==16)return 16;var fe=M[re+1].Yb;if(we(_,ue[$+2])){var ge=_,Ee=0;if(we(ge,(ve=ue)[(We=$)+3]))if(we(ge,ve[We+6])){for(ue=0,We=2*(Ee=we(ge,ve[We+8]))+(ve=we(ge,ve[We+9+Ee])),Ee=0,ve=Av[We];ve[ue];++ue)Ee+=Ee+we(ge,ve[ue]);Ee+=3+(8<<We)}else we(ge,ve[We+7])?(Ee=7+2*we(ge,165),Ee+=we(ge,145)):Ee=5+we(ge,159);else Ee=we(ge,ve[We+4])?3+we(ge,ve[We+5]):2;ue=fe[2]}else Ee=1,ue=fe[1];fe=ce+Dv[re],0>(ge=_).b&&pe(ge);var We,ve=ge.b,Te=(We=ge.Ca>>1)-(ge.I>>ve)>>31;--ge.b,ge.Ca+=Te,ge.Ca|=1,ge.I-=(We+1&Te)<<ve,oe[fe]=((Ee^Te)-Te)*G[(0<re)+0]}return 16}function Po(_){var M=_.rb[_.sb-1];M.la=0,M.Na=0,a(_.zc,0,0,_.zc.length),_.ja=0}function Xi(_,M,$,G,re){re=_[M+$+32*G]+(re>>3),_[M+$+32*G]=-256&re?0>re?0:255:re}function Qu(_,M,$,G,re,oe){Xi(_,M,0,$,G+re),Xi(_,M,1,$,G+oe),Xi(_,M,2,$,G-oe),Xi(_,M,3,$,G-re)}function Qn(_){return(20091*_>>16)+_}function ed(_,M,$,G){var re,oe=0,ce=i(16);for(re=0;4>re;++re){var ue=_[M+0]+_[M+8],fe=_[M+0]-_[M+8],ge=(35468*_[M+4]>>16)-Qn(_[M+12]),Ee=Qn(_[M+4])+(35468*_[M+12]>>16);ce[oe+0]=ue+Ee,ce[oe+1]=fe+ge,ce[oe+2]=fe-ge,ce[oe+3]=ue-Ee,oe+=4,M++}for(re=oe=0;4>re;++re)ue=(_=ce[oe+0]+4)+ce[oe+8],fe=_-ce[oe+8],ge=(35468*ce[oe+4]>>16)-Qn(ce[oe+12]),Xi($,G,0,0,ue+(Ee=Qn(ce[oe+4])+(35468*ce[oe+12]>>16))),Xi($,G,1,0,fe+ge),Xi($,G,2,0,fe-ge),Xi($,G,3,0,ue-Ee),oe++,G+=32}function Xm(_,M,$,G){var re=_[M+0]+4,oe=35468*_[M+4]>>16,ce=Qn(_[M+4]),ue=35468*_[M+1]>>16;Qu($,G,0,re+ce,_=Qn(_[M+1]),ue),Qu($,G,1,re+oe,_,ue),Qu($,G,2,re-oe,_,ue),Qu($,G,3,re-ce,_,ue)}function Qh(_,M,$,G,re){ed(_,M,$,G),re&&ed(_,M+16,$,G+4)}function td(_,M,$,G){gd(_,M+0,$,G,1),gd(_,M+32,$,G+128,1)}function ml(_,M,$,G){var re;for(_=_[M+0]+4,re=0;4>re;++re)for(M=0;4>M;++M)Xi($,G,M,re,_)}function _f(_,M,$,G){_[M+0]&&zr(_,M+0,$,G),_[M+16]&&zr(_,M+16,$,G+4),_[M+32]&&zr(_,M+32,$,G+128),_[M+48]&&zr(_,M+48,$,G+128+4)}function Or(_,M,$,G){var re,oe=i(16);for(re=0;4>re;++re){var ce=_[M+0+re]+_[M+12+re],ue=_[M+4+re]+_[M+8+re],fe=_[M+4+re]-_[M+8+re],ge=_[M+0+re]-_[M+12+re];oe[0+re]=ce+ue,oe[8+re]=ce-ue,oe[4+re]=ge+fe,oe[12+re]=ge-fe}for(re=0;4>re;++re)ce=(_=oe[0+4*re]+3)+oe[3+4*re],ue=oe[1+4*re]+oe[2+4*re],fe=oe[1+4*re]-oe[2+4*re],ge=_-oe[3+4*re],$[G+0]=ce+ue>>3,$[G+16]=ge+fe>>3,$[G+32]=ce-ue>>3,$[G+48]=ge-fe>>3,G+=64}function nc(_,M,$){var G,re=M-32,oe=Oi,ce=255-_[re-1];for(G=0;G<$;++G){var ue,fe=oe,ge=ce+_[M-1];for(ue=0;ue<$;++ue)_[M+ue]=fe[ge+_[re+ue]];M+=32}}function Ef(_,M){nc(_,M,4)}function ep(_,M){nc(_,M,8)}function Jm(_,M){nc(_,M,16)}function Zm(_,M){var $;for($=0;16>$;++$)n(_,M+32*$,_,M-32,16)}function Pf(_,M){var $;for($=16;0<$;--$)a(_,M,_[M-1],16),M+=32}function ac(_,M,$){var G;for(G=0;16>G;++G)a(M,$+32*G,_,16)}function ko(_,M){var $,G=16;for($=0;16>$;++$)G+=_[M-1+32*$]+_[M+$-32];ac(G>>5,_,M)}function gl(_,M){var $,G=8;for($=0;16>$;++$)G+=_[M-1+32*$];ac(G>>4,_,M)}function Ji(_,M){var $,G=8;for($=0;16>$;++$)G+=_[M+$-32];ac(G>>4,_,M)}function Ks(_,M){ac(128,_,M)}function tr(_,M,$){return _+2*M+$+2>>2}function rd(_,M){var $,G=M-32;for(G=new Uint8Array([tr(_[G-1],_[G+0],_[G+1]),tr(_[G+0],_[G+1],_[G+2]),tr(_[G+1],_[G+2],_[G+3]),tr(_[G+2],_[G+3],_[G+4])]),$=0;4>$;++$)n(_,M+32*$,G,0,G.length)}function vl(_,M){var $=_[M-1],G=_[M-1+32],re=_[M-1+64],oe=_[M-1+96];Ae(_,M+0,16843009*tr(_[M-1-32],$,G)),Ae(_,M+32,16843009*tr($,G,re)),Ae(_,M+64,16843009*tr(G,re,oe)),Ae(_,M+96,16843009*tr(re,oe,oe))}function wv(_,M){var $,G=4;for($=0;4>$;++$)G+=_[M+$-32]+_[M-1+32*$];for(G>>=3,$=0;4>$;++$)a(_,M+32*$,G,4)}function Qm(_,M){var $=_[M-1+0],G=_[M-1+32],re=_[M-1+64],oe=_[M-1-32],ce=_[M+0-32],ue=_[M+1-32],fe=_[M+2-32],ge=_[M+3-32];_[M+0+96]=tr(G,re,_[M-1+96]),_[M+1+96]=_[M+0+64]=tr($,G,re),_[M+2+96]=_[M+1+64]=_[M+0+32]=tr(oe,$,G),_[M+3+96]=_[M+2+64]=_[M+1+32]=_[M+0+0]=tr(ce,oe,$),_[M+3+64]=_[M+2+32]=_[M+1+0]=tr(ue,ce,oe),_[M+3+32]=_[M+2+0]=tr(fe,ue,ce),_[M+3+0]=tr(ge,fe,ue)}function Ds(_,M){var $=_[M+1-32],G=_[M+2-32],re=_[M+3-32],oe=_[M+4-32],ce=_[M+5-32],ue=_[M+6-32],fe=_[M+7-32];_[M+0+0]=tr(_[M+0-32],$,G),_[M+1+0]=_[M+0+32]=tr($,G,re),_[M+2+0]=_[M+1+32]=_[M+0+64]=tr(G,re,oe),_[M+3+0]=_[M+2+32]=_[M+1+64]=_[M+0+96]=tr(re,oe,ce),_[M+3+32]=_[M+2+64]=_[M+1+96]=tr(oe,ce,ue),_[M+3+64]=_[M+2+96]=tr(ce,ue,fe),_[M+3+96]=tr(ue,fe,fe)}function ic(_,M){var $=_[M-1+0],G=_[M-1+32],re=_[M-1+64],oe=_[M-1-32],ce=_[M+0-32],ue=_[M+1-32],fe=_[M+2-32],ge=_[M+3-32];_[M+0+0]=_[M+1+64]=oe+ce+1>>1,_[M+1+0]=_[M+2+64]=ce+ue+1>>1,_[M+2+0]=_[M+3+64]=ue+fe+1>>1,_[M+3+0]=fe+ge+1>>1,_[M+0+96]=tr(re,G,$),_[M+0+64]=tr(G,$,oe),_[M+0+32]=_[M+1+96]=tr($,oe,ce),_[M+1+32]=_[M+2+96]=tr(oe,ce,ue),_[M+2+32]=_[M+3+96]=tr(ce,ue,fe),_[M+3+32]=tr(ue,fe,ge)}function eg(_,M){var $=_[M+0-32],G=_[M+1-32],re=_[M+2-32],oe=_[M+3-32],ce=_[M+4-32],ue=_[M+5-32],fe=_[M+6-32],ge=_[M+7-32];_[M+0+0]=$+G+1>>1,_[M+1+0]=_[M+0+64]=G+re+1>>1,_[M+2+0]=_[M+1+64]=re+oe+1>>1,_[M+3+0]=_[M+2+64]=oe+ce+1>>1,_[M+0+32]=tr($,G,re),_[M+1+32]=_[M+0+96]=tr(G,re,oe),_[M+2+32]=_[M+1+96]=tr(re,oe,ce),_[M+3+32]=_[M+2+96]=tr(oe,ce,ue),_[M+3+64]=tr(ce,ue,fe),_[M+3+96]=tr(ue,fe,ge)}function kf(_,M){var $=_[M-1+0],G=_[M-1+32],re=_[M-1+64],oe=_[M-1+96];_[M+0+0]=$+G+1>>1,_[M+2+0]=_[M+0+32]=G+re+1>>1,_[M+2+32]=_[M+0+64]=re+oe+1>>1,_[M+1+0]=tr($,G,re),_[M+3+0]=_[M+1+32]=tr(G,re,oe),_[M+3+32]=_[M+1+64]=tr(re,oe,oe),_[M+3+64]=_[M+2+64]=_[M+0+96]=_[M+1+96]=_[M+2+96]=_[M+3+96]=oe}function nd(_,M){var $=_[M-1+0],G=_[M-1+32],re=_[M-1+64],oe=_[M-1+96],ce=_[M-1-32],ue=_[M+0-32],fe=_[M+1-32],ge=_[M+2-32];_[M+0+0]=_[M+2+32]=$+ce+1>>1,_[M+0+32]=_[M+2+64]=G+$+1>>1,_[M+0+64]=_[M+2+96]=re+G+1>>1,_[M+0+96]=oe+re+1>>1,_[M+3+0]=tr(ue,fe,ge),_[M+2+0]=tr(ce,ue,fe),_[M+1+0]=_[M+3+32]=tr($,ce,ue),_[M+1+32]=_[M+3+64]=tr(G,$,ce),_[M+1+64]=_[M+3+96]=tr(re,G,$),_[M+1+96]=tr(oe,re,G)}function tp(_,M){var $;for($=0;8>$;++$)n(_,M+32*$,_,M-32,8)}function Ao(_,M){var $;for($=0;8>$;++$)a(_,M,_[M-1],8),M+=32}function xl(_,M,$){var G;for(G=0;8>G;++G)a(M,$+32*G,_,8)}function Do(_,M){var $,G=8;for($=0;8>$;++$)G+=_[M+$-32]+_[M-1+32*$];xl(G>>4,_,M)}function Af(_,M){var $,G=4;for($=0;8>$;++$)G+=_[M+$-32];xl(G>>3,_,M)}function rp(_,M){var $,G=4;for($=0;8>$;++$)G+=_[M-1+32*$];xl(G>>3,_,M)}function np(_,M){xl(128,_,M)}function sc(_,M,$){var G=_[M-$],re=_[M+0],oe=3*(re-G)+jl[1020+_[M-2*$]-_[M+$]],ce=Ff[112+(oe+4>>3)];_[M-$]=Oi[255+G+Ff[112+(oe+3>>3)]],_[M+0]=Oi[255+re-ce]}function yl(_,M,$,G){var re=_[M+0],oe=_[M+$];return ro[255+_[M-2*$]-_[M-$]]>G||ro[255+oe-re]>G}function ad(_,M,$,G){return 4*ro[255+_[M-$]-_[M+0]]+ro[255+_[M-2*$]-_[M+$]]<=G}function id(_,M,$,G,re){var oe=_[M-3*$],ce=_[M-2*$],ue=_[M-$],fe=_[M+0],ge=_[M+$],Ee=_[M+2*$],We=_[M+3*$];return 4*ro[255+ue-fe]+ro[255+ce-ge]>G?0:ro[255+_[M-4*$]-oe]<=re&&ro[255+oe-ce]<=re&&ro[255+ce-ue]<=re&&ro[255+We-Ee]<=re&&ro[255+Ee-ge]<=re&&ro[255+ge-fe]<=re}function Xs(_,M,$,G){var re=2*G+1;for(G=0;16>G;++G)ad(_,M+G,$,re)&&sc(_,M+G,$)}function oc(_,M,$,G){var re=2*G+1;for(G=0;16>G;++G)ad(_,M+G*$,1,re)&&sc(_,M+G*$,1)}function sd(_,M,$,G){var re;for(re=3;0<re;--re)Xs(_,M+=4*$,$,G)}function ap(_,M,$,G){var re;for(re=3;0<re;--re)oc(_,M+=4,$,G)}function Js(_,M,$,G,re,oe,ce,ue){for(oe=2*oe+1;0<re--;){if(id(_,M,$,oe,ce))if(yl(_,M,$,ue))sc(_,M,$);else{var fe=_,ge=M,Ee=$,We=fe[ge-2*Ee],ve=fe[ge-Ee],Te=fe[ge+0],Be=fe[ge+Ee],tt=fe[ge+2*Ee],$e=27*(et=jl[1020+3*(Te-ve)+jl[1020+We-Be]])+63>>7,Ze=18*et+63>>7,et=9*et+63>>7;fe[ge-3*Ee]=Oi[255+fe[ge-3*Ee]+et],fe[ge-2*Ee]=Oi[255+We+Ze],fe[ge-Ee]=Oi[255+ve+$e],fe[ge+0]=Oi[255+Te-$e],fe[ge+Ee]=Oi[255+Be-Ze],fe[ge+2*Ee]=Oi[255+tt-et]}M+=G}}function Zs(_,M,$,G,re,oe,ce,ue){for(oe=2*oe+1;0<re--;){if(id(_,M,$,oe,ce))if(yl(_,M,$,ue))sc(_,M,$);else{var fe=_,ge=M,Ee=$,We=fe[ge-Ee],ve=fe[ge+0],Te=fe[ge+Ee],Be=Ff[112+(4+(tt=3*(ve-We))>>3)],tt=Ff[112+(tt+3>>3)],$e=Be+1>>1;fe[ge-2*Ee]=Oi[255+fe[ge-2*Ee]+$e],fe[ge-Ee]=Oi[255+We+tt],fe[ge+0]=Oi[255+ve-Be],fe[ge+Ee]=Oi[255+Te-$e]}M+=G}}function ip(_,M,$,G,re,oe){Js(_,M,$,1,16,G,re,oe)}function gi(_,M,$,G,re,oe){Js(_,M,1,$,16,G,re,oe)}function Qs(_,M,$,G,re,oe){var ce;for(ce=3;0<ce;--ce)Zs(_,M+=4*$,$,1,16,G,re,oe)}function Df(_,M,$,G,re,oe){var ce;for(ce=3;0<ce;--ce)Zs(_,M+=4,1,$,16,G,re,oe)}function B(_,M,$,G,re,oe,ce,ue){Js(_,M,re,1,8,oe,ce,ue),Js($,G,re,1,8,oe,ce,ue)}function ne(_,M,$,G,re,oe,ce,ue){Js(_,M,1,re,8,oe,ce,ue),Js($,G,1,re,8,oe,ce,ue)}function xe(_,M,$,G,re,oe,ce,ue){Zs(_,M+4*re,re,1,8,oe,ce,ue),Zs($,G+4*re,re,1,8,oe,ce,ue)}function je(_,M,$,G,re,oe,ce,ue){Zs(_,M+4,1,re,8,oe,ce,ue),Zs($,G+4,1,re,8,oe,ce,ue)}function Le(){this.ba=new Tr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new Ne,this.vb=new Ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new F}function zt(){this.xb=this.a=0,this.l=new mi,this.ca=new Tr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=s(4,ut),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new mi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(_,M,$,G,re,oe,ce){for(_=_==null?0:_[M+0],M=0;M<ce;++M)re[oe+M]=_+$[G+M]&255,_=re[oe+M]}function Br(_,M,$,G,re,oe,ce){var ue;if(_==null)or(null,null,$,G,re,oe,ce);else for(ue=0;ue<ce;++ue)re[oe+ue]=_[M+ue]+$[G+ue]&255}function kn(_,M,$,G,re,oe,ce){if(_==null)or(null,null,$,G,re,oe,ce);else{var ue,fe=_[M+0],ge=fe,Ee=fe;for(ue=0;ue<ce;++ue)ge=Ee+(fe=_[M+ue])-ge,Ee=$[G+ue]+(-256&ge?0>ge?0:255:ge)&255,ge=fe,re[oe+ue]=Ee}}function ma(_,M,$,G){var re=M.width,oe=M.o;if(t(_!=null&&M!=null),0>$||0>=G||$+G>oe)return null;if(!_.Cc){if(_.ga==null){var ce;if(_.ga=new sr,(ce=_.ga==null)||(ce=M.width*M.o,t(_.Gb.length==0),_.Gb=i(ce),_.Uc=0,_.Gb==null?ce=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ce=1),ce=!ce),!ce){ce=_.ga;var ue=_.Fa,fe=_.P,ge=_.qc,Ee=_.mb,We=_.nb,ve=fe+1,Te=ge-1,Be=ce.l;if(t(ue!=null&&Ee!=null&&M!=null),xi[0]=null,xi[1]=or,xi[2]=Br,xi[3]=kn,ce.ca=Ee,ce.tb=We,ce.c=M.width,ce.i=M.height,t(0<ce.c&&0<ce.i),1>=ge)M=0;else if(ce.$a=3&ue[fe+0],ce.Z=ue[fe+0]>>2&3,ce.Lc=ue[fe+0]>>4&3,fe=ue[fe+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||fe)M=0;else if(Be.put=Zt,Be.ac=Vs,Be.bc=Es,Be.ma=ce,Be.width=M.width,Be.height=M.height,Be.Da=M.Da,Be.v=M.v,Be.va=M.va,Be.j=M.j,Be.o=M.o,ce.$a)e:{t(ce.$a==1),M=Yu();t:for(;;){if(M==null){M=0;break e}if(t(ce!=null),ce.mc=M,M.c=ce.c,M.i=ce.i,M.l=ce.l,M.l.ma=ce,M.l.width=ce.c,M.l.height=ce.i,M.a=0,Q(M.m,ue,ve,Te),!Eo(ce.c,ce.i,1,M,null)||(M.ab==1&&M.gc[0].hc==3&&_o(M.s)?(ce.ic=1,ue=M.c*M.i,M.Ta=null,M.Ua=0,M.V=i(ue),M.Ba=0,M.V==null?(M.a=1,M=0):M=1):(ce.ic=0,M=qc(M,ce.c)),!M))break t;M=1;break e}ce.mc=null,M=0}else M=Te>=ce.c*ce.i;ce=!M}if(ce)return null;_.ga.Lc!=1?_.Ga=0:G=oe-$}t(_.ga!=null),t($+G<=oe);e:{if(M=(ue=_.ga).c,oe=ue.l.o,ue.$a==0){if(ve=_.rc,Te=_.Vc,Be=_.Fa,fe=_.P+1+$*M,ge=_.mb,Ee=_.nb+$*M,t(fe<=_.P+_.qc),ue.Z!=0)for(t(xi[ue.Z]!=null),ce=0;ce<G;++ce)xi[ue.Z](ve,Te,Be,fe,ge,Ee,M),ve=ge,Te=Ee,Ee+=M,fe+=M;else for(ce=0;ce<G;++ce)n(ge,Ee,Be,fe,M),ve=ge,Te=Ee,Ee+=M,fe+=M;_.rc=ve,_.Vc=Te}else{if(t(ue.mc!=null),M=$+G,t((ce=ue.mc)!=null),t(M<=ce.i),ce.C>=M)M=1;else if(ue.ic||eo(),ue.ic){ue=ce.V,ve=ce.Ba,Te=ce.c;var tt=ce.i,$e=(Be=1,fe=ce.$/Te,ge=ce.$%Te,Ee=ce.m,We=ce.s,ce.$),Ze=Te*tt,et=Te*M,it=We.wc,ot=$e<et?ha(We,ge,fe):null;t($e<=Ze),t(M<=tt),t(_o(We));t:for(;;){for(;!Ee.h&&$e<et;){if(ge&it||(ot=ha(We,ge,fe)),t(ot!=null),ae(Ee),256>(tt=cn(ot.G[0],ot.H[0],Ee)))ue[ve+$e]=tt,++$e,++ge>=Te&&(ge=0,++fe<=M&&!(fe%16)&&Ka(ce,fe));else{if(!(280>tt)){Be=0;break t}tt=pi(tt-256,Ee);var Wt,_t=cn(ot.G[4],ot.H[4],Ee);if(ae(Ee),!($e>=(_t=Hs(Te,_t=pi(_t,Ee)))&&Ze-$e>=tt)){Be=0;break t}for(Wt=0;Wt<tt;++Wt)ue[ve+$e+Wt]=ue[ve+$e+Wt-_t];for($e+=tt,ge+=tt;ge>=Te;)ge-=Te,++fe<=M&&!(fe%16)&&Ka(ce,fe);$e<et&&ge&it&&(ot=ha(We,ge,fe))}t(Ee.h==Y(Ee))}Ka(ce,fe>M?M:fe);break t}!Be||Ee.h&&$e<Ze?(Be=0,ce.a=Ee.h?5:3):ce.$=$e,M=Be}else M=Gs(ce,ce.V,ce.Ba,ce.c,ce.i,M,Ku);if(!M){G=0;break e}}$+G>=oe&&(_.Cc=1),G=1}if(!G)return null;if(_.Cc&&((G=_.ga)!=null&&(G.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+$*re}function un(_,M,$,G,re,oe){for(;0<re--;){var ce,ue=_,fe=M+($?1:0),ge=_,Ee=M+($?0:3);for(ce=0;ce<G;++ce){var We=ge[Ee+4*ce];We!=255&&(We*=32897,ue[fe+4*ce+0]=ue[fe+4*ce+0]*We>>23,ue[fe+4*ce+1]=ue[fe+4*ce+1]*We>>23,ue[fe+4*ce+2]=ue[fe+4*ce+2]*We>>23)}M+=oe}}function _a(_,M,$,G,re){for(;0<G--;){var oe;for(oe=0;oe<$;++oe){var ce=_[M+2*oe+0],ue=15&(ge=_[M+2*oe+1]),fe=4369*ue,ge=(240&ge|ge>>4)*fe>>16;_[M+2*oe+0]=(240&ce|ce>>4)*fe>>16&240|(15&ce|ce<<4)*fe>>16>>4&15,_[M+2*oe+1]=240&ge|ue}M+=re}}function ea(_,M,$,G,re,oe,ce,ue){var fe,ge,Ee=255;for(ge=0;ge<re;++ge){for(fe=0;fe<G;++fe){var We=_[M+fe];oe[ce+4*fe]=We,Ee&=We}M+=$,ce+=ue}return Ee!=255}function Xa(_,M,$,G,re){var oe;for(oe=0;oe<re;++oe)$[G+oe]=_[M+oe]>>8}function eo(){xd=un,Sv=_a,up=ea,jv=Xa}function Zi(_,M,$){O[_]=function(G,re,oe,ce,ue,fe,ge,Ee,We,ve,Te,Be,tt,$e,Ze,et,it){var ot,Wt=it-1>>1,_t=ue[fe+0]|ge[Ee+0]<<16,hr=We[ve+0]|Te[Be+0]<<16;t(G!=null);var Ot=3*_t+hr+131074>>2;for(M(G[re+0],255&Ot,Ot>>16,tt,$e),oe!=null&&(Ot=3*hr+_t+131074>>2,M(oe[ce+0],255&Ot,Ot>>16,Ze,et)),ot=1;ot<=Wt;++ot){var Sr=ue[fe+ot]|ge[Ee+ot]<<16,Un=We[ve+ot]|Te[Be+ot]<<16,gr=_t+Sr+hr+Un+524296,Et=gr+2*(Sr+hr)>>3;Ot=Et+_t>>1,_t=(gr=gr+2*(_t+Un)>>3)+Sr>>1,M(G[re+2*ot-1],255&Ot,Ot>>16,tt,$e+(2*ot-1)*$),M(G[re+2*ot-0],255&_t,_t>>16,tt,$e+(2*ot-0)*$),oe!=null&&(Ot=gr+hr>>1,_t=Et+Un>>1,M(oe[ce+2*ot-1],255&Ot,Ot>>16,Ze,et+(2*ot-1)*$),M(oe[ce+2*ot+0],255&_t,_t>>16,Ze,et+(2*ot+0)*$)),_t=Sr,hr=Un}1&it||(Ot=3*_t+hr+131074>>2,M(G[re+it-1],255&Ot,Ot>>16,tt,$e+(it-1)*$),oe!=null&&(Ot=3*hr+_t+131074>>2,M(oe[ce+it-1],255&Ot,Ot>>16,Ze,et+(it-1)*$)))}}function tg(){ts[ig]=Y3,ts[eu]=tu,ts[G1]=K3,ts[dp]=Uf,ts[fp]=Nd,ts[nn]=vp,ts[sg]=Ov,ts[Bf]=tu,ts[yd]=Uf,ts[hp]=Nd,ts[pp]=vp}function Hc(_){return _&-16384?0>_?0:255:_>>ru}function od(_,M){return Hc((19077*_>>8)+(26149*M>>8)-14234)}function Gc(_,M,$){return Hc((19077*_>>8)-(6419*M>>8)-(13320*$>>8)+8708)}function ld(_,M){return Hc((19077*_>>8)+(33050*M>>8)-17685)}function Yc(_,M,$,G,re){G[re+0]=od(_,$),G[re+1]=Gc(_,M,$),G[re+2]=ld(_,M)}function cd(_,M,$,G,re){G[re+0]=ld(_,M),G[re+1]=Gc(_,M,$),G[re+2]=od(_,$)}function vi(_,M,$,G,re){var oe=Gc(_,M,$);M=oe<<3&224|ld(_,M)>>3,G[re+0]=248&od(_,$)|oe>>5,G[re+1]=M}function ud(_,M,$,G,re){var oe=240&ld(_,M)|15;G[re+0]=240&od(_,$)|Gc(_,M,$)>>4,G[re+1]=oe}function dd(_,M,$,G,re){G[re+0]=255,Yc(_,M,$,G,re+1)}function sp(_,M,$,G,re){cd(_,M,$,G,re),G[re+3]=255}function op(_,M,$,G,re){Yc(_,M,$,G,re),G[re+3]=255}function Bn(_,M){return 0>_?0:_>M?M:_}function To(_,M,$){O[_]=function(G,re,oe,ce,ue,fe,ge,Ee,We){for(var ve=Ee+(-2&We)*$;Ee!=ve;)M(G[re+0],oe[ce+0],ue[fe+0],ge,Ee),M(G[re+1],oe[ce+0],ue[fe+0],ge,Ee+$),re+=2,++ce,++fe,Ee+=2*$;1&We&&M(G[re+0],oe[ce+0],ue[fe+0],ge,Ee)}}function bl(_,M,$){return $==0?_==0?M==0?6:5:M==0?4:0:$}function rg(_,M,$,G,re){switch(_>>>30){case 3:gd(M,$,G,re,0);break;case 2:zn(M,$,G,re);break;case 1:zr(M,$,G,re)}}function Ts(_,M){var $,G,re=M.M,oe=M.Nb,ce=_.oc,ue=_.pc+40,fe=_.oc,ge=_.pc+584,Ee=_.oc,We=_.pc+600;for($=0;16>$;++$)ce[ue+32*$-1]=129;for($=0;8>$;++$)fe[ge+32*$-1]=129,Ee[We+32*$-1]=129;for(0<re?ce[ue-1-32]=fe[ge-1-32]=Ee[We-1-32]=129:(a(ce,ue-32-1,127,21),a(fe,ge-32-1,127,9),a(Ee,We-32-1,127,9)),G=0;G<_.za;++G){var ve=M.ya[M.aa+G];if(0<G){for($=-1;16>$;++$)n(ce,ue+32*$-4,ce,ue+32*$+12,4);for($=-1;8>$;++$)n(fe,ge+32*$-4,fe,ge+32*$+4,4),n(Ee,We+32*$-4,Ee,We+32*$+4,4)}var Te=_.Gd,Be=_.Hd+G,tt=ve.ad,$e=ve.Hc;if(0<re&&(n(ce,ue-32,Te[Be].y,0,16),n(fe,ge-32,Te[Be].f,0,8),n(Ee,We-32,Te[Be].ea,0,8)),ve.Za){var Ze=ce,et=ue-32+16;for(0<re&&(G>=_.za-1?a(Ze,et,Te[Be].y[15],4):n(Ze,et,Te[Be+1].y,0,4)),$=0;4>$;$++)Ze[et+128+$]=Ze[et+256+$]=Ze[et+384+$]=Ze[et+0+$];for($=0;16>$;++$,$e<<=2)Ze=ce,et=ue+Iv[$],no[ve.Ob[$]](Ze,et),rg($e,tt,16*+$,Ze,et)}else if(Ze=bl(G,re,ve.Ob[0]),Ii[Ze](ce,ue),$e!=0)for($=0;16>$;++$,$e<<=2)rg($e,tt,16*+$,ce,ue+Iv[$]);for($=ve.Gc,Ze=bl(G,re,ve.Dd),es[Ze](fe,ge),es[Ze](Ee,We),$e=tt,Ze=fe,et=ge,255&(ve=0|$)&&(170&ve?Qi($e,256,Ze,et):Zr($e,256,Ze,et)),ve=Ee,$e=We,255&($>>=8)&&(170&$?Qi(tt,320,ve,$e):Zr(tt,320,ve,$e)),re<_.Ub-1&&(n(Te[Be].y,0,ce,ue+480,16),n(Te[Be].f,0,fe,ge+224,8),n(Te[Be].ea,0,Ee,We+224,8)),$=8*oe*_.B,Te=_.sa,Be=_.ta+16*G+16*oe*_.R,tt=_.qa,ve=_.ra+8*G+$,$e=_.Ha,Ze=_.Ia+8*G+$,$=0;16>$;++$)n(Te,Be+$*_.R,ce,ue+32*$,16);for($=0;8>$;++$)n(tt,ve+$*_.B,fe,ge+32*$,8),n($e,Ze+$*_.B,Ee,We+32*$,8)}}function Kc(_,M,$,G,re,oe,ce,ue,fe){var ge=[0],Ee=[0],We=0,ve=fe!=null?fe.kd:0,Te=fe??new rt;if(_==null||12>$)return 7;Te.data=_,Te.w=M,Te.ha=$,M=[M],$=[$],Te.gb=[Te.gb];e:{var Be=M,tt=$,$e=Te.gb;if(t(_!=null),t(tt!=null),t($e!=null),$e[0]=0,12<=tt[0]&&!r(_,Be[0],"RIFF")){if(r(_,Be[0]+8,"WEBP")){$e=3;break e}var Ze=ke(_,Be[0]+4);if(12>Ze||4294967286<Ze){$e=3;break e}if(ve&&Ze>tt[0]-8){$e=7;break e}$e[0]=Ze,Be[0]+=12,tt[0]-=12}$e=0}if($e!=0)return $e;for(Ze=0<Te.gb[0],$=$[0];;){e:{var et=_;tt=M,$e=$;var it=ge,ot=Ee,Wt=Be=[0];if((Ot=We=[We])[0]=0,8>$e[0])$e=7;else{if(!r(et,tt[0],"VP8X")){if(ke(et,tt[0]+4)!=10){$e=3;break e}if(18>$e[0]){$e=7;break e}var _t=ke(et,tt[0]+8),hr=1+Ge(et,tt[0]+12);if(2147483648<=hr*(et=1+Ge(et,tt[0]+15))){$e=3;break e}Wt!=null&&(Wt[0]=_t),it!=null&&(it[0]=hr),ot!=null&&(ot[0]=et),tt[0]+=18,$e[0]-=18,Ot[0]=1}$e=0}}if(We=We[0],Be=Be[0],$e!=0)return $e;if(tt=!!(2&Be),!Ze&&We)return 3;if(oe!=null&&(oe[0]=!!(16&Be)),ce!=null&&(ce[0]=tt),ue!=null&&(ue[0]=0),ce=ge[0],Be=Ee[0],We&&tt&&fe==null){$e=0;break}if(4>$){$e=7;break}if(Ze&&We||!Ze&&!We&&!r(_,M[0],"ALPH")){$=[$],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{_t=_,$e=M,Ze=$;var Ot=Te.gb;it=Te.na,ot=Te.P,Wt=Te.Sa,hr=22,t(_t!=null),t(Ze!=null),et=$e[0];var Sr=Ze[0];for(t(it!=null),t(Wt!=null),it[0]=null,ot[0]=null,Wt[0]=0;;){if($e[0]=et,Ze[0]=Sr,8>Sr){$e=7;break e}var Un=ke(_t,et+4);if(4294967286<Un){$e=3;break e}var gr=8+Un+1&-2;if(hr+=gr,0<Ot&&hr>Ot){$e=3;break e}if(!r(_t,et,"VP8 ")||!r(_t,et,"VP8L")){$e=0;break e}if(Sr[0]<gr){$e=7;break e}r(_t,et,"ALPH")||(it[0]=_t,ot[0]=et+8,Wt[0]=Un),et+=gr,Sr-=gr}}if($=$[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],$e!=0)break}$=[$],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(Ot=_,$e=M,Ze=$,it=Te.gb[0],ot=Te.Ja,Wt=Te.xa,_t=$e[0],et=!r(Ot,_t,"VP8 "),hr=!r(Ot,_t,"VP8L"),t(Ot!=null),t(Ze!=null),t(ot!=null),t(Wt!=null),8>Ze[0])$e=7;else{if(et||hr){if(Ot=ke(Ot,_t+4),12<=it&&Ot>it-12){$e=3;break e}if(ve&&Ot>Ze[0]-8){$e=7;break e}ot[0]=Ot,$e[0]+=8,Ze[0]-=8,Wt[0]=hr}else Wt[0]=5<=Ze[0]&&Ot[_t+0]==47&&!(Ot[_t+4]>>5),ot[0]=Ze[0];$e=0}if($=$[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],M=M[0],$e!=0)break;if(4294967286<Te.Ja)return 3;if(ue==null||tt||(ue[0]=Te.xa?2:1),ce=[ce],Be=[Be],Te.xa){if(5>$){$e=7;break}ue=ce,ve=Be,tt=oe,_==null||5>$?_=0:5<=$&&_[M+0]==47&&!(_[M+4]>>5)?(Ze=[0],Ot=[0],it=[0],Q(ot=new W,_,M,$),Co(ot,Ze,Ot,it)?(ue!=null&&(ue[0]=Ze[0]),ve!=null&&(ve[0]=Ot[0]),tt!=null&&(tt[0]=it[0]),_=1):_=0):_=0}else{if(10>$){$e=7;break}ue=Be,_==null||10>$||!Km(_,M+3,$-3)?_=0:(ve=_[M+0]|_[M+1]<<8|_[M+2]<<16,tt=16383&(_[M+7]<<8|_[M+6]),_=16383&(_[M+9]<<8|_[M+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=Te.Ja||!tt||!_?_=0:(ce&&(ce[0]=tt),ue&&(ue[0]=_),_=1))}if(!_||(ce=ce[0],Be=Be[0],We&&(ge[0]!=ce||Ee[0]!=Be)))return 3;fe!=null&&(fe[0]=Te,fe.offset=M-fe.w,t(4294967286>M-fe.w),t(fe.offset==fe.ha-$));break}return $e==0||$e==7&&We&&fe==null?(oe!=null&&(oe[0]|=Te.na!=null&&0<Te.na.length),G!=null&&(G[0]=ce),re!=null&&(re[0]=Be),0):$e}function Tf(_,M,$){var G=M.width,re=M.height,oe=0,ce=0,ue=G,fe=re;if(M.Da=_!=null&&0<_.Da,M.Da&&(ue=_.cd,fe=_.bd,oe=_.v,ce=_.j,11>$||(oe&=-2,ce&=-2),0>oe||0>ce||0>=ue||0>=fe||oe+ue>G||ce+fe>re))return 0;if(M.v=oe,M.j=ce,M.va=oe+ue,M.o=ce+fe,M.U=ue,M.T=fe,M.da=_!=null&&0<_.da,M.da){if(!ze(ue,fe,$=[_.ib],oe=[_.hb]))return 0;M.ib=$[0],M.hb=oe[0]}return M.ob=_!=null&&_.ob,M.Kb=_==null||!_.Sd,M.da&&(M.ob=M.ib<3*G/4&&M.hb<3*re/4,M.Kb=0),1}function Of(_){if(_==null)return 2;if(11>_.S){var M=_.f.RGBA;M.fb+=(_.height-1)*M.A,M.A=-M.A}else M=_.f.kb,_=_.height,M.O+=(_-1)*M.fa,M.fa=-M.fa,M.N+=(_-1>>1)*M.Ab,M.Ab=-M.Ab,M.W+=(_-1>>1)*M.Db,M.Db=-M.Db,M.F!=null&&(M.J+=(_-1)*M.lb,M.lb=-M.lb);return 0}function lc(_,M,$,G){if(G==null||0>=_||0>=M)return 2;if($!=null){if($.Da){var re=$.cd,oe=$.bd,ce=-2&$.v,ue=-2&$.j;if(0>ce||0>ue||0>=re||0>=oe||ce+re>_||ue+oe>M)return 2;_=re,M=oe}if($.da){if(!ze(_,M,re=[$.ib],oe=[$.hb]))return 2;_=re[0],M=oe[0]}}G.width=_,G.height=M;e:{var fe=G.width,ge=G.height;if(_=G.S,0>=fe||0>=ge||!(_>=ig&&13>_))_=2;else{if(0>=G.Rd&&G.sd==null){ce=oe=re=M=0;var Ee=(ue=fe*xp[_])*ge;if(11>_||(oe=(ge+1)/2*(M=(fe+1)/2),_==12&&(ce=(re=fe)*ge)),(ge=i(Ee+2*oe+ce))==null){_=1;break e}G.sd=ge,11>_?((fe=G.f.RGBA).eb=ge,fe.fb=0,fe.A=ue,fe.size=Ee):((fe=G.f.kb).y=ge,fe.O=0,fe.fa=ue,fe.Fd=Ee,fe.f=ge,fe.N=0+Ee,fe.Ab=M,fe.Cd=oe,fe.ea=ge,fe.W=0+Ee+oe,fe.Db=M,fe.Ed=oe,_==12&&(fe.F=ge,fe.J=0+Ee+2*oe),fe.Tc=ce,fe.lb=re)}if(M=1,re=G.S,oe=G.width,ce=G.height,re>=ig&&13>re)if(11>re)_=G.f.RGBA,M&=(ue=Math.abs(_.A))*(ce-1)+oe<=_.size,M&=ue>=oe*xp[re],M&=_.eb!=null;else{_=G.f.kb,ue=(oe+1)/2,Ee=(ce+1)/2,fe=Math.abs(_.fa),ge=Math.abs(_.Ab);var We=Math.abs(_.Db),ve=Math.abs(_.lb),Te=ve*(ce-1)+oe;M&=fe*(ce-1)+oe<=_.Fd,M&=ge*(Ee-1)+ue<=_.Cd,M=(M&=We*(Ee-1)+ue<=_.Ed)&fe>=oe&ge>=ue&We>=ue,M&=_.y!=null,M&=_.f!=null,M&=_.ea!=null,re==12&&(M&=ve>=oe,M&=Te<=_.Tc,M&=_.F!=null)}else M=0;_=M?0:2}}return _!=0||$!=null&&$.fd&&(_=Of(G)),_}var to=64,Os=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Is=24,Xc=32,wl=8,cc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(_){return _},O.Predictor2=function(_,M,$){return M[$+0]},O.Predictor3=function(_,M,$){return M[$+1]},O.Predictor4=function(_,M,$){return M[$-1]},O.Predictor5=function(_,M,$){return Xe(Xe(_,M[$+1]),M[$+0])},O.Predictor6=function(_,M,$){return Xe(_,M[$-1])},O.Predictor7=function(_,M,$){return Xe(_,M[$+0])},O.Predictor8=function(_,M,$){return Xe(M[$-1],M[$+0])},O.Predictor9=function(_,M,$){return Xe(M[$+0],M[$+1])},O.Predictor10=function(_,M,$){return Xe(Xe(_,M[$-1]),Xe(M[$+0],M[$+1]))},O.Predictor11=function(_,M,$){var G=M[$+0];return 0>=pt(G>>24&255,_>>24&255,(M=M[$-1])>>24&255)+pt(G>>16&255,_>>16&255,M>>16&255)+pt(G>>8&255,_>>8&255,M>>8&255)+pt(255&G,255&_,255&M)?G:_},O.Predictor12=function(_,M,$){var G=M[$+0];return(Re((_>>24&255)+(G>>24&255)-((M=M[$-1])>>24&255))<<24|Re((_>>16&255)+(G>>16&255)-(M>>16&255))<<16|Re((_>>8&255)+(G>>8&255)-(M>>8&255))<<8|Re((255&_)+(255&G)-(255&M)))>>>0},O.Predictor13=function(_,M,$){var G=M[$-1];return(st((_=Xe(_,M[$+0]))>>24&255,G>>24&255)<<24|st(_>>16&255,G>>16&255)<<16|st(_>>8&255,G>>8&255)<<8|st(255&_,255&G))>>>0};var uc=O.PredictorAdd0;O.PredictorAdd1=Fe,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var Nl=O.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ta,fd=O.ColorIndexInverseTransform,Sl=O.MapARGB,Oo=O.VP8LColorIndexInverseTransformAlpha,hd=O.MapAlpha,pd=O.VP8LPredictorsAdd=[];pd.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var If,Mf,dc,Jc,Zc,md,Qc,gd,zn,Qi,zr,Zr,Wn,ga,Io,lp,Rf,fc,ng,Lf,ag,Nv,cp,vd,xd,Sv,up,jv,Cv=i(511),_v=i(2041),Ev=i(225),Pv=i(767),kv=0,jl=_v,Ff=Ev,Oi=Pv,ro=Cv,ig=0,eu=1,G1=2,dp=3,fp=4,nn=5,sg=6,Bf=7,yd=8,hp=9,pp=10,mp=[2,3,7],og=[3,3,11],bd=[280,256,256,256,40],Y1=[0,1,1,1,0],q3=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],V3=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],K1=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],lg=8,zf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],gp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wd=null,Av=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],X1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],J1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],H3=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],G3=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],no=[],es=[],Cl=1,Wf=2,xi=[],ts=[];Zi("UpsampleRgbLinePair",Yc,3),Zi("UpsampleBgrLinePair",cd,3),Zi("UpsampleRgbaLinePair",op,4),Zi("UpsampleBgraLinePair",sp,4),Zi("UpsampleArgbLinePair",dd,4),Zi("UpsampleRgba4444LinePair",ud,2),Zi("UpsampleRgb565LinePair",vi,2);var Y3=O.UpsampleRgbLinePair,K3=O.UpsampleBgrLinePair,tu=O.UpsampleRgbaLinePair,Uf=O.UpsampleBgraLinePair,Nd=O.UpsampleArgbLinePair,vp=O.UpsampleRgba4444LinePair,Ov=O.UpsampleRgb565LinePair,hc=16,Mo=1<<hc-1,Xr=-227,Qr=482,ru=6,Ja=0,rs=i(256),Sd=i(256),$f=i(256),ns=i(256),cg=i(Qr-Xr),Z1=i(Qr-Xr);To("YuvToRgbRow",Yc,3),To("YuvToBgrRow",cd,3),To("YuvToRgbaRow",op,4),To("YuvToBgraRow",sp,4),To("YuvToArgbRow",dd,4),To("YuvToRgba4444Row",ud,2),To("YuvToRgb565Row",vi,2);var Iv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jd=[0,2,8],Q1=[8,7,6,4,4,2,2,2,1,1,1,1],pc=1;this.WebPDecodeRGBA=function(_,M,$,G,re){var oe=eu,ce=new Le,ue=new Tr;ce.ba=ue,ue.S=oe,ue.width=[ue.width],ue.height=[ue.height];var fe=ue.width,ge=ue.height,Ee=new ir;if(Ee==null||_==null)var We=2;else t(Ee!=null),We=Kc(_,M,$,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(We!=0?fe=0:(fe!=null&&(fe[0]=Ee.width[0]),ge!=null&&(ge[0]=Ee.height[0]),fe=1),fe){ue.width=ue.width[0],ue.height=ue.height[0],G!=null&&(G[0]=ue.width),re!=null&&(re[0]=ue.height);e:{if(G=new mi,(re=new rt).data=_,re.w=M,re.ha=$,re.kd=1,M=[0],t(re!=null),((_=Kc(re.data,re.w,re.ha,null,null,null,M,null,re))==0||_==7)&&M[0]&&(_=4),(M=_)==0){if(t(ce!=null),G.data=re.data,G.w=re.w+re.offset,G.ha=re.ha-re.offset,G.put=Zt,G.ac=Vs,G.bc=Es,G.ma=ce,re.xa){if((_=Yu())==null){ce=1;break e}if((function(ve,Te){var Be=[0],tt=[0],$e=[0];t:for(;;){if(ve==null)return 0;if(Te==null)return ve.a=2,0;if(ve.l=Te,ve.a=0,Q(ve.m,Te.data,Te.w,Te.ha),!Co(ve.m,Be,tt,$e)){ve.a=3;break t}if(ve.xb=Wf,Te.width=Be[0],Te.height=tt[0],!Eo(Be[0],tt[0],1,ve,null))break t;return 1}return t(ve.a!=0),0})(_,G)){if(G=(M=lc(G.width,G.height,ce.Oa,ce.ba))==0){t:{G=_;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t(($=G.l)!=null),t((re=$.ma)!=null),G.xb!=0){if(G.ca=re.ba,G.tb=re.tb,t(G.ca!=null),!Tf(re.Oa,$,dp)){G.a=2;break r}if(!qc(G,$.width)||$.da)break r;if(($.da||cr(G.ca.S))&&eo(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&eo()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Z(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Gs(G,G.V,G.Ba,G.c,G.i,$.o,$c))break r;re.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(M=_.a)}else M=_.a}else{if((_=new bv)==null){ce=1;break e}if(_.Fa=re.na,_.P=re.P,_.qc=re.Sa,Zu(_,G)){if((M=lc(G.width,G.height,ce.Oa,ce.ba))==0){if(_.Aa=0,$=ce.Oa,t((re=_)!=null),$!=null){if(0<(fe=0>(fe=$.Md)?0:100<fe?255:255*fe/100)){for(ge=Ee=0;4>ge;++ge)12>(We=re.pb[ge]).lc&&(We.ia=fe*Q1[0>We.lc?0:We.lc]>>3),Ee|=We.ia;Ee&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=$.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(ve,Te){if(ve==null)return 0;if(Te==null)return pa(ve,2,"NULL VP8Io parameter in VP8Decode().");if(!ve.cb&&!Zu(ve,Te))return 0;if(t(ve.cb),Te.ac==null||Te.ac(Te)){Te.ob&&(ve.L=0);var Be=jd[ve.L];if(ve.L==2?(ve.yb=0,ve.zb=0):(ve.yb=Te.v-Be>>4,ve.zb=Te.j-Be>>4,0>ve.yb&&(ve.yb=0),0>ve.zb&&(ve.zb=0)),ve.Va=Te.o+15+Be>>4,ve.Hb=Te.va+15+Be>>4,ve.Hb>ve.za&&(ve.Hb=ve.za),ve.Va>ve.Ub&&(ve.Va=ve.Ub),0<ve.L){var tt=ve.ed;for(Be=0;4>Be;++Be){var $e;if(ve.Qa.Cb){var Ze=ve.Qa.Lb[Be];ve.Qa.Fb||(Ze+=tt.Tb)}else Ze=tt.Tb;for($e=0;1>=$e;++$e){var et=ve.gd[Be][$e],it=Ze;if(tt.Pc&&(it+=tt.vd[0],$e&&(it+=tt.od[0])),0<(it=0>it?0:63<it?63:it)){var ot=it;0<tt.wb&&(ot=4<tt.wb?ot>>2:ot>>1)>9-tt.wb&&(ot=9-tt.wb),1>ot&&(ot=1),et.dd=ot,et.tc=2*it+ot,et.ld=40<=it?2:15<=it?1:0}else et.tc=0;et.La=$e}}}Be=0}else pa(ve,6,"Frame setup failed"),Be=ve.a;if(Be=Be==0){if(Be){ve.$c=0,0<ve.Aa||(ve.Ic=pc);t:{Be=ve.Ic,tt=4*(ot=ve.za);var Wt=32*ot,_t=ot+1,hr=0<ve.L?ot*(0<ve.Aa?2:1):0,Ot=(ve.Aa==2?2:1)*ot;if((et=tt+832+($e=3*(16*Be+jd[ve.L])/2*Wt)+(Ze=ve.Fa!=null&&0<ve.Fa.length?ve.Kc.c*ve.Kc.i:0))!=et)Be=0;else{if(et>ve.Vb){if(ve.Vb=0,ve.Ec=i(et),ve.Fc=0,ve.Ec==null){Be=pa(ve,1,"no memory during frame initialization.");break t}ve.Vb=et}et=ve.Ec,it=ve.Fc,ve.Ac=et,ve.Bc=it,it+=tt,ve.Gd=s(Wt,As),ve.Hd=0,ve.rb=s(_t+1,Vc),ve.sb=1,ve.wa=hr?s(hr,ks):null,ve.Y=0,ve.D.Nb=0,ve.D.wa=ve.wa,ve.D.Y=ve.Y,0<ve.Aa&&(ve.D.Y+=ot),t(!0),ve.oc=et,ve.pc=it,it+=832,ve.ya=s(Ot,Cf),ve.aa=0,ve.D.ya=ve.ya,ve.D.aa=ve.aa,ve.Aa==2&&(ve.D.aa+=ot),ve.R=16*ot,ve.B=8*ot,ot=(Wt=jd[ve.L])*ve.R,Wt=Wt/2*ve.B,ve.sa=et,ve.ta=it+ot,ve.qa=ve.sa,ve.ra=ve.ta+16*Be*ve.R+Wt,ve.Ha=ve.qa,ve.Ia=ve.ra+8*Be*ve.B+Wt,ve.$c=0,it+=$e,ve.mb=Ze?et:null,ve.nb=Ze?it:null,t(it+Ze<=ve.Fc+ve.Vb),Po(ve),a(ve.Ac,ve.Bc,0,tt),Be=1}}if(Be){if(Te.ka=0,Te.y=ve.sa,Te.O=ve.ta,Te.f=ve.qa,Te.N=ve.ra,Te.ea=ve.Ha,Te.Vd=ve.Ia,Te.fa=ve.R,Te.Rc=ve.B,Te.F=null,Te.J=0,!kv){for(Be=-255;255>=Be;++Be)Cv[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)_v[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)Ev[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)Pv[255+Be]=0>Be?0:255<Be?255:Be;kv=1}Qc=Or,gd=Qh,Qi=td,zr=ml,Zr=_f,zn=Xm,Wn=ip,ga=gi,Io=B,lp=ne,Rf=Qs,fc=Df,ng=xe,Lf=je,ag=Xs,Nv=oc,cp=sd,vd=ap,no[0]=wv,no[1]=Ef,no[2]=rd,no[3]=vl,no[4]=Qm,no[5]=ic,no[6]=Ds,no[7]=eg,no[8]=nd,no[9]=kf,Ii[0]=ko,Ii[1]=Jm,Ii[2]=Zm,Ii[3]=Pf,Ii[4]=gl,Ii[5]=Ji,Ii[6]=Ks,es[0]=Do,es[1]=ep,es[2]=tp,es[3]=Ao,es[4]=rp,es[5]=Af,es[6]=np,Be=1}else Be=0}Be&&(Be=(function(Sr,Un){for(Sr.M=0;Sr.M<Sr.Va;++Sr.M){var gr,Et=Sr.Jc[Sr.M&Sr.Xb],bt=Sr.m,ra=Sr;for(gr=0;gr<ra.za;++gr){var ar=bt,Nr=ra,dn=Nr.Ac,Ba=Nr.Bc+4*gr,va=Nr.zc,An=Nr.ya[Nr.aa+gr];if(Nr.Qa.Bb?An.$b=we(ar,Nr.Pa.jb[0])?2+we(ar,Nr.Pa.jb[2]):we(ar,Nr.Pa.jb[1]):An.$b=0,Nr.kc&&(An.Ad=we(ar,Nr.Bd)),An.Za=!we(ar,145)+0,An.Za){var Ea=An.Ob,za=0;for(Nr=0;4>Nr;++Nr){var wn,Er=va[0+Nr];for(wn=0;4>wn;++wn){Er=H3[dn[Ba+wn]][Er];for(var Wr=X1[we(ar,Er[0])];0<Wr;)Wr=X1[2*Wr+we(ar,Er[Wr])];Er=-Wr,dn[Ba+wn]=Er}n(Ea,za,dn,Ba,4),za+=4,va[0+Nr]=Er}}else Er=we(ar,156)?we(ar,128)?1:3:we(ar,163)?2:0,An.Ob[0]=Er,a(dn,Ba,Er,4),a(va,0,Er,4);An.Dd=we(ar,142)?we(ar,114)?we(ar,183)?1:3:2:0}if(ra.m.Ka)return pa(Sr,7,"Premature end-of-partition0 encountered.");for(;Sr.ja<Sr.za;++Sr.ja){if(ra=Et,ar=(bt=Sr).rb[bt.sb-1],dn=bt.rb[bt.sb+bt.ja],gr=bt.ya[bt.aa+bt.ja],Ba=bt.kc?gr.Ad:0)ar.la=dn.la=0,gr.Za||(ar.Na=dn.Na=0),gr.Hc=0,gr.Gc=0,gr.ia=0;else{var Nn,Ur;if(ar=dn,dn=ra,Ba=bt.Pa.Xc,va=bt.ya[bt.aa+bt.ja],An=bt.pb[va.$b],Nr=va.ad,Ea=0,za=bt.rb[bt.sb-1],Er=wn=0,a(Nr,Ea,0,384),va.Za)var $n=0,qn=Ba[3];else{Wr=i(16);var an=ar.Na+za.Na;if(an=wd(dn,Ba[1],an,An.Eb,0,Wr,0),ar.Na=za.Na=(0<an)+0,1<an)Qc(Wr,0,Nr,Ea);else{var yi=Wr[0]+3>>3;for(Wr=0;256>Wr;Wr+=16)Nr[Ea+Wr]=yi}$n=1,qn=Ba[0]}var en=15&ar.la,sn=15&za.la;for(Wr=0;4>Wr;++Wr){var xa=1&sn;for(yi=Ur=0;4>yi;++yi)en=en>>1|(xa=(an=wd(dn,qn,an=xa+(1&en),An.Sc,$n,Nr,Ea))>$n)<<7,Ur=Ur<<2|(3<an?3:1<an?2:Nr[Ea+0]!=0),Ea+=16;en>>=4,sn=sn>>1|xa<<7,wn=(wn<<8|Ur)>>>0}for(qn=en,$n=sn>>4,Nn=0;4>Nn;Nn+=2){for(Ur=0,en=ar.la>>4+Nn,sn=za.la>>4+Nn,Wr=0;2>Wr;++Wr){for(xa=1&sn,yi=0;2>yi;++yi)an=xa+(1&en),en=en>>1|(xa=0<(an=wd(dn,Ba[2],an,An.Qc,0,Nr,Ea)))<<3,Ur=Ur<<2|(3<an?3:1<an?2:Nr[Ea+0]!=0),Ea+=16;en>>=2,sn=sn>>1|xa<<5}Er|=Ur<<4*Nn,qn|=en<<4<<Nn,$n|=(240&sn)<<Nn}ar.la=qn,za.la=$n,va.Hc=wn,va.Gc=Er,va.ia=43690&Er?0:An.ia,Ba=!(wn|Er)}if(0<bt.L&&(bt.wa[bt.Y+bt.ja]=bt.gd[gr.$b][gr.Za],bt.wa[bt.Y+bt.ja].La|=!Ba),ra.Ka)return pa(Sr,7,"Premature end-of-file encountered.")}if(Po(Sr),bt=Un,ra=1,gr=(Et=Sr).D,ar=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(gr.M=Et.M,gr.uc=ar,Ts(Et,gr),ra=1,gr=(Ur=Et.D).Nb,ar=(Er=jd[Et.L])*Et.R,dn=Er/2*Et.B,Wr=16*gr*Et.R,yi=8*gr*Et.B,Ba=Et.sa,va=Et.ta-ar+Wr,An=Et.qa,Nr=Et.ra-dn+yi,Ea=Et.Ha,za=Et.Ia-dn+yi,sn=(en=Ur.M)==0,wn=en>=Et.Va-1,Et.Aa==2&&Ts(Et,Ur),Ur.uc)for(xa=(an=Et).D.M,t(an.D.uc),Ur=an.yb;Ur<an.Hb;++Ur){$n=Ur,qn=xa;var Za=(as=(ia=an).D).Nb;Nn=ia.R;var as=as.wa[as.Y+$n],na=ia.sa,aa=ia.ta+16*Za*Nn+16*$n,bi=as.dd,on=as.tc;if(on!=0)if(t(3<=on),ia.L==1)0<$n&&Nv(na,aa,Nn,on+4),as.La&&vd(na,aa,Nn,on),0<qn&&ag(na,aa,Nn,on+4),as.La&&cp(na,aa,Nn,on);else{var wi=ia.B,ao=ia.qa,Ro=ia.ra+8*Za*wi+8*$n,Wa=ia.Ha,ia=ia.Ia+8*Za*wi+8*$n;Za=as.ld,0<$n&&(ga(na,aa,Nn,on+4,bi,Za),lp(ao,Ro,Wa,ia,wi,on+4,bi,Za)),as.La&&(fc(na,aa,Nn,on,bi,Za),Lf(ao,Ro,Wa,ia,wi,on,bi,Za)),0<qn&&(Wn(na,aa,Nn,on+4,bi,Za),Io(ao,Ro,Wa,ia,wi,on+4,bi,Za)),as.La&&(Rf(na,aa,Nn,on,bi,Za),ng(ao,Ro,Wa,ia,wi,on,bi,Za))}}if(Et.ia&&alert("todo:DitherRow"),bt.put!=null){if(Ur=16*en,en=16*(en+1),sn?(bt.y=Et.sa,bt.O=Et.ta+Wr,bt.f=Et.qa,bt.N=Et.ra+yi,bt.ea=Et.Ha,bt.W=Et.Ia+yi):(Ur-=Er,bt.y=Ba,bt.O=va,bt.f=An,bt.N=Nr,bt.ea=Ea,bt.W=za),wn||(en-=Er),en>bt.o&&(en=bt.o),bt.F=null,bt.J=null,Et.Fa!=null&&0<Et.Fa.length&&Ur<en&&(bt.J=ma(Et,bt,Ur,en-Ur),bt.F=Et.mb,bt.F==null&&bt.F.length==0)){ra=pa(Et,3,"Could not decode alpha data.");break t}Ur<bt.j&&(Er=bt.j-Ur,Ur=bt.j,t(!(1&Er)),bt.O+=Et.R*Er,bt.N+=Et.B*(Er>>1),bt.W+=Et.B*(Er>>1),bt.F!=null&&(bt.J+=bt.width*Er)),Ur<en&&(bt.O+=bt.v,bt.N+=bt.v>>1,bt.W+=bt.v>>1,bt.F!=null&&(bt.J+=bt.v),bt.ka=Ur-bt.j,bt.U=bt.va-bt.v,bt.T=en-Ur,ra=bt.put(bt))}gr+1!=Et.Ic||wn||(n(Et.sa,Et.ta-ar,Ba,va+16*Et.R,ar),n(Et.qa,Et.ra-dn,An,Nr+8*Et.B,dn),n(Et.Ha,Et.Ia-dn,Ea,za+8*Et.B,dn))}if(!ra)return pa(Sr,6,"Output aborted.")}return 1})(ve,Te)),Te.bc!=null&&Te.bc(Te),Be&=1}return Be?(ve.cb=0,Be):0})(_,G)||(M=_.a)}}else M=_.a}M==0&&ce.Oa!=null&&ce.Oa.fd&&(M=Of(ce.ba))}ce=M}oe=ce!=0?null:11>oe?ue.f.RGBA.eb:ue.f.kb.y}else oe=null;return oe};var xp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,L){for(var R="",P=0;P<4;P++)R+=String.fromCharCode(O[L++]);return R}function d(O,L){return O[L+0]|O[L+1]<<8}function f(O,L){return(O[L+0]|O[L+1]<<8|O[L+2]<<16)>>>0}function p(O,L){return(O[L+0]|O[L+1]<<8|O[L+2]<<16|O[L+3]<<24)>>>0}new l;var h=[0],g=[0],y=[],x=new l,b=e,N=(function(O,L){var R={},P=0,F=!1,V=0,X=0;if(R.frames=[],!(function(T,W){for(var J=0;J<4;J++)if(T[W+J]!="RIFF".charCodeAt(J))return!0;return!1})(O,L)){for(p(O,L+=4),L+=8;L<O.length;){var te=u(O,L),q=p(O,L+=4);L+=4;var U=q+(1&q);switch(te){case"VP8 ":case"VP8L":R.frames[P]===void 0&&(R.frames[P]={}),(K=R.frames[P]).src_off=F?X:L-8,K.src_size=V+q+8,P++,F&&(F=!1,V=0,X=0);break;case"VP8X":(K=R.header={}).feature_flags=O[L];var Q=L+4;K.canvas_width=1+f(O,Q),Q+=3,K.canvas_height=1+f(O,Q),Q+=3;break;case"ALPH":F=!0,V=U+8,X=L-8;break;case"ANIM":(K=R.header).bgcolor=p(O,L),Q=L+4,K.loop_count=d(O,Q),Q+=2;break;case"ANMF":var se,K;(K=R.frames[P]={}).offset_x=2*f(O,L),L+=3,K.offset_y=2*f(O,L),L+=3,K.width=1+f(O,L),L+=3,K.height=1+f(O,L),L+=3,K.duration=f(O,L),L+=3,se=O[L++],K.dispose=1&se,K.blend=se>>1&1}te!="ANMF"&&(L+=U)}return R}})(b,0);N.response=b,N.rgbaoutput=!0,N.dataurl=!1;var j=N.header?N.header:null,w=N.frames?N.frames:null;if(j){j.loop_counter=j.loop_count,h=[j.canvas_height],g=[j.canvas_width];for(var C=0;C<w.length&&w[C].blend!=0;C++);}var E=w[0],I=x.WebPDecodeRGBA(b,E.src_off,E.src_size,g,h);E.rgba=I,E.imgwidth=g[0],E.imgheight=h[0];for(var D=0;D<g[0]*h[0]*4;D++)y[D]=I[D];return this.width=g,this.height=h,this.data=y,this}(function(e){var t,r,n,a,i,s,o,l,u,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new l,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new s,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new s,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=T;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ke){J=!!ke}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(ke){Y=!!ke}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(ke){isNaN(ke)||(ee=ke)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(ke){isNaN(ke)||(ae=ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ke){var Z;typeof ke=="number"?Z=[ke,ke,ke,ke]:((Z=new Array(4))[0]=ke[0],Z[1]=ke.length>=2?ke[1]:Z[0],Z[2]=ke.length>=3?ke[2]:Z[0],Z[3]=ke.length>=4?ke[3]:Z[1]),u.margin=Z}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(ke){pe=ke}});var de=0;Object.defineProperty(this,"lastBreak",{get:function(){return de},set:function(ke){de=ke}});var we=[];Object.defineProperty(this,"pageBreaks",{get:function(){return we},set:function(ke){we=ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ke){ke instanceof d&&(u=ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ke){u.path=ke}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(ke){Ae=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var Z;Z=p(ke),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var Z=p(ke);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Se=null,Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(ke){Se=null,Ge=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var Z;if(this.ctx.font=ke,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var Qe=Z[1];Z[2];var Ne=Z[3],ze=Z[4];Z[5];var De=Z[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(me==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var _e=(function(wt){var Nt,_r,lr=[],jt=wt.trim();if(jt==="")return _j;if(jt in DU)return[DU[jt]];for(;jt!=="";){switch(_r=null,Nt=(jt=OU(jt)).charAt(0)){case'"':case"'":_r=d9e(jt.substring(1),Nt);break;default:_r=f9e(jt)}if(_r===null||(lr.push(_r[0]),(jt=OU(_r[1]))!==""&&jt.charAt(0)!==","))return _j;jt=jt.replace(/^,/,"")}return lr})(De);if(this.fontFaces){var Ve=(function(wt,Nt){if(Se===null){var _r=(function(lr){var jt=[];return Object.keys(lr).forEach(function(nr){lr[nr].forEach(function(Kr){var Jt=null;switch(Kr){case"bold":Jt={family:nr,weight:"bold"};break;case"italic":Jt={family:nr,style:"italic"};break;case"bolditalic":Jt={family:nr,weight:"bold",style:"italic"};break;case"":case"normal":Jt={family:nr}}Jt!==null&&(Jt.ref={name:nr,style:Kr},jt.push(Jt))})}),jt})(wt.getFontList());Se=(function(lr){for(var jt={},nr=0;nr<lr.length;++nr){var Kr=Cj(lr[nr]),Jt=Kr.family,wr=Kr.stretch,cr=Kr.style,Pn=Kr.weight;jt[Jt]=jt[Jt]||{},jt[Jt][wr]=jt[Jt][wr]||{},jt[Jt][wr][cr]=jt[Jt][wr][cr]||{},jt[Jt][wr][cr][Pn]=Kr}return jt})(_r.concat(Nt))}return Se})(this.pdf,this.fontFaces),Xe=_e.map(function(wt){return{family:wt,stretch:"normal",weight:Ne,style:Qe}}),Re=(function(wt,Nt,_r){for(var lr=(_r=_r||{}).defaultFontFamily||"times",jt=Object.assign({},u9e,_r.genericFontFamilies||{}),nr=null,Kr=null,Jt=0;Jt<Nt.length;++Jt)if(jt[(nr=Cj(Nt[Jt])).family]&&(nr.family=jt[nr.family]),wt.hasOwnProperty(nr.family)){Kr=wt[nr.family];break}if(!(Kr=Kr||wt[lr]))throw new Error("Could not find a font-family for the rule '"+TU(nr)+"' and default family '"+lr+"'.");if(Kr=(function(wr,cr){if(cr[wr])return cr[wr];var Pn=X8[wr],bn=Pn<=X8.normal?-1:1,Tr=AU(cr,hie,Pn,bn);if(!Tr)throw new Error("Could not find a matching font-stretch value for "+wr);return Tr})(nr.stretch,Kr),Kr=(function(wr,cr){if(cr[wr])return cr[wr];for(var Pn=fie[wr],bn=0;bn<Pn.length;++bn)if(cr[Pn[bn]])return cr[Pn[bn]];throw new Error("Could not find a matching font-style for "+wr)})(nr.style,Kr),!(Kr=(function(wr,cr){if(cr[wr])return cr[wr];if(wr===400&&cr[500])return cr[500];if(wr===500&&cr[400])return cr[400];var Pn=c9e[wr],bn=AU(cr,pie,Pn,wr<400?-1:1);if(!bn)throw new Error("Could not find a matching font-weight for value "+wr);return bn})(nr.weight,Kr)))throw new Error("Failed to resolve a font for the rule '"+TU(nr)+"'.");return Kr})(Ve,Xe);this.pdf.setFont(Re.ref.name,Re.ref.style)}else{var st="";(Ne==="bold"||parseInt(Ne,10)>=700||Qe==="bold")&&(st="bold"),Qe==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var pt="",Fe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},at=0;at<_e.length;at++){if(this.pdf.internal.getFont(_e[at],st,{noFallback:!0,disableWarning:!0})!==void 0){pt=_e[at];break}if(st==="bolditalic"&&this.pdf.internal.getFont(_e[at],"bold",{noFallback:!0,disableWarning:!0})!==void 0)pt=_e[at],st="bold";else if(this.pdf.internal.getFont(_e[at],"normal",{noFallback:!0,disableWarning:!0})!==void 0){pt=_e[at],st="normal";break}}if(pt===""){for(var ct=0;ct<_e.length;ct++)if(Fe[_e[ct]]){pt=Fe[_e[ct]];break}}pt=pt===""?"Times":pt,this.pdf.setFont(pt,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};f.prototype.setLineDash=function(T){this.lineDash=T},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(T,W){if(isNaN(T)||isNaN(W))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(T,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(T,W)},f.prototype.closePath=function(){var T=new s(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Ar(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){T=new s(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(T.x,T.y)},f.prototype.lineTo=function(T,W){if(isNaN(T)||isNaN(W))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(T,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(T,W,J,Y){if(isNaN(J)||isNaN(Y)||isNaN(T)||isNaN(W))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new s(J,Y)),ae=this.ctx.transform.applyToPoint(new s(T,W));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new s(ee.x,ee.y)},f.prototype.bezierCurveTo=function(T,W,J,Y,ee,ae){if(isNaN(ee)||isNaN(ae)||isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new s(ee,ae)),de=this.ctx.transform.applyToPoint(new s(T,W)),we=this.ctx.transform.applyToPoint(new s(J,Y));this.path.push({type:"bct",x1:de.x,y1:de.y,x2:we.x,y2:we.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},f.prototype.arc=function(T,W,J,Y,ee,ae){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y)||isNaN(ee))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new s(T,W));T=pe.x,W=pe.y;var de=this.ctx.transform.applyToPoint(new s(0,J)),we=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(de.x-we.x,2)+Math.pow(de.y-we.y,2))}Math.abs(ee-Y)>=2*Math.PI&&(Y=0,ee=2*Math.PI),this.path.push({type:"arc",x:T,y:W,radius:J,startAngle:Y,endAngle:ee,counterclockwise:ae})},f.prototype.arcTo=function(T,W,J,Y,ee){throw new Error("arcTo not implemented.")},f.prototype.rect=function(T,W,J,Y){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,W),this.lineTo(T+J,W),this.lineTo(T+J,W+Y),this.lineTo(T,W+Y),this.lineTo(T,W),this.lineTo(T+J,W),this.lineTo(T,W)},f.prototype.fillRect=function(T,W,J,Y){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,W,J,Y),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},f.prototype.strokeRect=function(T,W,J,Y){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(T,W,J,Y),this.stroke())},f.prototype.clearRect=function(T,W,J,Y){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,W,J,Y))},f.prototype.save=function(T){T=typeof T!="boolean"||T;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},f.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(T){var W,J,Y,ee;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))W=0,J=0,Y=0,ee=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(ae!==null)W=parseInt(ae[1]),J=parseInt(ae[2]),Y=parseInt(ae[3]),ee=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)W=parseInt(ae[1]),J=parseInt(ae[2]),Y=parseInt(ae[3]),ee=parseFloat(ae[4]);else{if(ee=1,typeof T=="string"&&T.charAt(0)!=="#"){var pe=new iie(T);T=pe.ok?pe.toHex():"#000000"}T.length===4?(W=T.substring(1,2),W+=W,J=T.substring(2,3),J+=J,Y=T.substring(3,4),Y+=Y):(W=T.substring(1,3),J=T.substring(3,5),Y=T.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),Y=parseInt(Y,16)}}return{r:W,g:J,b:Y,a:ee,style:T}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(T,W,J,Y){if(isNaN(W)||isNaN(J)||typeof T!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!h.call(this)){var ee=U(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;P.call(this,{text:T,x:W,y:J,scale:ae,angle:ee,align:this.textAlign,maxWidth:Y})}},f.prototype.strokeText=function(T,W,J,Y){if(isNaN(W)||isNaN(J)||typeof T!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){Y=isNaN(Y)?void 0:Y;var ee=U(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;P.call(this,{text:T,x:W,y:J,scale:ae,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:Y})}},f.prototype.measureText=function(T){if(typeof T!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,Y=W.internal.getFontSize(),ee=W.getStringUnitWidth(T)*Y/W.internal.scaleFactor;return new function(ae){var pe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:ee*=Math.round(96*J/72*1e4)/1e4})},f.prototype.scale=function(T,W){if(isNaN(T)||isNaN(W))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(T,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.rotate=function(T){if(isNaN(T))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new l(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},f.prototype.translate=function(T,W){if(isNaN(T)||isNaN(W))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,T,W);this.ctx.transform=this.ctx.transform.multiply(J)},f.prototype.transform=function(T,W,J,Y,ee,ae){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(Y)||isNaN(ee)||isNaN(ae))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(T,W,J,Y,ee,ae);this.ctx.transform=this.ctx.transform.multiply(pe)},f.prototype.setTransform=function(T,W,J,Y,ee,ae){T=isNaN(T)?1:T,W=isNaN(W)?0:W,J=isNaN(J)?0:J,Y=isNaN(Y)?1:Y,ee=isNaN(ee)?0:ee,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(T,W,J,Y,ee,ae)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(T,W,J,Y,ee,ae,pe,de,we){var Ae=this.pdf.getImageProperties(T),Se=1,Ge=1,ke=1,Z=1;Y!==void 0&&de!==void 0&&(ke=de/Y,Z=we/ee,Se=Ae.width/Y*de/Y,Ge=Ae.height/ee*we/ee),ae===void 0&&(ae=W,pe=J,W=0,J=0),Y!==void 0&&de===void 0&&(de=Y,we=ee),Y===void 0&&de===void 0&&(de=Ae.width,we=Ae.height);for(var Qe,Ne=this.ctx.transform.decompose(),ze=U(Ne.rotate.shx),De=new l,me=(De=(De=(De=De.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale)).applyToRectangle(new o(ae-W*ke,pe-J*Z,Y*Se,ee*Ge)),_e=x.call(this,me),Ve=[],Xe=0;Xe<_e.length;Xe+=1)Ve.indexOf(_e[Xe])===-1&&Ve.push(_e[Xe]);if(j(Ve),this.autoPaging)for(var Re=Ve[0],st=Ve[Ve.length-1],pt=Re;pt<st+1;pt++){this.pdf.setPage(pt);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=pt===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=pt===1?0:ct+(pt-2)*wt;if(this.ctx.clip_path.length!==0){var _r=this.path;Qe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Qe,this.posX+this.margin[3],-Nt+at+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=_r}var lr=JSON.parse(JSON.stringify(me));lr=N([lr],this.posX+this.margin[3],-Nt+at+this.ctx.prevPageLastElemOffset)[0];var jt=(pt>Re||pt<st)&&y.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,wt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",lr.x,lr.y,lr.w,lr.h,null,null,ze),jt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",me.x,me.y,me.w,me.h,null,null,ze)};var x=function(T,W,J){var Y=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":Y.push(Math.floor((T.y+ee)/J)+1);break;case"arc":Y.push(Math.floor((T.y+ee-T.radius)/J)+1),Y.push(Math.floor((T.y+ee+T.radius)/J)+1);break;case"qct":var ae=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);Y.push(Math.floor((ae.y+ee)/J)+1),Y.push(Math.floor((ae.y+ae.h+ee)/J)+1);break;case"bct":var pe=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);Y.push(Math.floor((pe.y+ee)/J)+1),Y.push(Math.floor((pe.y+pe.h+ee)/J)+1);break;case"rect":Y.push(Math.floor((T.y+ee)/J)+1),Y.push(Math.floor((T.y+T.h+ee)/J)+1)}for(var de=0;de<Y.length;de+=1)for(;this.pdf.internal.getNumberOfPages()<Y[de];)b.call(this);return Y},b=function(){var T=this.fillStyle,W=this.strokeStyle,J=this.font,Y=this.lineCap,ee=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=W,this.font=J,this.lineCap=Y,this.lineWidth=ee,this.lineJoin=ae},N=function(T,W,J){for(var Y=0;Y<T.length;Y++)switch(T[Y].type){case"bct":T[Y].x2+=W,T[Y].y2+=J;case"qct":T[Y].x1+=W,T[Y].y1+=J;default:T[Y].x+=W,T[Y].y+=J}return T},j=function(T){return T.sort(function(W,J){return W-J})},w=function(T,W){for(var J,Y,ee=this.fillStyle,ae=this.strokeStyle,pe=this.lineCap,de=this.lineWidth,we=Math.abs(de*this.ctx.transform.scaleX),Ae=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),ke=[],Z=0;Z<Ge.length;Z++)if(Ge[Z].x!==void 0)for(var Qe=x.call(this,Ge[Z]),Ne=0;Ne<Qe.length;Ne+=1)ke.indexOf(Qe[Ne])===-1&&ke.push(Qe[Ne]);for(var ze=0;ze<ke.length;ze++)for(;this.pdf.internal.getNumberOfPages()<ke[ze];)b.call(this);if(j(ke),this.autoPaging)for(var De=ke[0],me=ke[ke.length-1],_e=De;_e<me+1;_e++){this.pdf.setPage(_e),this.fillStyle=ee,this.strokeStyle=ae,this.lineCap=pe,this.lineWidth=we,this.lineJoin=Ae;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xe=_e===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],pt=_e===1?0:Re+(_e-2)*st;if(this.ctx.clip_path.length!==0){var Fe=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(J,this.posX+this.margin[3],-pt+Xe+this.ctx.prevPageLastElemOffset),C.call(this,T,!0),this.path=Fe}if(Y=JSON.parse(JSON.stringify(Se)),this.path=N(Y,this.posX+this.margin[3],-pt+Xe+this.ctx.prevPageLastElemOffset),W===!1||_e===0){var at=(_e>De||_e<me)&&y.call(this);at&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,st,null).clip().discardPath()),C.call(this,T,W),at&&this.pdf.restoreGraphicsState()}this.lineWidth=de}else this.lineWidth=we,C.call(this,T,W),this.lineWidth=de;this.path=Se},C=function(T,W){if((T!=="stroke"||W||!g.call(this))&&(T==="stroke"||W||!h.call(this))){for(var J,Y,ee=[],ae=this.path,pe=0;pe<ae.length;pe++){var de=ae[pe];switch(de.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:de,deltas:[],abs:[]});break;case"lt":var we=ee.length;if(ae[pe-1]&&!isNaN(ae[pe-1].x)&&(J=[de.x-ae[pe-1].x,de.y-ae[pe-1].y],we>0)){for(;we>=0;we--)if(ee[we-1].close!==!0&&ee[we-1].begin!==!0){ee[we-1].deltas.push(J),ee[we-1].abs.push(de);break}}break;case"bct":J=[de.x1-ae[pe-1].x,de.y1-ae[pe-1].y,de.x2-ae[pe-1].x,de.y2-ae[pe-1].y,de.x-ae[pe-1].x,de.y-ae[pe-1].y],ee[ee.length-1].deltas.push(J);break;case"qct":var Ae=ae[pe-1].x+2/3*(de.x1-ae[pe-1].x),Se=ae[pe-1].y+2/3*(de.y1-ae[pe-1].y),Ge=de.x+2/3*(de.x1-de.x),ke=de.y+2/3*(de.y1-de.y),Z=de.x,Qe=de.y;J=[Ae-ae[pe-1].x,Se-ae[pe-1].y,Ge-ae[pe-1].x,ke-ae[pe-1].y,Z-ae[pe-1].x,Qe-ae[pe-1].y],ee[ee.length-1].deltas.push(J);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(de)}}Y=W?null:T==="stroke"?"stroke":"fill";for(var Ne=!1,ze=0;ze<ee.length;ze++)if(ee[ze].arc)for(var De=ee[ze].abs,me=0;me<De.length;me++){var _e=De[me];_e.type==="arc"?D.call(this,_e.x,_e.y,_e.radius,_e.startAngle,_e.endAngle,_e.counterclockwise,void 0,W,!Ne):F.call(this,_e.x,_e.y),Ne=!0}else if(ee[ze].close===!0)this.pdf.internal.out("h"),Ne=!1;else if(ee[ze].begin!==!0){var Ve=ee[ze].start.x,Xe=ee[ze].start.y;V.call(this,ee[ze].deltas,Ve,Xe),Ne=!0}Y&&O.call(this,Y),W&&L.call(this)}},E=function(T){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-J;case"top":return T+W-J;case"hanging":return T+W-2*J;case"middle":return T+W/2-J;default:return T}},I=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(W,J){this.colorStops.push([W,J])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(T,W,J,Y,ee,ae,pe,de,we){for(var Ae=te.call(this,J,Y,ee,ae),Se=0;Se<Ae.length;Se++){var Ge=Ae[Se];Se===0&&(we?R.call(this,Ge.x1+T,Ge.y1+W):F.call(this,Ge.x1+T,Ge.y1+W)),X.call(this,T,W,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}de?L.call(this):O.call(this,pe)},O=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},R=function(T,W){this.pdf.internal.out(r(T)+" "+n(W)+" m")},P=function(T){var W;switch(T.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var J=this.pdf.getTextDimensions(T.text),Y=E.call(this,T.y),ee=I.call(this,Y)-J.h,ae=this.ctx.transform.applyToPoint(new s(T.x,Y)),pe=this.ctx.transform.decompose(),de=new l;de=(de=(de=de.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var we,Ae,Se,Ge=this.ctx.transform.applyToRectangle(new o(T.x,Y,J.w,J.h)),ke=de.applyToRectangle(new o(T.x,ee,J.w,J.h)),Z=x.call(this,ke),Qe=[],Ne=0;Ne<Z.length;Ne+=1)Qe.indexOf(Z[Ne])===-1&&Qe.push(Z[Ne]);if(j(Qe),this.autoPaging)for(var ze=Qe[0],De=Qe[Qe.length-1],me=ze;me<De+1;me++){this.pdf.setPage(me);var _e=me===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[2],Re=Xe-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],pt=st-this.margin[3],Fe=me===1?0:Ve+(me-2)*Re;if(this.ctx.clip_path.length!==0){var at=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(we,this.posX+this.margin[3],-1*Fe+_e),C.call(this,"fill",!0),this.path=at}var ct=N([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Fe+_e+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*T.scale),Se=this.lineWidth,this.lineWidth=Se*T.scale);var wt=this.autoPaging!=="text";if(wt||ct.y+ct.h<=Xe){if(wt||ct.y>=_e&&ct.x<=st){var Nt=wt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||st-ct.x)[0],_r=N([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-Fe+_e+this.ctx.prevPageLastElemOffset)[0],lr=wt&&(me>ze||me<De)&&y.call(this);lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Re,null).clip().discardPath()),this.pdf.text(Nt,_r.x,_r.y,{angle:T.angle,align:W,renderingMode:T.renderingMode}),lr&&this.pdf.restoreGraphicsState()}}else ct.y<Xe&&(this.ctx.prevPageLastElemOffset+=Xe-ct.y);T.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Se)}else T.scale>=.01&&(Ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ae*T.scale),Se=this.lineWidth,this.lineWidth=Se*T.scale),this.pdf.text(T.text,ae.x+this.posX,ae.y+this.posY,{angle:T.angle,align:W,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(Ae),this.lineWidth=Se)},F=function(T,W,J,Y){J=J||0,Y=Y||0,this.pdf.internal.out(r(T+J)+" "+n(W+Y)+" l")},V=function(T,W,J){return this.pdf.lines(T,W,J,null,null)},X=function(T,W,J,Y,ee,ae,pe,de){this.pdf.internal.out([t(a(J+T)),t(i(Y+W)),t(a(ee+T)),t(i(ae+W)),t(a(pe+T)),t(i(de+W)),"c"].join(" "))},te=function(T,W,J,Y){for(var ee=2*Math.PI,ae=Math.PI/2;W>J;)W-=ee;var pe=Math.abs(J-W);pe<ee&&Y&&(pe=ee-pe);for(var de=[],we=Y?-1:1,Ae=W;pe>1e-5;){var Se=Ae+we*Math.min(pe,ae);de.push(q.call(this,T,Ae,Se)),pe-=Math.abs(Se-Ae),Ae=Se}return de},q=function(T,W,J){var Y=(J-W)/2,ee=T*Math.cos(Y),ae=T*Math.sin(Y),pe=ee,de=-ae,we=pe*pe+de*de,Ae=we+pe*ee+de*ae,Se=4/3*(Math.sqrt(2*we*Ae)-Ae)/(pe*ae-de*ee),Ge=pe-Se*de,ke=de+Se*pe,Z=Ge,Qe=-ke,Ne=Y+W,ze=Math.cos(Ne),De=Math.sin(Ne);return{x1:T*Math.cos(W),y1:T*Math.sin(W),x2:Ge*ze-ke*De,y2:Ge*De+ke*ze,x3:Z*ze-Qe*De,y3:Z*De+Qe*ze,x4:T*Math.cos(J),y4:T*Math.sin(J)}},U=function(T){return 180*T/Math.PI},Q=function(T,W,J,Y,ee,ae){var pe=T+.5*(J-T),de=W+.5*(Y-W),we=ee+.5*(J-ee),Ae=ae+.5*(Y-ae),Se=Math.min(T,ee,pe,we),Ge=Math.max(T,ee,pe,we),ke=Math.min(W,ae,de,Ae),Z=Math.max(W,ae,de,Ae);return new o(Se,ke,Ge-Se,Z-ke)},se=function(T,W,J,Y,ee,ae,pe,de){var we,Ae,Se,Ge,ke,Z,Qe,Ne,ze,De,me,_e,Ve,Xe,Re=J-T,st=Y-W,pt=ee-J,Fe=ae-Y,at=pe-ee,ct=de-ae;for(Ae=0;Ae<41;Ae++)ze=(Qe=(Se=T+(we=Ae/40)*Re)+we*((ke=J+we*pt)-Se))+we*(ke+we*(ee+we*at-ke)-Qe),De=(Ne=(Ge=W+we*st)+we*((Z=Y+we*Fe)-Ge))+we*(Z+we*(ae+we*ct-Z)-Ne),Ae==0?(me=ze,_e=De,Ve=ze,Xe=De):(me=Math.min(me,ze),_e=Math.min(_e,De),Ve=Math.max(Ve,ze),Xe=Math.max(Xe,De));return new o(Math.round(me),Math.round(_e),Math.round(Ve-me),Math.round(Xe-_e))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,W,J=(T=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ht.API),(function(e){var t=function(s){var o,l,u,d,f,p,h,g,y,x;for(l=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(f=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(p=(f=((f=((f=((f=(f-(x=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(p+33,h+33,g+33,y+33,x+33)):l.push(122);return(function(b,N){for(var j=N;j>0;j--)b.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,u,d,f,p=String,h="length",g=255,y="charCodeAt",x="slice",b="replace";for(s[x](-2),s=s[x](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],d=0,f=(s+=o="uuuuu"[x](s[h]%5||5))[h];f>d;d+=5)l=52200625*(s[y](d)-33)+614125*(s[y](d+1)-33)+7225*(s[y](d+2)-33)+85*(s[y](d+3)-33)+(s[y](d+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return(function(N,j){for(var w=j;w>0;w--)N.pop()})(u,o[h]),p.fromCharCode.apply(p,u)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",u=0;u<s.length;u+=2)l+=String.fromCharCode("0x"+(s[u]+s[u+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=U8(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var l=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=i(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}})(Ht.API),(function(e){e.loadFile=function(t,r,n){return(function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=(function(l,u,d){var f=new XMLHttpRequest,p=0,h=function(g){var y=g.length,x=[],b=String.fromCharCode;for(p=0;p<y;p+=1)x.push(b(255&g.charCodeAt(p)));return x.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)})(a,i,s)}catch{}return o})(t,r,n)},e.loadImageFile=e.loadFile})(Ht.API),(function(e){function t(){return(fr.html2canvas?Promise.resolve(fr.html2canvas):oj(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(fr.DOMPurify?Promise.resolve(fr.DOMPurify):oj(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Ar(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var u=document.createElement(o);for(var d in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[d]=l.style[d];return u},i=function o(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(o(f,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},s=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),l){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],y=g.src.find(function(x){return x.format==="truetype"});y&&u.addFont(y.url,g.ref.name,g.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,u,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,u,d){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,d),p}).then(d,f).then(function(p){return u.updateProgress(1),p})})},s.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),p=u.call(f,o,l);return s.convert(p,d.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ht.getPageSize=function(o,l,u){if(Ar(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,u=d.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,y=0,x=0;if(h.hasOwnProperty(p))y=h[p][1]/f,x=h[p][0]/f;else try{y=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",x>y&&(g=x,x=y,y=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>x&&(g=x,x=y,y=g)}return{width:x,height:y,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Cj):null;var u=new s(l);return l.worker?u:u.from(o).doCallback()}})(Ht.API),Ht.API.addJS=function(e){return MU=e,this.internal.events.subscribe("postPutResources",function(){wb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),IU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+MU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wb!==void 0&&IU!==void 0&&this.internal.out("/Names <</JavaScript "+wb+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(i=0;i<u;i++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])})(Ht.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(f){for(var p,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,y={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=h,t.indexOf(f.charCodeAt(x+1))!==-1){p=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),y={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:p,numcomponents:f.charCodeAt(x+9)};break}h=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return y})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}})(Ht.API),Ht.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=KFe(e,{checkCrc:!0}),s=i.width,o=i.height,l=i.channels,u=i.palette,d=i.depth;a=u&&l===1?(function(D){for(var O=D.width,L=D.height,R=D.data,P=D.palette,F=D.depth,V=!1,X=[],te=[],q=void 0,U=!1,Q=0,se=0;se<P.length;se++){var K=po(P[se],4),T=K[0],W=K[1],J=K[2],Y=K[3];X.push(T,W,J),Y!=null&&(Y===0?(Q++,te.length<1&&te.push(se)):Y<255&&(U=!0))}if(U||Q>1){V=!0,te=void 0;var ee=O*L;q=new Uint8Array(ee);for(var ae=new DataView(R.buffer),pe=0;pe<ee;pe++){var de=Ej(ae,pe,F),we=po(P[de],4)[3];q[pe]=we}}else Q===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:R,alphaBytes:q,needSMask:V,palette:X,mask:te}})(i):l===2||l===4?(function(D){for(var O=D.data,L=D.width,R=D.height,P=D.channels,F=D.depth,V=P===2?"DeviceGray":"DeviceRGB",X=P-1,te=L*R,q=X,U=te*q,Q=1*te,se=Math.ceil(U*F/8),K=Math.ceil(Q*F/8),T=new Uint8Array(se),W=new Uint8Array(K),J=new DataView(O.buffer),Y=new DataView(T.buffer),ee=new DataView(W.buffer),ae=!1,pe=0;pe<te;pe++){for(var de=pe*P,we=0;we<q;we++)qU(Y,Ej(J,de+we,F),pe*q+we,F);var Ae=Ej(J,de+q,F);Ae<(1<<F)-1&&(ae=!0),qU(ee,Ae,1*pe,F)}return{colorSpace:V,colorsPerPixel:X,sMaskBitsPerComponent:ae?F:void 0,colorBytes:T,alphaBytes:W,needSMask:ae}})(i):(function(D){var O=D.data,L=D.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:L,colorsPerPixel:L==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?(function(R){for(var P=R.length,F=new Uint8Array(2*P),V=new DataView(F.buffer,F.byteOffset,F.byteLength),X=0;X<P;X++)V.setUint16(2*X,R[X],!1);return F})(O):O,needSMask:!1}})(i);var f,p,h,g=a,y=g.colorSpace,x=g.colorsPerPixel,b=g.sMaskBitsPerComponent,N=g.colorBytes,j=g.alphaBytes,w=g.needSMask,C=g.palette,E=g.mask,I=null;return n!==Ht.API.image_compression.NONE&&typeof U8=="function"?(I=(function(D){var O;switch(D){case Ht.API.image_compression.FAST:O=11;break;case Ht.API.image_compression.MEDIUM:O=13;break;case Ht.API.image_compression.SLOW:O=14;break;default:O=12}return O})(n),f=this.decode.FLATE_DECODE,p="/Predictor ".concat(I," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(s),e=BU(N,Math.ceil(s*x*d/8),x,d,n),w&&(h=BU(j,Math.ceil(s*b/8),1,b,n))):(f=void 0,p=void 0,e=N,w&&(h=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:p,transparency:E,palette:C,sMask:h,predictor:I,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:b,colorSpace:y}}},(function(e){e.processGIF89A=function(t,r,n,a){var i=new g9e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:s,height:o},d=new Pj(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A})(Ht.API),Nc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){vn.log("bit decode error:"+r)}},Nc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Nc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Nc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Nc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,u=i>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=e}},Nc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,d=a*this.width*4+4*i;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Nc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Nc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Nc.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,a){var i=new Nc(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new Pj(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}})(Ht.API),HU.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,a){var i=new HU(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},u=new Pj(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}})(Ht.API),Ht.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],h=n[u+3];i[o++]=d,i[o++]=f,i[o++]=p,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ht.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Og=Ht.API,Nb=Og.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,h=e.length,g=0,y=o[0]||l,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(p=f&&Ar(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,x.push((o[n]||y)/l+p)),g=n;return x},RU=Og.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Og.processArabic&&(e=Og.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:Nb.apply(this,arguments).reduce(function(i,s){return i+s},0)},LU=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},FU=function(e,t,r){r||(r={});var n,a,i,s,o,l,u,d=[],f=[d],p=r.textIndent||0,h=0,g=0,y=e.split(" "),x=Nb.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var b=Array(l).join(" "),N=[];y.map(function(w){(w=w.split(/\s*\n/)).length>1?N=N.concat(w.map(function(C,E){return(E&&C.length?`
`:"")+C})):N.push(w[0])}),y=N,l=RU.apply(this,[b,r])}for(i=0,s=y.length;i<s;i++){var j=0;if(n=y[i],l&&n[0]==`
`&&(n=n.substr(1),j=1),p+h+(g=(a=Nb.apply(this,[n,r])).reduce(function(w,C){return w+C},0))>t||j){if(g>t){for(o=LU.apply(this,[n,a,t-(p+h),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(w,C){return w+C},0)}else d=[n];f.push(d),p=g+l,h=x}else d.push(n),p+=h+g,h=x}return u=l?function(w,C){return(C?b:"")+w.join(" ")}:function(w){return w.join(" ")},f.map(u)},Og.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),p="Unicode";return f.metadata[p]?{widths:f.metadata[p].widths||{0:1},kerning:f.metadata[p].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(FU.apply(this,[n[o],s,i]));return u},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var h,g,y,x,b=["{"];for(var N in p){if(h=p[N],isNaN(parseInt(N,10))?g="'"+N+"'":(N=parseInt(N,10),g=(g=s(N).slice(2)).slice(0,-1)+a[g.slice(-1)]),typeof h=="number")h<0?(y=s(h).slice(3),x="-"):(y=s(h).slice(2),x=""),y=x+y.slice(0,-1)+a[y.slice(-1)];else{if(Ar(h)!=="object")throw new Error("Don't know what to do with value type "+Ar(h)+".");y=o(h)}b.push(g+y)}return b.push("}"),b.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,y,x,b={},N=1,j=b,w=[],C="",E="",I=p.length-1,D=1;D<I;D+=1)(x=p[D])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(x):x=="{"?(w.push([j,y]),j={},y=void 0):x=="}"?((g=w.pop())[0][g[1]]=j,y=void 0,j=g[0]):x=="-"?N=-1:y===void 0?n.hasOwnProperty(x)?(C+=n[x],y=parseInt(C,16)*N,N=1,C=""):C+=x:n.hasOwnProperty(x)?(E+=n[x],j[y]=parseInt(E,16)*N,N=1,y=void 0,E=""):E+=x;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var h=p.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])})(Ht.API),(function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Ub(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ht),Ht.API.addSvgAsImage=function(e,t,r,n,a,i,s,o){if(isNaN(t)||isNaN(r))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=a;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(fr.canvg?Promise.resolve(fr.canvg):oj(()=>import("./index.es-H_lWdgtt.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(d)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,a,s,o)})},Ht.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Ht.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],u=0,d=0,f=0;function p(g,y){var x,b=!1;for(x=0;x<g.length;x+=1)g[x]===y&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Ar(e)==="object"){for(a in e)if(i=e[a],p(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&p(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")l.push(String(i[u]-1));else if(i[u].length>1){for(d=0;d<i[u].length;d+=1)typeof i[u][d]!="number"&&(n=!1);n===!0&&l.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?y.push("/"+g+" /"+r[g].value):y.push("/"+g+" "+r[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}})(Ht.API),(function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=i.length;f<p;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(i){var s,o,l,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(i).sort(function(h,g){return h-g})).length;f<p;f++)s=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<p.length;g++)h+=String.fromCharCode(p[g]);var y=u();d({data:h,addLength1:!0,objectId:y}),l("endobj");var x=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var b=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ug(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var N=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ug(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Ug(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",h=0;h<f.length;h++)p+=String.fromCharCode(f[h]);var g=u();d({data:p,addLength1:!0,objectId:g}),l("endobj");var y=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var x=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ug(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Ug(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,u=i.y,d=i.options||{},f=i.mutex||{},p=f.pdfEscape,h=f.activeFontKey,g=f.fonts,y=h,x="",b=0,N="",j=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(N=o,y=h,Array.isArray(o)&&(N=o[0]),b=0;b<N.length;b+=1)g[y].metadata.hasOwnProperty("cmap")&&(s=g[y].metadata.cmap.unicode.codeMap[N[b].charCodeAt(0)]),s||N[b].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?x+=N[b]:x+="";var w="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?w=p(x,y).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(w=r(x,g[y])),f.isHex=!0,{text:w,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},l,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},l,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])})(Ht),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ht.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,j=0;this.__bidiEngine__={};var w=function(R){var P=R.charCodeAt(),F=P>>8,V=y[F];return V!==void 0?f[256*V+(255&P)]:F===252||F===253?"AL":b.test(F)?"L":F===8?"R":"N"},C=function(R){for(var P,F=0;F<R.length;F++){if((P=w(R.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},E=function(R,P,F,V){var X,te,q,U,Q=P[V];switch(Q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(Q="AN");break;case"AL":N=!0,Q="R";break;case"WS":case"BN":Q="N";break;case"CS":V<1||V+1>=P.length||(X=F[V-1])!=="EN"&&X!=="AN"||(te=P[V+1])!=="EN"&&te!=="AN"?Q="N":N&&(te="AN"),Q=te===X?te:"N";break;case"ES":Q=(X=V>0?F[V-1]:"B")==="EN"&&V+1<P.length&&P[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&F[V-1]==="EN"){Q="EN";break}if(N){Q="N";break}for(q=V+1,U=P.length;q<U&&P[q]==="ET";)q++;Q=q<U&&P[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(U=P.length,q=V+1;q<U&&P[q]==="NSM";)q++;if(q<U){var se=R[V],K=se>=1425&&se<=2303||se===64286;if(X=P[q],K&&(X==="R"||X==="AL")){Q="R";break}}}Q=V<1||(X=P[V-1])==="B"?"N":F[V-1];break;case"B":N=!1,a=!0,Q=j;break;case"S":i=!0,Q="N"}return Q},I=function(R,P,F){var V=R.split("");return F&&D(V,F,{hiLevel:j}),V.reverse(),P&&P.reverse(),V.join("")},D=function(R,P,F){var V,X,te,q,U,Q=-1,se=R.length,K=0,T=[],W=j?h:p,J=[];for(N=!1,a=!1,i=!1,X=0;X<se;X++)J[X]=w(R[X]);for(te=0;te<se;te++){if(U=K,T[te]=E(R,J,T,te),V=240&(K=W[U][g[T[te]]]),K&=15,P[te]=q=W[K][5],V>0)if(V===16){for(X=Q;X<te;X++)P[X]=1;Q=-1}else Q=-1;if(W[K][6])Q===-1&&(Q=te);else if(Q>-1){for(X=Q;X<te;X++)P[X]=q;Q=-1}J[te]==="B"&&(P[te]=0),F.hiLevel|=q}i&&(function(Y,ee,ae){for(var pe=0;pe<ae;pe++)if(Y[pe]==="S"){ee[pe]=j;for(var de=pe-1;de>=0&&Y[de]==="WS";de--)ee[de]=j}})(J,P,se)},O=function(R,P,F,V,X){if(!(X.hiLevel<R)){if(R===1&&j===1&&!a)return P.reverse(),void(F&&F.reverse());for(var te,q,U,Q,se=P.length,K=0;K<se;){if(V[K]>=R){for(U=K+1;U<se&&V[U]>=R;)U++;for(Q=K,q=U-1;Q<q;Q++,q--)te=P[Q],P[Q]=P[q],P[q]=te,F&&(te=F[Q],F[Q]=F[q],F[q]=te);K=U}K++}}},L=function(R,P,F){var V=R.split(""),X={hiLevel:j};return F||(F=[]),D(V,F,X),(function(te,q,U){if(U.hiLevel!==0&&d)for(var Q,se=0;se<te.length;se++)q[se]===1&&(Q=x.indexOf(te[se]))>=0&&(te[se]=x[Q+1])})(V,F,X),O(2,V,P,F,X),O(1,V,P,F,X),V.join("")};return this.__bidiEngine__.doBidiReorder=function(R,P,F){if((function(X,te){if(te)for(var q=0;q<X.length;q++)te[q]=q;o===void 0&&(o=C(X)),u===void 0&&(u=C(X))})(R,P),s||!l||u)if(s&&l&&o^u)j=o?1:0,R=I(R,P,F);else if(!s&&l&&u)j=o?1:0,R=L(R,P,F),R=I(R,P);else if(!s||o||l||u){if(s&&!l&&o^u)R=I(R,P),o?(j=0,R=L(R,P,F)):(j=1,R=L(R,P,F),R=I(R,P));else if(s&&o&&!l&&u)j=1,R=L(R,P,F),R=I(R,P);else if(!s&&!l&&o^u){var V=d;o?(j=1,R=L(R,P,F),j=0,d=!1,R=L(R,P,F),d=V):(j=0,R=L(R,P,F),R=I(R,P),j=1,d=!1,R=L(R,P,F),d=V,R=I(R,P))}}else j=0,R=L(R,P,F);else j=o?1:0,R=L(R,P,F);return R},this.__bidiEngine__.setOptions=function(R){R&&(s=R.isInputVisual,l=R.isOutputVisual,o=R.isInputRtl,u=R.isOutputRtl,d=R.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Ht),Ht.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Mh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new D9e(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new v9e(this.contents),this.head=new y9e(this),this.name=new j9e(this),this.cmap=new gie(this),this.toUnicode={},this.hhea=new b9e(this),this.maxp=new C9e(this),this.hmtx=new _9e(this),this.post=new N9e(this),this.os2=new w9e(this),this.loca=new A9e(this),this.glyf=new E9e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,u;for(u=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var Wc,Mh=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),v9e=(function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,u,d,f,p,h,g,y;for(y in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),d=16*h-f,(a=new Mh).writeInt(this.scalarType),a.writeShort(h),a.writeShort(f),a.writeShort(s),a.writeShort(d),i=16*h,u=a.pos+i,o=null,g=[],r)for(p=r[y],a.writeString(y),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),g=g.concat(p),y==="head"&&(o=u),u+=p.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=vie.call(r);r.length%4;)r.push(0);for(i=new Mh(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t})(),x9e={}.hasOwnProperty,Hu=function(e,t){for(var r in t)x9e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Wc=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var y9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Mh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),GU=(function(){function e(t,r){var n,a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),p=h/2,t.pos+=6,i=(function(){var w,C;for(C=[],l=w=0;0<=p?w<p:w>p;l=0<=p?++w:--w)C.push(t.readUInt16());return C})(),t.pos+=2,y=(function(){var w,C;for(C=[],l=w=0;0<=p?w<p:w>p;l=0<=p?++w:--w)C.push(t.readUInt16());return C})(),u=(function(){var w,C;for(C=[],l=w=0;0<=p?w<p:w>p;l=0<=p?++w:--w)C.push(t.readUInt16());return C})(),d=(function(){var w,C;for(C=[],l=w=0;0<=p?w<p:w>p;l=0<=p?++w:--w)C.push(t.readUInt16());return C})(),a=(this.length-t.pos+this.offset)/2,o=(function(){var w,C;for(C=[],l=w=0;0<=a?w<a:w>a;l=0<=a?++w:--w)C.push(t.readUInt16());return C})(),l=b=0,j=i.length;b<j;l=++b)for(x=i[l],n=N=g=y[l];g<=x?N<=x:N>=x;n=g<=x?++N:--N)d[l]===0?s=n+u[l]:(s=o[d[l]/2+(n-g)-(p-l)]||0)!==0&&(s+=u[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,u,d,f,p,h,g,y,x,b,N,j,w,C,E,I,D,O,L,R,P,F,V,X,te,q,U,Q,se,K,T,W,J,Y,ee,ae,pe,de,we,Ae,Se;switch(V=new Mh,s=Object.keys(t).sort(function(Ge,ke){return Ge-ke}),r){case"macroman":for(y=0,x=(function(){var Ge=[];for(g=0;g<256;++g)Ge.push(0);return Ge})(),N={0:0},i={},X=0,Q=s.length;X<Q;X++)N[de=t[a=s[X]]]==null&&(N[de]=++y),i[a]={old:t[a],new:N[t[a]]},x[a]=N[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(x),{charMap:i,subtable:V.data,maxGlyphID:y+1};case"unicode":for(P=[],f=[],j=0,N={},n={},b=u=null,te=0,se=s.length;te<se;te++)N[C=t[a=s[te]]]==null&&(N[C]=++j),n[a]={old:C,new:N[C]},o=N[C]-a,b!=null&&o===u||(b&&f.push(b),P.push(a),u=o),b=a;for(b&&f.push(b),f.push(65535),P.push(65535),L=2*(O=P.length),D=2*Math.pow(Math.log(O)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,I=2*O-D,l=[],E=[],h=[],g=q=0,K=P.length;q<K;g=++q){if(R=P[g],d=f[g],R===65535){l.push(0),E.push(0);break}if(R-(F=n[R].new)>=32768)for(l.push(0),E.push(2*(h.length+O-g)),a=U=R;R<=d?U<=d:U>=d;a=R<=d?++U:--U)h.push(n[a].new);else l.push(F-R),E.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*O+2*h.length),V.writeUInt16(0),V.writeUInt16(L),V.writeUInt16(D),V.writeUInt16(p),V.writeUInt16(I),ae=0,T=f.length;ae<T;ae++)a=f[ae],V.writeUInt16(a);for(V.writeUInt16(0),pe=0,W=P.length;pe<W;pe++)a=P[pe],V.writeUInt16(a);for(we=0,J=l.length;we<J;we++)o=l[we],V.writeUInt16(o);for(Ae=0,Y=E.length;Ae<Y;Ae++)w=E[Ae],V.writeUInt16(w);for(Se=0,ee=h.length;Se<ee;Se++)y=h[Se],V.writeUInt16(y);return{charMap:n,subtable:V.data,maxGlyphID:j+1}}},e})(),gie=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new GU(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=GU.encode(t,r),(a=new Mh).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e})(),b9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),w9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),N9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e})(),S9e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},j9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,s,o,l,u,d,f,p;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},i=d=0,f=n.length;d<f;i=++d)a=n[i],t.pos=a.offset,u=t.readString(a.length),s=new S9e(u,a),l[p=a.nameID]==null&&(l[p]=[]),l[a.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e})(),C9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),_9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,d;for(d=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)d.push(t.readInt16());return d})(),this.widths=(function(){var u,d,f,p;for(p=[],u=0,d=(f=this.metrics).length;u<d;u++)i=f[u],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),vie=[].slice,E9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,s,o,l,u,d,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new Mh(r.read(a))).readShort(),u=o.readShort(),f=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[t]=s===-1?new k9e(o,u,f,l,d):new P9e(o,s,u,f,l,d),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,s,o,l;for(s=[],i=[],o=0,l=r.length;o<l;o++)a=t[r[o]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},e})(),P9e=(function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),k9e=(function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Mh(vie.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),A9e=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Hu(e,Wc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(a+=l)}for(var u=new Array(4*n.length),d=0;d<n.length;++d)u[4*d+3]=255&n[d],u[4*d+2]=(65280&n[d])>>8,u[4*d+1]=(16711680&n[d])>>16,u[4*d]=(4278190080&n[d])>>24;return u},e})(),D9e=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,u,d,f,p,h,g,y,x,b;for(a in n=gie.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},b=n.charMap)h[(l=b[a]).old]=l.new;for(g in p=n.maxGlyphID,s)g in h||(h[g]=p++);return d=(function(N){var j,w;for(j in w={},N)w[N[j]]=j;return w})(h),f=Object.keys(d).sort(function(N,j){return N-j}),y=(function(){var N,j,w;for(w=[],N=0,j=f.length;N<j;N++)o=f[N],w.push(d[o]);return w})(),i=this.font.glyf.encode(s,y,h),u=this.font.loca.encode(i.offsets,y),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e})();Ht.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+(function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(t.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t})();const T9e=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[p,h]=A.useState(null),[g,y]=A.useState(null),[x,b]=A.useState({contractType:"Wedding",clientName:"",clientEmail:"",clientPhone:"",clientAddress:"",eventType:"",eventDate:"",eventVenue:"",packageDetails:"",totalAmount:"",advanceAmount:"",balanceAmount:"",deliverables:"",deliveryTimeline:"45 days",termsAndConditions:"",additionalNotes:""}),N="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec",j=[{value:"Wedding",label:"Wedding Videography",icon:""},{value:"Event",label:"Event Videography",icon:""},{value:"Commercial",label:"Commercial Shoot",icon:""},{value:"Product",label:"Product Photography",icon:""},{value:"RealEstate",label:"Real Estate",icon:""},{value:"Music",label:"Music Video",icon:""}];A.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const F=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json();F.success&&t(F.leads||[]);const X=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getEvents"})})).json();X.success&&n(X.events||[])}catch(P){console.error("Error fetching data:",P)}finally{i(!1)}},C=P=>{f(P),b({...x,contractType:P["Event Type"]||"Wedding",clientName:P["Client Name"]||"",clientEmail:P.Email||"",clientPhone:P.Phone||"",eventType:P["Event Type"]||"",eventDate:P["Event Date"]||"",eventVenue:P.Venue||""})},E=P=>{h(P),b({...x,contractType:P.eventType||"Wedding",clientName:P.clientName||"",clientEmail:P.email||"",clientPhone:P.phone||"",eventType:P.eventType||"",eventDate:P.eventDate||"",eventVenue:P.venue||""})},I=()=>{const P=new Ht;P.setFillColor(79,70,229),P.rect(0,0,210,40,"F"),P.setTextColor(255,255,255),P.setFontSize(28),P.setFont("helvetica","bold"),P.text("RN PHOTOFILMS",105,20,{align:"center"}),P.setFontSize(12),P.setFont("helvetica","normal"),P.text("Professional Photography & Videography Services",105,28,{align:"center"}),P.text("Email: rnstudio.x@gmail.com | Phone: +91 XXXXXXXXXX",105,35,{align:"center"}),P.setTextColor(0,0,0),P.setFontSize(20),P.setFont("helvetica","bold"),P.text(`${x.contractType} VIDEOGRAPHY AGREEMENT`,105,55,{align:"center"}),P.setFontSize(10),P.setFont("helvetica","normal"),P.text(`Date: ${new Date().toLocaleDateString("en-IN")}`,15,65);let F=75;if(P.setFontSize(14),P.setFont("helvetica","bold"),P.setFillColor(238,242,255),P.rect(15,F,180,8,"F"),P.text("1. CLIENT INFORMATION",20,F+6),F+=15,P.setFontSize(11),P.setFont("helvetica","normal"),P.text(`Client Name: ${x.clientName}`,20,F),F+=7,P.text(`Email: ${x.clientEmail}`,20,F),F+=7,P.text(`Phone: ${x.clientPhone}`,20,F),F+=7,x.clientAddress&&(P.text(`Address: ${x.clientAddress}`,20,F),F+=7),F+=5,P.setFontSize(14),P.setFont("helvetica","bold"),P.setFillColor(238,242,255),P.rect(15,F,180,8,"F"),P.text("2. EVENT DETAILS",20,F+6),F+=15,P.setFontSize(11),P.setFont("helvetica","normal"),P.text(`Event Type: ${x.eventType}`,20,F),F+=7,P.text(`Event Date: ${x.eventDate}`,20,F),F+=7,P.text(`Venue: ${x.eventVenue}`,20,F),F+=10,P.setFontSize(14),P.setFont("helvetica","bold"),P.setFillColor(238,242,255),P.rect(15,F,180,8,"F"),P.text("3. PACKAGE & PRICING",20,F+6),F+=15,P.setFontSize(11),P.setFont("helvetica","normal"),x.packageDetails){const U=P.splitTextToSize(`Package Details: ${x.packageDetails}`,170);P.text(U,20,F),F+=U.length*7+3}if(P.text(`Total Amount: ${x.totalAmount}`,20,F),F+=7,P.text(`Advance Paid: ${x.advanceAmount}`,20,F),F+=7,P.text(`Balance Due: ${x.balanceAmount}`,20,F),F+=10,P.setFontSize(14),P.setFont("helvetica","bold"),P.setFillColor(238,242,255),P.rect(15,F,180,8,"F"),P.text("4. DELIVERABLES",20,F+6),F+=15,P.setFontSize(11),P.setFont("helvetica","normal"),x.deliverables){const U=P.splitTextToSize(x.deliverables,170);P.text(U,20,F),F+=U.length*7+3}P.text(`Delivery Timeline: ${x.deliveryTimeline}`,20,F),F+=10,F>240&&(P.addPage(),F=20),P.setFontSize(14),P.setFont("helvetica","bold"),P.setFillColor(238,242,255),P.rect(15,F,180,8,"F"),P.text("5. TERMS & CONDITIONS",20,F+6),F+=15,P.setFontSize(10),P.setFont("helvetica","normal");const V=["1. The advance payment is non-refundable.","2. Balance payment must be made before final delivery.","3. All raw footage remains the property of RN PhotoFilms.","4. Edited videos will be delivered within the specified timeline.","5. Weather conditions or unforeseen circumstances may affect coverage.","6. Client must provide meal and rest facilities for the crew if event exceeds 8 hours.","7. Travel and accommodation charges (if applicable) will be billed separately.","8. Copyright of all deliverables belongs to RN PhotoFilms unless otherwise agreed."],X=x.termsAndConditions||V.join(`
`),te=P.splitTextToSize(X,170);if(P.text(te,20,F),F+=te.length*5+10,x.additionalNotes){F>240&&(P.addPage(),F=20),P.setFontSize(14),P.setFont("helvetica","bold"),P.text("6. ADDITIONAL NOTES",20,F),F+=10,P.setFontSize(10),P.setFont("helvetica","normal");const U=P.splitTextToSize(x.additionalNotes,170);P.text(U,20,F),F+=U.length*5+15}F>220&&(P.addPage(),F=20),F+=20,P.setFontSize(11),P.setFont("helvetica","bold"),P.line(20,F,80,F),P.text("Client Signature",20,F+7),P.setFont("helvetica","normal"),P.setFontSize(9),P.text(x.clientName,20,F+12),P.setFontSize(11),P.setFont("helvetica","bold"),P.line(130,F,190,F),P.text("Authorized Signatory",130,F+7),P.setFont("helvetica","normal"),P.setFontSize(9),P.text("RN PhotoFilms",130,F+12),P.setFontSize(8),P.setTextColor(128,128,128);const q=P.internal.getNumberOfPages();for(let U=1;U<=q;U++)P.setPage(U),P.text("This is a legally binding agreement. Please read carefully before signing.",105,285,{align:"center"}),P.text(`Page ${U} of ${q}`,105,290,{align:"center"});return P},D=()=>{const F=I().output("blob");y(F),u(!0)},O=()=>{const P=I(),F=`Contract_${x.clientName.replace(/\s+/g,"_")}_${new Date().getTime()}.pdf`;P.save(F),alert(" Contract downloaded successfully!")},L=async()=>{if(!x.clientEmail){alert(" Client email is required!");return}const F=I().output("dataurlstring").split(",")[1];try{const X=await(await fetch(N,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"sendContractEmail",clientName:x.clientName,clientEmail:x.clientEmail,contractType:x.contractType,pdfData:F,filename:`Contract_${x.clientName.replace(/\s+/g,"_")}.pdf`})})).json();X.success?alert(" Contract sent via email successfully!"):alert(" Failed to send email: "+X.message)}catch(V){console.error("Error sending email:",V),alert(" Failed to send contract via email")}},R=()=>{const P=parseFloat(x.totalAmount)||0,F=parseFloat(x.advanceAmount)||0,V=P-F;b({...x,balanceAmount:V.toString()})};return A.useEffect(()=>{R()},[x.totalAmount,x.advanceAmount]),a?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(XN,{className:"text-blue-600"}),"Contract Generator"]}),c.jsx("p",{className:"text-gray-600",children:"Generate professional contracts for your clients"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(hn,{className:"text-blue-600"}),"Select from Leads"]}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:e.filter(P=>P.Status!=="Converted").slice(0,10).map(P=>c.jsxs("button",{onClick:()=>{C(P),o(!0)},className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[c.jsx("div",{className:"font-medium text-gray-900",children:P["Client Name"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[P["Event Type"],"  ",P["Event Date"]]})]},P.id))})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Pi,{className:"text-purple-600"}),"Select from Events"]}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:r.slice(0,10).map(P=>c.jsxs("button",{onClick:()=>{E(P),o(!0)},className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-purple-50 hover:border-purple-300 transition-colors",children:[c.jsx("div",{className:"font-medium text-gray-900",children:P.clientName}),c.jsxs("div",{className:"text-sm text-gray-600",children:[P.eventType,"  ",P.eventDate]})]},P.id))})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:c.jsxs("button",{onClick:()=>o(!0),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-4 rounded-lg transition-all flex items-center justify-center gap-3 text-lg",children:[c.jsx(XN,{className:"text-2xl"}),"Generate New Contract from Scratch"]})}),c.jsx(Kt,{children:s&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:()=>o(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:P=>P.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(XN,{}),"Generate Contract"]}),c.jsx("p",{className:"text-blue-100 mt-1",children:"Fill in the contract details"})]}),c.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contract Type *"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map(P=>c.jsxs("button",{onClick:()=>b({...x,contractType:P.value}),className:`p-4 border-2 rounded-lg transition-all ${x.contractType===P.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:P.icon}),c.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.label})]},P.value))})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Client Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),c.jsx("input",{type:"text",value:x.clientName,onChange:P=>b({...x,clientName:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),c.jsx("input",{type:"email",value:x.clientEmail,onChange:P=>b({...x,clientEmail:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"client@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),c.jsx("input",{type:"tel",value:x.clientPhone,onChange:P=>b({...x,clientPhone:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9876543210"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),c.jsx("input",{type:"text",value:x.clientAddress,onChange:P=>b({...x,clientAddress:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Client address"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Event Details"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type *"}),c.jsx("input",{type:"text",value:x.eventType,onChange:P=>b({...x,eventType:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Wedding, Birthday"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date *"}),c.jsx("input",{type:"date",value:x.eventDate,onChange:P=>b({...x,eventDate:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Venue *"}),c.jsx("input",{type:"text",value:x.eventVenue,onChange:P=>b({...x,eventVenue:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Event venue address"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Package & Pricing"}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Details"}),c.jsx("textarea",{value:x.packageDetails,onChange:P=>b({...x,packageDetails:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Describe the package (e.g., Full day coverage, 2 photographers, drone shots...)"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Amount () *"}),c.jsx("input",{type:"number",value:x.totalAmount,onChange:P=>b({...x,totalAmount:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"50000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Advance Amount ()"}),c.jsx("input",{type:"number",value:x.advanceAmount,onChange:P=>b({...x,advanceAmount:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"15000"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Balance ()"}),c.jsx("input",{type:"number",value:x.balanceAmount,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100",placeholder:"Auto-calculated"})]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Deliverables"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deliverables List"}),c.jsx("textarea",{value:x.deliverables,onChange:P=>b({...x,deliverables:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"List deliverables (e.g., Edited video (15-20 min), Highlight reel (3-5 min), All photos in HD...)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Timeline"}),c.jsxs("select",{value:x.deliveryTimeline,onChange:P=>b({...x,deliveryTimeline:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"30 days",children:"30 days"}),c.jsx("option",{value:"45 days",children:"45 days"}),c.jsx("option",{value:"60 days",children:"60 days"}),c.jsx("option",{value:"90 days",children:"90 days"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),c.jsx("textarea",{value:x.additionalNotes,onChange:P=>b({...x,additionalNotes:P.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Any additional terms, special requests, or notes..."})]})]})}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex gap-3",children:[c.jsxs("button",{onClick:D,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(sl,{}),"Preview Contract"]}),c.jsxs("button",{onClick:O,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(qs,{}),"Download PDF"]}),c.jsxs("button",{onClick:L,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ga,{}),"Email to Client"]})]})]})})}),c.jsx(Kt,{children:l&&g&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>u(!1),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:P=>P.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Contract Preview"}),c.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:c.jsx("iframe",{src:URL.createObjectURL(g),className:"w-full h-full min-h-[600px] border border-gray-300 rounded-lg",title:"Contract Preview"})}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-b-2xl flex gap-3",children:[c.jsxs("button",{onClick:O,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(qs,{}),"Download"]}),c.jsxs("button",{onClick:L,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ga,{}),"Send via Email"]})]})]})})})]})};function xie(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,u=o*l,d=/\r\n|\r|\n/g,f="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(d):e,p=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=p/2*u:n.valign==="bottom"&&(r-=p*u),n.halign==="center"||n.halign==="right"){var h=o;if(n.halign==="center"&&(h*=.5),f&&p>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*h,r),r+=u;return a}t-=a.getStringUnitWidth(e)*h}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var YU={},v0=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:YU=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),o=u[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),d=e.unifyColor(t.textColor),d&&(a=this.jsPDFDocument).setTextColor.apply(a,d),d=e.unifyColor(t.lineColor),d&&(i=this.jsPDFDocument).setDrawColor.apply(i,d),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return YU||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),J8=function(e,t){return J8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},J8(e,t)};function yie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");J8(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bie=(function(e){yie(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function O9e(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function I9e(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function R5(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function wie(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Nie(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Nie(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function o3(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Sie(e,t){var r=o3(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function M9e(e,t,r,n,a){var i={},s=1.3333333333333333,o=kj(t,function(j){return a.getComputedStyle(j).backgroundColor});o!=null&&(i.fillColor=o);var l=kj(t,function(j){return a.getComputedStyle(j).color});l!=null&&(i.textColor=l);var u=L9e(n,r);u&&(i.cellPadding=u);var d="borderTopColor",f=s*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var h=(parseFloat(p)||0)/f;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?d="borderRightColor":i.lineWidth.bottom?d="borderBottomColor":i.lineWidth.left&&(d="borderLeftColor"));var g=kj(t,function(j){return a.getComputedStyle(j)[d]});g!=null&&(i.lineColor=g);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(i.fontSize=x/s);var b=R9e(n);b&&(i.fontStyle=b);var N=(n.fontFamily||"").toLowerCase();return e.indexOf(N)!==-1&&(i.font=N),i}function R9e(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function kj(e,t){var r=jie(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function jie(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:jie(e.parentElement,t):r}function L9e(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=o3(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Cie(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),u=e.scaleFactor(),d=[],f=[],p=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:d,body:f,foot:p};for(var h=0;h<o.rows.length;h++){var g=o.rows[h],y=(s=(i=g?.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),x=F9e(l,u,r,g,n,a);x&&(y==="thead"?d.push(x):y==="tfoot"?p.push(x):f.push(x))}return{head:d,body:f,foot:p}}function F9e(e,t,r,n,a,i){for(var s=new bie(n),o=0;o<n.cells.length;o++){var l=n.cells[o],u=r.getComputedStyle(l);if(a||u.display!=="none"){var d=void 0;i&&(d=M9e(e,l,t,u,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:B9e(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function B9e(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function z9e(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function qd(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function W9e(e,t){var r=new v0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();z9e(a,n,t);var i=qd({},a,n,t),s;typeof window<"u"&&(s=window);var o=U9e(a,n,t),l=$9e(a,n,t),u=q9e(r,i),d=H9e(r,i,s);return{id:t.tableId,content:d,hooks:l,styles:o,settings:u}}function U9e(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var u=e[l],d=t[l],f=r[l];n.columnStyles=qd({},u,d,f)}else{var p=[e,t,r],h=p.map(function(g){return g[l]||{}});n[l]=qd({},h[0],h[1],h[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function $9e(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function q9e(e,t){var r,n,a,i,s,o,l,u,d,f,p,h,g=o3(t.margin,40/e.scaleFactor()),y=(r=V9e(e,t.startY))!==null&&r!==void 0?r:g.top,x;t.showFoot===!0?x="everyPage":t.showFoot===!1?x="never":x=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var b;t.showHead===!0?b="everyPage":t.showHead===!1?b="never":b=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var N=(i=t.useCss)!==null&&i!==void 0?i:!1,j=t.theme||(N?"plain":"striped"),w=!!t.horizontalPageBreak,C=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:N,theme:j,startY:y,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=t.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(d=t.tableWidth)!==null&&d!==void 0?d:"auto",showHead:b,showFoot:x,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(p=t.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:w,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function V9e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function H9e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=Cie(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||G9e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function G9e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=o?.colSpan||1);for(var l=0;l<s;l++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(l>0?"_".concat(l):"");var d={dataKey:u};a.push(d)}}),a}var Z8=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),Y9e=(function(e){yie(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t})(Z8),K9e=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var u=l[o],d=new Y9e(t,this,n,a,i,s),f=u(d)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new Z8(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new Z8(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),_ie=(function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof bie&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),u=l+o;return u>a?u:a},0)},e})(),Eie=(function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=o3(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),X9e=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e})();function J9e(e,t){Z9e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=Q8(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=Q8(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),eBe(t),tBe(t,e),Q9e(t)}function Z9e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Sie(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],u=i.cells[l.index];if(u){var d=t.hooks.didParseCell;t.callCellHooks(e,d,u,i,l,null);var f=u.padding("horizontal");u.contentWidth=R5(u.text,u.styles,e)+f;var p=R5(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,e);if(u.minReadableWidth=p+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],u=i.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var d=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=d.cellWidth||d.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function Q8(e,t,r){for(var n=t,a=e.reduce(function(h,g){return h+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,u=s.width+l,d=r(s),f=u<d?d:u;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var p=e.filter(function(h){return t<0?h.width>r(h):!0});p.length&&(t=Q8(p,t,r))}return t}function Q9e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],u=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[l.index],u.left--,u.left<=1&&delete t[l.index];else{var d=i.cells[l.index];if(!d)continue;if(d.height=i.height,d.rowSpan>1){var f=n.length-a,p=d.rowSpan>f?f:d.rowSpan;t[l.index]={cell:d,left:p,row:i}}}}}function eBe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var u=a;delete n.cells[l.index],a=null,u.width=l.width+i}else{var u=n.cells[l.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=l.width;continue}u.width=l.width+i}}}function tBe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],u=i.cells[l.index];if(u){t.applyStyles(u.styles,!0);var d=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=t.splitTextToSize(u.text,d+1/t.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=KU(u.text,d,u.styles,t,"...");else if(u.styles.overflow==="hidden")u.text=KU(u.text,d,u.styles,t,"");else if(typeof u.styles.overflow=="function"){var f=u.styles.overflow(u.text,d);typeof f=="string"?u.text=[f]:u.text=f}u.contentHeight=u.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var p=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<p*u.rowSpan?r={height:p,count:u.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function KU(e,t,r,n,a){return e.map(function(i){return rBe(i,t,r,n,a)})}function rBe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=R5(e,r,n))return e;for(;t<R5(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function nBe(e,t){var r=new v0(e),n=aBe(t,r.scaleFactor()),a=new K9e(t,n);return J9e(r,a),r.applyStyles(r.userStyles),a}function aBe(e,t){var r=e.content,n=sBe(r.columns);if(r.head.length===0){var a=XU(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=XU(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:Aj("head",r.head,n,s,i,t),body:Aj("body",r.body,n,s,i,t),foot:Aj("foot",r.foot,n,s,i,t)}}function Aj(e,t,r,n,a,i){var s={},o=t.map(function(l,u){for(var d=0,f={},p=0,h=0,g=0,y=r;g<y.length;g++){var x=y[g];if(s[x.index]==null||s[x.index].left===0)if(h===0){var b=void 0;Array.isArray(l)?b=l[x.index-p-d]:b=l[x.dataKey];var N={};typeof b=="object"&&!Array.isArray(b)&&(N=b?.styles||{});var j=oBe(e,x,u,a,n,i,N),w=new Eie(b,j,e);f[x.dataKey]=w,f[x.index]=w,h=w.colSpan-1,s[x.index]={left:w.rowSpan-1,times:h}}else h--,p++;else s[x.index].left--,h=s[x.index].times,d++}return new _ie(l,u,e,f)});return o}function XU(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=iBe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function iBe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function sBe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new X9e(a,t,r)})}function oBe(e,t,r,n,a,i,s){var o=I9e(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var u=qd({},o.table,o[e],a.styles,l),d=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?d:{},p=e==="body"&&r%2===0?qd({},o.alternateRow,a.alternateRowStyles):{},h=O9e(i),g=qd({},h,u,p,f);return qd(g,s)}function lBe(e,t,r){var n;r===void 0&&(r={});var a=Sie(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(p){var h=t.columns.find(function(g){return g.dataKey===p||g.index===p});h&&!i.has(h.index)&&(i.set(h.index,!0),s.push(h.index),o.push(t.columns[h.index]),a-=h.wrappedWidth)});for(var u=!0,d=(n=r?.start)!==null&&n!==void 0?n:0;d<t.columns.length;){if(i.has(d)){d++;continue}var f=t.columns[d].wrappedWidth;if(u||a>=f)u=!1,s.push(d),o.push(t.columns[d]),a-=f;else break;d++}return{colIndexes:s,columns:o,lastIndex:d-1}}function cBe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=lBe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function uBe(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,u=l.reduce(function(p,h){return p+h.height},0);o+=u}var d=new v0(e);(r.pageBreak==="always"||r.startY!=null&&o>d.pageSize().height)&&(kie(d),i.y=a.top),t.callWillDrawPageHooks(d,i);var f=qd({},i);t.startPageNumber=d.pageNumber(),r.horizontalPageBreak?dBe(d,t,f,i):(d.applyStyles(d.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(p){return nf(d,t,p,i,t.columns)}),d.applyStyles(d.userStyles),t.body.forEach(function(p,h){var g=h===t.body.length-1;L5(d,t,p,g,f,i,t.columns)}),d.applyStyles(d.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(p){return nf(d,t,p,i,t.columns)})),wie(d,t,f,i),t.callEndPageHooks(d,i),t.finalY=i.y,e.lastAutoTable=t,d.applyStyles(d.userStyles)}function dBe(e,t,r,n){var a=cBe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,d){e.applyStyles(e.userStyles),d>0?qx(e,t,r,n,u.columns,!0):JU(e,t,n,u.columns),fBe(e,t,r,n,u.columns),Dj(e,t,n,u.columns)});else for(var s=-1,o=a[0],l=function(){var u=s;if(o){e.applyStyles(e.userStyles);var d=o.columns;s>=0?qx(e,t,r,n,d,!0):JU(e,t,n,d),u=ZU(e,t,s+1,n,d),Dj(e,t,n,d)}var f=u-s;a.slice(1).forEach(function(p){e.applyStyles(e.userStyles),qx(e,t,r,n,p.columns,!0),ZU(e,t,s+1,n,p.columns,f),Dj(e,t,n,p.columns)}),s=u};s<t.body.length-1;)l()}function JU(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return nf(e,t,i,r,n)})}function fBe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;L5(e,t,i,o,r,n,a)})}function ZU(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,u){var d=r+u===t.body.length-1,f=Pie(e,t,d,n);l.canEntireRowFit(f,a)&&(nf(e,t,l,n,a),o=r+u)}),o}function Dj(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return nf(e,t,i,r,n)})}function hBe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function pBe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],u=e.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var d=new Eie(u.raw,u.styles,u.section);d=qd(d,u),d.text=[];var f=hBe(u,t,n);u.text.length>f&&(d.text=u.text.splice(f,u.text.length));var p=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(p,h),u.contentHeight>=t&&(u.contentHeight=t,d.styles.minCellHeight-=t),u.contentHeight>e.height&&(e.height=u.contentHeight),d.contentHeight=d.getContentHeight(p,h),d.contentHeight>i&&(i=d.contentHeight),a[l.index]=d}}var g=new _ie(e.raw,-1,e.section,a,!0);g.height=i;for(var y=0,x=r.columns;y<x.length;y++){var l=x[y],d=g.cells[l.index];d&&(d.height=g.height);var u=e.cells[l.index];u&&(u.height=e.height)}return g}function mBe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),u=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var d=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(d&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(d||n.settings.rowPageBreak==="avoid")}function L5(e,t,r,n,a,i,s){var o=Pie(e,t,n,i);if(r.canEntireRowFit(o,s))nf(e,t,r,i,s);else if(mBe(e,r,o,t)){var l=pBe(r,o,t,e);nf(e,t,r,i,s),qx(e,t,a,i,s),L5(e,t,l,n,a,i,s)}else qx(e,t,a,i,s),L5(e,t,r,n,a,i,s)}function nf(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var u=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(u===!1){n.x+=o.width;continue}gBe(e,l,n);var d=l.getTextPos();xie(l.text,d.x,d.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function gBe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Nie(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),vBe(e,t,r,n.lineWidth))}function vBe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(u,d,f,p,h){e.getDocument().setLineWidth(u),e.getDocument().line(d,f,p,h,"S")}}function Pie(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function qx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return nf(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;wie(e,t,r,n),kie(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return nf(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function kie(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function xBe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=W9e(this,n),i=nBe(this,a);return uBe(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){xie(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return v0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){v0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new v0(this),i=Cie(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:l,rows:o,data:o}}}var Tj;try{if(typeof window<"u"&&window){var QU=window,e$=QU.jsPDF||((Tj=QU.jspdf)===null||Tj===void 0?void 0:Tj.jsPDF);e$&&xBe(e$)}}catch(e){console.error("Could not apply autoTable plugin",e)}const yBe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState([]),[l,u]=A.useState(!0),[d,f]=A.useState(!1),[p,h]=A.useState(!1),[g,y]=A.useState(null),[x,b]=A.useState(null),[N,j]=A.useState(null),[w,C]=A.useState({invoiceNumber:"",invoiceDate:new Date().toISOString().split("T")[0],clientName:"",clientEmail:"",clientPhone:"",clientAddress:"",eventType:"",eventDate:"",items:[{description:"",quantity:1,rate:0,amount:0}],subtotal:0,discount:0,discountType:"percentage",taxRate:18,taxAmount:0,totalAmount:0,paidAmount:0,balanceAmount:0,paymentStatus:"Pending",notes:"",terms:"Payment due within 7 days. Late payments may incur additional charges."}),E="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{I()},[]),A.useEffect(()=>{R()},[w.items,w.discount,w.discountType,w.taxRate]);const I=async()=>{try{u(!0);const W=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json();W.success&&n(W.leads||[]);const Y=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getEvents"})})).json();Y.success&&t(Y.events||[]);const ae=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPayments"})})).json();ae.success&&i(ae.payments||[]);const de=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getInvoices"})})).json();de.success&&o(de.invoices||[])}catch(T){console.error("Error fetching data:",T)}finally{u(!1)}},D=()=>{const T=new Date,W=T.getFullYear(),J=String(T.getMonth()+1).padStart(2,"0"),Y=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`INV-${W}${J}-${Y}`},O=T=>{const W=D();C({...w,invoiceNumber:W,clientName:T["Client Name"]||"",clientEmail:T.Email||"",clientPhone:T.Phone||"",eventType:T["Event Type"]||"",eventDate:T["Event Date"]||"",items:[{description:`${T["Event Type"]} Photography & Videography Package`,quantity:1,rate:0,amount:0}]}),f(!0)},L=T=>{y(T);const W=D();C({...w,invoiceNumber:W,clientName:T.clientName||"",clientEmail:T.email||"",clientPhone:T.phone||"",eventType:T.eventType||"",eventDate:T.eventDate||"",items:[{description:`${T.eventType} Photography & Videography Package`,quantity:1,rate:parseFloat(T.amount||0),amount:parseFloat(T.amount||0)}]}),f(!0)},R=()=>{const T=w.items.reduce((pe,de)=>pe+(de.amount||0),0);let W=0;w.discountType==="percentage"?W=T*(w.discount||0)/100:W=w.discount||0;const J=T-W,Y=J*(w.taxRate||0)/100,ee=J+Y,ae=ee-(w.paidAmount||0);C(pe=>({...pe,subtotal:T,taxAmount:Y,totalAmount:ee,balanceAmount:ae}))},P=()=>{C({...w,items:[...w.items,{description:"",quantity:1,rate:0,amount:0}]})},F=T=>{const W=w.items.filter((J,Y)=>Y!==T);C({...w,items:W})},V=(T,W,J)=>{const Y=[...w.items];Y[T]={...Y[T],[W]:J},(W==="quantity"||W==="rate")&&(Y[T].amount=Y[T].quantity*Y[T].rate),C({...w,items:Y})},X=()=>{const T=new Ht;T.setFillColor(79,70,229),T.rect(0,0,210,50,"F"),T.setTextColor(255,255,255),T.setFontSize(32),T.setFont("helvetica","bold"),T.text("RN PHOTOFILMS",15,25),T.setFontSize(11),T.setFont("helvetica","normal"),T.text("Professional Photography & Videography",15,32),T.text("Email: rnstudio.x@gmail.com | Phone: +91 8239372489",15,38),T.setTextColor(0,0,0),T.setFontSize(24),T.setFont("helvetica","bold"),T.text("INVOICE",150,25),T.setFontSize(11),T.setFont("helvetica","normal"),T.text(`Invoice #: ${w.invoiceNumber}`,150,32),T.text(`Date: ${new Date(w.invoiceDate).toLocaleDateString("en-IN")}`,150,38);let W=60;if(T.setFontSize(14),T.setFont("helvetica","bold"),T.text("BILL TO:",15,W),W+=8,T.setFontSize(11),T.setFont("helvetica","normal"),T.text(w.clientName,15,W),W+=6,w.clientEmail&&(T.text(`Email: ${w.clientEmail}`,15,W),W+=6),w.clientPhone&&(T.text(`Phone: ${w.clientPhone}`,15,W),W+=6),w.clientAddress){const ee=T.splitTextToSize(w.clientAddress,80);T.text(ee,15,W),W+=ee.length*6}W+=10,T.setFontSize(11),T.setFont("helvetica","bold"),T.setFillColor(79,70,229),T.rect(15,W,180,10,"F"),T.setTextColor(255,255,255),T.text("Description",20,W+7),T.text("Qty",120,W+7),T.text("Rate",145,W+7),T.text("Amount",170,W+7,{align:"right"}),W+=10,T.setTextColor(0,0,0),T.setFont("helvetica","normal"),T.setFontSize(10);let J=!0;w.items.forEach((ee,ae)=>{J&&(T.setFillColor(245,245,245),T.rect(15,W,180,8,"F")),J=!J;const pe=T.splitTextToSize(ee.description,90);T.text(pe[0],20,W+6),T.text(ee.quantity.toString(),125,W+6,{align:"center"}),T.text(`${parseFloat(ee.rate||0).toLocaleString("en-IN")}`,150,W+6,{align:"right"}),T.text(`${parseFloat(ee.amount||0).toLocaleString("en-IN")}`,190,W+6,{align:"right"}),W+=8}),T.setDrawColor(200,200,200),T.rect(15,W-w.items.length*8,180,w.items.length*8),W+=10;const Y=130;if(T.setFontSize(11),T.setFont("helvetica","normal"),T.text("Subtotal:",Y,W),T.text(`${(w.subtotal||0).toLocaleString("en-IN")}`,190,W,{align:"right"}),W+=7,w.discount>0){const ee=w.discountType==="percentage"?`Discount (${w.discount}%):`:"Discount:",ae=w.discountType==="percentage"?w.subtotal*w.discount/100:w.discount;T.text(ee,Y,W),T.text(`-${ae.toLocaleString("en-IN")}`,190,W,{align:"right"}),W+=7}if(w.taxRate>0&&(T.text(`GST (${w.taxRate}%):`,Y,W),T.text(`${(w.taxAmount||0).toLocaleString("en-IN")}`,190,W,{align:"right"}),W+=7),T.setFont("helvetica","bold"),T.setFontSize(13),T.setFillColor(79,70,229),T.rect(125,W-5,70,10,"F"),T.setTextColor(255,255,255),T.text("Total Amount:",Y,W),T.text(`${(w.totalAmount||0).toLocaleString("en-IN")}`,190,W,{align:"right"}),W+=12,T.setTextColor(0,0,0),T.setFont("helvetica","normal"),T.setFontSize(11),w.paidAmount>0&&(T.text("Paid Amount:",Y,W),T.text(`${(w.paidAmount||0).toLocaleString("en-IN")}`,190,W,{align:"right"}),W+=7,T.setFont("helvetica","bold"),T.setTextColor(220,38,38),T.text("Balance Due:",Y,W),T.text(`${(w.balanceAmount||0).toLocaleString("en-IN")}`,190,W,{align:"right"})),W+=15,w.notes){T.setTextColor(0,0,0),T.setFont("helvetica","bold"),T.setFontSize(12),T.text("Notes:",15,W),W+=7,T.setFont("helvetica","normal"),T.setFontSize(10);const ee=T.splitTextToSize(w.notes,180);T.text(ee,15,W),W+=ee.length*5+8}if(w.terms){T.setFont("helvetica","bold"),T.setFontSize(12),T.text("Terms & Conditions:",15,W),W+=7,T.setFont("helvetica","normal"),T.setFontSize(10);const ee=T.splitTextToSize(w.terms,180);T.text(ee,15,W)}return T.setFontSize(8),T.setTextColor(128,128,128),T.text("Thank you for your business!",105,285,{align:"center"}),T.text("This is a computer-generated invoice.",105,290,{align:"center"}),T},te=()=>{const W=X().output("blob");j(W),h(!0)},q=()=>{const T=X(),W=`Invoice_${w.invoiceNumber}_${w.clientName.replace(/\s+/g,"_")}.pdf`;T.save(W),alert(" Invoice downloaded successfully!")},U=async()=>{if(!w.clientEmail){alert(" Client email is required!");return}const W=X().output("dataurlstring").split(",")[1];try{const Y=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"sendInvoiceEmail",invoiceNumber:w.invoiceNumber,clientName:w.clientName,clientEmail:w.clientEmail,totalAmount:w.totalAmount,balanceAmount:w.balanceAmount,pdfData:W,filename:`Invoice_${w.invoiceNumber}.pdf`})})).json();Y.success?alert(" Invoice sent via email successfully!"):alert(" Failed to send email: "+Y.message)}catch(J){console.error("Error sending email:",J),alert(" Failed to send invoice via email")}},Q=async()=>{try{const W=await(await fetch(E,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"saveInvoice",...w})})).json();W.success?(alert(" Invoice saved successfully!"),f(!1),I()):alert(" Failed to save invoice: "+W.message)}catch(T){console.error("Error saving invoice:",T),alert(" Failed to save invoice")}},se=T=>""+parseFloat(T||0).toLocaleString("en-IN"),K=T=>{if(!T)return"N/A";try{return new Date(T).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return T}};return l?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(Zg,{className:"text-blue-600"}),"Invoice Generator"]}),c.jsx("p",{className:"text-gray-600",children:"Create and manage professional invoices for your clients"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(hn,{className:"text-blue-600"}),"Select from Leads"]}),c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[r.filter(T=>T.Status==="Converted").slice(0,10).map(T=>c.jsxs("button",{onClick:()=>O(T),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:[c.jsx("div",{className:"font-medium text-gray-900 text-sm",children:T["Client Name"]}),c.jsxs("div",{className:"text-xs text-gray-600",children:[T["Event Type"],"  ",T["Event Date"]]})]},T.id)),r.filter(T=>T.Status==="Converted").length===0&&c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No converted leads"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(Pi,{className:"text-purple-600"}),"Select from Events"]}),c.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:e.slice(0,10).map(T=>c.jsx("button",{onClick:()=>L(T),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-purple-50 hover:border-purple-300 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:T.clientName}),c.jsxs("div",{className:"text-sm text-gray-600",children:[T.eventType,"  ",T.eventDate]})]}),c.jsx("div",{className:"text-right",children:c.jsx("div",{className:"font-semibold text-purple-600",children:se(T.amount)})})]})},T.id))})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(em,{className:"text-green-600"}),"Recent Invoices"]}),c.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:s.slice(0,10).map(T=>c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:T.invoiceNumber}),c.jsxs("div",{className:"text-sm text-gray-600",children:[T.clientName,"  ",K(T.invoiceDate)]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-semibold text-green-600",children:se(T.totalAmount)}),c.jsx("span",{className:`text-xs px-2 py-1 rounded ${T.paymentStatus==="Paid"?"bg-green-100 text-green-800":T.paymentStatus==="Partial"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:T.paymentStatus})]})]})},T.id))})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:c.jsxs("button",{onClick:()=>{C({...w,invoiceNumber:D()}),f(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-4 rounded-lg transition-all flex items-center justify-center gap-3 text-lg",children:[c.jsx(Zg,{className:"text-2xl"}),"Generate New Invoice from Scratch"]})}),c.jsx(Kt,{children:d&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:()=>f(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full my-8",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(Zg,{}),"Generate Invoice"]}),c.jsxs("p",{className:"text-blue-100 mt-1",children:["Invoice #",w.invoiceNumber]})]}),c.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Number *"}),c.jsx("input",{type:"text",value:w.invoiceNumber,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),c.jsx("input",{type:"date",value:w.invoiceDate,onChange:T=>C({...w,invoiceDate:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Client Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),c.jsx("input",{type:"text",value:w.clientName,onChange:T=>C({...w,clientName:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),c.jsx("input",{type:"email",value:w.clientEmail,onChange:T=>C({...w,clientEmail:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"client@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",value:w.clientPhone,onChange:T=>C({...w,clientPhone:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9876543210"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),c.jsx("input",{type:"text",value:w.clientAddress,onChange:T=>C({...w,clientAddress:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Client address"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Invoice Items"}),c.jsxs("button",{onClick:P,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm",children:[c.jsx(bs,{}),"Add Item"]})]}),c.jsx("div",{className:"space-y-3",children:w.items.map((T,W)=>c.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:c.jsxs("div",{className:"grid grid-cols-12 gap-3",children:[c.jsxs("div",{className:"col-span-12 md:col-span-5",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description"}),c.jsx("input",{type:"text",value:T.description,onChange:J=>V(W,"description",J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Service description"})]}),c.jsxs("div",{className:"col-span-4 md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Qty"}),c.jsx("input",{type:"number",value:T.quantity,onChange:J=>V(W,"quantity",parseFloat(J.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",min:"1"})]}),c.jsxs("div",{className:"col-span-4 md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Rate ()"}),c.jsx("input",{type:"number",value:T.rate,onChange:J=>V(W,"rate",parseFloat(J.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",min:"0"})]}),c.jsxs("div",{className:"col-span-3 md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Amount"}),c.jsx("input",{type:"text",value:se(T.amount),readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-100 text-sm font-semibold"})]}),c.jsx("div",{className:"col-span-1 flex items-end",children:c.jsx("button",{onClick:()=>F(W),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",disabled:w.items.length===1,children:c.jsx(pr,{})})})]})},W))})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Calculations"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type"}),c.jsxs("select",{value:w.discountType,onChange:T=>C({...w,discountType:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"percentage",children:"Percentage (%)"}),c.jsx("option",{value:"fixed",children:"Fixed Amount ()"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Discount ",w.discountType==="percentage"?"(%)":"()"]}),c.jsx("input",{type:"number",value:w.discount,onChange:T=>C({...w,discount:parseFloat(T.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),c.jsx("input",{type:"number",value:w.taxRate,onChange:T=>C({...w,taxRate:parseFloat(T.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",max:"100"})]})]}),c.jsx("div",{className:"bg-white rounded-lg p-4 border-2 border-blue-200",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),c.jsx("span",{className:"font-semibold",children:se(w.subtotal)})]}),w.discount>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Discount:"}),c.jsxs("span",{className:"font-semibold text-red-600",children:["-",se(w.discountType==="percentage"?w.subtotal*w.discount/100:w.discount)]})]}),w.taxRate>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{className:"text-gray-600",children:["Tax (",w.taxRate,"%):"]}),c.jsx("span",{className:"font-semibold",children:se(w.taxAmount)})]}),c.jsx("div",{className:"border-t-2 border-gray-200 pt-2",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-bold text-gray-900",children:"Total Amount:"}),c.jsx("span",{className:"font-bold text-blue-600 text-lg",children:se(w.totalAmount)})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Amount ()"}),c.jsx("input",{type:"number",value:w.paidAmount,onChange:T=>C({...w,paidAmount:parseFloat(T.target.value)||0}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Balance Due ()"}),c.jsx("input",{type:"text",value:se(w.balanceAmount),readOnly:!0,className:"w-full px-4 py-3 border-2 border-red-300 rounded-lg bg-red-50 font-bold text-red-600"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),c.jsx("textarea",{value:w.notes,onChange:T=>C({...w,notes:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"Any additional notes..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Terms & Conditions"}),c.jsx("textarea",{value:w.terms,onChange:T=>C({...w,terms:T.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"Payment terms..."})]})]})]})}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex flex-wrap gap-3",children:[c.jsxs("button",{onClick:te,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(sl,{}),"Preview"]}),c.jsxs("button",{onClick:q,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(qs,{}),"Download"]}),c.jsxs("button",{onClick:U,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ga,{}),"Email"]}),c.jsxs("button",{onClick:Q,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Save"]})]})]})})}),c.jsx(Kt,{children:p&&N&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>h(!1),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:T=>T.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Invoice Preview"}),c.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:["#",w.invoiceNumber]})]}),c.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:c.jsx("iframe",{src:URL.createObjectURL(N),className:"w-full h-full min-h-[600px] border border-gray-300 rounded-lg",title:"Invoice Preview"})}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-b-2xl flex gap-3",children:[c.jsxs("button",{onClick:q,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(qs,{}),"Download"]}),c.jsxs("button",{onClick:U,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ga,{}),"Send via Email"]})]})]})})})]})},bBe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(!1),[l,u]=A.useState(!1),[d,f]=A.useState(null),[p,h]=A.useState(null),[g,y]=A.useState({proposalNumber:"",proposalDate:new Date().toISOString().split("T")[0],validUntil:"",clientName:"",clientEmail:"",clientPhone:"",eventType:"",eventDate:"",eventVenue:"",packages:[{name:"Basic Package",price:0,features:["Full day coverage","Professional photographer","Edited photos (200+)","Online gallery"],selected:!1}],customization:"",additionalServices:"",portfolioHighlights:"Over 500+ successful projects completed",aboutUs:"RN PhotoFilms is a leading photography and videography service provider with years of experience in capturing precious moments.",terms:"Payment terms: 30% advance, 40% on event day, 30% on delivery. Cancellation charges apply.",notes:""}),x="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec",b={Wedding:[{name:"Silver Package",price:45e3,features:["Full day coverage (12 hours)","1 Professional photographer","1 Videographer","Edited photos (400+)","Highlight video (5-7 min)","Online gallery","USB drive with all files"],selected:!1},{name:"Gold Package",price:75e3,features:["2 day coverage","2 Professional photographers","2 Videographers","Edited photos (800+)","Cinematic video (15-20 min)","Highlight reel (5-7 min)","Drone shots","Photo album (40 pages)","Online gallery","USB drive + cloud storage"],selected:!1},{name:"Platinum Package",price:125e3,features:["Complete wedding coverage (3 days)","3 Professional photographers","3 Videographers","Edited photos (1500+)","Full movie (30-40 min)","Highlight reel (8-10 min)","Drone shots","Pre-wedding shoot","Photo album (60 pages)","Photobook","Same day edit video","Online gallery","Premium packaging"],selected:!1}],Event:[{name:"Basic Event Package",price:25e3,features:["6 hours coverage","1 Photographer","Edited photos (300+)","Online gallery"],selected:!1},{name:"Premium Event Package",price:5e4,features:["Full day coverage","2 Photographers","1 Videographer","Edited photos (600+)","Event video (10-15 min)","Drone coverage","Online gallery"],selected:!1}],Commercial:[{name:"Product Photography",price:15e3,features:["Up to 50 products","White background","Retouched images","3 day delivery"],selected:!1},{name:"Commercial Video",price:35e3,features:["2 day shoot","Professional crew","Edited video (2-3 min)","Music & color grading","4K resolution"],selected:!1}]};A.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0);const U=await(await fetch(x,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json();U.success&&t(U.leads||[]);const se=await(await fetch(x,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getProposals"})})).json();se.success&&n(se.proposals||[])}catch(q){console.error("Error fetching data:",q)}finally{i(!1)}},j=()=>{const q=new Date,U=q.getFullYear(),Q=String(q.getMonth()+1).padStart(2,"0"),se=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`PROP-${U}${Q}-${se}`},w=q=>{f(q);const U=j(),Q=new Date;Q.setDate(Q.getDate()+15);const se=q["Event Type"]||"Wedding",K=b[se]||b.Wedding;y({...g,proposalNumber:U,validUntil:Q.toISOString().split("T")[0],clientName:q["Client Name"]||"",clientEmail:q.Email||"",clientPhone:q.Phone||"",eventType:se,eventDate:q["Event Date"]||"",eventVenue:q.Venue||"",packages:K}),o(!0)},C=q=>{const U=[...g.packages];U[q].selected=!U[q].selected,y({...g,packages:U})},E=()=>{const q={name:"Custom Package",price:0,features:["Custom feature 1","Custom feature 2"],selected:!1};y({...g,packages:[...g.packages,q]})},I=(q,U,Q)=>{const se=[...g.packages];se[q][U]=Q,y({...g,packages:se})},D=q=>{const U=[...g.packages];U[q].features.push("New feature"),y({...g,packages:U})},O=(q,U,Q)=>{const se=[...g.packages];se[q].features[U]=Q,y({...g,packages:se})},L=(q,U)=>{const Q=[...g.packages];Q[q].features.splice(U,1),y({...g,packages:Q})},R=()=>{const q=new Ht;q.setFillColor(79,70,229),q.rect(0,0,210,297,"F"),q.setTextColor(255,255,255),q.setFontSize(48),q.setFont("helvetica","bold"),q.text("RN PHOTOFILMS",105,80,{align:"center"}),q.setFontSize(16),q.setFont("helvetica","normal"),q.text("Professional Photography & Videography",105,95,{align:"center"}),q.setFontSize(36),q.setFont("helvetica","bold"),q.text("PROPOSAL",105,140,{align:"center"}),q.setFontSize(20),q.setFont("helvetica","normal"),q.text(`For ${g.clientName}`,105,160,{align:"center"}),q.setFontSize(16),q.text(g.eventType,105,175,{align:"center"}),q.setFontSize(12),q.text(`Proposal #: ${g.proposalNumber}`,105,230,{align:"center"}),q.text(`Date: ${new Date(g.proposalDate).toLocaleDateString("en-IN")}`,105,240,{align:"center"}),q.text(`Valid Until: ${new Date(g.validUntil).toLocaleDateString("en-IN")}`,105,250,{align:"center"}),q.addPage(),q.setTextColor(0,0,0);let U=30;q.setFontSize(24),q.setFont("helvetica","bold"),q.setTextColor(79,70,229),q.text("About RN PhotoFilms",15,U),U+=15,q.setFontSize(11),q.setFont("helvetica","normal"),q.setTextColor(0,0,0);const Q=q.splitTextToSize(g.aboutUs,180);q.text(Q,15,U),U+=Q.length*6+15,q.setFontSize(18),q.setFont("helvetica","bold"),q.setTextColor(79,70,229),q.text("Our Achievements",15,U),U+=10,q.setFontSize(11),q.setFont("helvetica","normal"),q.setTextColor(0,0,0);const se=q.splitTextToSize(g.portfolioHighlights,180);q.text(se,15,U),g.packages.forEach((T,W)=>{q.addPage(),U=30,q.setFontSize(24),q.setFont("helvetica","bold"),q.setTextColor(79,70,229),q.text(T.name,15,U),U+=15,q.setFontSize(32),q.setTextColor(212,165,116),q.text(`${parseFloat(T.price).toLocaleString("en-IN")}`,15,U),U+=20,q.setFontSize(14),q.setFont("helvetica","bold"),q.setTextColor(0,0,0),q.text("Package Includes:",15,U),U+=10,q.setFontSize(11),q.setFont("helvetica","normal"),T.features.forEach(J=>{q.circle(18,U-2,1.5,"F"),q.text(J,25,U),U+=7}),T.selected&&(q.setFillColor(34,197,94),q.rect(15,U+10,180,10,"F"),q.setTextColor(255,255,255),q.setFont("helvetica","bold"),q.text(" RECOMMENDED PACKAGE",105,U+17,{align:"center"}))}),q.addPage(),U=30,q.setFontSize(20),q.setFont("helvetica","bold"),q.setTextColor(79,70,229),q.text("Terms & Conditions",15,U),U+=12,q.setFontSize(10),q.setFont("helvetica","normal"),q.setTextColor(0,0,0);const K=q.splitTextToSize(g.terms,180);return q.text(K,15,U),U+=K.length*5+15,q.setFillColor(245,245,245),q.rect(15,U,180,40,"F"),U+=10,q.setFontSize(14),q.setFont("helvetica","bold"),q.text("Contact Us",20,U),U+=10,q.setFontSize(10),q.setFont("helvetica","normal"),q.text(" Email: rnstudio.x@gmail.com",20,U),U+=6,q.text(" Phone: +91 XXXXXXXXXX",20,U),U+=6,q.text(" Website: www.rnphotofilms.com",20,U),q},P=()=>{const U=R().output("blob");h(U),u(!0)},F=()=>{const q=R(),U=`Proposal_${g.proposalNumber}_${g.clientName.replace(/\s+/g,"_")}.pdf`;q.save(U),alert(" Proposal downloaded successfully!")},V=async()=>{if(!g.clientEmail){alert(" Client email is required!");return}const U=R().output("dataurlstring").split(",")[1];try{const se=await(await fetch(x,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"sendProposalEmail",proposalNumber:g.proposalNumber,clientName:g.clientName,clientEmail:g.clientEmail,eventType:g.eventType,pdfData:U,filename:`Proposal_${g.proposalNumber}.pdf`})})).json();se.success?alert(" Proposal sent via email successfully!"):alert(" Failed to send email: "+se.message)}catch(Q){console.error("Error sending email:",Q),alert(" Failed to send proposal via email")}},X=async()=>{try{const U=await(await fetch(x,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"saveProposal",...g})})).json();U.success?(alert(" Proposal saved successfully!"),o(!1),N()):alert(" Failed to save proposal: "+U.message)}catch(q){console.error("Error saving proposal:",q),alert(" Failed to save proposal")}},te=q=>{if(!q)return"N/A";try{return new Date(q).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"})}catch{return q}};return a?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(O2,{className:"text-blue-600"}),"Proposal Generator"]}),c.jsx("p",{className:"text-gray-600",children:"Create stunning proposals to win more clients"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(hn,{className:"text-blue-600"}),"Select from Leads"]}),c.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[e.filter(q=>q.Status==="New Lead").slice(0,15).map(q=>c.jsx("button",{onClick:()=>w(q),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:q["Client Name"]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[q["Event Type"],"  ",q["Event Date"]]})]}),c.jsx("div",{className:"text-right",children:c.jsx(yX,{className:"text-blue-600 text-xl"})})]})},q.id)),e.filter(q=>q.Status==="New Lead").length===0&&c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No new leads"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(O2,{className:"text-purple-600"}),"Recent Proposals"]}),c.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:r.slice(0,10).map(q=>c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:q.proposalNumber}),c.jsxs("div",{className:"text-sm text-gray-600",children:[q.clientName,"  ",te(q.proposalDate)]})]}),c.jsx("div",{className:"text-right",children:c.jsx("span",{className:`text-xs px-2 py-1 rounded ${q.status==="Accepted"?"bg-green-100 text-green-800":q.status==="Pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:q.status||"Sent"})})]})},q.id))})]})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md p-6",children:c.jsxs("button",{onClick:()=>{y({...g,proposalNumber:j(),validUntil:new Date(Date.now()+360*60*60*1e3).toISOString().split("T")[0]}),o(!0)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-4 rounded-lg transition-all flex items-center justify-center gap-3 text-lg",children:[c.jsx(O2,{className:"text-2xl"}),"Create New Proposal from Scratch"]})}),c.jsx(Kt,{children:s&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",onClick:()=>o(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:q=>q.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full my-8",children:[c.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx(O2,{}),"Create Proposal"]}),c.jsx("p",{className:"text-blue-100 mt-1",children:g.proposalNumber})]}),c.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]})}),c.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposal Number *"}),c.jsx("input",{type:"text",value:g.proposalNumber,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposal Date *"}),c.jsx("input",{type:"date",value:g.proposalDate,onChange:q=>y({...g,proposalDate:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valid Until *"}),c.jsx("input",{type:"date",value:g.validUntil,onChange:q=>y({...g,validUntil:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Client Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),c.jsx("input",{type:"text",value:g.clientName,onChange:q=>y({...g,clientName:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter client name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),c.jsx("input",{type:"email",value:g.clientEmail,onChange:q=>y({...g,clientEmail:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"client@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),c.jsx("input",{type:"tel",value:g.clientPhone,onChange:q=>y({...g,clientPhone:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"9876543210"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),c.jsxs("select",{value:g.eventType,onChange:q=>y({...g,eventType:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"Wedding",children:"Wedding"}),c.jsx("option",{value:"Event",children:"Event"}),c.jsx("option",{value:"Commercial",children:"Commercial"}),c.jsx("option",{value:"Product",children:"Product"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Date"}),c.jsx("input",{type:"date",value:g.eventDate,onChange:q=>y({...g,eventDate:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Venue"}),c.jsx("input",{type:"text",value:g.eventVenue,onChange:q=>y({...g,eventVenue:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Venue location"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Packages"}),c.jsxs("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors flex items-center gap-2 text-sm",children:[c.jsx(bs,{}),"Add Package"]})]}),c.jsx("div",{className:"space-y-4",children:g.packages.map((q,U)=>c.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-12 gap-4 mb-3",children:[c.jsxs("div",{className:"col-span-7",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Package Name"}),c.jsx("input",{type:"text",value:q.name,onChange:Q=>I(U,"name",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsxs("div",{className:"col-span-4",children:[c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Price ()"}),c.jsx("input",{type:"number",value:q.price,onChange:Q=>I(U,"price",parseFloat(Q.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.jsx("div",{className:"col-span-1 flex items-end",children:c.jsx("button",{onClick:()=>C(U),className:`p-2 rounded-lg transition-colors ${q.selected?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,title:"Mark as recommended",children:c.jsx(N0,{})})})]}),c.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Features"}),c.jsxs("div",{className:"space-y-2",children:[q.features.map((Q,se)=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{type:"text",value:Q,onChange:K=>O(U,se,K.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Feature description"}),c.jsx("button",{onClick:()=>L(U,se),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(kpe,{})})]},se)),c.jsxs("button",{onClick:()=>D(U),className:"text-blue-600 hover:text-blue-700 text-sm flex items-center gap-1",children:[c.jsx(bs,{})," Add Feature"]})]})]},U))})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"About Us"}),c.jsx("textarea",{value:g.aboutUs,onChange:q=>y({...g,aboutUs:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Company description..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Portfolio Highlights"}),c.jsx("textarea",{value:g.portfolioHighlights,onChange:q=>y({...g,portfolioHighlights:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"Key achievements and stats..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Terms & Conditions"}),c.jsx("textarea",{value:g.terms,onChange:q=>y({...g,terms:q.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Payment terms, cancellation policy..."})]})]})]})}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-b-2xl flex flex-wrap gap-3",children:[c.jsxs("button",{onClick:P,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(sl,{}),"Preview"]}),c.jsxs("button",{onClick:F,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(qs,{}),"Download"]}),c.jsxs("button",{onClick:V,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ga,{}),"Email"]}),c.jsxs("button",{onClick:X,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(rl,{}),"Save"]})]})]})})}),c.jsx(Kt,{children:l&&p&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",onClick:()=>u(!1),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:q=>q.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] flex flex-col",children:[c.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white p-6 rounded-t-2xl flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Proposal Preview"}),c.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:g.proposalNumber})]}),c.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{className:"text-xl"})})]}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:c.jsx("iframe",{src:URL.createObjectURL(p),className:"w-full h-full min-h-[600px] border border-gray-300 rounded-lg",title:"Proposal Preview"})}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-b-2xl flex gap-3",children:[c.jsxs("button",{onClick:F,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(qs,{}),"Download"]}),c.jsxs("button",{onClick:V,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white font-medium py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:[c.jsx(Ga,{}),"Send via Email"]})]})]})})})]})};function wBe(e,t){if(Ar(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ar(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aie(e){var t=wBe(e,"string");return Ar(t)=="symbol"?t:t+""}function qp(e,t,r){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){qp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l3(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fu(e,t){if(e==null)return{};var r,n,a=l3(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aie(n.key),n)}}function hi(e,t,r){return t&&r$(e.prototype,t),r&&r$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function F5(e){return F5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F5(e)}function Die(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Die=function(){return!!e})()}function NBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SBe(e,t){if(t&&(Ar(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NBe(e)}function js(e,t,r){return t=F5(t),SBe(e,Die()?Reflect.construct(t,r||[],F5(e).constructor):t.apply(e,r))}function B5(e,t){return B5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},B5(e,t)}function Cs(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B5(e,t)}function Tie(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Tie(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Xn(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Tie(e))&&(n&&(n+=" "),n+=t);return n}const jBe=Object.freeze(Object.defineProperty({__proto__:null,clsx:Xn,default:Xn},Symbol.toStringTag,{value:"Module"}));function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ja.apply(null,arguments)}var Oj,n$;function CBe(){if(n$)return Oj;n$=1;var e=function(t,r,n,a,i,s,o,l){if(!t){var u;if(r===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,a,i,s,o,l],f=0;u=new Error(r.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};return Oj=e,Oj}var _Be=CBe();const ky=Ln(_Be);var EBe=function(){};function PBe(e,t){var r={};return Object.keys(e).forEach(function(n){r[Gb(n)]=EBe}),r}function a$(e,t){return e[t]!==void 0}function Gb(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function kBe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function ABe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,B5(e,t)}function Oie(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Iie(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function Mie(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}Oie.__suppressDeprecationWarning=!0;Iie.__suppressDeprecationWarning=!0;Mie.__suppressDeprecationWarning=!0;function DBe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Oie,t.componentWillReceiveProps=Iie),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Mie;var o=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,u,d,p)}}return e}var TBe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Rie(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=kBe(e),i=Object.keys(t),s=i.map(Gb);a||!r.length||ky(!1);var o=(function(u){ABe(d,u);function d(){for(var p,h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];p=u.call.apply(u,[this].concat(g))||this,p.handlers=Object.create(null),i.forEach(function(b){var N=t[b],j=function(C){if(p.props[N]){var E;p._notifying=!0;for(var I=arguments.length,D=new Array(I>1?I-1:0),O=1;O<I;O++)D[O-1]=arguments[O];(E=p.props)[N].apply(E,[C].concat(D)),p._notifying=!1}p.unmounted||p.setState(function(L){var R,P=L.values;return{values:ja(Object.create(null),P,(R={},R[b]=C,R))}})};p.handlers[N]=j}),r.length&&(p.attachRef=function(b){p.inner=b});var x=Object.create(null);return i.forEach(function(b){x[b]=p.props[Gb(b)]}),p.state={values:x,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(h,g){var y=g.values,x=g.prevProps,b={values:ja(Object.create(null),y),prevProps:{}};return i.forEach(function(N){b.prevProps[N]=h[N],!a$(h,N)&&a$(x,N)&&(b.values[N]=h[Gb(N)])}),b},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,g=this.props,y=g.innerRef,x=l3(g,["innerRef"]);s.forEach(function(N){delete x[N]});var b={};return i.forEach(function(N){var j=h.props[N];b[N]=j!==void 0?j:h.state.values[N]}),Me.createElement(e,ja({},x,b,this.handlers,{ref:y||this.attachRef}))},d})(Me.Component);DBe(o),o.displayName="Uncontrolled("+n+")",o.propTypes=ja({innerRef:function(){}},PBe(t)),r.forEach(function(u){o.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=o;return Me.forwardRef&&(l=Me.forwardRef(function(u,d){return Me.createElement(o,ja({},u,{innerRef:d,__source:{fileName:TBe,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),Rie(u,ja({},t,d),f)},l}var Ij={exports:{}},Mj,i$;function OBe(){if(i$)return Mj;i$=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mj=e,Mj}var Rj,s$;function IBe(){if(s$)return Rj;s$=1;var e=OBe();function t(){}function r(){}return r.resetWarningCache=t,Rj=function(){function n(s,o,l,u,d,f){if(f!==e){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Rj}var o$;function zI(){return o$||(o$=1,Ij.exports=IBe()()),Ij.exports}var MBe=zI();const yt=Ln(MBe);var z5="milliseconds",Ay="seconds",Dy="minutes",Ty="hours",Sm="day",R0="week",Oy="month",jm="year",Cm="decade",_m="century",Lie={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},RBe={month:1,year:12,decade:120,century:1200};function LBe(e){return[31,FBe(e),31,30,31,30,31,31,30,31,30,31]}function FBe(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Mc(e,t,r){switch(e=new Date(e),r){case z5:case Ay:case Dy:case Ty:case Sm:case R0:return BBe(e,t*Lie[r]);case Oy:case jm:case Cm:case _m:return zBe(e,t*RBe[r])}throw new TypeError('Invalid units: "'+r+'"')}function BBe(e,t){var r=new Date(+e+t);return WBe(e,r)}function zBe(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,s=Math.trunc(i/12),o=i%12,l=Math.min(a,LBe(s)[o]),u=new Date(e);return u.setFullYear(s),u.setDate(1),u.setMonth(o),u.setDate(l),u}function WBe(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*Lie.minutes)}function Iy(e,t,r){return Mc(e,-t,r)}function Gi(e,t,r){switch(e=new Date(e),t){case _m:case Cm:case jm:e=U5(e,0);case Oy:e=Uie(e,1);case R0:case Sm:e=Ly(e,0);case Ty:e=L0(e,0);case Dy:e=Ry(e,0);case Ay:e=My(e,0)}return t===Cm&&(e=Iy(e,Em(e)%10,"year")),t===_m&&(e=Iy(e,Em(e)%100,"year")),t===R0&&(e=$ie(e,0,r)),e}function W5(e,t,r){switch(e=new Date(e),e=Gi(e,t,r),t){case _m:case Cm:case jm:case Oy:case R0:e=Mc(e,1,t),e=Iy(e,1,Sm),e.setHours(23,59,59,999);break;case Sm:e.setHours(23,59,59,999);break;case Ty:case Dy:case Ay:e=Mc(e,1,t),e=Iy(e,1,z5)}return e}var T1=fv(function(e,t){return e===t}),WI=fv(function(e,t){return e!==t}),c3=fv(function(e,t){return e>t}),O1=fv(function(e,t){return e>=t}),UI=fv(function(e,t){return e<t}),dv=fv(function(e,t){return e<=t});function Fie(){return new Date(Math.min.apply(Math,arguments))}function Bie(){return new Date(Math.max.apply(Math,arguments))}function zie(e,t,r,n){return n=n||"day",(!t||O1(e,t,n))&&(!r||dv(e,r,n))}var My=Yh("Milliseconds"),Ry=Yh("Seconds"),L0=Yh("Minutes"),Ly=Yh("Hours"),Wie=Yh("Day"),Uie=Yh("Date"),U5=Yh("Month"),Em=Yh("FullYear");function UBe(e,t){return t===void 0?Em(Gi(e,Cm)):Mc(e,t+10,jm)}function $Be(e,t){return t===void 0?Em(Gi(e,_m)):Mc(e,t+100,jm)}function $ie(e,t,r){var n=(Wie(e)+7-(r||0))%7;return t===void 0?n:Mc(e,t-n,Sm)}function qBe(e,t,r,n){var a,i,s;switch(r){case z5:case Ay:case Dy:case Ty:case Sm:case R0:a=t.getTime()-e.getTime();break;case Oy:case jm:case Cm:case _m:a=(Em(t)-Em(e))*12+U5(t)-U5(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case z5:i=1;break;case Ay:i=1e3;break;case Dy:i=1e3*60;break;case Ty:i=1e3*60*60;break;case Sm:i=1e3*60*60*24;break;case R0:i=1e3*60*60*24*7;break;case Oy:i=1;break;case jm:i=12;break;case Cm:i=120;break;case _m:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return s=a/i,n?s:Math.round(s)}function Yh(e){var t=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function fv(e){return function(t,r,n){return e(+Gi(t,n),+Gi(r,n))}}const l$=Object.freeze(Object.defineProperty({__proto__:null,add:Mc,century:$Be,date:Uie,day:Wie,decade:UBe,diff:qBe,endOf:W5,eq:T1,gt:c3,gte:O1,hours:Ly,inRange:zie,lt:UI,lte:dv,max:Bie,milliseconds:My,min:Fie,minutes:L0,month:U5,neq:WI,seconds:Ry,startOf:Gi,subtract:Iy,weekday:$ie,year:Em},Symbol.toStringTag,{value:"Module"}));function VBe(e){if(Array.isArray(e))return $8(e)}function qie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yb(e){return VBe(e)||qie(e)||LI(e)||HBe()}var Lj,c$;function Vie(){if(c$)return Lj;c$=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return Lj=e,Lj}var Fj,u$;function I1(){if(u$)return Fj;u$=1;function e(t,r){return t===r||t!==t&&r!==r}return Fj=e,Fj}var Bj,d$;function Hie(){if(d$)return Bj;d$=1;var e=typeof E2=="object"&&E2&&E2.Object===Object&&E2;return Bj=e,Bj}var zj,f$;function Gu(){if(f$)return zj;f$=1;var e=Hie(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return zj=r,zj}var Wj,h$;function hv(){if(h$)return Wj;h$=1;var e=Gu(),t=e.Symbol;return Wj=t,Wj}var Uj,p$;function GBe(){if(p$)return Uj;p$=1;var e=hv(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var o=r.call(s,a),l=s[a];try{s[a]=void 0;var u=!0}catch{}var d=n.call(s);return u&&(o?s[a]=l:delete s[a]),d}return Uj=i,Uj}var $j,m$;function YBe(){if(m$)return $j;m$=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return $j=r,$j}var qj,g$;function pv(){if(g$)return qj;g$=1;var e=hv(),t=GBe(),r=YBe(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(o){return o==null?o===void 0?a:n:i&&i in Object(o)?t(o):r(o)}return qj=s,qj}var Vj,v$;function Nf(){if(v$)return Vj;v$=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Vj=e,Vj}var Hj,x$;function $I(){if(x$)return Hj;x$=1;var e=pv(),t=Nf(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(o){if(!t(o))return!1;var l=e(o);return l==n||l==a||l==r||l==i}return Hj=s,Hj}var Gj,y$;function qI(){if(y$)return Gj;y$=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Gj=t,Gj}var Yj,b$;function M1(){if(b$)return Yj;b$=1;var e=$I(),t=qI();function r(n){return n!=null&&t(n.length)&&!e(n)}return Yj=r,Yj}var Kj,w$;function VI(){if(w$)return Kj;w$=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Kj=r,Kj}var Xj,N$;function u3(){if(N$)return Xj;N$=1;var e=I1(),t=M1(),r=VI(),n=Nf();function a(i,s,o){if(!n(o))return!1;var l=typeof s;return(l=="number"?t(o)&&r(s,o.length):l=="string"&&s in o)?e(o[s],i):!1}return Xj=a,Xj}var Jj,S$;function KBe(){if(S$)return Jj;S$=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return Jj=t,Jj}var Zj,j$;function XBe(){if(j$)return Zj;j$=1;var e=KBe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return Zj=r,Zj}var Qj,C$;function Kh(){if(C$)return Qj;C$=1;function e(t){return t!=null&&typeof t=="object"}return Qj=e,Qj}var eC,_$;function R1(){if(_$)return eC;_$=1;var e=pv(),t=Kh(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return eC=n,eC}var tC,E$;function JBe(){if(E$)return tC;E$=1;var e=XBe(),t=Nf(),r=R1(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||s.test(u)?o(u.slice(2),f?2:8):a.test(u)?n:+u}return tC=l,tC}var rC,P$;function Gie(){if(P$)return rC;P$=1;var e=JBe(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-t){var i=a<0?-1:1;return i*r}return a===a?a:0}return rC=n,rC}var nC,k$;function Yie(){if(k$)return nC;k$=1;var e=Gie();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return nC=t,nC}var aC,A$;function ZBe(){if(A$)return aC;A$=1;var e=Vie(),t=u3(),r=Yie(),n=Math.ceil,a=Math.max;function i(s,o,l){(l?t(s,o,l):o===void 0)?o=1:o=a(r(o),0);var u=s==null?0:s.length;if(!u||o<1)return[];for(var d=0,f=0,p=Array(n(u/o));d<u;)p[f++]=e(s,d,d+=o);return p}return aC=i,aC}var QBe=ZBe();const eze=Ln(QBe);function Xh(e){return e&&e.ownerDocument||document}function HI(e){var t=Xh(e);return t&&t.defaultView||window}function GI(e,t){return HI(e).getComputedStyle(e,t)}var tze=/([A-Z])/g;function Kie(e){return e.replace(tze,"-$1").toLowerCase()}var rze=/^ms-/;function Sb(e){return Kie(e).replace(rze,"-ms-")}var nze=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Xie(e){return!!(e&&nze.test(e))}function $i(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(Sb(t))||GI(e).getPropertyValue(Sb(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(Sb(a)):Xie(a)?n+=a+"("+i+") ":r+=Sb(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function af(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const aze=Object.freeze(Object.defineProperty({__proto__:null,default:af},Symbol.toStringTag,{value:"Module"}));function Jie(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function d3(e){return"window"in e&&e.window===e?e:Jie(e)&&e.defaultView||!1}function Zie(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=d3(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const f3=Zie("pageXOffset"),F0=Zie("pageYOffset");function Dc(e){var t=Xh(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!af(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+F0(n)-(n.clientTop||0),left:r.left+f3(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var ize=function(t){return!!t&&"offsetParent"in t};function YI(e){for(var t=Xh(e),r=e&&e.offsetParent;ize(r)&&r.nodeName!=="HTML"&&$i(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var sze=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function h3(e,t){var r={top:0,left:0},n;if($i(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||YI(e);n=Dc(e),sze(a)!=="html"&&(r=Dc(a));var i=String($i(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-F0(a)||0;var s=String($i(a,"borderLeftWidth")||0);r.left+=parseInt(s,10)-f3(a)||0}var o=String($i(e,"marginTop")||0),l=String($i(e,"marginLeft")||0);return ja({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const KI=!!(typeof window<"u"&&window.document&&window.document.createElement);var D$=new Date().getTime();function oze(e){var t=new Date().getTime(),r=Math.max(0,16-(t-D$)),n=setTimeout(e,r);return D$=t,n}var lze=["","webkit","moz","o","ms"],eA="clearTimeout",tA=oze,T$=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};KI&&lze.some(function(e){var t=T$(e,"request");return t in window&&(eA=T$(e,"cancel"),tA=function(n){return window[t](n)}),!!tA});var Fy=function(t){typeof window[eA]=="function"&&window[eA](t)},L1=tA,iC;function p3(e,t){if(!iC){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;iC=function(i,s){return n.call(i,s)}}return iC(e,t)}var cze=Function.prototype.bind.call(Function.prototype.call,[].slice);function m3(e,t){return cze(e.querySelectorAll(t))}var rA=!1,nA=!1;try{var sC={get passive(){return rA=!0},get once(){return nA=rA=!0}};KI&&(window.addEventListener("test",sC,sC),window.removeEventListener("test",sC,!0))}catch{}function XI(e,t,r,n){if(n&&typeof n!="boolean"&&!nA){var a=n.once,i=n.capture,s=r;!nA&&a&&(s=r.__once||function o(l){this.removeEventListener(t,o,i),r.call(this,l)},r.__once=s),e.addEventListener(t,s,rA?n:i)}e.addEventListener(t,r,n)}function uze(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function O$(e){const t=uze(e);return A.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function I$(){return A.useState(null)}function dze(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function fze(e){const t=dze();return[e[0],A.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var vo="top",Kl="bottom",Xl="right",xo="left",JI="auto",F1=[vo,Kl,Xl,xo],B0="start",By="end",hze="clippingParents",Qie="viewport",fx="popper",pze="reference",M$=F1.reduce(function(e,t){return e.concat([t+"-"+B0,t+"-"+By])},[]),ZI=[].concat(F1,[JI]).reduce(function(e,t){return e.concat([t,t+"-"+B0,t+"-"+By])},[]),mze="beforeRead",gze="read",vze="afterRead",xze="beforeMain",yze="main",bze="afterMain",wze="beforeWrite",Nze="write",Sze="afterWrite",jze=[mze,gze,vze,xze,yze,bze,wze,Nze,Sze];function ku(e){return e.split("-")[0]}function ul(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Pm(e){var t=ul(e).Element;return e instanceof t||e instanceof Element}function Au(e){var t=ul(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function QI(e){if(typeof ShadowRoot>"u")return!1;var t=ul(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var lm=Math.max,$5=Math.min,z0=Math.round;function aA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ese(){return!/^((?!chrome|android).)*safari/i.test(aA())}function W0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&Au(e)&&(a=e.offsetWidth>0&&z0(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&z0(n.height)/e.offsetHeight||1);var s=Pm(e)?ul(e):window,o=s.visualViewport,l=!ese()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/a,d=(n.top+(l&&o?o.offsetTop:0))/i,f=n.width/a,p=n.height/i;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function eM(e){var t=W0(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function tse(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&QI(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Rh(e){return e?(e.nodeName||"").toLowerCase():null}function sf(e){return ul(e).getComputedStyle(e)}function Cze(e){return["table","td","th"].indexOf(Rh(e))>=0}function Jh(e){return((Pm(e)?e.ownerDocument:e.document)||window.document).documentElement}function g3(e){return Rh(e)==="html"?e:e.assignedSlot||e.parentNode||(QI(e)?e.host:null)||Jh(e)}function R$(e){return!Au(e)||sf(e).position==="fixed"?null:e.offsetParent}function _ze(e){var t=/firefox/i.test(aA()),r=/Trident/i.test(aA());if(r&&Au(e)){var n=sf(e);if(n.position==="fixed")return null}var a=g3(e);for(QI(a)&&(a=a.host);Au(a)&&["html","body"].indexOf(Rh(a))<0;){var i=sf(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function B1(e){for(var t=ul(e),r=R$(e);r&&Cze(r)&&sf(r).position==="static";)r=R$(r);return r&&(Rh(r)==="html"||Rh(r)==="body"&&sf(r).position==="static")?t:r||_ze(e)||t}function tM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vx(e,t,r){return lm(e,$5(t,r))}function Eze(e,t,r){var n=Vx(e,t,r);return n>r?r:n}function rse(){return{top:0,right:0,bottom:0,left:0}}function nse(e){return Object.assign({},rse(),e)}function ase(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Pze=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,nse(typeof t!="number"?t:ase(t,F1))};function kze(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,o=ku(r.placement),l=tM(o),u=[xo,Xl].indexOf(o)>=0,d=u?"height":"width";if(!(!i||!s)){var f=Pze(a.padding,r),p=eM(i),h=l==="y"?vo:xo,g=l==="y"?Kl:Xl,y=r.rects.reference[d]+r.rects.reference[l]-s[l]-r.rects.popper[d],x=s[l]-r.rects.reference[l],b=B1(i),N=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,j=y/2-x/2,w=f[h],C=N-p[d]-f[g],E=N/2-p[d]/2+j,I=Vx(w,E,C),D=l;r.modifiersData[n]=(t={},t[D]=I,t.centerOffset=I-E,t)}}function Aze(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||tse(t.elements.popper,a)&&(t.elements.arrow=a))}const Dze={name:"arrow",enabled:!0,phase:"main",fn:kze,effect:Aze,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function U0(e){return e.split("-")[1]}var Tze={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Oze(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:z0(r*a)/a||0,y:z0(n*a)/a||0}}function L$(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=s.x,h=p===void 0?0:p,g=s.y,y=g===void 0?0:g,x=typeof d=="function"?d({x:h,y}):{x:h,y};h=x.x,y=x.y;var b=s.hasOwnProperty("x"),N=s.hasOwnProperty("y"),j=xo,w=vo,C=window;if(u){var E=B1(r),I="clientHeight",D="clientWidth";if(E===ul(r)&&(E=Jh(r),sf(E).position!=="static"&&o==="absolute"&&(I="scrollHeight",D="scrollWidth")),E=E,a===vo||(a===xo||a===Xl)&&i===By){w=Kl;var O=f&&E===C&&C.visualViewport?C.visualViewport.height:E[I];y-=O-n.height,y*=l?1:-1}if(a===xo||(a===vo||a===Kl)&&i===By){j=Xl;var L=f&&E===C&&C.visualViewport?C.visualViewport.width:E[D];h-=L-n.width,h*=l?1:-1}}var R=Object.assign({position:o},u&&Tze),P=d===!0?Oze({x:h,y},ul(r)):{x:h,y};if(h=P.x,y=P.y,l){var F;return Object.assign({},R,(F={},F[w]=N?"0":"",F[j]=b?"0":"",F.transform=(C.devicePixelRatio||1)<=1?"translate("+h+"px, "+y+"px)":"translate3d("+h+"px, "+y+"px, 0)",F))}return Object.assign({},R,(t={},t[w]=N?y+"px":"",t[j]=b?h+"px":"",t.transform="",t))}function Ize(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:ku(t.placement),variation:U0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,L$(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,L$(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Mze={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ize,data:{}};var jb={passive:!0};function Rze(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,s=n.resize,o=s===void 0?!0:s,l=ul(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach(function(d){d.addEventListener("scroll",r.update,jb)}),o&&l.addEventListener("resize",r.update,jb),function(){i&&u.forEach(function(d){d.removeEventListener("scroll",r.update,jb)}),o&&l.removeEventListener("resize",r.update,jb)}}const Lze={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Rze,data:{}};var Fze={left:"right",right:"left",bottom:"top",top:"bottom"};function Kb(e){return e.replace(/left|right|bottom|top/g,function(t){return Fze[t]})}var Bze={start:"end",end:"start"};function F$(e){return e.replace(/start|end/g,function(t){return Bze[t]})}function rM(e){var t=ul(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function nM(e){return W0(Jh(e)).left+rM(e).scrollLeft}function zze(e,t){var r=ul(e),n=Jh(e),a=r.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;var u=ese();(u||!u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o+nM(e),y:l}}function Wze(e){var t,r=Jh(e),n=rM(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=lm(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=lm(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+nM(e),l=-n.scrollTop;return sf(a||r).direction==="rtl"&&(o+=lm(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:l}}function aM(e){var t=sf(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function ise(e){return["html","body","#document"].indexOf(Rh(e))>=0?e.ownerDocument.body:Au(e)&&aM(e)?e:ise(g3(e))}function Hx(e,t){var r;t===void 0&&(t=[]);var n=ise(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=ul(n),s=a?[i].concat(i.visualViewport||[],aM(n)?n:[]):n,o=t.concat(s);return a?o:o.concat(Hx(g3(s)))}function iA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Uze(e,t){var r=W0(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function B$(e,t,r){return t===Qie?iA(zze(e,r)):Pm(t)?Uze(t,r):iA(Wze(Jh(e)))}function $ze(e){var t=Hx(g3(e)),r=["absolute","fixed"].indexOf(sf(e).position)>=0,n=r&&Au(e)?B1(e):e;return Pm(n)?t.filter(function(a){return Pm(a)&&tse(a,n)&&Rh(a)!=="body"}):[]}function qze(e,t,r,n){var a=t==="clippingParents"?$ze(e):[].concat(t),i=[].concat(a,[r]),s=i[0],o=i.reduce(function(l,u){var d=B$(e,u,n);return l.top=lm(d.top,l.top),l.right=$5(d.right,l.right),l.bottom=$5(d.bottom,l.bottom),l.left=lm(d.left,l.left),l},B$(e,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function sse(e){var t=e.reference,r=e.element,n=e.placement,a=n?ku(n):null,i=n?U0(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(a){case vo:l={x:s,y:t.y-r.height};break;case Kl:l={x:s,y:t.y+t.height};break;case Xl:l={x:t.x+t.width,y:o};break;case xo:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var u=a?tM(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(i){case B0:l[u]=l[u]-(t[d]/2-r[d]/2);break;case By:l[u]=l[u]+(t[d]/2-r[d]/2);break}}return l}function zy(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,s=i===void 0?e.strategy:i,o=r.boundary,l=o===void 0?hze:o,u=r.rootBoundary,d=u===void 0?Qie:u,f=r.elementContext,p=f===void 0?fx:f,h=r.altBoundary,g=h===void 0?!1:h,y=r.padding,x=y===void 0?0:y,b=nse(typeof x!="number"?x:ase(x,F1)),N=p===fx?pze:fx,j=e.rects.popper,w=e.elements[g?N:p],C=qze(Pm(w)?w:w.contextElement||Jh(e.elements.popper),l,d,s),E=W0(e.elements.reference),I=sse({reference:E,element:j,placement:a}),D=iA(Object.assign({},j,I)),O=p===fx?D:E,L={top:C.top-O.top+b.top,bottom:O.bottom-C.bottom+b.bottom,left:C.left-O.left+b.left,right:O.right-C.right+b.right},R=e.modifiersData.offset;if(p===fx&&R){var P=R[a];Object.keys(L).forEach(function(F){var V=[Xl,Kl].indexOf(F)>=0?1:-1,X=[vo,Kl].indexOf(F)>=0?"y":"x";L[F]+=P[X]*V})}return L}function Vze(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?ZI:l,d=U0(n),f=d?o?M$:M$.filter(function(g){return U0(g)===d}):F1,p=f.filter(function(g){return u.indexOf(g)>=0});p.length===0&&(p=f);var h=p.reduce(function(g,y){return g[y]=zy(e,{placement:y,boundary:a,rootBoundary:i,padding:s})[ku(y)],g},{});return Object.keys(h).sort(function(g,y){return h[g]-h[y]})}function Hze(e){if(ku(e)===JI)return[];var t=Kb(e);return[F$(e),t,F$(t)]}function Gze(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,h=r.flipVariations,g=h===void 0?!0:h,y=r.allowedAutoPlacements,x=t.options.placement,b=ku(x),N=b===x,j=l||(N||!g?[Kb(x)]:Hze(x)),w=[x].concat(j).reduce(function(J,Y){return J.concat(ku(Y)===JI?Vze(t,{placement:Y,boundary:d,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:y}):Y)},[]),C=t.rects.reference,E=t.rects.popper,I=new Map,D=!0,O=w[0],L=0;L<w.length;L++){var R=w[L],P=ku(R),F=U0(R)===B0,V=[vo,Kl].indexOf(P)>=0,X=V?"width":"height",te=zy(t,{placement:R,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),q=V?F?Xl:xo:F?Kl:vo;C[X]>E[X]&&(q=Kb(q));var U=Kb(q),Q=[];if(i&&Q.push(te[P]<=0),o&&Q.push(te[q]<=0,te[U]<=0),Q.every(function(J){return J})){O=R,D=!1;break}I.set(R,Q)}if(D)for(var se=g?3:1,K=function(Y){var ee=w.find(function(ae){var pe=I.get(ae);if(pe)return pe.slice(0,Y).every(function(de){return de})});if(ee)return O=ee,"break"},T=se;T>0;T--){var W=K(T);if(W==="break")break}t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}}const Yze={name:"flip",enabled:!0,phase:"main",fn:Gze,requiresIfExists:["offset"],data:{_skip:!1}};function z$(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function W$(e){return[vo,Xl,Kl,xo].some(function(t){return e[t]>=0})}function Kze(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=zy(t,{elementContext:"reference"}),o=zy(t,{altBoundary:!0}),l=z$(s,n),u=z$(o,a,i),d=W$(l),f=W$(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const Xze={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Kze};function Jze(e,t,r){var n=ku(e),a=[xo,vo].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[xo,Xl].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function Zze(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,s=ZI.reduce(function(d,f){return d[f]=Jze(f,t.rects,i),d},{}),o=s[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}const Qze={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Zze};function eWe(e){var t=e.state,r=e.name;t.modifiersData[r]=sse({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const tWe={name:"popperOffsets",enabled:!0,phase:"read",fn:eWe,data:{}};function rWe(e){return e==="x"?"y":"x"}function nWe(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,p=r.tether,h=p===void 0?!0:p,g=r.tetherOffset,y=g===void 0?0:g,x=zy(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),b=ku(t.placement),N=U0(t.placement),j=!N,w=tM(b),C=rWe(w),E=t.modifiersData.popperOffsets,I=t.rects.reference,D=t.rects.popper,O=typeof y=="function"?y(Object.assign({},t.rects,{placement:t.placement})):y,L=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(E){if(i){var F,V=w==="y"?vo:xo,X=w==="y"?Kl:Xl,te=w==="y"?"height":"width",q=E[w],U=q+x[V],Q=q-x[X],se=h?-D[te]/2:0,K=N===B0?I[te]:D[te],T=N===B0?-D[te]:-I[te],W=t.elements.arrow,J=h&&W?eM(W):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rse(),ee=Y[V],ae=Y[X],pe=Vx(0,I[te],J[te]),de=j?I[te]/2-se-pe-ee-L.mainAxis:K-pe-ee-L.mainAxis,we=j?-I[te]/2+se+pe+ae+L.mainAxis:T+pe+ae+L.mainAxis,Ae=t.elements.arrow&&B1(t.elements.arrow),Se=Ae?w==="y"?Ae.clientTop||0:Ae.clientLeft||0:0,Ge=(F=R?.[w])!=null?F:0,ke=q+de-Ge-Se,Z=q+we-Ge,Qe=Vx(h?$5(U,ke):U,q,h?lm(Q,Z):Q);E[w]=Qe,P[w]=Qe-q}if(o){var Ne,ze=w==="x"?vo:xo,De=w==="x"?Kl:Xl,me=E[C],_e=C==="y"?"height":"width",Ve=me+x[ze],Xe=me-x[De],Re=[vo,xo].indexOf(b)!==-1,st=(Ne=R?.[C])!=null?Ne:0,pt=Re?Ve:me-I[_e]-D[_e]-st+L.altAxis,Fe=Re?me+I[_e]+D[_e]-st-L.altAxis:Xe,at=h&&Re?Eze(pt,me,Fe):Vx(h?pt:Ve,me,h?Fe:Xe);E[C]=at,P[C]=at-me}t.modifiersData[n]=P}}const aWe={name:"preventOverflow",enabled:!0,phase:"main",fn:nWe,requiresIfExists:["offset"]};function iWe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function sWe(e){return e===ul(e)||!Au(e)?rM(e):iWe(e)}function oWe(e){var t=e.getBoundingClientRect(),r=z0(t.width)/e.offsetWidth||1,n=z0(t.height)/e.offsetHeight||1;return r!==1||n!==1}function lWe(e,t,r){r===void 0&&(r=!1);var n=Au(t),a=Au(t)&&oWe(t),i=Jh(t),s=W0(e,a,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Rh(t)!=="body"||aM(i))&&(o=sWe(t)),Au(t)?(l=W0(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=nM(i))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function cWe(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&a(l)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function uWe(e){var t=cWe(e);return jze.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function dWe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function fWe(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var U$={placement:"bottom",modifiers:[],strategy:"absolute"};function $$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function hWe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?U$:a;return function(o,l,u){u===void 0&&(u=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},U$,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],p=!1,h={state:d,setOptions:function(b){var N=typeof b=="function"?b(d.options):b;y(),d.options=Object.assign({},i,d.options,N),d.scrollParents={reference:Pm(o)?Hx(o):o.contextElement?Hx(o.contextElement):[],popper:Hx(l)};var j=uWe(fWe([].concat(n,d.options.modifiers)));return d.orderedModifiers=j.filter(function(w){return w.enabled}),g(),h.update()},forceUpdate:function(){if(!p){var b=d.elements,N=b.reference,j=b.popper;if($$(N,j)){d.rects={reference:lWe(N,B1(j),d.options.strategy==="fixed"),popper:eM(j)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var w=0;w<d.orderedModifiers.length;w++){if(d.reset===!0){d.reset=!1,w=-1;continue}var C=d.orderedModifiers[w],E=C.fn,I=C.options,D=I===void 0?{}:I,O=C.name;typeof E=="function"&&(d=E({state:d,options:D,name:O,instance:h})||d)}}}},update:dWe(function(){return new Promise(function(x){h.forceUpdate(),x(d)})}),destroy:function(){y(),p=!0}};if(!$$(o,l))return h;h.setOptions(u).then(function(x){!p&&u.onFirstUpdate&&u.onFirstUpdate(x)});function g(){d.orderedModifiers.forEach(function(x){var b=x.name,N=x.options,j=N===void 0?{}:N,w=x.effect;if(typeof w=="function"){var C=w({state:d,name:b,instance:h,options:j}),E=function(){};f.push(C||E)}})}function y(){f.forEach(function(x){return x()}),f=[]}return h}}var pWe=hWe({defaultModifiers:[Xze,tWe,Mze,Lze,Qze,Yze,aWe,Dze]}),q$=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},mWe={name:"applyStyles",enabled:!1},gWe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,s=a.reference,o=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&o==="tooltip"&&"setAttribute"in s){var l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",l?l+","+i.id:i.id)}}},vWe=[];function xWe(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,s=n.placement,o=s===void 0?"bottom":s,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?vWe:d,p=l3(n,["enabled","placement","strategy","modifiers"]),h=A.useRef(),g=A.useCallback(function(){var w;(w=h.current)==null||w.update()},[]),y=A.useCallback(function(){var w;(w=h.current)==null||w.forceUpdate()},[]),x=fze(A.useState({placement:o,update:g,forceUpdate:y,attributes:{},styles:{popper:q$(u),arrow:{}}})),b=x[0],N=x[1],j=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(C){var E=C.state,I={},D={};Object.keys(E.elements).forEach(function(O){I[O]=E.styles[O],D[O]=E.attributes[O]}),N({state:E,styles:I,attributes:D,update:g,forceUpdate:y,placement:E.placement})}}},[g,y,N]);return A.useEffect(function(){!h.current||!i||h.current.setOptions({placement:o,strategy:u,modifiers:[].concat(f,[j,mWe])})},[u,o,j,i]),A.useEffect(function(){if(!(!i||e==null||t==null))return h.current=pWe(e,t,ja({},p,{placement:o,strategy:u,modifiers:[].concat(f,[gWe,j])})),function(){h.current!=null&&(h.current.destroy(),h.current=void 0,N(function(w){return ja({},w,{attributes:{},styles:{popper:q$(u)}})}))}},[i,e,t]),b}function iM(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function wu(e,t,r,n){return XI(e,t,r,n),function(){iM(e,t,r,n)}}const yWe=Object.freeze(Object.defineProperty({__proto__:null,default:wu},Symbol.toStringTag,{value:"Module"}));var oC,V$;function bWe(){if(V$)return oC;V$=1;var e=function(){};return oC=e,oC}var wWe=bWe();const NWe=Ln(wWe);function SWe(e){return e&&"setState"in e?jY.findDOMNode(e):e??null}const jWe=(function(e){return Xh(SWe(e))});var CWe=27,H$=function(){};function _We(e){return e.button===0}function EWe(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var G$=function(t){return t&&("current"in t?t.current:t)};function PWe(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,s=i===void 0?"click":i,o=A.useRef(!1),l=t||H$,u=A.useCallback(function(p){var h,g=G$(e);NWe(!!g,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!g||EWe(p)||!_We(p)||!!af(g,(h=p.composedPath==null?void 0:p.composedPath()[0])!=null?h:p.target)},[e]),d=O$(function(p){o.current||l(p)}),f=O$(function(p){p.keyCode===CWe&&l(p)});A.useEffect(function(){if(!(a||e==null)){var p=window.event,h=jWe(G$(e)),g=wu(h,s,u,!0),y=wu(h,s,function(N){if(N===p){p=void 0;return}d(N)}),x=wu(h,"keyup",function(N){if(N===p){p=void 0;return}f(N)}),b=[];return"ontouchstart"in h.documentElement&&(b=[].slice.call(h.body.children).map(function(N){return wu(N,"mousemove",H$)})),function(){g(),y(),x(),b.forEach(function(N){return N()})}}},[e,a,s,u,d,f])}function kWe(e){var t={};return Array.isArray(e)?(e?.forEach(function(r){t[r.name]=r}),t):e||t}function AWe(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function DWe(e){var t,r,n,a,i=e.enabled,s=e.enableEvents,o=e.placement,l=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,h=e.popperConfig,g=h===void 0?{}:h,y=kWe(g.modifiers);return ja({},g,{placement:o,enabled:i,strategy:d?"fixed":g.strategy,modifiers:AWe(ja({},y,{eventListeners:{enabled:s},preventOverflow:ja({},y.preventOverflow,{options:f?ja({padding:f},(t=y.preventOverflow)==null?void 0:t.options):(r=y.preventOverflow)==null?void 0:r.options}),offset:{options:ja({offset:u},(n=y.offset)==null?void 0:n.options)},arrow:ja({},y.arrow,{enabled:!!p,options:ja({},(a=y.arrow)==null?void 0:a.options,{element:p})}),flip:ja({enabled:!!l},y.flip)}))})}function ose(e){e===void 0&&(e=Xh());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function v3(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function x3(e,t){e.classList?e.classList.add(t):v3(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Y$(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function y3(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Y$(e.className,t):e.setAttribute("class",Y$(e.className&&e.className.baseVal||"",t))}var Cb;function z1(e){if((!Cb&&Cb!==0||e)&&KI){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Cb=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Cb}var lC=function(t){var r;return typeof document>"u"?null:t==null?Xh().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function K$(e,t){var r=A.useState(function(){return lC(e)}),n=r[0],a=r[1];if(!n){var i=lC(e);i&&a(i)}return A.useEffect(function(){},[t,n]),A.useEffect(function(){var s=lC(e);s!==n&&a(s)},[e,n]),n}const X$=e=>!e||typeof e=="function"?e:t=>{e.current=t};function TWe(e,t){const r=X$(e),n=X$(t);return a=>{r&&r(a),n&&n(a)}}function OWe(e,t){return A.useMemo(()=>TWe(e,t),[e,t])}var sM=Me.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,s=i===void 0?5:i,o=e.popperConfig,l=o===void 0?{}:o,u=e.transition,d=I$(),f=d[0],p=d[1],h=I$(),g=h[0],y=h[1],x=OWe(p,t),b=K$(e.container),N=K$(e.target),j=A.useState(!e.show),w=j[0],C=j[1],E=xWe(N,f,DWe({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:r,offset:n,arrowElement:g,popperConfig:l})),I=E.styles,D=E.attributes,O=l3(E,["styles","attributes"]);e.show?w&&C(!1):!e.transition&&!w&&C(!0);var L=function(){C(!0),e.onExited&&e.onExited.apply(e,arguments)},R=e.show||u&&!w;if(PWe(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!R)return null;var P=e.children(ja({},O,{show:!!e.show,props:ja({},D.popper,{style:I.popper,ref:x}),arrowProps:ja({},D.arrow,{style:I.arrow,ref:y})}));if(u){var F=e.onExit,V=e.onExiting,X=e.onEnter,te=e.onEntering,q=e.onEntered;P=Me.createElement(u,{in:e.show,appear:!0,onExit:F,onExiting:V,onExited:L,onEnter:X,onEntering:te,onEntered:q},P)}return b?jY.createPortal(P,b):null});sM.displayName="Overlay";sM.propTypes={show:yt.bool,placement:yt.oneOf(ZI),target:yt.any,container:yt.any,flip:yt.bool,children:yt.func.isRequired,containerPadding:yt.number,popperConfig:yt.object,rootClose:yt.bool,rootCloseEvent:yt.oneOf(["click","mousedown"]),rootCloseDisabled:yt.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=yt.func).isRequired.apply(i,[t].concat(n))}return yt.func.apply(yt,[t].concat(n))},transition:yt.elementType,onEnter:yt.func,onEntering:yt.func,onEntered:yt.func,onExit:yt.func,onExiting:yt.func,onExited:yt.func};var cC,J$;function IWe(){if(J$)return cC;J$=1;function e(){this.__data__=[],this.size=0}return cC=e,cC}var uC,Z$;function b3(){if(Z$)return uC;Z$=1;var e=I1();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return uC=t,uC}var dC,Q$;function MWe(){if(Q$)return dC;Q$=1;var e=b3(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var o=i.length-1;return s==o?i.pop():r.call(i,s,1),--this.size,!0}return dC=n,dC}var fC,eq;function RWe(){if(eq)return fC;eq=1;var e=b3();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return fC=t,fC}var hC,tq;function LWe(){if(tq)return hC;tq=1;var e=b3();function t(r){return e(this.__data__,r)>-1}return hC=t,hC}var pC,rq;function FWe(){if(rq)return pC;rq=1;var e=b3();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return pC=t,pC}var mC,nq;function w3(){if(nq)return mC;nq=1;var e=IWe(),t=MWe(),r=RWe(),n=LWe(),a=FWe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,mC=i,mC}var gC,aq;function BWe(){if(aq)return gC;aq=1;var e=w3();function t(){this.__data__=new e,this.size=0}return gC=t,gC}var vC,iq;function zWe(){if(iq)return vC;iq=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return vC=e,vC}var xC,sq;function WWe(){if(sq)return xC;sq=1;function e(t){return this.__data__.get(t)}return xC=e,xC}var yC,oq;function UWe(){if(oq)return yC;oq=1;function e(t){return this.__data__.has(t)}return yC=e,yC}var bC,lq;function $We(){if(lq)return bC;lq=1;var e=Gu(),t=e["__core-js_shared__"];return bC=t,bC}var wC,cq;function qWe(){if(cq)return wC;cq=1;var e=$We(),t=(function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!t&&t in n}return wC=r,wC}var NC,uq;function lse(){if(uq)return NC;uq=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return NC=r,NC}var SC,dq;function VWe(){if(dq)return SC;dq=1;var e=$I(),t=qWe(),r=Nf(),n=lse(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,u=o.hasOwnProperty,d=RegExp("^"+l.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(p){if(!r(p)||t(p))return!1;var h=e(p)?d:i;return h.test(n(p))}return SC=f,SC}var jC,fq;function HWe(){if(fq)return jC;fq=1;function e(t,r){return t?.[r]}return jC=e,jC}var CC,hq;function $m(){if(hq)return CC;hq=1;var e=VWe(),t=HWe();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return CC=r,CC}var _C,pq;function oM(){if(pq)return _C;pq=1;var e=$m(),t=Gu(),r=e(t,"Map");return _C=r,_C}var EC,mq;function N3(){if(mq)return EC;mq=1;var e=$m(),t=e(Object,"create");return EC=t,EC}var PC,gq;function GWe(){if(gq)return PC;gq=1;var e=N3();function t(){this.__data__=e?e(null):{},this.size=0}return PC=t,PC}var kC,vq;function YWe(){if(vq)return kC;vq=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return kC=e,kC}var AC,xq;function KWe(){if(xq)return AC;xq=1;var e=N3(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var o=s[i];return o===t?void 0:o}return n.call(s,i)?s[i]:void 0}return AC=a,AC}var DC,yq;function XWe(){if(yq)return DC;yq=1;var e=N3(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return DC=n,DC}var TC,bq;function JWe(){if(bq)return TC;bq=1;var e=N3(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return TC=r,TC}var OC,wq;function ZWe(){if(wq)return OC;wq=1;var e=GWe(),t=YWe(),r=KWe(),n=XWe(),a=JWe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,OC=i,OC}var IC,Nq;function QWe(){if(Nq)return IC;Nq=1;var e=ZWe(),t=w3(),r=oM();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return IC=n,IC}var MC,Sq;function eUe(){if(Sq)return MC;Sq=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return MC=e,MC}var RC,jq;function S3(){if(jq)return RC;jq=1;var e=eUe();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return RC=t,RC}var LC,Cq;function tUe(){if(Cq)return LC;Cq=1;var e=S3();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return LC=t,LC}var FC,_q;function rUe(){if(_q)return FC;_q=1;var e=S3();function t(r){return e(this,r).get(r)}return FC=t,FC}var BC,Eq;function nUe(){if(Eq)return BC;Eq=1;var e=S3();function t(r){return e(this,r).has(r)}return BC=t,BC}var zC,Pq;function aUe(){if(Pq)return zC;Pq=1;var e=S3();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return zC=t,zC}var WC,kq;function lM(){if(kq)return WC;kq=1;var e=QWe(),t=tUe(),r=rUe(),n=nUe(),a=aUe();function i(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var u=s[o];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,WC=i,WC}var UC,Aq;function iUe(){if(Aq)return UC;Aq=1;var e=w3(),t=oM(),r=lM(),n=200;function a(i,s){var o=this.__data__;if(o instanceof e){var l=o.__data__;if(!t||l.length<n-1)return l.push([i,s]),this.size=++o.size,this;o=this.__data__=new r(l)}return o.set(i,s),this.size=o.size,this}return UC=a,UC}var $C,Dq;function cM(){if(Dq)return $C;Dq=1;var e=w3(),t=BWe(),r=zWe(),n=WWe(),a=UWe(),i=iUe();function s(o){var l=this.__data__=new e(o);this.size=l.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,$C=s,$C}var qC,Tq;function sUe(){if(Tq)return qC;Tq=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return qC=t,qC}var VC,Oq;function oUe(){if(Oq)return VC;Oq=1;function e(t){return this.__data__.has(t)}return VC=e,VC}var HC,Iq;function lUe(){if(Iq)return HC;Iq=1;var e=lM(),t=sUe(),r=oUe();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,HC=n,HC}var GC,Mq;function cUe(){if(Mq)return GC;Mq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return GC=e,GC}var YC,Rq;function uUe(){if(Rq)return YC;Rq=1;function e(t,r){return t.has(r)}return YC=e,YC}var KC,Lq;function cse(){if(Lq)return KC;Lq=1;var e=lUe(),t=cUe(),r=uUe(),n=1,a=2;function i(s,o,l,u,d,f){var p=l&n,h=s.length,g=o.length;if(h!=g&&!(p&&g>h))return!1;var y=f.get(s),x=f.get(o);if(y&&x)return y==o&&x==s;var b=-1,N=!0,j=l&a?new e:void 0;for(f.set(s,o),f.set(o,s);++b<h;){var w=s[b],C=o[b];if(u)var E=p?u(C,w,b,o,s,f):u(w,C,b,s,o,f);if(E!==void 0){if(E)continue;N=!1;break}if(j){if(!t(o,function(I,D){if(!r(j,D)&&(w===I||d(w,I,l,u,f)))return j.push(D)})){N=!1;break}}else if(!(w===C||d(w,C,l,u,f))){N=!1;break}}return f.delete(s),f.delete(o),N}return KC=i,KC}var XC,Fq;function use(){if(Fq)return XC;Fq=1;var e=Gu(),t=e.Uint8Array;return XC=t,XC}var JC,Bq;function dUe(){if(Bq)return JC;Bq=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return JC=e,JC}var ZC,zq;function fUe(){if(zq)return ZC;zq=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return ZC=e,ZC}var QC,Wq;function hUe(){if(Wq)return QC;Wq=1;var e=hv(),t=use(),r=I1(),n=cse(),a=dUe(),i=fUe(),s=1,o=2,l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",p="[object Number]",h="[object RegExp]",g="[object Set]",y="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",N="[object DataView]",j=e?e.prototype:void 0,w=j?j.valueOf:void 0;function C(E,I,D,O,L,R,P){switch(D){case N:if(E.byteLength!=I.byteLength||E.byteOffset!=I.byteOffset)return!1;E=E.buffer,I=I.buffer;case b:return!(E.byteLength!=I.byteLength||!R(new t(E),new t(I)));case l:case u:case p:return r(+E,+I);case d:return E.name==I.name&&E.message==I.message;case h:case y:return E==I+"";case f:var F=a;case g:var V=O&s;if(F||(F=i),E.size!=I.size&&!V)return!1;var X=P.get(E);if(X)return X==I;O|=o,P.set(E,I);var te=n(F(E),F(I),O,L,R,P);return P.delete(E),te;case x:if(w)return w.call(E)==w.call(I)}return!1}return QC=C,QC}var e_,Uq;function uM(){if(Uq)return e_;Uq=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return e_=e,e_}var t_,$q;function tc(){if($q)return t_;$q=1;var e=Array.isArray;return t_=e,t_}var r_,qq;function dse(){if(qq)return r_;qq=1;var e=uM(),t=tc();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return r_=r,r_}var n_,Vq;function pUe(){if(Vq)return n_;Vq=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var o=t[n];r(o,n,t)&&(s[i++]=o)}return s}return n_=e,n_}var a_,Hq;function fse(){if(Hq)return a_;Hq=1;function e(){return[]}return a_=e,a_}var i_,Gq;function dM(){if(Gq)return i_;Gq=1;var e=pUe(),t=fse(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(o){return n.call(s,o)}))}:t;return i_=i,i_}var s_,Yq;function mUe(){if(Yq)return s_;Yq=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return s_=e,s_}var o_,Kq;function gUe(){if(Kq)return o_;Kq=1;var e=pv(),t=Kh(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return o_=n,o_}var l_,Xq;function fM(){if(Xq)return l_;Xq=1;var e=gUe(),t=Kh(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return l_=i,l_}var Px={exports:{}},c_,Jq;function vUe(){if(Jq)return c_;Jq=1;function e(){return!1}return c_=e,c_}Px.exports;var Zq;function j3(){return Zq||(Zq=1,(function(e,t){var r=Gu(),n=vUe(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;e.exports=u})(Px,Px.exports)),Px.exports}var u_,Qq;function xUe(){if(Qq)return u_;Qq=1;var e=pv(),t=qI(),r=Kh(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",p="[object RegExp]",h="[object Set]",g="[object String]",y="[object WeakMap]",x="[object ArrayBuffer]",b="[object DataView]",N="[object Float32Array]",j="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",D="[object Uint8ClampedArray]",O="[object Uint16Array]",L="[object Uint32Array]",R={};R[N]=R[j]=R[w]=R[C]=R[E]=R[I]=R[D]=R[O]=R[L]=!0,R[n]=R[a]=R[x]=R[i]=R[b]=R[s]=R[o]=R[l]=R[u]=R[d]=R[f]=R[p]=R[h]=R[g]=R[y]=!1;function P(F){return r(F)&&t(F.length)&&!!R[e(F)]}return u_=P,u_}var d_,eV;function C3(){if(eV)return d_;eV=1;function e(t){return function(r){return t(r)}}return d_=e,d_}var kx={exports:{}};kx.exports;var tV;function hM(){return tV||(tV=1,(function(e,t){var r=Hie(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=(function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();e.exports=o})(kx,kx.exports)),kx.exports}var f_,rV;function pM(){if(rV)return f_;rV=1;var e=xUe(),t=C3(),r=hM(),n=r&&r.isTypedArray,a=n?t(n):e;return f_=a,f_}var h_,nV;function hse(){if(nV)return h_;nV=1;var e=mUe(),t=fM(),r=tc(),n=j3(),a=VI(),i=pM(),s=Object.prototype,o=s.hasOwnProperty;function l(u,d){var f=r(u),p=!f&&t(u),h=!f&&!p&&n(u),g=!f&&!p&&!h&&i(u),y=f||p||h||g,x=y?e(u.length,String):[],b=x.length;for(var N in u)(d||o.call(u,N))&&!(y&&(N=="length"||h&&(N=="offset"||N=="parent")||g&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||a(N,b)))&&x.push(N);return x}return h_=l,h_}var p_,aV;function mM(){if(aV)return p_;aV=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return p_=t,p_}var m_,iV;function pse(){if(iV)return m_;iV=1;function e(t,r){return function(n){return t(r(n))}}return m_=e,m_}var g_,sV;function yUe(){if(sV)return g_;sV=1;var e=pse(),t=e(Object.keys,Object);return g_=t,g_}var v_,oV;function bUe(){if(oV)return v_;oV=1;var e=mM(),t=yUe(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var o in Object(i))n.call(i,o)&&o!="constructor"&&s.push(o);return s}return v_=a,v_}var x_,lV;function W1(){if(lV)return x_;lV=1;var e=hse(),t=bUe(),r=M1();function n(a){return r(a)?e(a):t(a)}return x_=n,x_}var y_,cV;function mse(){if(cV)return y_;cV=1;var e=dse(),t=dM(),r=W1();function n(a){return e(a,r,t)}return y_=n,y_}var b_,uV;function wUe(){if(uV)return b_;uV=1;var e=mse(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o,l,u,d){var f=o&t,p=e(i),h=p.length,g=e(s),y=g.length;if(h!=y&&!f)return!1;for(var x=h;x--;){var b=p[x];if(!(f?b in s:n.call(s,b)))return!1}var N=d.get(i),j=d.get(s);if(N&&j)return N==s&&j==i;var w=!0;d.set(i,s),d.set(s,i);for(var C=f;++x<h;){b=p[x];var E=i[b],I=s[b];if(l)var D=f?l(I,E,b,s,i,d):l(E,I,b,i,s,d);if(!(D===void 0?E===I||u(E,I,o,l,d):D)){w=!1;break}C||(C=b=="constructor")}if(w&&!C){var O=i.constructor,L=s.constructor;O!=L&&"constructor"in i&&"constructor"in s&&!(typeof O=="function"&&O instanceof O&&typeof L=="function"&&L instanceof L)&&(w=!1)}return d.delete(i),d.delete(s),w}return b_=a,b_}var w_,dV;function NUe(){if(dV)return w_;dV=1;var e=$m(),t=Gu(),r=e(t,"DataView");return w_=r,w_}var N_,fV;function SUe(){if(fV)return N_;fV=1;var e=$m(),t=Gu(),r=e(t,"Promise");return N_=r,N_}var S_,hV;function jUe(){if(hV)return S_;hV=1;var e=$m(),t=Gu(),r=e(t,"Set");return S_=r,S_}var j_,pV;function CUe(){if(pV)return j_;pV=1;var e=$m(),t=Gu(),r=e(t,"WeakMap");return j_=r,j_}var C_,mV;function _3(){if(mV)return C_;mV=1;var e=NUe(),t=oM(),r=SUe(),n=jUe(),a=CUe(),i=pv(),s=lse(),o="[object Map]",l="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",h=s(e),g=s(t),y=s(r),x=s(n),b=s(a),N=i;return(e&&N(new e(new ArrayBuffer(1)))!=p||t&&N(new t)!=o||r&&N(r.resolve())!=u||n&&N(new n)!=d||a&&N(new a)!=f)&&(N=function(j){var w=i(j),C=w==l?j.constructor:void 0,E=C?s(C):"";if(E)switch(E){case h:return p;case g:return o;case y:return u;case x:return d;case b:return f}return w}),C_=N,C_}var __,gV;function _Ue(){if(gV)return __;gV=1;var e=cM(),t=cse(),r=hUe(),n=wUe(),a=_3(),i=tc(),s=j3(),o=pM(),l=1,u="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype,h=p.hasOwnProperty;function g(y,x,b,N,j,w){var C=i(y),E=i(x),I=C?d:a(y),D=E?d:a(x);I=I==u?f:I,D=D==u?f:D;var O=I==f,L=D==f,R=I==D;if(R&&s(y)){if(!s(x))return!1;C=!0,O=!1}if(R&&!O)return w||(w=new e),C||o(y)?t(y,x,b,N,j,w):r(y,x,I,b,N,j,w);if(!(b&l)){var P=O&&h.call(y,"__wrapped__"),F=L&&h.call(x,"__wrapped__");if(P||F){var V=P?y.value():y,X=F?x.value():x;return w||(w=new e),j(V,X,b,N,w)}}return R?(w||(w=new e),n(y,x,b,N,j,w)):!1}return __=g,__}var E_,vV;function gM(){if(vV)return E_;vV=1;var e=_Ue(),t=Kh();function r(n,a,i,s,o){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,o)}return E_=r,E_}var P_,xV;function gse(){if(xV)return P_;xV=1;var e=gM();function t(r,n){return e(r,n)}return P_=t,P_}var EUe=gse();const PUe=Ln(EUe);function cm(e,t){var r=d3(e);return r?r.innerHeight:t?e.clientHeight:Dc(e).height}function U1(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(p3(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}const kUe=Object.freeze(Object.defineProperty({__proto__:null,default:U1},Symbol.toStringTag,{value:"Module"}));var k_,yV;function AUe(){if(yV)return k_;yV=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return k_=e,k_}var A_,bV;function DUe(){if(bV)return A_;bV=1;var e=cM(),t=gM(),r=1,n=2;function a(i,s,o,l){var u=o.length,d=u,f=!l;if(i==null)return!d;for(i=Object(i);u--;){var p=o[u];if(f&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++u<d;){p=o[u];var h=p[0],g=i[h],y=p[1];if(f&&p[2]){if(g===void 0&&!(h in i))return!1}else{var x=new e;if(l)var b=l(g,y,h,i,s,x);if(!(b===void 0?t(y,g,r|n,l,x):b))return!1}}return!0}return A_=a,A_}var D_,wV;function vse(){if(wV)return D_;wV=1;var e=Nf();function t(r){return r===r&&!e(r)}return D_=t,D_}var T_,NV;function TUe(){if(NV)return T_;NV=1;var e=vse(),t=W1();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],o=n[s];a[i]=[s,o,e(o)]}return a}return T_=r,T_}var O_,SV;function xse(){if(SV)return O_;SV=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return O_=e,O_}var I_,jV;function OUe(){if(jV)return I_;jV=1;var e=DUe(),t=TUe(),r=xse();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return I_=n,I_}var M_,CV;function vM(){if(CV)return M_;CV=1;var e=tc(),t=R1(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var o=typeof i;return o=="number"||o=="symbol"||o=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return M_=a,M_}var R_,_V;function IUe(){if(_V)return R_;_V=1;var e=lM(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,o=a?a.apply(this,s):s[0],l=i.cache;if(l.has(o))return l.get(o);var u=n.apply(this,s);return i.cache=l.set(o,u)||l,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,R_=r,R_}var L_,EV;function MUe(){if(EV)return L_;EV=1;var e=IUe(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return L_=r,L_}var F_,PV;function RUe(){if(PV)return F_;PV=1;var e=MUe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,o,l,u){i.push(l?u.replace(r,"$1"):o||s)}),i});return F_=n,F_}var B_,kV;function xM(){if(kV)return B_;kV=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return B_=e,B_}var z_,AV;function LUe(){if(AV)return z_;AV=1;var e=hv(),t=xM(),r=tc(),n=R1(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return t(o,s)+"";if(n(o))return i?i.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return z_=s,z_}var W_,DV;function FUe(){if(DV)return W_;DV=1;var e=LUe();function t(r){return r==null?"":e(r)}return W_=t,W_}var U_,TV;function E3(){if(TV)return U_;TV=1;var e=tc(),t=vM(),r=RUe(),n=FUe();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return U_=a,U_}var $_,OV;function $1(){if(OV)return $_;OV=1;var e=R1();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return $_=t,$_}var q_,IV;function P3(){if(IV)return q_;IV=1;var e=E3(),t=$1();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return q_=r,q_}var V_,MV;function BUe(){if(MV)return V_;MV=1;var e=P3();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return V_=t,V_}var H_,RV;function zUe(){if(RV)return H_;RV=1;function e(t,r){return t!=null&&r in Object(t)}return H_=e,H_}var G_,LV;function WUe(){if(LV)return G_;LV=1;var e=E3(),t=fM(),r=tc(),n=VI(),a=qI(),i=$1();function s(o,l,u){l=e(l,o);for(var d=-1,f=l.length,p=!1;++d<f;){var h=i(l[d]);if(!(p=o!=null&&u(o,h)))break;o=o[h]}return p||++d!=f?p:(f=o==null?0:o.length,!!f&&a(f)&&n(h,f)&&(r(o)||t(o)))}return G_=s,G_}var Y_,FV;function UUe(){if(FV)return Y_;FV=1;var e=zUe(),t=WUe();function r(n,a){return n!=null&&t(n,a,e)}return Y_=r,Y_}var K_,BV;function $Ue(){if(BV)return K_;BV=1;var e=gM(),t=BUe(),r=UUe(),n=vM(),a=vse(),i=xse(),s=$1(),o=1,l=2;function u(d,f){return n(d)&&a(f)?i(s(d),f):function(p){var h=t(p,d);return h===void 0&&h===f?r(p,d):e(f,h,o|l)}}return K_=u,K_}var X_,zV;function k3(){if(zV)return X_;zV=1;function e(t){return t}return X_=e,X_}var J_,WV;function qUe(){if(WV)return J_;WV=1;function e(t){return function(r){return r?.[t]}}return J_=e,J_}var Z_,UV;function VUe(){if(UV)return Z_;UV=1;var e=P3();function t(r){return function(n){return e(n,r)}}return Z_=t,Z_}var Q_,$V;function HUe(){if($V)return Q_;$V=1;var e=qUe(),t=VUe(),r=vM(),n=$1();function a(i){return r(i)?e(n(i)):t(i)}return Q_=a,Q_}var eE,qV;function A3(){if(qV)return eE;qV=1;var e=OUe(),t=$Ue(),r=k3(),n=tc(),a=HUe();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return eE=i,eE}var tE,VV;function yse(){if(VV)return tE;VV=1;var e=AUe(),t=A3(),r=Yie(),n=Math.max;function a(i,s,o){var l=i==null?0:i.length;if(!l)return-1;var u=o==null?0:r(o);return u<0&&(u=n(l+u,0)),e(i,t(s,3),u)}return tE=a,tE}var GUe=yse();const YUe=Ln(GUe);var rE,HV;function KUe(){if(HV)return rE;HV=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var o=-1,l=t(e((a-n)/(i||1)),0),u=Array(l);l--;)u[s?l:++o]=n,n+=i;return u}return rE=r,rE}var nE,GV;function XUe(){if(GV)return nE;GV=1;var e=KUe(),t=u3(),r=Gie();function n(a){return function(i,s,o){return o&&typeof o!="number"&&t(i,s,o)&&(s=o=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),o=o===void 0?i<s?1:-1:r(o),e(i,s,o,a)}}return nE=n,nE}var aE,YV;function JUe(){if(YV)return aE;YV=1;var e=XUe(),t=e();return aE=t,aE}var ZUe=JUe();const QUe=Ln(ZUe);var KV=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function e$e(e,t){return!!(e===t||KV(e)&&KV(t))}function t$e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!e$e(e[r],t[r]))return!1;return!0}function bse(e,t){t===void 0&&(t=t$e);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return n.clear=function(){r=null},n}function Wy(e,t){var r=d3(e);return r?r.innerWidth:t?e.clientWidth:Dc(e).width}var iE,XV;function r$e(){if(XV)return iE;XV=1;var e=hv(),t=fM(),r=tc(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return iE=a,iE}var sE,JV;function wse(){if(JV)return sE;JV=1;var e=uM(),t=r$e();function r(n,a,i,s,o){var l=-1,u=n.length;for(i||(i=t),o||(o=[]);++l<u;){var d=n[l];a>0&&i(d)?a>1?r(d,a-1,i,s,o):e(o,d):s||(o[o.length]=d)}return o}return sE=r,sE}var oE,ZV;function n$e(){if(ZV)return oE;ZV=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),o=a(r),l=o.length;l--;){var u=o[t?l:++i];if(n(s[u],u,s)===!1)break}return r}}return oE=e,oE}var lE,QV;function a$e(){if(QV)return lE;QV=1;var e=n$e(),t=e();return lE=t,lE}var cE,eH;function yM(){if(eH)return cE;eH=1;var e=a$e(),t=W1();function r(n,a){return n&&e(n,a,t)}return cE=r,cE}var uE,tH;function i$e(){if(tH)return uE;tH=1;var e=M1();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,o=n?s:-1,l=Object(a);(n?o--:++o<s)&&i(l[o],o,l)!==!1;);return a}}return uE=t,uE}var dE,rH;function s$e(){if(rH)return dE;rH=1;var e=yM(),t=i$e(),r=t(e);return dE=r,dE}var fE,nH;function o$e(){if(nH)return fE;nH=1;var e=s$e(),t=M1();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(o,l,u){s[++i]=a(o,l,u)}),s}return fE=r,fE}var hE,aH;function l$e(){if(aH)return hE;aH=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return hE=e,hE}var pE,iH;function c$e(){if(iH)return pE;iH=1;var e=R1();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,o=e(r),l=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!o&&r>n||o&&l&&d&&!u&&!f||i&&l&&d||!a&&d||!s)return 1;if(!i&&!o&&!f&&r<n||f&&a&&s&&!i&&!o||u&&a&&s||!l&&s||!d)return-1}return 0}return pE=t,pE}var mE,sH;function u$e(){if(sH)return mE;sH=1;var e=c$e();function t(r,n,a){for(var i=-1,s=r.criteria,o=n.criteria,l=s.length,u=a.length;++i<l;){var d=e(s[i],o[i]);if(d){if(i>=u)return d;var f=a[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return mE=t,mE}var gE,oH;function d$e(){if(oH)return gE;oH=1;var e=xM(),t=P3(),r=A3(),n=o$e(),a=l$e(),i=C3(),s=u$e(),o=k3(),l=tc();function u(d,f,p){f.length?f=e(f,function(y){return l(y)?function(x){return t(x,y.length===1?y[0]:y)}:y}):f=[o];var h=-1;f=e(f,i(r));var g=n(d,function(y,x,b){var N=e(f,function(j){return j(y)});return{criteria:N,index:++h,value:y}});return a(g,function(y,x){return s(y,x,p)})}return gE=u,gE}var vE,lH;function f$e(){if(lH)return vE;lH=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return vE=e,vE}var xE,cH;function Nse(){if(cH)return xE;cH=1;var e=f$e(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,o=-1,l=t(s.length-a,0),u=Array(l);++o<l;)u[o]=s[a+o];o=-1;for(var d=Array(a+1);++o<a;)d[o]=s[o];return d[a]=i(u),e(n,this,d)}}return xE=r,xE}var yE,uH;function h$e(){if(uH)return yE;uH=1;function e(t){return function(){return t}}return yE=e,yE}var bE,dH;function Sse(){if(dH)return bE;dH=1;var e=$m(),t=(function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}})();return bE=t,bE}var wE,fH;function p$e(){if(fH)return wE;fH=1;var e=h$e(),t=Sse(),r=k3(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return wE=n,wE}var NE,hH;function m$e(){if(hH)return NE;hH=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var o=r(),l=t-(o-s);if(s=o,l>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return NE=n,NE}var SE,pH;function jse(){if(pH)return SE;pH=1;var e=p$e(),t=m$e(),r=t(e);return SE=r,SE}var jE,mH;function Cse(){if(mH)return jE;mH=1;var e=k3(),t=Nse(),r=jse();function n(a,i){return r(t(a,i,e),a+"")}return jE=n,jE}var CE,gH;function g$e(){if(gH)return CE;gH=1;var e=wse(),t=d$e(),r=Cse(),n=u3(),a=r(function(i,s){if(i==null)return[];var o=s.length;return o>1&&n(i,s[0],s[1])?s=[]:o>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return CE=a,CE}var v$e=g$e();const x$e=Ln(v$e);function _se(e){return Tae(e)||qie(e)||LI(e)||Oae()}var _E,vH;function y$e(){if(vH)return _E;vH=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return _E=e,_E}var EE,xH;function b$e(){if(xH)return EE;xH=1;var e=Nf(),t=mM(),r=y$e(),n=Object.prototype,a=n.hasOwnProperty;function i(s){if(!e(s))return r(s);var o=t(s),l=[];for(var u in s)u=="constructor"&&(o||!a.call(s,u))||l.push(u);return l}return EE=i,EE}var PE,yH;function D3(){if(yH)return PE;yH=1;var e=hse(),t=b$e(),r=M1();function n(a){return r(a)?e(a,!0):t(a)}return PE=n,PE}var kE,bH;function w$e(){if(bH)return kE;bH=1;var e=Cse(),t=I1(),r=u3(),n=D3(),a=Object.prototype,i=a.hasOwnProperty,s=e(function(o,l){o=Object(o);var u=-1,d=l.length,f=d>2?l[2]:void 0;for(f&&r(l[0],l[1],f)&&(d=1);++u<d;)for(var p=l[u],h=n(p),g=-1,y=h.length;++g<y;){var x=h[g],b=o[x];(b===void 0||t(b,a[x])&&!i.call(o,x))&&(o[x]=p[x])}return o});return kE=s,kE}var N$e=w$e();const S$e=Ln(N$e);var AE,wH;function bM(){if(wH)return AE;wH=1;var e=Sse();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return AE=t,AE}var DE,NH;function j$e(){if(NH)return DE;NH=1;var e=bM(),t=yM(),r=A3();function n(a,i){var s={};return i=r(i,3),t(a,function(o,l,u){e(s,l,i(o,l,u))}),s}return DE=n,DE}var C$e=j$e();const _$e=Ln(C$e);var TE,SH;function Ese(){if(SH)return TE;SH=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a&&r(t[n],n,t)!==!1;);return t}return TE=e,TE}var OE,jH;function Pse(){if(jH)return OE;jH=1;var e=bM(),t=I1(),r=Object.prototype,n=r.hasOwnProperty;function a(i,s,o){var l=i[s];(!(n.call(i,s)&&t(l,o))||o===void 0&&!(s in i))&&e(i,s,o)}return OE=a,OE}var IE,CH;function q1(){if(CH)return IE;CH=1;var e=Pse(),t=bM();function r(n,a,i,s){var o=!i;i||(i={});for(var l=-1,u=a.length;++l<u;){var d=a[l],f=s?s(i[d],n[d],d,i,n):void 0;f===void 0&&(f=n[d]),o?t(i,d,f):e(i,d,f)}return i}return IE=r,IE}var ME,_H;function E$e(){if(_H)return ME;_H=1;var e=q1(),t=W1();function r(n,a){return n&&e(a,t(a),n)}return ME=r,ME}var RE,EH;function P$e(){if(EH)return RE;EH=1;var e=q1(),t=D3();function r(n,a){return n&&e(a,t(a),n)}return RE=r,RE}var Ax={exports:{}};Ax.exports;var PH;function k$e(){return PH||(PH=1,(function(e,t){var r=Gu(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=o?o(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(Ax,Ax.exports)),Ax.exports}var LE,kH;function A$e(){if(kH)return LE;kH=1;function e(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}return LE=e,LE}var FE,AH;function D$e(){if(AH)return FE;AH=1;var e=q1(),t=dM();function r(n,a){return e(n,t(n),a)}return FE=r,FE}var BE,DH;function T3(){if(DH)return BE;DH=1;var e=pse(),t=e(Object.getPrototypeOf,Object);return BE=t,BE}var zE,TH;function kse(){if(TH)return zE;TH=1;var e=uM(),t=T3(),r=dM(),n=fse(),a=Object.getOwnPropertySymbols,i=a?function(s){for(var o=[];s;)e(o,r(s)),s=t(s);return o}:n;return zE=i,zE}var WE,OH;function T$e(){if(OH)return WE;OH=1;var e=q1(),t=kse();function r(n,a){return e(n,t(n),a)}return WE=r,WE}var UE,IH;function Ase(){if(IH)return UE;IH=1;var e=dse(),t=kse(),r=D3();function n(a){return e(a,r,t)}return UE=n,UE}var $E,MH;function O$e(){if(MH)return $E;MH=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var a=n.length,i=new n.constructor(a);return a&&typeof n[0]=="string"&&t.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return $E=r,$E}var qE,RH;function wM(){if(RH)return qE;RH=1;var e=use();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return qE=t,qE}var VE,LH;function I$e(){if(LH)return VE;LH=1;var e=wM();function t(r,n){var a=n?e(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}return VE=t,VE}var HE,FH;function M$e(){if(FH)return HE;FH=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return HE=t,HE}var GE,BH;function R$e(){if(BH)return GE;BH=1;var e=hv(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(a){return r?Object(r.call(a)):{}}return GE=n,GE}var YE,zH;function L$e(){if(zH)return YE;zH=1;var e=wM();function t(r,n){var a=n?e(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}return YE=t,YE}var KE,WH;function F$e(){if(WH)return KE;WH=1;var e=wM(),t=I$e(),r=M$e(),n=R$e(),a=L$e(),i="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",u="[object RegExp]",d="[object Set]",f="[object String]",p="[object Symbol]",h="[object ArrayBuffer]",g="[object DataView]",y="[object Float32Array]",x="[object Float64Array]",b="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",I="[object Uint32Array]";function D(O,L,R){var P=O.constructor;switch(L){case h:return e(O);case i:case s:return new P(+O);case g:return t(O,R);case y:case x:case b:case N:case j:case w:case C:case E:case I:return a(O,R);case o:return new P;case l:case f:return new P(O);case u:return r(O);case d:return new P;case p:return n(O)}}return KE=D,KE}var XE,UH;function Dse(){if(UH)return XE;UH=1;var e=Nf(),t=Object.create,r=(function(){function n(){}return function(a){if(!e(a))return{};if(t)return t(a);n.prototype=a;var i=new n;return n.prototype=void 0,i}})();return XE=r,XE}var JE,$H;function B$e(){if($H)return JE;$H=1;var e=Dse(),t=T3(),r=mM();function n(a){return typeof a.constructor=="function"&&!r(a)?e(t(a)):{}}return JE=n,JE}var ZE,qH;function z$e(){if(qH)return ZE;qH=1;var e=_3(),t=Kh(),r="[object Map]";function n(a){return t(a)&&e(a)==r}return ZE=n,ZE}var QE,VH;function W$e(){if(VH)return QE;VH=1;var e=z$e(),t=C3(),r=hM(),n=r&&r.isMap,a=n?t(n):e;return QE=a,QE}var eP,HH;function U$e(){if(HH)return eP;HH=1;var e=_3(),t=Kh(),r="[object Set]";function n(a){return t(a)&&e(a)==r}return eP=n,eP}var tP,GH;function $$e(){if(GH)return tP;GH=1;var e=U$e(),t=C3(),r=hM(),n=r&&r.isSet,a=n?t(n):e;return tP=a,tP}var rP,YH;function q$e(){if(YH)return rP;YH=1;var e=cM(),t=Ese(),r=Pse(),n=E$e(),a=P$e(),i=k$e(),s=A$e(),o=D$e(),l=T$e(),u=mse(),d=Ase(),f=_3(),p=O$e(),h=F$e(),g=B$e(),y=tc(),x=j3(),b=W$e(),N=Nf(),j=$$e(),w=W1(),C=D3(),E=1,I=2,D=4,O="[object Arguments]",L="[object Array]",R="[object Boolean]",P="[object Date]",F="[object Error]",V="[object Function]",X="[object GeneratorFunction]",te="[object Map]",q="[object Number]",U="[object Object]",Q="[object RegExp]",se="[object Set]",K="[object String]",T="[object Symbol]",W="[object WeakMap]",J="[object ArrayBuffer]",Y="[object DataView]",ee="[object Float32Array]",ae="[object Float64Array]",pe="[object Int8Array]",de="[object Int16Array]",we="[object Int32Array]",Ae="[object Uint8Array]",Se="[object Uint8ClampedArray]",Ge="[object Uint16Array]",ke="[object Uint32Array]",Z={};Z[O]=Z[L]=Z[J]=Z[Y]=Z[R]=Z[P]=Z[ee]=Z[ae]=Z[pe]=Z[de]=Z[we]=Z[te]=Z[q]=Z[U]=Z[Q]=Z[se]=Z[K]=Z[T]=Z[Ae]=Z[Se]=Z[Ge]=Z[ke]=!0,Z[F]=Z[V]=Z[W]=!1;function Qe(Ne,ze,De,me,_e,Ve){var Xe,Re=ze&E,st=ze&I,pt=ze&D;if(De&&(Xe=_e?De(Ne,me,_e,Ve):De(Ne)),Xe!==void 0)return Xe;if(!N(Ne))return Ne;var Fe=y(Ne);if(Fe){if(Xe=p(Ne),!Re)return s(Ne,Xe)}else{var at=f(Ne),ct=at==V||at==X;if(x(Ne))return i(Ne,Re);if(at==U||at==O||ct&&!_e){if(Xe=st||ct?{}:g(Ne),!Re)return st?l(Ne,a(Xe,Ne)):o(Ne,n(Xe,Ne))}else{if(!Z[at])return _e?Ne:{};Xe=h(Ne,at,Re)}}Ve||(Ve=new e);var wt=Ve.get(Ne);if(wt)return wt;Ve.set(Ne,Xe),j(Ne)?Ne.forEach(function(lr){Xe.add(Qe(lr,ze,De,lr,Ne,Ve))}):b(Ne)&&Ne.forEach(function(lr,jt){Xe.set(jt,Qe(lr,ze,De,jt,Ne,Ve))});var Nt=pt?st?d:u:st?C:w,_r=Fe?void 0:Nt(Ne);return t(_r||Ne,function(lr,jt){_r&&(jt=lr,lr=Ne[jt]),r(Xe,jt,Qe(lr,ze,De,jt,Ne,Ve))}),Xe}return rP=Qe,rP}var nP,KH;function V$e(){if(KH)return nP;KH=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return nP=e,nP}var aP,XH;function H$e(){if(XH)return aP;XH=1;var e=P3(),t=Vie();function r(n,a){return a.length<2?n:e(n,t(a,0,-1))}return aP=r,aP}var iP,JH;function G$e(){if(JH)return iP;JH=1;var e=E3(),t=V$e(),r=H$e(),n=$1();function a(i,s){return s=e(s,i),i=r(i,s),i==null||delete i[n(t(s))]}return iP=a,iP}var sP,ZH;function Y$e(){if(ZH)return sP;ZH=1;var e=pv(),t=T3(),r=Kh(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,o=i.hasOwnProperty,l=s.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var p=o.call(f,"constructor")&&f.constructor;return typeof p=="function"&&p instanceof p&&s.call(p)==l}return sP=u,sP}var oP,QH;function K$e(){if(QH)return oP;QH=1;var e=Y$e();function t(r){return e(r)?void 0:r}return oP=t,oP}var lP,eG;function X$e(){if(eG)return lP;eG=1;var e=wse();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return lP=t,lP}var cP,tG;function J$e(){if(tG)return cP;tG=1;var e=X$e(),t=Nse(),r=jse();function n(a){return r(t(a,void 0,e),a+"")}return cP=n,cP}var uP,rG;function Z$e(){if(rG)return uP;rG=1;var e=xM(),t=q$e(),r=G$e(),n=E3(),a=q1(),i=K$e(),s=J$e(),o=Ase(),l=1,u=2,d=4,f=s(function(p,h){var g={};if(p==null)return g;var y=!1;h=e(h,function(b){return b=n(b,p),y||(y=b.length>1),b}),a(p,o(p),g),y&&(g=t(g,l|u|d,i));for(var x=h.length;x--;)r(g,h[x]);return g});return uP=f,uP}var Q$e=Z$e();const eqe=Ln(Q$e);var dP,nG;function tqe(){if(nG)return dP;nG=1;var e=Ese(),t=Dse(),r=yM(),n=A3(),a=T3(),i=tc(),s=j3(),o=$I(),l=Nf(),u=pM();function d(f,p,h){var g=i(f),y=g||s(f)||u(f);if(p=n(p,4),h==null){var x=f&&f.constructor;y?h=g?new x:[]:l(f)?h=o(x)?t(a(f)):{}:h={}}return(y?e:r)(f,function(b,N,j){return p(h,b,N,j)}),h}return dP=d,dP}var rqe=tqe();const nqe=Ln(rqe);var Xb={exports:{}},aqe=Xb.exports,aG;function iqe(){return aG||(aG=1,(function(e,t){(function(r,n){e.exports=n()})(aqe,(function(){return function(r,n,a){n.prototype.isBetween=function(i,s,o,l){var u=a(i),d=a(s),f=(l=l||"()")[0]==="(",p=l[1]===")";return(f?this.isAfter(u,o):!this.isBefore(u,o))&&(p?this.isBefore(d,o):!this.isAfter(d,o))||(f?this.isBefore(u,o):!this.isAfter(u,o))&&(p?this.isAfter(d,o):!this.isBefore(d,o))}}}))})(Xb)),Xb.exports}iqe();var Jb={exports:{}},sqe=Jb.exports,iG;function oqe(){return iG||(iG=1,(function(e,t){(function(r,n){e.exports=n()})(sqe,(function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}}))})(Jb)),Jb.exports}oqe();var Zb={exports:{}},lqe=Zb.exports,sG;function cqe(){return sG||(sG=1,(function(e,t){(function(r,n){e.exports=n()})(lqe,(function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}}))})(Zb)),Zb.exports}cqe();var Qb={exports:{}},uqe=Qb.exports,oG;function dqe(){return oG||(oG=1,(function(e,t){(function(r,n){e.exports=n()})(uqe,(function(){return function(r,n,a){var i=n.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,p,h,g,y){var x=f.name?f:f.$locale(),b=s(x[p]),N=s(x[h]),j=b||N.map((function(C){return C.slice(0,g)}));if(!y)return j;var w=x.weekStart;return j.map((function(C,E){return j[(E+(w||0))%7]}))},l=function(){return a.Ls[a.locale()]},u=function(f,p){return f.formats[p]||(function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(g,y,x){return y||x.slice(1)}))})(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):o(f,"months")},monthsShort:function(p){return p?p.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):o(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(l(),"months")},a.monthsShort=function(){return o(l(),"monthsShort","months",3)},a.weekdays=function(f){return o(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}}))})(Qb)),Qb.exports}dqe();var ew={exports:{}},fqe=ew.exports,lG;function hqe(){return lG||(lG=1,(function(e,t){(function(r,n){e.exports=n()})(fqe,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var s=a.prototype,o=s.format;i.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=(function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(h,g,y){var x=y&&y.toUpperCase();return g||p[y]||r[y]||p[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(b,N,j){return N||j.slice(1)}))}))})(l,u===void 0?{}:u);return o.call(this,d)}}}))})(ew)),ew.exports}hqe();var tw={exports:{}},pqe=tw.exports,cG;function mqe(){return cG||(cG=1,(function(e,t){(function(r,n){e.exports=n()})(pqe,(function(){return function(r,n,a){var i=function(s,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter((function(d){return d})))[0];for(var u=1;u<o.length;u+=1)o[u].isValid()&&!o[u][s](l)||(l=o[u]);return l};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}}))})(tw)),tw.exports}mqe();var rw={exports:{}},gqe=rw.exports,uG;function vqe(){return uG||(uG=1,(function(e,t){(function(r,n){e.exports=n()})(gqe,(function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var l=s.prototype;o.utc=function(y){var x={date:y,utc:!0,args:arguments};return new s(x)},l.utc=function(y){var x=o(this.toDate(),{locale:this.$L,utc:!0});return y?x.add(this.utcOffset(),r):x},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),u.call(this,y)};var d=l.init;l.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(y,x){var b=this.$utils().u;if(b(y))return this.$u?0:b(this.$offset)?f.call(this):this.$offset;if(typeof y=="string"&&(y=(function(C){C===void 0&&(C="");var E=C.match(n);if(!E)return null;var I=(""+E[0]).match(a)||["-",0,0],D=I[0],O=60*+I[1]+ +I[2];return O===0?0:D==="+"?O:-O})(y),y===null))return this;var N=Math.abs(y)<=16?60*y:y;if(N===0)return this.utc(x);var j=this.clone();if(x)return j.$offset=N,j.$u=!1,j;var w=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(j=this.local().add(N+w,r)).$offset=N,j.$x.$localOffset=w,j};var p=l.format;l.format=function(y){var x=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,x)},l.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*y},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var h=l.toDate;l.toDate=function(y){return y==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var g=l.diff;l.diff=function(y,x,b){if(y&&this.$u===y.$u)return g.call(this,y,x,b);var N=this.local(),j=o(y).local();return g.call(N,j,x,b)}}}))})(rw)),rw.exports}vqe();var nw={exports:{}},xqe=nw.exports,dG;function yqe(){return dG||(dG=1,(function(e,t){(function(r,n){e.exports=n()})(xqe,(function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(nw)),nw.exports}yqe();function du(e){return e.children}var yo={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},zs={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},fG=Object.keys(zs).map(function(e){return zs[e]});yt.oneOfType([yt.string,yt.func]);yt.any;yt.func;yt.oneOfType([yt.arrayOf(yt.oneOf(fG)),yt.objectOf(function(e,t){var r=fG.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return yt.elementType.apply(yt,[e,t].concat(a))})]);yt.oneOfType([yt.oneOf(["overlap","no-overlap"]),yt.func]);var hG={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Tse(e,t){var r=Gi(e,"month");return Gi(r,"week",t.startOfWeek())}function Ose(e,t){var r=W5(e,"month");return W5(r,"week",t.startOfWeek())}function bqe(e,t){for(var r=Tse(e,t),n=Ose(e,t),a=[];dv(r,n,"day");)a.push(r),r=Mc(r,1,"day");return a}function wqe(e,t){var r=Gi(e,t);return T1(r,e)?r:Mc(r,1,t)}function Nqe(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];dv(n,t,r);)a.push(n),n=Mc(n,1,r);return a}function Sqe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Gi(e,"day"),e=Ly(e,Ly(t)),e=L0(e,L0(t)),e=Ry(e,Ry(t)),My(e,My(t)))}function pG(e){return Ly(e)===0&&L0(e)===0&&Ry(e)===0&&My(e)===0}function jqe(e,t,r,n){return r==="day"&&(r="date"),Math.abs(l$[r](e,void 0,n)-l$[r](t,void 0,n))}function NM(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Gi(e,r)/hG[r]-+Gi(t,r)/hG[r]))}var Cqe=yt.oneOfType([yt.string,yt.func]);function _qe(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return ky(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function Eqe(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function SM(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function Pqe(e,t){return NM(e,t,"minutes")+SM(e,t)}function kqe(e){var t=Gi(e,"day");return NM(t,e,"minutes")+SM(t,e)}function Aqe(e,t){return UI(e,t,"day")}function Dqe(e,t,r){var n=T1(e,t,"minutes");return n?O1(t,r,"minutes"):c3(t,r,"minutes")}function sA(e,t){return jqe(e,t,"day")}function Tqe(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,s=i.start,o=i.end,l=i.allDay,u=+Gi(r,"day")-+Gi(s,"day"),d=sA(r,n),f=sA(s,o);return u||f-d||!!l-!!a||+r-+s||+n-+o}function Oqe(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,s=a.end,o=Gi(r,"day"),l=dv(o,s,"day"),u=WI(o,n,"minutes"),d=u?c3(n,i,"minutes"):O1(n,i,"minutes");return l&&d}function Iqe(e,t){return T1(e,t,"day")}function Mqe(e,t){return pG(e)&&pG(t)}var Rqe=hi(function e(t){var r=this;fi(this,e),ky(typeof t.format=="function","date localizer `format(..)` must be a function"),ky(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Cqe,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return _qe.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Sqe,this.inRange=t.inRange||zie,this.lt=t.lt||UI,this.lte=t.lte||dv,this.gt=t.gt||c3,this.gte=t.gte||O1,this.eq=t.eq||T1,this.neq=t.neq||WI,this.startOf=t.startOf||Gi,this.endOf=t.endOf||W5,this.add=t.add||Mc,this.range=t.range||Nqe,this.diff=t.diff||NM,this.ceil=t.ceil||wqe,this.min=t.min||Fie,this.max=t.max||Bie,this.minutes=t.minutes||L0,this.daySpan=t.daySpan||sA,this.firstVisibleDay=t.firstVisibleDay||Tse,this.lastVisibleDay=t.lastVisibleDay||Ose,this.visibleDays=t.visibleDays||bqe,this.getSlotDate=t.getSlotDate||Eqe,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||SM,this.getTotalMin=t.getTotalMin||Pqe,this.getMinutesFromMidnight=t.getMinutesFromMidnight||kqe,this.continuesPrior=t.continuesPrior||Aqe,this.continuesAfter=t.continuesAfter||Dqe,this.sortEvents=t.sortEvents||Tqe,this.inEventRange=t.inEventRange||Oqe,this.isSameDate=t.isSameDate||Iqe,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Mqe,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Lqe(e,t,r,n){var a=xn(xn({},e.formats),r);return xn(xn({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,o){return e.format(s,a[o]||o,t)}})}var Fqe=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.navigate=function(s){r.props.onNavigate(s)},r.view=function(s){r.props.onView(s)},r}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return Me.createElement("div",{className:"rbc-toolbar"},Me.createElement("span",{className:"rbc-btn-group"},Me.createElement("button",{type:"button",onClick:this.navigate.bind(null,yo.TODAY)},a.today),Me.createElement("button",{type:"button",onClick:this.navigate.bind(null,yo.PREVIOUS)},a.previous),Me.createElement("button",{type:"button",onClick:this.navigate.bind(null,yo.NEXT)},a.next)),Me.createElement("span",{className:"rbc-toolbar-label"},i),Me.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(o){return Me.createElement("button",{type:"button",key:o,className:Xn({"rbc-active":s===o}),onClick:a.view.bind(null,o)},n[o])})}}])})(Me.Component);function On(e,t){e&&e.apply(null,[].concat(t))}var Bqe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function zqe(e){return xn(xn({},Bqe),e)}function Wqe(e){var t=e.ref,r=e.callback;A.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var Uqe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Ise=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,s=n.event,o=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,h=n.continuesPrior,g=n.continuesAfter,y=n.accessors,x=n.getters,b=n.children,N=n.components,j=N.event,w=N.eventWrapper,C=n.slotStart,E=n.slotEnd,I=Fu(n,Uqe);delete I.resizable;var D=y.title(s),O=y.tooltip(s),L=y.end(s),R=y.start(s),P=y.allDay(s),F=l||P||p.diff(R,p.ceil(L,"day"),"day")>1,V=x.eventProp(s,R,L,o),X=Me.createElement("div",{className:"rbc-event-content",title:O||void 0},j?Me.createElement(j,{event:s,continuesPrior:h,continuesAfter:g,title:D,isAllDay:P,localizer:p,slotStart:C,slotEnd:E}):D);return Me.createElement(w,Object.assign({},this.props,{type:"date"}),Me.createElement("div",Object.assign({},I,{style:xn(xn({},V.style),a),className:Xn("rbc-event",i,V.className,{"rbc-selected":o,"rbc-event-allday":F,"rbc-event-continues-prior":h,"rbc-event-continues-after":g}),onClick:function(q){return u&&u(s,q)},onDoubleClick:function(q){return d&&d(s,q)},onKeyDown:function(q){return f&&f(s,q)}}),typeof b=="function"?b(X):X))}}])})(Me.Component);function O3(e,t){return!e||t==null?!1:PUe(e,t)}function Mse(e,t){var r=e.right-e.left,n=r/t;return n}function Rse(e,t,r,n){var a=Mse(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function $qe(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function qqe(e,t,r,n,a){var i=-1,s=-1,o=n-1,l=Mse(t,n),u=Rse(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,h=t.top>e.y,g=r.top<t.top&&r.bottom>t.bottom;return g&&(i=0,s=o),d&&(h?(i=0,s=u):p&&(i=u,s=o)),f&&(i=s=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?u<i?i=u:s=u:e.y<r.y?s=o:i=0),{startIdx:i,endIdx:s}}function Vqe(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=Dc(t),s=i.top,o=i.left,l=i.width,u=i.height,d=Dc(n),f=d.top,p=d.left,h=d.width,g=d.height,y=Dc(a),x=y.width,b=y.height,N=f+g,j=p+h,w=s+b,C=o+x,E=r.x,I=r.y,D=w>N?s-b-I:s+I+u,O=C>j?o+E-x+l:o+E;return{topOffset:D,leftOffset:O}}function Hqe(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,s=e.localizer,o=e.position,l=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,h=e.onDoubleClick,g=e.onKeyPress,y=e.handleDragStart,x=e.popperRef,b=e.target,N=e.offset;Wqe({ref:x,callback:l}),A.useLayoutEffect(function(){var C=Vqe({target:b,offset:N,container:t.current,box:x.current}),E=C.topOffset,I=C.leftOffset;x.current.style.top="".concat(E,"px"),x.current.style.left="".concat(I,"px")},[N.x,N.y,b]);var j=o.width,w={minWidth:j+j/2};return Me.createElement("div",{style:w,className:"rbc-overlay",ref:x},Me.createElement("div",{className:"rbc-overlay-header"},s.format(d,"dayHeaderFormat")),u.map(function(C,E){return Me.createElement(Ise,{key:E,type:"popup",localizer:s,event:C,getters:n,onSelect:p,accessors:r,components:i,onDoubleClick:h,onKeyPress:g,continuesPrior:s.lt(r.end(C),d,"day"),continuesAfter:s.gte(r.start(C),f,"day"),slotStart:d,slotEnd:f,selected:O3(C,a),draggable:!0,onDragStart:function(){return y(C)},onDragEnd:function(){return l()}})}))}var Lse=Me.forwardRef(function(e,t){return Me.createElement(Hqe,Object.assign({},e,{popperRef:t}))});Lse.propTypes={accessors:yt.object.isRequired,getters:yt.object.isRequired,selected:yt.object,components:yt.object.isRequired,localizer:yt.object.isRequired,position:yt.object.isRequired,show:yt.func.isRequired,events:yt.array.isRequired,slotStart:yt.instanceOf(Date).isRequired,slotEnd:yt.instanceOf(Date),onSelect:yt.func,onDoubleClick:yt.func,onKeyPress:yt.func,handleDragStart:yt.func,style:yt.object,offset:yt.shape({x:yt.number,y:yt.number})};function Gqe(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,s=e.localizer,o=e.components,l=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,h=e.handleDragStart,g=e.onHide,y=e.overlayDisplay,x=A.useRef(null);if(!a.position)return null;var b=n;isNaN(n)||(b={x:n,y:n});var N=a.position,j=a.events,w=a.date,C=a.end;return Me.createElement(sM,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:g,target:a.target},function(E){var I=E.props;return Me.createElement(Lse,Object.assign({},I,{containerRef:t,ref:x,target:a.target,offset:b,accessors:i,getters:l,selected:u,components:o,localizer:s,position:N,show:y,events:j,slotStart:w,slotEnd:C,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:h}))})}var jM=Me.forwardRef(function(e,t){return Me.createElement(Gqe,Object.assign({},e,{containerRef:t}))});jM.propTypes={popupOffset:yt.oneOfType([yt.number,yt.shape({x:yt.number,y:yt.number})]),overlay:yt.shape({position:yt.object,events:yt.array,date:yt.instanceOf(Date),end:yt.instanceOf(Date)}),accessors:yt.object.isRequired,localizer:yt.object.isRequired,components:yt.object.isRequired,getters:yt.object.isRequired,selected:yt.object,handleSelectEvent:yt.func,handleDoubleClickEvent:yt.func,handleKeyPressEvent:yt.func,handleDragStart:yt.func,onHide:yt.func,overlayDisplay:yt.func};function ds(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return wu(r,e,t,{passive:!1})}function Yqe(e,t,r){return!e||af(e,document.elementFromPoint(t,r))}function Kqe(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return U1(a,".rbc-event",e)}function Xqe(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return U1(a,".rbc-show-more",e)}function q5(e,t){return!!Kqe(e,t)}function Jqe(e,t){return!!Xqe(e,t)}function hx(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var mG=5,Zqe=250,Fse=(function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,s=i===void 0?250:i,o=r.validContainers,l=o===void 0?[]:o;fi(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=ds("touchmove",function(){},window),this._removeKeyDownListener=ds("keydown",this._keyListener),this._removeKeyUpListener=ds("keyup",this._keyListener),this._removeDropFromOutsideListener=ds("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=ds("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return hi(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var s=a.indexOf(n);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=this._listeners[r]||[];return o.forEach(function(l){s===void 0&&(s=l.apply(void 0,a))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:gG(n,km(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,s=null,o=null,l=function(p){i=setTimeout(function(){d(),r(p)},a.longPressThreshold),s=ds("touchmove",function(){return d()}),o=ds("touchend",function(){return d()})},u=ds("touchstart",l),d=function(){i&&clearTimeout(i),s&&s(),o&&o(),i=null,s=null,o=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=ds("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=ds("mousedown",r._handleInitialEvent)}),a=ds("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=hx(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=hx(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=hx(r),a=n.clientX,i=n.clientY,s=n.pageX,o=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!Yqe(l,a,i))){if(!this.globalMouse&&l&&!af(l,r.target)){var f=Qqe(0),p=f.top,h=f.left,g=f.bottom,y=f.right;if(d=km(l),u=gG({top:d.top-p,left:d.left-h,bottom:d.bottom+g,right:d.right+y},{top:o,left:s}),!u)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:s,y:o,clientX:a,clientY:i});if(x!==!1)switch(r.type){case"mousedown":this._removeEndListener=ds("mouseup",this._handleTerminatingEvent),this._onEscListener=ds("keydown",this._handleTerminatingEvent),this._removeMoveListener=ds("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=ds("touchend",this._handleTerminatingEvent),this._removeMoveListener=ds("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||af(this.container(),r.target),s=this._isWithinValidContainer(r);return r.key==="Escape"||!s?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=hx(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<Zqe?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:i,clientX:s,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,s=hx(r),o=s.pageX,l=s.pageY,u=Math.abs(a-o),d=Math.abs(i-l),f=Math.min(o,a),p=Math.min(l,i),h=this.selecting,g=this.isClick(o,l);g&&!h&&!(u||d)||(!h&&!g&&this.emit("selectStart",this._initialEventData),g||(this.selecting=!0,this._selectRect={top:p,left:f,x:o,y:l,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,s=a.y,o=a.isTouch;return!o&&Math.abs(r-i)<=mG&&Math.abs(n-s)<=mG}}])})();function Qqe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Ar(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function gG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=km(e),a=n.top,i=n.left,s=n.right,o=s===void 0?i:s,l=n.bottom,u=l===void 0?a:l,d=km(t),f=d.top,p=d.left,h=d.right,g=h===void 0?p:h,y=d.bottom,x=y===void 0?f:y;return!(u-r<f||a+r>x||o-r<p||i+r>g)}function km(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+vG("left"),n=t.top+vG("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function vG(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var eVe=(function(e){function t(r,n){var a;return fi(this,t),a=js(this,t,[r,n]),a.state={selecting:!1},a.containerRef=A.createRef(),a}return Cs(t,e),hi(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,s=n.getters,o=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,h=d.endIdx,g=i();return Me.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(y,x){var b=f&&x>=p&&x<=h,N=s.dayProp(y),j=N.className,w=N.style;return Me.createElement(l,{key:x,value:y,range:a},Me.createElement("div",{style:w,className:Xn("rbc-day-bg",j,b&&"rbc-selected-cell",u.isSameDate(y,g)&&"rbc-today",o&&u.neq(o,y,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new Fse(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,u){if(!q5(a,l)&&!Jqe(a,l)){var d=km(a),f=n.props,p=f.range,h=f.rtl;if($qe(d,l)){var g=Rse(d,l.x,h,p.length);n._selectSlot({startIdx:g,endIdx:g,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(o){var l=n.props,u=l.range,d=l.rtl,f=-1,p=-1;if(n.state.selecting||(On(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),i.isSelected(a)){var h=km(a),g=qqe(n._initial,h,o,u.length,d);f=g.startIdx,p=g.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),i.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!q5(n.containerRef.current,o)}),i.on("click",function(o){return s(o,"click")}),i.on("doubleClick",function(o){return s(o,"doubleClick")}),i.on("select",function(o){n._selectSlot(xn(xn({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),On(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,s=n.action,o=n.bounds,l=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:o,box:l,resourceId:this.props.resourceId})}}])})(Me.Component),Fl={propTypes:{slotMetrics:yt.object.isRequired,selected:yt.object,isAllDay:yt.bool,accessors:yt.object.isRequired,localizer:yt.object.isRequired,components:yt.object.isRequired,getters:yt.object.isRequired,onSelect:yt.func,onDoubleClick:yt.func,onKeyPress:yt.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,s=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,h=d.continuesPrior(r),g=d.continuesAfter(r);return Me.createElement(Ise,{event:r,getters:i,localizer:u,accessors:a,components:f,onSelect:s,onDoubleClick:o,onKeyPress:l,continuesPrior:h,continuesAfter:g,slotStart:d.first,slotEnd:d.last,selected:O3(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return Me.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},Bse=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,o=a.className,l=1;return Me.createElement("div",{className:Xn(o,"rbc-row")},i.reduce(function(u,d,f){var p=d.event,h=d.left,g=d.right,y=d.span,x="_lvl_"+f,b=h-l,N=Fl.renderEvent(n.props,p);return b&&u.push(Fl.renderSpan(s,b,"".concat(x,"_gap"))),u.push(Fl.renderSpan(s,y,x,N)),l=g+1,u},[]))}}])})(Me.Component);Bse.defaultProps=xn({},Fl.defaultProps);function zse(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function tVe(e,t,r,n){var a=zse({dateRange:t,localizer:n}),i=a.first,s=a.last,o=n.diff(i,s,"day"),l=n.max(n.startOf(r.start(e),"day"),i),u=n.min(n.ceil(r.end(e),"day"),s),d=YUe(t,function(p){return n.isSameDate(p,l)}),f=n.diff(l,u,"day");return f=Math.min(f,o),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function oA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],s=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&rVe(a,i[n]);n++);n>=t?s.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(o,l){return o.left-l.left});return{levels:i,extra:s}}function Uy(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},s={start:t,end:r};return a.inEventRange({event:i,range:s})}function rVe(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function nVe(e,t,r){var n=Yb(e),a=[],i=[];n.forEach(function(l){var u=t.start(l),d=t.end(l);r.daySpan(u,d)>1?a.push(l):i.push(l)});var s=a.sort(function(l,u){return lA(l,u,t,r)}),o=i.sort(function(l,u){return lA(l,u,t,r)});return[].concat(Yb(s),Yb(o))}function lA(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var cA=function(t,r){return t.left<=r&&t.right>=r},fP=function(t,r){return t.filter(function(n){return cA(n,r)}).map(function(n){return n.event})},Wse=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,s=oA(a).levels[0],o=1,l=1,u=[];o<=i;){var d="_lvl_"+o,f=s.filter(function(w){return cA(w,o)})[0]||{},p=f.event,h=f.left,g=f.right,y=f.span;if(!p){var x=this.getHiddenEventsForSlot(a,o);if(x.length>0){var b=o-l;b&&u.push(Fl.renderSpan(i,b,d+"_gap")),u.push(Fl.renderSpan(i,1,d,this.renderShowMore(a,o))),l=o=o+1;continue}o++;continue}var N=Math.max(0,h-l);if(this.canRenderSlotEvent(h,y)){var j=Fl.renderEvent(this.props,p);N&&u.push(Fl.renderSpan(i,N,d+"_gap")),u.push(Fl.renderSpan(i,y,d,j)),l=o=g+1}else N&&u.push(Fl.renderSpan(i,N,d+"_gap")),u.push(Fl.renderSpan(i,1,d,this.renderShowMore(a,o))),l=o=o+1}return Me.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=fP(n,a),s=oA(n).levels[0],o=s.filter(function(l){return cA(l,a)}).map(function(l){return l.event});return i.filter(function(l){return!o.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return QUe(n,n+a).every(function(s){var o=fP(i,s).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var i=this,s=this.props,o=s.localizer,l=s.slotMetrics,u=s.components,d=l.getEventsForSlot(a),f=fP(n,a),p=f.length;if(u!=null&&u.showMore){var h=u.showMore,g=l.getDateForSlot(a-1);return p?Me.createElement(h,{localizer:o,slotDate:g,slot:a,count:p,events:d,remainingEvents:f}):!1}return p?Me.createElement("button",{type:"button",key:"sm_"+a,className:Xn("rbc-button-link","rbc-show-more"),onClick:function(x){return i.showMore(a,x)}},o.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])})(Me.Component);Wse.defaultProps=xn({},Fl.defaultProps);var aVe=function(t){var r=t.children;return Me.createElement("div",{className:"rbc-row-content-scroll-container"},r)},iVe=function(t,r){return t.left<=r&&t.right>=r},sVe=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function Use(){return bse(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,s=e.localizer,o=zse({dateRange:t,localizer:s}),l=o.first,u=o.last,d=r.map(function(y){return tVe(y,t,i,s)}),f=oA(d,Math.max(n-1,1)),p=f.levels,h=f.extra,g=h.length>0?a-1:a;p.length<g;)p.push([]);return{first:l,last:u,levels:p,extra:h,range:t,slots:t.length,clone:function(x){var b=Use();return b(xn(xn({},e),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(b){return s.isSameDate(b,x)})},getEventsForSlot:function(x){return d.filter(function(b){return iVe(b,x)}).map(function(b){return b.event})},continuesPrior:function(x){return s.continuesPrior(i.start(x),l)},continuesAfter:function(x){var b=i.start(x),N=i.end(x);return s.continuesAfter(b,N,u)}}},sVe)}var $y=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.handleSelectSlot=function(s){var o=r.props,l=o.range,u=o.onSelectSlot;u(l.slice(s.start,s.end+1),s)},r.handleShowMore=function(s,o){var l=r.props,u=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),p=m3(r.containerRef.current,".rbc-row-bg")[0],h;p&&(h=p.children[s-1]);var g=f.getEventsForSlot(s);d(g,u[s-1],h,s,o)},r.getContainer=function(){var s=r.props.container;return s?s():r.containerRef.current},r.renderHeadingCell=function(s,o){var l=r.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:s,key:"header_".concat(o),className:Xn("rbc-date-cell",f.isSameDate(s,d())&&"rbc-now")})},r.renderDummy=function(){var s=r.props,o=s.className,l=s.range,u=s.renderHeader,d=s.showAllEvents;return Me.createElement("div",{className:o,ref:r.containerRef},Me.createElement("div",{className:Xn("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&Me.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),Me.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Me.createElement("div",{className:"rbc-row-segment"},Me.createElement("div",{className:"rbc-event"},Me.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=A.createRef(),r.headingRowRef=A.createRef(),r.eventRowRef=A.createRef(),r.slotMetrics=Use(),r}return Cs(t,e),hi(t,[{key:"getRowLimit",value:function(){var n,a=cm(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?cm(this.headingRowRef.current):0,s=cm(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,s=n.range,o=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,h=n.components,g=n.getNow,y=n.renderHeader,x=n.onSelect,b=n.localizer,N=n.onSelectStart,j=n.onSelectEnd,w=n.onDoubleClick,C=n.onKeyPress,E=n.resourceId,I=n.longPressThreshold,D=n.isAllDay,O=n.resizable,L=n.showAllEvents;if(d)return this.renderDummy();var R=this.slotMetrics(this.props),P=R.levels,F=R.extra,V=L?aVe:du,X=h.weekWrapper,te={selected:l,accessors:f,getters:p,localizer:b,components:h,onSelect:x,onDoubleClick:w,onKeyPress:C,resourceId:E,slotMetrics:R,resizable:O};return Me.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},Me.createElement(eVe,{localizer:b,date:a,getNow:g,rtl:i,range:s,selectable:u,container:this.getContainer,getters:p,onSelectStart:N,onSelectEnd:j,onSelectSlot:this.handleSelectSlot,components:h,longPressThreshold:I,resourceId:E}),Me.createElement("div",{className:Xn("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},y&&Me.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),Me.createElement(V,null,Me.createElement(X,Object.assign({isAllDay:D},te,{rtl:this.props.rtl}),P.map(function(q,U){return Me.createElement(Bse,Object.assign({key:U,segments:q},te))}),!!F.length&&Me.createElement(Wse,Object.assign({segments:F,onShowMore:this.handleShowMore},te))))))}}])})(Me.Component);$y.defaultProps={minRows:0,maxRows:1/0};var CM=function(t){var r=t.label;return Me.createElement("span",{role:"columnheader","aria-sort":"none"},r)},oVe=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?Me.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):Me.createElement("span",null,r)},lVe=["date","className"],cVe=function(t,r,n,a,i){return t.filter(function(s){return Uy(s,r,n,a,i)})},I3=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(s,o){var l=r.props,u=l.events,d=l.components,f=l.selectable,p=l.getNow,h=l.selected,g=l.date,y=l.localizer,x=l.longPressThreshold,b=l.accessors,N=l.getters,j=l.showAllEvents,w=r.state,C=w.needLimitMeasure,E=w.rowLimit,I=cVe(Yb(u),s[0],s[s.length-1],b,y),D=nVe(I,b,y);return Me.createElement($y,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:g,range:s,events:D,maxRows:j?1/0:E,selected:h,selectable:f,components:d,accessors:b,getters:N,localizer:y,renderHeader:r.readerDateHeading,renderForMeasure:C,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:x,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:j})},r.readerDateHeading=function(s){var o=s.date,l=s.className,u=Fu(s,lVe),d=r.props,f=d.date,p=d.getDrilldownView,h=d.localizer,g=h.neq(f,o,"month"),y=h.isSameDate(o,f),x=p(o),b=h.format(o,"dateFormat"),N=r.props.components.dateHeader||oVe;return Me.createElement("div",Object.assign({},u,{className:Xn(l,g&&"rbc-off-range",y&&"rbc-current"),role:"cell"}),Me.createElement(N,{label:b,date:o,drilldownView:x,isOffRange:g,onDrillDown:function(w){return r.handleHeadingClick(o,x,w)}}))},r.handleSelectSlot=function(s,o){r._pendingSelection=r._pendingSelection.concat(s),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(s,o,l){l.preventDefault(),r.clearSelection(),On(r.props.onDrillDown,[s,o])},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onKeyPressEvent,o)},r.handleShowMore=function(s,o,l,u,d){var f=r.props,p=f.popup,h=f.onDrillDown,g=f.onShowMore,y=f.getDrilldownView,x=f.doShowMoreDrillDown;if(r.clearSelection(),p){var b=h3(l,r.containerRef.current);r.setState({overlay:{date:o,events:s,position:b,target:d}})}else x&&On(h,[o,y(o)||zs.DAY]);On(g,[s,o,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=A.createRef(),r.slotRowRef=A.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Cs(t,e),hi(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||L1(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.className,o=i.visibleDays(a,i),l=eze(o,7);return this._weekCount=l.length,Me.createElement("div",{className:Xn("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},Me.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,s=a.components,o=n[0],l=n[n.length-1],u=s.header||CM;return i.range(o,l,"day").map(function(d,f){return Me.createElement("div",{key:"header_"+f,className:"rbc-header"},Me.createElement(u,{date:d,localizer:i,label:i.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,p=o.selected,h=o.popupOffset,g=o.handleDragStart,y=function(){return i.setState({overlay:null})};return Me.createElement(jM,{overlay:s,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),On(this.props.onSelectSlot,{slots:a,start:i,end:s,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,s=n.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}])})(Me.Component);I3.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};I3.navigate=function(e,t,r){var n=r.localizer;switch(t){case yo.PREVIOUS:return n.add(e,-1,"month");case yo.NEXT:return n.add(e,1,"month");default:return e}};I3.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var xG=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(r,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function _M(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,s=xG({step:n,localizer:i}),o=1+i.getTotalMin(t,r),l=i.getMinutesFromMidnight(t),u=Math.ceil((o-1)/(n*a)),d=u*a,f=new Array(u),p=new Array(d),h=0;h<u;h++){f[h]=new Array(a);for(var g=0;g<a;g++){var y=h*a+g,x=y*n;p[y]=f[h][g]=i.getSlotDate(t,l,x)}}var b=p.length*n;p.push(i.getSlotDate(t,l,b));function N(j){var w=i.diff(t,j,"minutes")+i.getDstOffset(t,j);return Math.min(w,o)}return{groups:f,update:function(w){return xG(w)!==s?_M(w):this},dateIsInGroup:function(w,C){var E=f[C+1];return i.inRange(w,f[C][0],E?E[0]:r,"minutes")},nextSlot:function(w){var C=p[Math.min(p.findIndex(function(E){return E===w||i.eq(E,w)})+1,p.length-1)];return i.eq(C,w)&&(C=i.add(w,n,"minutes")),C},closestSlotToPosition:function(w){var C=Math.min(p.length-1,Math.max(0,Math.floor(w*d)));return p[C]},closestSlotFromPoint:function(w,C){var E=Math.abs(C.top-C.bottom);return this.closestSlotToPosition((w.y-C.top)/E)},closestSlotFromDate:function(w){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(w,t,"minutes"))return p[0];if(i.gt(w,r,"minutes"))return p[p.length-1];var E=i.diff(t,w,"minutes");return p[(E-E%n)/n+C]},startsBeforeDay:function(w){return i.lt(w,t,"day")},startsAfterDay:function(w){return i.gt(w,r,"day")},startsBefore:function(w){return i.lt(i.merge(t,w),t,"minutes")},startsAfter:function(w){return i.gt(i.merge(r,w),r,"minutes")},getRange:function(w,C,E,I){E||(w=i.min(r,i.max(t,w))),I||(C=i.min(r,i.max(t,C)));var D=N(w),O=N(C),L=O>n*d&&!i.eq(r,C)?(D-n)/(n*d)*100:D/(n*d)*100;return{top:L,height:O/(n*d)*100-L,start:N(w),startDate:w,end:N(C),endDate:C}},getCurrentTimePosition:function(w){var C=N(w),E=C/(n*d)*100;return E}}}var uVe=(function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;fi(this,e);var i=a.getRange(n.start(t),n.end(t)),s=i.start,o=i.startDate,l=i.end,u=i.endDate,d=i.top,f=i.height;this.start=s,this.end=l,this.startMs=+o,this.endMs=+u,this.top=d,this.height=f,this.data=t}return hi(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,s=n.indexOf(this)+1;return a+s*i}}])})();function dVe(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function fVe(e){for(var t=x$e(e,["startMs",function(o){return-o.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var s=t.splice(a,1)[0];r.push(s)}break}}}return r}function $se(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(d){return new uVe(d,{slotMetrics:n,accessors:a})}),s=fVe(i),o=[],l=function(){var f=s[u],p=o.find(function(y){return y.end>f.start||Math.abs(f.start-y.start)<r});if(!p)return f.rows=[],o.push(f),1;f.container=p;for(var h=null,g=p.rows.length-1;!h&&g>=0;g--)dVe(p.rows[g],f,r)&&(h=p.rows[g]);h?(h.leaves.push(f),f.row=h):(f.leaves=[],p.rows.push(f))},u=0;u<s.length;u++)l();return s.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function qse(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=qse(e.friends[n],t,r);t=t>a?t:a}return t}function hVe(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=$se({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(X,te){return X=X.style,te=te.style,X.top!==te.top?X.top>te.top?1:-1:X.height!==te.height?X.top+X.height<te.top+te.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var o=0;o<i.length-1;++o)for(var l=i[o],u=l.style.top,d=l.style.top+l.style.height,f=o+1;f<i.length;++f){var p=i[f],h=p.style.top,g=p.style.top+p.style.height;(h>=u&&g<=d||g>u&&g<=d||h>=u&&h<d)&&(l.friends.push(p),p.friends.push(l))}for(var y=0;y<i.length;++y){for(var x=i[y],b=[],N=0;N<100;++N)b.push(1);for(var j=0;j<x.friends.length;++j)x.friends[j].idx!==void 0&&(b[x.friends[j].idx]=0);x.idx=b.indexOf(1)}for(var w=0;w<i.length;++w){var C=0;if(!i[w].size){var E=[],I=qse(i[w],0,E);C=100/(I+1),i[w].size=C;for(var D=0;D<E.length;++D)E[D].size=C}}for(var O=0;O<i.length;++O){var L=i[O];L.style.left=L.idx*L.size;for(var R=0,P=0;P<L.friends.length;++P){var F=L.friends[P].idx;R=R>F?R:F}R<=L.idx&&(L.size=100-L.idx*L.size);var V=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat(V,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat(V,"px)")}return i}var yG={overlap:$se,"no-overlap":hVe};function pVe(e){return!!(e&&e.constructor&&e.call&&e.apply)}function mVe(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in yG&&(r=yG[t]),pVe(r)?r.apply(this,arguments):[]}var Vse=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,s=n.group,o=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?du:d,p=o?o.slotGroupProp(s):{};return Me.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),s.map(function(h,g){var y=o?o.slotProp(h,i):{};return Me.createElement(f,{key:g,value:h,resource:i},Me.createElement("div",Object.assign({},y,{className:Xn("rbc-time-slot",y.className)}),a&&a(h,g)))}))}}])})(A.Component);function _b(e){return typeof e=="string"?e:e+"%"}function gVe(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,s=e.selected,o=e.label,l=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,h=e.isBackgroundEvent,g=e.onKeyPress,y=e.components,x=y.event,b=y.eventWrapper,N=a.title(n),j=a.tooltip(n),w=a.end(n),C=a.start(n),E=d.eventProp(n,C,w,s),I=[Me.createElement("div",{key:"1",className:"rbc-event-label"},o),Me.createElement("div",{key:"2",className:"rbc-event-content"},x?Me.createElement(x,{event:n,title:N}):N)],D=t.height,O=t.top,L=t.width,R=t.xOffset,P=xn(xn({},E.style),{},qp({top:_b(O),height:_b(D),width:_b(L)},i?"right":"left",_b(R)));return Me.createElement(b,Object.assign({type:"time"},e),Me.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:P,onKeyDown:g,title:j?(typeof o=="string"?o+": ":"")+j:void 0,className:Xn(h?"rbc-background-event":"rbc-event",r,E.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},I))}var vVe=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return Me.createElement("div",{className:n,style:a,ref:i},r)},xVe=Me.forwardRef(function(e,t){return Me.createElement(vVe,Object.assign({},e,{innerRef:t}))}),yVe=["dayProp"],bVe=["eventContainerWrapper","timeIndicatorWrapper"],Hse=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(s){var o=s.events,l=s.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,p=u.accessors,h=u.localizer,g=u.getters,y=u.components,x=u.step,b=u.timeslots,N=u.dayLayoutAlgorithm,j=u.resizable,w=r,C=w.slotMetrics,E=h.messages,I=mVe({events:o,accessors:p,slotMetrics:C,minimumStartDifference:Math.ceil(x*b/2),dayLayoutAlgorithm:N});return I.map(function(D,O){var L,R=D.event,P=D.style,F=p.end(R),V=p.start(R),X=(L=p.eventId(R))!==null&&L!==void 0?L:"evt_"+O,te="eventTimeRangeFormat",q,U=C.startsBeforeDay(V),Q=C.startsAfterDay(F);U?te="eventTimeRangeEndFormat":Q&&(te="eventTimeRangeStartFormat"),U&&Q?q=E.allDay:q=h.format({start:V,end:F},te);var se=U||C.startsBefore(V),K=Q||C.startsAfter(F);return Me.createElement(gVe,{style:P,event:R,label:q,key:X,getters:g,rtl:d,components:y,continuesPrior:se,continuesAfter:K,accessors:p,resource:r.props.resource,selected:O3(R,f),onClick:function(W){return r._select(xn(xn(xn({},R),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),W)},onDoubleClick:function(W){return r._doubleClick(R,W)},isBackgroundEvent:l,onKeyPress:function(W){return r._keyPress(R,W)},resizable:j})})},r._selectable=function(){var s=r.containerRef.current,o=r.props,l=o.longPressThreshold,u=o.localizer,d=r._selector=new Fse(function(){return s},{longPressThreshold:l}),f=function(y){var x=r.props.onSelecting,b=r.state||{},N=p(y),j=N.startDate,w=N.endDate;x&&(u.eq(b.startDate,j,"minutes")&&u.eq(b.endDate,w,"minutes")||x({start:j,end:w,resourceId:r.props.resource})===!1)||(r.state.start!==N.start||r.state.end!==N.end||r.state.selecting!==N.selecting)&&r.setState(N)},p=function(y){var x=r.slotMetrics.closestSlotFromPoint(y,km(s));r.state.selecting||(r._initialSlot=x);var b=r._initialSlot;u.lte(b,x)?x=r.slotMetrics.nextSlot(x):u.gt(b,x)&&(b=r.slotMetrics.nextSlot(b));var N=r.slotMetrics.getRange(u.min(b,x),u.max(b,x));return xn(xn({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},h=function(y,x){if(!q5(r.containerRef.current,y)){var b=p(y),N=b.startDate,j=b.endDate;r._selectSlot({startDate:N,endDate:j,action:x,box:y})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(g){if(r.props.selectable==="ignoreEvents")return!q5(r.containerRef.current,g)}),d.on("click",function(g){return h(g,"click")}),d.on("doubleClick",function(g){return h(g,"doubleClick")}),d.on("select",function(g){r.state.selecting&&(r._selectSlot(xn(xn({},r.state),{},{action:"select",bounds:g})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(s){for(var o=s.startDate,l=s.endDate,u=s.action,d=s.bounds,f=s.box,p=o,h=[];r.props.localizer.lte(p,l);)h.push(p),p=new Date(+p+r.props.step*60*1e3);On(r.props.onSelectSlot,{slots:h,start:o,end:l,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onKeyPressEvent,o)},r.slotMetrics=_M(r.props),r.containerRef=A.createRef(),r}return Cs(t,e),hi(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,s=i.getNow,o=i.isNow,l=i.localizer,u=i.date,d=i.min,f=i.max,p=l.neq(n.getNow(),s(),"minutes");if(n.isNow!==o||p){if(this.clearTimeIndicatorInterval(),o){var h=!p&&l.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(h)}}else o&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,s=n.getNow,o=s();if(o>=a&&o<=i){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,s=n.rtl,o=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,h=Fu(f,yVe),g=n.components,y=g.eventContainerWrapper,x=g.timeIndicatorWrapper,b=Fu(g,bVe);this.slotMetrics=this.slotMetrics.update(this.props);var N=this.slotMetrics,j=this.state,w=j.selecting,C=j.top,E=j.height,I=j.startDate,D=j.endDate,O={start:I,end:D},L=p(i,l),R=L.className,P=L.style,F={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},V=b.dayColumnWrapper||xVe;return Me.createElement(V,{ref:this.containerRef,date:a,style:P,className:Xn(R,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",w&&"rbc-slot-selecting"),slotMetrics:N,resource:l},N.groups.map(function(X,te){return Me.createElement(Vse,{key:te,group:X,resource:l,getters:h,components:b})}),Me.createElement(y,{localizer:d,resource:l,accessors:u,getters:h,components:b,slotMetrics:N},Me.createElement("div",{className:Xn("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),w&&Me.createElement("div",{className:"rbc-slot-selection",style:{top:C,height:E}},Me.createElement("span",null,d.format(O,"selectRangeFormat"))),o&&this.intervalTriggered&&Me.createElement(x,F,Me.createElement("div",F)))}}])})(Me.Component);Hse.defaultProps={dragThroughEvents:!0,timeslots:2};var Gse=function(t){var r=t.label;return Me.createElement(Me.Fragment,null,r)},wVe=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),On(r.props.onDrillDown,[s,o])},r.renderRow=function(s){var o=r.props,l=o.events,u=o.rtl,d=o.selectable,f=o.getNow,p=o.range,h=o.getters,g=o.localizer,y=o.accessors,x=o.components,b=o.resizable,N=y.resourceId(s),j=s?l.filter(function(w){return y.resource(w)===N}):l;return Me.createElement($y,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:j,resourceId:N,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:x,accessors:y,getters:h,localizer:g,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:b})},r}return Cs(t,e),hi(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,u=i.getters.dayProp,d=i.components.header,f=d===void 0?CM:d,p=l();return n.map(function(h,g){var y=o(h),x=s.format(h,"dayFormat"),b=u(h),N=b.className,j=b.style,w=Me.createElement(f,{date:h,label:x,localizer:s});return Me.createElement("div",{key:g,style:j,className:Xn("rbc-header",N,s.isSameDate(h,p)&&"rbc-today")},y?Me.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(E){return a.handleHeaderClick(h,y,E)}},w):Me.createElement("span",null,w))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,s=a.rtl,o=a.resources,l=a.range,u=a.events,d=a.getNow,f=a.accessors,p=a.selectable,h=a.components,g=a.getters,y=a.scrollRef,x=a.localizer,b=a.isOverflowing,N=a.components,j=N.timeGutterHeader,w=N.resourceHeader,C=w===void 0?Gse:w,E=a.resizable,I={};b&&(I[s?"marginLeft":"marginRight"]="".concat(z1()-1,"px"));var D=o.groupEvents(u);return Me.createElement("div",{style:I,ref:y,className:Xn("rbc-time-header",b&&"rbc-overflowing")},Me.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},j&&Me.createElement(j,null)),o.map(function(O,L){var R=po(O,2),P=R[0],F=R[1];return Me.createElement("div",{className:"rbc-time-header-content",key:P||L},F&&Me.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},Me.createElement("div",{className:"rbc-header"},Me.createElement(C,{index:L,label:f.resourceTitle(F),resource:F}))),Me.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),Me.createElement($y,{isAllDay:!0,rtl:s,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:D.get(P)||[],resourceId:F&&P,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:h,accessors:f,getters:g,localizer:x,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:E}))}))}}])})(Me.Component),NVe=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),On(r.props.onDrillDown,[s,o])},r}return Cs(t,e),hi(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,u=i.getters.dayProp,d=i.components,f=d.header,p=f===void 0?CM:f,h=d.resourceHeader,g=h===void 0?Gse:h,y=i.resources,x=i.accessors,b=i.events,N=i.rtl,j=i.selectable,w=i.components,C=i.getters,E=i.resizable,I=l(),D=y.groupEvents(b);return n.map(function(O,L){var R=o(O),P=s.format(O,"dayFormat"),F=u(O),V=F.className,X=F.style,te=Me.createElement(p,{date:O,label:P,localizer:s});return Me.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},Me.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},Me.createElement("div",{style:X,className:Xn("rbc-header",V,s.isSameDate(O,I)&&"rbc-today")},R?Me.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(U){return a.handleHeaderClick(O,R,U)}},te):Me.createElement("span",null,te))),Me.createElement("div",{className:"rbc-row"},y.map(function(q,U){var Q=po(q,2),se=Q[0],K=Q[1];return Me.createElement("div",{key:"resource_".concat(se,"_").concat(U),className:Xn("rbc-header",V,s.isSameDate(O,I)&&"rbc-today")},Me.createElement(g,{index:U,label:x.resourceTitle(K),resource:K}))})),Me.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},y.map(function(q,U){var Q=po(q,2),se=Q[0],K=Q[1],T=(D.get(se)||[]).filter(function(W){return s.isSameDate(W.start,O)||s.isSameDate(W.end,O)});return Me.createElement($y,{key:"resource_".concat(se,"_").concat(U),isAllDay:!0,rtl:N,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[O],events:T,resourceId:K&&se,className:"rbc-allday-cell",selectable:j,selected:a.props.selected,components:w,accessors:x,getters:C,localizer:s,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:E})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,s=n.range,o=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[i?"marginLeft":"marginRight"]="".concat(z1()-1,"px")),Me.createElement("div",{style:d,ref:o,className:Xn("rbc-time-header",l&&"rbc-overflowing")},Me.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&Me.createElement(u,null)),this.renderHeaderCells(s))}}])})(Me.Component);function SVe(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var jVe=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,s=t.localizer,o=t.getNow,l=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,h=A.useMemo(function(){return SVe({min:r,max:n,localizer:s})},[r?.toISOString(),n?.toISOString(),s]),g=h.start,y=h.end,x=A.useState(_M({min:g,max:y,timeslots:a,step:i,localizer:s})),b=po(x,2),N=b[0],j=b[1];A.useEffect(function(){N&&j(N.update({min:g,max:y,timeslots:a,step:i,localizer:s}))},[g?.toISOString(),y?.toISOString(),a,i]);var w=A.useCallback(function(C,E){if(E)return null;var I=N.dateIsInGroup(o(),E);return Me.createElement("span",{className:Xn("rbc-label",I&&"rbc-now")},s.format(C,"timeGutterFormat"))},[N,s,o]);return Me.createElement(p,{slotMetrics:N},Me.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},N.groups.map(function(C,E){return Me.createElement(Vse,{key:E,group:C,resource:l,components:u,renderSlot:w,getters:d})})))},CVe=Me.forwardRef(function(e,t){return Me.createElement(jVe,Object.assign({gutterRef:t},e))}),hP={};function _Ve(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([hP,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var s=t.resource(i)||hP;if(Array.isArray(s))s.forEach(function(l){var u=a.get(l)||[];u.push(i),a.set(l,u)});else{var o=a.get(s)||[];o.push(i),a.set(s,o)}}),a):(a.set(hP,n),a)}}}var mv=(function(e){function t(r){var n;return fi(this,t),n=js(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){Fy(n.rafHandle),n.rafHandle=L1(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];On(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];On(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];On(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,s,o,l){var u=n.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,h=u.getDrilldownView,g=u.doShowMoreDrillDown;if(n.clearSelection(),d){var y=h3(s,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:xn(xn({},y),{},{width:"200px"}),target:l}})}else g&&On(f,[i,h(i)||zs.DAY]);On(p,[a,i,o])},n.handleSelectAllDaySlot=function(a,i){var s=n.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),On(s,{slots:a,start:o,end:l,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=bse(function(a,i){return _Ve(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=Me.createRef(),n.contentRef=Me.createRef(),n.containerRef=Me.createRef(),n._scrollRatio=null,n.gutterRef=A.createRef(),n}return Cs(t,e),hi(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Fy(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,s,o,l,u,d,f,p){var h=this.props,g=h.min,y=h.max,x=(s.get(a)||[]).filter(function(N){return l.inRange(n,u.start(N),u.end(N),"day")}),b=(o.get(a)||[]).filter(function(N){return l.inRange(n,u.start(N),u.end(N),"day")});return Me.createElement(Hse,Object.assign({},this.props,{localizer:l,min:l.merge(n,g),max:l.merge(n,y),resource:i&&a,components:d,isNow:l.isSameDate(n,p),key:"".concat(a,"-").concat(n),date:n,events:x,backgroundEvents:b,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,s,o,l,u,d,f){var p=this;return a.map(function(h){var g=po(h,2),y=g[0],x=g[1];return n.map(function(b){return p.renderDayColumn(b,y,x,i,s,o,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,i,s,o,l,u,d,f){var p=this;return n.map(function(h){return Me.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:h},a.map(function(g){var y=po(g,2),x=y[0],b=y[1];return Me.createElement("div",{style:{flex:1},key:l.resourceId(b)},p.renderDayColumn(h,x,b,i,s,o,l,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,i,s){var o=this.props,l=o.accessors,u=o.localizer,d=o.resourceGroupingLayout,f=o.components,p=o.dayLayoutAlgorithm,h=this.memoizedResources(this.props.resources,l),g=h.groupEvents(a),y=h.groupEvents(i);return d?this.renderRangeFirst(n,h,g,y,u,l,s,f,p):this.renderResourcesFirst(n,h,g,y,u,l,s,f,p)}},{key:"render",value:function(){var n,a=this.props,i=a.events,s=a.backgroundEvents,o=a.range,l=a.width,u=a.rtl,d=a.selected,f=a.getNow,p=a.resources,h=a.components,g=a.accessors,y=a.getters,x=a.localizer,b=a.min,N=a.max,j=a.showMultiDayTimes,w=a.longPressThreshold,C=a.resizable,E=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var I=o[0],D=o[o.length-1];this.slots=o.length;var O=[],L=[],R=[];i.forEach(function(F){if(Uy(F,I,D,g,x)){var V=g.start(F),X=g.end(F);g.allDay(F)||x.startAndEndAreDateOnly(V,X)||!j&&!x.isSameDate(V,X)?O.push(F):L.push(F)}}),s.forEach(function(F){Uy(F,I,D,g,x)&&R.push(F)}),O.sort(function(F,V){return lA(F,V,g,x)});var P={range:o,events:O,width:l,rtl:u,getNow:f,localizer:x,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,g),selectable:this.props.selectable,accessors:g,getters:y,components:h,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:w,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:C};return Me.createElement("div",{className:Xn("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&E?Me.createElement(NVe,P):Me.createElement(wVe,P),this.props.popup&&this.renderOverlay(),Me.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Me.createElement(CVe,{date:I,ref:this.gutterRef,localizer:x,min:x.merge(I,b),max:x.merge(I,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:h,className:"rbc-time-gutter",getters:y}),this.renderEvents(o,L,R,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,p=o.selected,h=o.popupOffset,g=o.handleDragStart,y=function(){return i.setState({overlay:null})};return Me.createElement(jM,{overlay:s,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:h,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:g,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:y})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?Wy(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,s=n.scrollToTime,o=n.localizer,l=o.diff(o.merge(s,a),s,"milliseconds"),u=o.diff(a,i,"milliseconds");this._scrollRatio=l/u}}])})(A.Component);mv.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var EVe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],M3=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,u=l===void 0?i.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,g=Fu(n,EVe),y=t.range(a,{localizer:i});return Me.createElement(mv,Object.assign({},g,{range:y,eventOffset:10,localizer:i,min:o,max:u,scrollToTime:f,enableAutoScroll:h}))}}])})(Me.Component);M3.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};M3.navigate=function(e,t,r){var n=r.localizer;switch(t){case yo.PREVIOUS:return n.add(e,-1,"day");case yo.NEXT:return n.add(e,1,"day");default:return e}};M3.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var PVe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Lh=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,u=l===void 0?i.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,g=Fu(n,PVe),y=t.range(a,this.props);return Me.createElement(mv,Object.assign({},g,{range:y,eventOffset:15,localizer:i,min:o,max:u,scrollToTime:f,enableAutoScroll:h}))}}])})(Me.Component);Lh.defaultProps=mv.defaultProps;Lh.navigate=function(e,t,r){var n=r.localizer;switch(t){case yo.PREVIOUS:return n.add(e,-1,"week");case yo.NEXT:return n.add(e,1,"week");default:return e}};Lh.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};Lh.title=function(e,t){var r=t.localizer,n=Lh.range(e,{localizer:r}),a=_se(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var kVe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function EM(e,t){return Lh.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var V1=(function(e){function t(){return fi(this,t),js(this,t,arguments)}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,u=l===void 0?i.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?i.startOf(new Date,"day"):d,p=n.enableAutoScroll,h=p===void 0?!0:p,g=Fu(n,kVe),y=EM(a,this.props);return Me.createElement(mv,Object.assign({},g,{range:y,eventOffset:15,localizer:i,min:o,max:u,scrollToTime:f,enableAutoScroll:h}))}}])})(Me.Component);V1.defaultProps=mv.defaultProps;V1.range=EM;V1.navigate=Lh.navigate;V1.title=function(e,t){var r=t.localizer,n=EM(e,{localizer:r}),a=_se(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var R3=30;function L3(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,s=e.length,o=s===void 0?R3:s,l=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=A.useRef(null),h=A.useRef(null),g=A.useRef(null),y=A.useRef(null),x=A.useRef(null);A.useEffect(function(){j()});var b=function(D,O,L){var R=r.event,P=r.date;return O=O.filter(function(F){return Uy(F,l.startOf(D,"day"),l.endOf(D,"day"),t,l)}),O.map(function(F,V){var X=t.title(F),te=t.end(F),q=t.start(F),U=i.eventProp(F,q,te,O3(F,f)),Q=V===0&&l.format(D,"agendaDateFormat"),se=V===0?Me.createElement("td",{rowSpan:O.length,className:"rbc-agenda-date-cell"},P?Me.createElement(P,{day:D,label:Q}):Q):!1;return Me.createElement("tr",{key:L+"_"+V,className:U.className,style:U.style},se,Me.createElement("td",{className:"rbc-agenda-time-cell"},N(D,F)),Me.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(T){return d&&d(F,T)},onDoubleClick:function(T){return u&&u(F,T)}},R?Me.createElement(R,{event:F,title:X}):X))},[])},N=function(D,O){var L="",R=r.time,P=l.messages.allDay,F=t.end(O),V=t.start(O);return t.allDay(O)||(l.eq(V,F)?P=l.format(V,"agendaTimeFormat"):l.isSameDate(V,F)?P=l.format({start:V,end:F},"agendaTimeRangeFormat"):l.isSameDate(D,V)?P=l.format(V,"agendaTimeFormat"):l.isSameDate(D,F)&&(P=l.format(F,"agendaTimeFormat"))),l.gt(D,V,"day")&&(L="rbc-continues-prior"),l.lt(D,F,"day")&&(L+=" rbc-continues-after"),Me.createElement("span",{className:L.trim()},R?Me.createElement(R,{event:O,day:D,label:P}):P)},j=function(){if(x.current){var D=p.current,O=x.current.firstChild;if(O){var L=y.current.scrollHeight>y.current.clientHeight,R=[],P=R;R=[Wy(O.children[0]),Wy(O.children[1])],(P[0]!==R[0]||P[1]!==R[1])&&(h.current.style.width=R[0]+"px",g.current.style.width=R[1]+"px"),L?(x3(D,"rbc-header-overflowing"),D.style.marginRight=z1()+"px"):y3(D,"rbc-header-overflowing")}}},w=l.messages,C=l.add(n,o,"day"),E=l.range(n,C,"day");return a=a.filter(function(I){return Uy(I,l.startOf(n,"day"),l.endOf(C,"day"),t,l)}),a.sort(function(I,D){return+t.start(I)-+t.start(D)}),Me.createElement("div",{className:"rbc-agenda-view"},a.length!==0?Me.createElement(Me.Fragment,null,Me.createElement("table",{ref:p,className:"rbc-agenda-table"},Me.createElement("thead",null,Me.createElement("tr",null,Me.createElement("th",{className:"rbc-header",ref:h},w.date),Me.createElement("th",{className:"rbc-header",ref:g},w.time),Me.createElement("th",{className:"rbc-header"},w.event)))),Me.createElement("div",{className:"rbc-agenda-content",ref:y},Me.createElement("table",{className:"rbc-agenda-table"},Me.createElement("tbody",{ref:x},E.map(function(I,D){return b(I,a,D)}))))):Me.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}L3.range=function(e,t){var r=t.length,n=r===void 0?R3:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};L3.navigate=function(e,t,r){var n=r.length,a=n===void 0?R3:n,i=r.localizer;switch(t){case yo.PREVIOUS:return i.add(e,-a,"day");case yo.NEXT:return i.add(e,a,"day");default:return e}};L3.title=function(e,t){var r=t.length,n=r===void 0?R3:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var aw=qp(qp(qp(qp(qp({},zs.MONTH,I3),zs.WEEK,Lh),zs.WORK_WEEK,V1),zs.DAY,M3),zs.AGENDA,L3),AVe=["action","date","today"];function DVe(e,t){var r=t.action,n=t.date,a=t.today,i=Fu(t,AVe);switch(e=typeof e=="string"?aw[e]:e,r){case yo.TODAY:n=a||new Date;break;case yo.DATE:break;default:ky(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function TVe(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Ar(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Td=function(t){return function(r){return TVe(r,t)}},OVe=["view","date","getNow","onNavigate"],IVe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Yse(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=po(n[r],2),i=a[0],s=a[1];s&&t.push(i)}return t}function MVe(e,t){var r=t.views,n=Yse(r);return n.indexOf(e)!==-1}var Kse=(function(e){function t(){var r;fi(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=js(this,t,[].concat(a)),r.getViews=function(){var s=r.props.views;return Array.isArray(s)?nqe(s,function(o,l){return o[l]=aw[l]},{}):Ar(s)==="object"?_$e(s,function(o,l){return o===!0?aw[l]:o}):aw},r.getView=function(){var s=r.getViews();return s[r.props.view]},r.getDrilldownView=function(s){var o=r.props,l=o.view,u=o.drilldownView,d=o.getDrilldownView;return d?d(s,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(s,o,l){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&o.range&&d(o.range(s,{localizer:f}),l)},r.handleNavigate=function(s,o){var l=r.props,u=l.view,d=l.date,f=l.getNow,p=l.onNavigate,h=Fu(l,OVe),g=r.getView(),y=f();d=DVe(g,xn(xn({},h),{},{action:s,date:o||d||y,today:y})),p(d,u,s),r.handleRangeChange(d,g)},r.handleViewChange=function(s){s!==r.props.view&&MVe(s,r.props)&&r.props.onView(s);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[s],s)},r.handleSelectEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];On(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(s){On(r.props.onSelectSlot,s)},r.handleDrillDown=function(s,o){var l=r.props.onDrillDown;if(l){l(s,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(yo.DATE,s)},r.state={context:t.getContext(r.props)},r}return Cs(t,e),hi(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,s=n.events,o=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,p=n.date,h=n.getNow,g=n.length,y=n.showMultiDayTimes,x=n.onShowMore,b=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var N=Fu(n,IVe);p=p||h();var j=this.getView(),w=this.state.context,C=w.accessors,E=w.components,I=w.getters,D=w.localizer,O=w.viewNames,L=E.toolbar||Fqe,R=j.title(p,{localizer:D,length:g});return Me.createElement("div",Object.assign({},f,{className:Xn(d,"rbc-calendar",N.rtl&&"rbc-rtl"),style:u}),i&&Me.createElement(L,{date:p,view:a,views:O,label:R,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:D}),Me.createElement(j,Object.assign({},N,{events:s,backgroundEvents:o,date:p,getNow:h,length:g,localizer:D,getters:I,components:E,accessors:C,showMultiDayTimes:y,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:b,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,s=n.allDayAccessor,o=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventIdAccessor,h=n.eventPropGetter,g=n.backgroundEventPropGetter,y=n.slotPropGetter,x=n.slotGroupPropGetter,b=n.dayPropGetter,N=n.view,j=n.views,w=n.localizer,C=n.culture,E=n.messages,I=E===void 0?{}:E,D=n.components,O=D===void 0?{}:D,L=n.formats,R=L===void 0?{}:L,P=Yse(j),F=zqe(I);return{viewNames:P,localizer:Lqe(w,C,R,F),getters:{eventProp:function(){return h&&h.apply(void 0,arguments)||{}},backgroundEventProp:function(){return g&&g.apply(void 0,arguments)||{}},slotProp:function(){return y&&y.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return b&&b.apply(void 0,arguments)||{}}},components:S$e(O[N]||{},eqe(O,P),{eventWrapper:du,backgroundEventWrapper:du,eventContainerWrapper:du,dateCellWrapper:du,weekWrapper:du,timeSlotWrapper:du,timeGutterWrapper:du,timeIndicatorWrapper:du}),accessors:{start:Td(a),end:Td(i),allDay:Td(s),tooltip:Td(o),title:Td(l),resource:Td(u),resourceId:Td(d),resourceTitle:Td(f),eventId:Td(p)}}}}])})(Me.Component);Kse.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:zs.MONTH,views:[zs.MONTH,zs.WEEK,zs.DAY,zs.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:zs.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var RVe=Rie(Kse,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),LVe=function(t,r,n){var a=t.start,i=t.end;return n.format(a,"MMMM DD",r)+"  "+n.format(i,n.eq(a,i,"month")?"DD":"MMMM DD",r)},FVe=function(t,r,n){var a=t.start,i=t.end;return n.format(a,"L",r)+"  "+n.format(i,"L",r)},pP=function(t,r,n){var a=t.start,i=t.end;return n.format(a,"LT",r)+"  "+n.format(i,"LT",r)},BVe=function(t,r,n){var a=t.start;return n.format(a,"LT",r)+"  "},zVe=function(t,r,n){var a=t.end;return"  "+n.format(a,"LT",r)},WVe={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:pP,eventTimeRangeFormat:pP,eventTimeRangeStartFormat:BVe,eventTimeRangeEndFormat:zVe,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:LVe,agendaHeaderFormat:FVe,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:pP};function ih(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function UVe(e){var t=function(T,W){return W?T.locale(W):T};function r(K){return e(K).toDate().getTimezoneOffset()}function n(K,T){var W,J,Y=e(K).local(),ee=e(T).local();if(!e.tz)return Y.toDate().getTimezoneOffset()-ee.toDate().getTimezoneOffset();var ae=(W=Y==null||(J=Y._z)===null||J===void 0?void 0:J.name)!==null&&W!==void 0?W:e.tz.guess(),pe=e.tz.zone(ae).utcOffset(+Y),de=e.tz.zone(ae).utcOffset(+ee);return pe-de}function a(K){var T=e(K).startOf("day");return n(T,K)}function i(K,T,W){var J=ih(W),Y=J?e(K).startOf(J):e(K),ee=J?e(T).startOf(J):e(T);return[Y,ee,J]}function s(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,T=arguments.length>1?arguments[1]:void 0,W=ih(T);return W?e(K).startOf(W).toDate():e(K).toDate()}function o(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,T=arguments.length>1?arguments[1]:void 0,W=ih(T);return W?e(K).endOf(W).toDate():e(K).toDate()}function l(K,T,W){var J=i(K,T,W),Y=po(J,3),ee=Y[0],ae=Y[1],pe=Y[2];return ee.isSame(ae,pe)}function u(K,T,W){return!l(K,T,W)}function d(K,T,W){var J=i(K,T,W),Y=po(J,3),ee=Y[0],ae=Y[1],pe=Y[2];return ee.isAfter(ae,pe)}function f(K,T,W){var J=i(K,T,W),Y=po(J,3),ee=Y[0],ae=Y[1],pe=Y[2];return ee.isBefore(ae,pe)}function p(K,T,W){var J=i(K,T,W),Y=po(J,3),ee=Y[0],ae=Y[1],pe=Y[2];return ee.isSameOrBefore(ae,pe)}function h(K,T,W){var J=i(K,T,W),Y=po(J,3),ee=Y[0],ae=Y[1],pe=Y[2];return ee.isSameOrBefore(ae,pe)}function g(K,T,W){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",Y=ih(J),ee=e(K),ae=e(T),pe=e(W);return ee.isBetween(ae,pe,Y,"[]")}function y(K,T){var W=e(K),J=e(T),Y=e.min(W,J);return Y.toDate()}function x(K,T){var W=e(K),J=e(T),Y=e.max(W,J);return Y.toDate()}function b(K,T){if(!K&&!T)return null;var W=e(T).format("HH:mm:ss"),J=e(K).startOf("day").format("MM/DD/YYYY");return e("".concat(J," ").concat(W),"MM/DD/YYYY HH:mm:ss").toDate()}function N(K,T,W){var J=ih(W);return e(K).add(T,J).toDate()}function j(K,T){for(var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",J=ih(W),Y=e(K).toDate(),ee=[];h(Y,T);)ee.push(Y),Y=N(Y,1,J);return ee}function w(K,T){var W=ih(T),J=s(K,W);return l(J,K)?J:N(J,1,W)}function C(K,T){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",J=ih(W),Y=e(K),ee=e(T);return ee.diff(Y,J)}function E(K){var T=e(K);return T.minutes()}function I(K){var T=K?e.localeData(K):e.localeData();return T?T.firstDayOfWeek():0}function D(K){return e(K).startOf("month").startOf("week").toDate()}function O(K){return e(K).endOf("month").endOf("week").toDate()}function L(K){for(var T=D(K),W=O(K),J=[];h(T,W);)J.push(T),T=N(T,1,"d");return J}function R(K,T,W){return e(K).startOf("day").minute(T+W).toDate()}function P(K,T){return C(K,T,"minutes")}function F(K){var T=e(K).startOf("day"),W=e(K);return W.diff(T,"minutes")+a(K)}function V(K,T){var W=e(K),J=e(T);return W.isBefore(J,"day")}function X(K,T,W){var J=e(T),Y=e(W);return J.isSameOrAfter(Y,"minutes")}function te(K,T){var W=e(K),J=e(T),Y=e.duration(J.diff(W));return Y.days()}function q(K){var T=K.evtA,W=T.start,J=T.end,Y=T.allDay,ee=K.evtB,ae=ee.start,pe=ee.end,de=ee.allDay,we=+s(W,"day")-+s(ae,"day"),Ae=te(W,J),Se=te(ae,pe);return we||Se-Ae||!!de-!!Y||+W-+ae||+J-+pe}function U(K){var T=K.event,W=T.start,J=T.end,Y=K.range,ee=Y.start,ae=Y.end,pe=e(W).startOf("day"),de=e(J),we=e(ee),Ae=e(ae),Se=pe.isSameOrBefore(Ae,"day"),Ge=!pe.isSame(de,"minutes"),ke=Ge?de.isAfter(we,"minutes"):de.isSameOrAfter(we,"minutes");return Se&&ke}function Q(K,T){var W=e(K),J=e(T);return W.isSame(J,"day")}function se(){var K=new Date,T=/-/.test(K.toString())?"-":"",W=K.getTimezoneOffset(),J=Number("".concat(T).concat(Math.abs(W))),Y=e().utcOffset();return Y>J?1:0}return new Rqe({formats:WVe,firstOfWeek:I,firstVisibleDay:D,lastVisibleDay:O,visibleDays:L,format:function(T,W,J){return t(e(T),J).format(W)},lt:f,lte:h,gt:d,gte:p,eq:l,neq:u,merge:b,inRange:g,startOf:s,endOf:o,range:j,add:N,diff:C,ceil:w,min:y,max:x,minutes:E,getSlotDate:R,getTimezoneOffset:r,getDstOffset:n,getTotalMin:P,getMinutesFromMidnight:F,continuesPrior:V,continuesAfter:X,sortEvents:q,inEventRange:U,isSameDate:Q,daySpan:te,browserTZOffset:se})}const $Ve=A.createContext({dragDropManager:void 0});function Ml(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var bG=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),wG=function(){return Math.random().toString(36).substring(7).split("").join(".")},NG={INIT:"@@redux/INIT"+wG(),REPLACE:"@@redux/REPLACE"+wG()};function qVe(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Xse(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ml(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ml(1));return r(Xse)(e,t)}if(typeof e!="function")throw new Error(Ml(2));var a=e,i=t,s=[],o=s,l=!1;function u(){o===s&&(o=s.slice())}function d(){if(l)throw new Error(Ml(3));return i}function f(y){if(typeof y!="function")throw new Error(Ml(4));if(l)throw new Error(Ml(5));var x=!0;return u(),o.push(y),function(){if(x){if(l)throw new Error(Ml(6));x=!1,u();var N=o.indexOf(y);o.splice(N,1),s=null}}}function p(y){if(!qVe(y))throw new Error(Ml(7));if(typeof y.type>"u")throw new Error(Ml(8));if(l)throw new Error(Ml(9));try{l=!0,i=a(i,y)}finally{l=!1}for(var x=s=o,b=0;b<x.length;b++){var N=x[b];N()}return y}function h(y){if(typeof y!="function")throw new Error(Ml(10));a=y,p({type:NG.REPLACE})}function g(){var y,x=f;return y={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(Ml(11));function j(){N.next&&N.next(d())}j();var w=x(j);return{unsubscribe:w}}},y[bG]=function(){return this},y}return p({type:NG.INIT}),n={dispatch:p,subscribe:f,getState:d,replaceReducer:h},n[bG]=g,n}function Ir(e,t,...r){if(VVe()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(t.replace(/%s/g,function(){return r[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function VVe(){return typeof process<"u"&&!0}function HVe(e,t,r){return t.split(".").reduce((n,a)=>n&&n[a]?n[a]:r||null,e)}function GVe(e,t){return e.filter(r=>r!==t)}function Jse(e){return typeof e=="object"}function YVe(e,t){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};e.forEach(n),t.forEach(n);const a=[];return r.forEach((i,s)=>{i===1&&a.push(s)}),a}function KVe(e,t){return e.filter(r=>t.indexOf(r)>-1)}const PM="dnd-core/INIT_COORDS",F3="dnd-core/BEGIN_DRAG",kM="dnd-core/PUBLISH_DRAG_SOURCE",B3="dnd-core/HOVER",z3="dnd-core/DROP",W3="dnd-core/END_DRAG";function SG(e,t){return{type:PM,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const XVe={type:PM,payload:{clientOffset:null,sourceClientOffset:null}};function JVe(e){return function(r=[],n={publishSource:!0}){const{publishSource:a=!0,clientOffset:i,getSourceClientOffset:s}=n,o=e.getMonitor(),l=e.getRegistry();e.dispatch(SG(i)),ZVe(r,o,l);const u=tHe(r,o);if(u==null){e.dispatch(XVe);return}let d=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");QVe(s),d=s(u)}e.dispatch(SG(i,d));const p=l.getSource(u).beginDrag(o,u);if(p==null)return;eHe(p),l.pinSource(u);const h=l.getSourceType(u);return{type:F3,payload:{itemType:h,item:p,sourceId:u,clientOffset:i||null,sourceClientOffset:d||null,isSourcePublic:!!a}}}}function ZVe(e,t,r){Ir(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){Ir(r.getSource(n),"Expected sourceIds to be registered.")})}function QVe(e){Ir(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function eHe(e){Ir(Jse(e),"Item must be an object.")}function tHe(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function rHe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nHe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){rHe(e,a,r[a])})}return e}function aHe(e){return function(r={}){const n=e.getMonitor(),a=e.getRegistry();iHe(n),lHe(n).forEach((s,o)=>{const l=sHe(s,o,a,n),u={type:z3,payload:{dropResult:nHe({},r,l)}};e.dispatch(u)})}}function iHe(e){Ir(e.isDragging(),"Cannot call drop while not dragging."),Ir(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function sHe(e,t,r,n){const a=r.getTarget(e);let i=a?a.drop(n,e):void 0;return oHe(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function oHe(e){Ir(typeof e>"u"||Jse(e),"Drop result must either be an object or undefined.")}function lHe(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function cHe(e){return function(){const r=e.getMonitor(),n=e.getRegistry();uHe(r);const a=r.getSourceId();return a!=null&&(n.getSource(a,!0).endDrag(r,a),n.unpinSource()),{type:W3}}}function uHe(e){Ir(e.isDragging(),"Cannot call endDrag while not dragging.")}function uA(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function dHe(e){return function(r,{clientOffset:n}={}){fHe(r);const a=r.slice(0),i=e.getMonitor(),s=e.getRegistry(),o=i.getItemType();return pHe(a,s,o),hHe(a,i,s),mHe(a,i,s),{type:B3,payload:{targetIds:a,clientOffset:n||null}}}}function fHe(e){Ir(Array.isArray(e),"Expected targetIds to be an array.")}function hHe(e,t,r){Ir(t.isDragging(),"Cannot call hover while not dragging."),Ir(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const a=e[n];Ir(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(a);Ir(i,"Expected targetIds to be registered.")}}function pHe(e,t,r){for(let n=e.length-1;n>=0;n--){const a=e[n],i=t.getTargetType(a);uA(i,r)||e.splice(n,1)}}function mHe(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function gHe(e){return function(){if(e.getMonitor().isDragging())return{type:kM}}}function vHe(e){return{beginDrag:JVe(e),publishDragSource:gHe(e),hover:dHe(e),drop:aHe(e),endDrag:cHe(e)}}class xHe{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(i){return(...s)=>{const o=i.apply(t,s);typeof o<"u"&&r(o)}}const a=vHe(this);return Object.keys(a).reduce((i,s)=>{const o=a[s];return i[s]=n(o),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function yHe(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Zse(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bHe(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:Zse(yHe(t,n),r)}function wHe(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:Zse(t,r)}const Gx=[],AM=[];Gx.__IS_NONE__=!0;AM.__IS_ALL__=!0;function NHe(e,t){return e===Gx?!1:e===AM||typeof t>"u"?!0:KVe(t,e).length>0}class SHe{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;Ir(typeof t=="function","listener must be a function."),Ir(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),o=s.stateId;try{o===a||o===a+1&&!NHe(s.dirtyHandlerIds,n)||t()}finally{a=o}};return this.store.subscribe(i)}subscribeToOffsetChange(t){Ir(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const a=this.store.getState().dragOffset;a!==r&&(r=a,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return Ir(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(Ir(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),a=this.getItemType();return uA(n,a)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(Ir(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),a=this.getItemType();return n!==a?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const a=this.registry.getTargetType(t),i=this.getItemType();if(i&&!uA(a,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const o=s.indexOf(t);return n?o===s.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return bHe(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return wHe(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const jG=typeof global<"u"?global:self,Qse=jG.MutationObserver||jG.WebKitMutationObserver;function eoe(e){return function(){const r=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(r),clearInterval(n),e()}}}function jHe(e){let t=1;const r=new Qse(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const CHe=typeof Qse=="function"?jHe:eoe;class _He{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,a=t.length-this.index;n<a;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=CHe(this.flush),this.requestErrorThrow=eoe(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class EHe{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class PHe{create(t){const r=this.freeTasks,n=r.length?r.pop():new EHe(this.onError,a=>r[r.length]=a);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const toe=new _He,kHe=new PHe(toe.registerPendingError);function AHe(e){toe.enqueueTask(kHe.create(e))}const DM="dnd-core/ADD_SOURCE",TM="dnd-core/ADD_TARGET",OM="dnd-core/REMOVE_SOURCE",U3="dnd-core/REMOVE_TARGET";function DHe(e){return{type:DM,payload:{sourceId:e}}}function THe(e){return{type:TM,payload:{targetId:e}}}function OHe(e){return{type:OM,payload:{sourceId:e}}}function IHe(e){return{type:U3,payload:{targetId:e}}}function MHe(e){Ir(typeof e.canDrag=="function","Expected canDrag to be a function."),Ir(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Ir(typeof e.endDrag=="function","Expected endDrag to be a function.")}function RHe(e){Ir(typeof e.canDrop=="function","Expected canDrop to be a function."),Ir(typeof e.hover=="function","Expected hover to be a function."),Ir(typeof e.drop=="function","Expected beginDrag to be a function.")}function dA(e,t){if(t&&Array.isArray(e)){e.forEach(r=>dA(r,!1));return}Ir(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ul;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Ul||(Ul={}));let LHe=0;function FHe(){return LHe++}function BHe(e){const t=FHe().toString();switch(e){case Ul.SOURCE:return`S${t}`;case Ul.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function CG(e){switch(e[0]){case"S":return Ul.SOURCE;case"T":return Ul.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function _G(e,t){const r=e.entries();let n=!1;do{const{done:a,value:[,i]}=r.next();if(i===t)return!0;n=!!a}while(!n);return!1}class zHe{addSource(t,r){dA(t),MHe(r);const n=this.addHandler(Ul.SOURCE,t,r);return this.store.dispatch(DHe(n)),n}addTarget(t,r){dA(t,!0),RHe(r);const n=this.addHandler(Ul.TARGET,t,r);return this.store.dispatch(THe(n)),n}containsHandler(t){return _G(this.dragSources,t)||_G(this.dropTargets,t)}getSource(t,r=!1){return Ir(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Ir(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Ir(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Ir(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return CG(t)===Ul.SOURCE}isTargetId(t){return CG(t)===Ul.TARGET}removeSource(t){Ir(this.getSource(t),"Expected an existing source."),this.store.dispatch(OHe(t)),AHe(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Ir(this.getTarget(t),"Expected an existing target."),this.store.dispatch(IHe(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);Ir(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){Ir(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const a=BHe(t);return this.types.set(a,r),t===Ul.SOURCE?this.dragSources.set(a,n):t===Ul.TARGET&&this.dropTargets.set(a,n),a}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const WHe=(e,t)=>e===t;function UHe(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function $He(e,t,r=WHe){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function qHe(e=Gx,t){switch(t.type){case B3:break;case DM:case TM:case U3:case OM:return Gx;case F3:case kM:case W3:case z3:default:return AM}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,a=YVe(r,n);if(!(a.length>0||!$He(r,n)))return Gx;const s=n[n.length-1],o=r[r.length-1];return s!==o&&(s&&a.push(s),o&&a.push(o)),a}function VHe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HHe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){VHe(e,a,r[a])})}return e}const EG={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function GHe(e=EG,t){const{payload:r}=t;switch(t.type){case PM:case F3:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case B3:return UHe(e.clientOffset,r.clientOffset)?e:HHe({},e,{clientOffset:r.clientOffset});case W3:case z3:return EG;default:return e}}function YHe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ig(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){YHe(e,a,r[a])})}return e}const KHe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function XHe(e=KHe,t){const{payload:r}=t;switch(t.type){case F3:return Ig({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case kM:return Ig({},e,{isSourcePublic:!0});case B3:return Ig({},e,{targetIds:r.targetIds});case U3:return e.targetIds.indexOf(r.targetId)===-1?e:Ig({},e,{targetIds:GVe(e.targetIds,r.targetId)});case z3:return Ig({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case W3:return Ig({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function JHe(e=0,t){switch(t.type){case DM:case TM:return e+1;case OM:case U3:return e-1;default:return e}}function ZHe(e=0){return e+1}function QHe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){QHe(e,a,r[a])})}return e}function tGe(e={},t){return{dirtyHandlerIds:qHe(e.dirtyHandlerIds,{type:t.type,payload:eGe({},t.payload,{prevTargetIds:HVe(e,"dragOperation.targetIds",[])})}),dragOffset:GHe(e.dragOffset,t),refCount:JHe(e.refCount,t),dragOperation:XHe(e.dragOperation,t),stateId:ZHe(e.stateId)}}function rGe(e,t=void 0,r={},n=!1){const a=nGe(n),i=new SHe(a,new zHe(a)),s=new xHe(a,i),o=e(s,t,r);return s.receiveBackend(o),s}function nGe(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Xse(tGe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function aGe(e,t){if(e==null)return{};var r=iGe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iGe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}let PG=0;const iw=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var sGe=A.memo(function(t){var{children:r}=t,n=aGe(t,["children"]);const[a,i]=oGe(n);return A.useEffect(()=>{if(i){const s=roe();return++PG,()=>{--PG===0&&(s[iw]=null)}}},[]),c.jsx($Ve.Provider,{value:a,children:r})});function oGe(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=lGe(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function lGe(e,t=roe(),r,n){const a=t;return a[iw]||(a[iw]={dragDropManager:rGe(e,t,r,n)}),a[iw]}function roe(){return typeof global<"u"?global:window}function noe(e){let t=null;return()=>(t==null&&(t=e()),t)}function cGe(e,t){return e.filter(r=>r!==t)}function uGe(e,t){const r=new Set,n=i=>r.add(i);e.forEach(n),t.forEach(n);const a=[];return r.forEach(i=>a.push(i)),a}class dGe{enter(t){const r=this.entered.length,n=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=uGe(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=cGe(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class fGe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const a=this.config.exposeProperties[n];a!=null&&(r[n]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const aoe="__NATIVE_FILE__",ioe="__NATIVE_URL__",soe="__NATIVE_TEXT__",ooe="__NATIVE_HTML__",kG=Object.freeze(Object.defineProperty({__proto__:null,FILE:aoe,HTML:ooe,TEXT:soe,URL:ioe},Symbol.toStringTag,{value:"Module"}));function mP(e,t,r){const n=t.reduce((a,i)=>a||e.getData(i),"");return n??r}const fA={[aoe]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[ooe]:{exposeProperties:{html:(e,t)=>mP(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[ioe]:{exposeProperties:{urls:(e,t)=>mP(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[soe]:{exposeProperties:{text:(e,t)=>mP(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function hGe(e,t){const r=fA[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new fGe(r);return n.loadDataTransfer(t),n}function gP(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(fA).filter(r=>{const n=fA[r];return n?.matchesTypes?n.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const pGe=noe(()=>/firefox/i.test(navigator.userAgent)),loe=noe(()=>!!window.safari);class AG{interpolate(t){const{xs:r,ys:n,c1s:a,c2s:i,c3s:s}=this;let o=r.length-1;if(t===r[o])return n[o];let l=0,u=s.length-1,d;for(;l<=u;){d=Math.floor(.5*(l+u));const h=r[d];if(h<t)l=d+1;else if(h>t)u=d-1;else return n[d]}o=Math.max(0,u);const f=t-r[o],p=f*f;return n[o]+a[o]*f+i[o]*p+s[o]*f*p}constructor(t,r){const{length:n}=t,a=[];for(let h=0;h<n;h++)a.push(h);a.sort((h,g)=>t[h]<t[g]?-1:1);const i=[],s=[];let o,l;for(let h=0;h<n-1;h++)o=t[h+1]-t[h],l=r[h+1]-r[h],i.push(o),s.push(l/o);const u=[s[0]];for(let h=0;h<i.length-1;h++){const g=s[h],y=s[h+1];if(g*y<=0)u.push(0);else{o=i[h];const x=i[h+1],b=o+x;u.push(3*b/((b+x)/g+(b+o)/y))}}u.push(s[s.length-1]);const d=[],f=[];let p;for(let h=0;h<u.length-1;h++){p=s[h];const g=u[h],y=1/i[h],x=g+u[h+1]-p-p;d.push((p-g-x)*y),f.push(x*y*y)}this.xs=t,this.ys=r,this.c1s=u,this.c2s=d,this.c3s=f}}const mGe=1;function coe(e){const t=e.nodeType===mGe?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Eb(e){return{x:e.clientX,y:e.clientY}}function gGe(e){var t;return e.nodeName==="IMG"&&(pGe()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function vGe(e,t,r,n){let a=e?t.width:r,i=e?t.height:n;return loe()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function xGe(e,t,r,n,a){const i=gGe(t),o=coe(i?e:t),l={x:r.x-o.x,y:r.y-o.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:f,anchorY:p}=n,{dragPreviewWidth:h,dragPreviewHeight:g}=vGe(i,t,u,d),y=()=>{let E=new AG([0,.5,1],[l.y,l.y/d*g,l.y+g-d]).interpolate(p);return loe()&&i&&(E+=(window.devicePixelRatio-1)*g),E},x=()=>new AG([0,.5,1],[l.x,l.x/u*h,l.x+h-u]).interpolate(f),{offsetX:b,offsetY:N}=a,j=b===0||b,w=N===0||N;return{x:j?b:x(),y:w?N:y()}}class yGe{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function bGe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){bGe(e,a,r[a])})}return e}class wGe{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const a=s=>this.handleDragStart(s,t),i=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=s=>this.handleDragEnter(s,t),a=s=>this.handleDragOver(s,t),i=s=>this.handleDrop(s,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",a),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",a),r.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return DG({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return DG({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(kG).some(r=>kG[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=hGe(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const i=this.sourceNodes.get(a);return i&&coe(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=Eb(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:o}=a,l=gP(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const d=this.monitor.getSourceId(),f=this.sourceNodes.get(d),p=this.sourcePreviewNodes.get(d)||f;if(p){const{anchorX:h,anchorY:g,offsetX:y,offsetY:x}=this.getCurrentSourcePreviewNodeOptions(),j=xGe(f,p,s,{anchorX:h,anchorY:g},{offsetX:y,offsetY:x});o.setDragImage(p,j.x,j.y)}}try{o?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(o&&!o.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:o}=a,l=gP(o);l&&this.beginDragNativeItem(l,o)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Eb(a)}),i.some(o=>this.monitor.canDropOnTarget(o))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=Eb(a),this.scheduleHover(i),(i||[]).some(o=>this.monitor.canDropOnTarget(o))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;a.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}else gP(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Eb(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new yGe(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new dGe(this.isNodeInDocument)}}const NGe=function(t,r,n){return new wGe(t,r,n)};var px={},vP={exports:{}},TG;function _s(){return TG||(TG=1,(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(vP)),vP.exports}var Pb={},xP={exports:{}},yP={exports:{}},bP={exports:{}},wP={exports:{}},OG;function gv(){return OG||(OG=1,(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(wP)),wP.exports}var NP={exports:{}},IG;function SGe(){return IG||(IG=1,(function(e){var t=gv().default;function r(n,a){if(t(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,a||"default");if(t(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(NP)),NP.exports}var MG;function uoe(){return MG||(MG=1,(function(e){var t=gv().default,r=SGe();function n(a){var i=r(a,"string");return t(i)=="symbol"?i:i+""}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(bP)),bP.exports}var RG;function doe(){return RG||(RG=1,(function(e){var t=uoe();function r(n,a,i){return(a=t(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i,n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(yP)),yP.exports}var LG;function Zh(){return LG||(LG=1,(function(e){var t=doe();function r(a,i){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);i&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),s.push.apply(s,o)}return s}function n(a){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?r(Object(s),!0).forEach(function(o){t(a,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(s,o))})}return a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(xP)),xP.exports}var SP={exports:{}},jP={exports:{}},FG;function jGe(){return FG||(FG=1,(function(e){function t(r,n){if(r==null)return{};var a={};for(var i in r)if({}.hasOwnProperty.call(r,i)){if(n.indexOf(i)!==-1)continue;a[i]=r[i]}return a}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(jP)),jP.exports}var BG;function IM(){return BG||(BG=1,(function(e){var t=jGe();function r(n,a){if(n==null)return{};var i,s,o=t(n,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],a.indexOf(i)===-1&&{}.propertyIsEnumerable.call(n,i)&&(o[i]=n[i])}return o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(SP)),SP.exports}var CP={exports:{}},zG;function qm(){return zG||(zG=1,(function(e){function t(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(CP)),CP.exports}var _P={exports:{}},WG;function Vm(){return WG||(WG=1,(function(e){var t=uoe();function r(a,i){for(var s=0;s<i.length;s++){var o=i[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,t(o.key),o)}}function n(a,i,s){return i&&r(a.prototype,i),s&&r(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(_P)),_P.exports}var EP={exports:{}},PP={exports:{}},UG;function CGe(){return UG||(UG=1,(function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(PP)),PP.exports}var kP={exports:{}},$G;function _Ge(){return $G||($G=1,(function(e){function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(kP)),kP.exports}var AP={exports:{}},DP={exports:{}},qG;function EGe(){return qG||(qG=1,(function(e){function t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(DP)),DP.exports}var VG;function PGe(){return VG||(VG=1,(function(e){var t=gv().default,r=EGe();function n(a,i){if(i&&(t(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(a)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports})(AP)),AP.exports}var HG;function vv(){return HG||(HG=1,(function(e){var t=CGe(),r=_Ge(),n=PGe();function a(i,s,o){return s=t(s),n(i,r()?Reflect.construct(s,o||[],t(i).constructor):s.apply(i,o))}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports})(EP)),EP.exports}var TP={exports:{}},OP={exports:{}},GG;function kGe(){return GG||(GG=1,(function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,i){return a.__proto__=i,a},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(OP)),OP.exports}var YG;function xv(){return YG||(YG=1,(function(e){var t=kGe();function r(n,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(a&&a.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),a&&t(n,a)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(TP)),TP.exports}const H1=qy(jBe);var Uo={},Dp={},KG;function AGe(){return KG||(KG=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.views=Dp.navigate=void 0,Dp.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Dp.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}),Dp}var XG;function DGe(){if(XG)return Uo;XG=1;var e=_s().default;Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.views=Uo.dateRangeFormat=Uo.dateFormat=Uo.accessor=Uo.DayLayoutAlgorithmPropType=void 0;var t=e(zI()),r=AGe(),n=Object.keys(r.views).map(function(a){return r.views[a]});return Uo.accessor=t.default.oneOfType([t.default.string,t.default.func]),Uo.dateFormat=t.default.any,Uo.dateRangeFormat=t.default.func,Uo.views=t.default.oneOfType([t.default.arrayOf(t.default.oneOf(n)),t.default.objectOf(function(a,i){var s=n.indexOf(i)!==-1&&typeof a[i]=="boolean";if(s)return null;for(var o=arguments.length,l=new Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];return t.default.elementType.apply(t.default,[a,i].concat(l))})]),Uo.DayLayoutAlgorithmPropType=t.default.oneOfType([t.default.oneOf(["overlap","no-overlap"]),t.default.func]),Uo}var mx={},Mg={},JG;function foe(){if(JG)return Mg;JG=1;var e=_s().default;Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.accessor=r,Mg.wrapAccessor=void 0;var t=e(gv());function r(n,a){var i=null;return typeof a=="function"?i=a(n):typeof a=="string"&&(0,t.default)(n)==="object"&&n!=null&&a in n&&(i=n[a]),i}return Mg.wrapAccessor=function(a){return function(i){return r(i,a)}},Mg}var gx={},ZG;function $3(){if(ZG)return gx;ZG=1;var e=_s().default;Object.defineProperty(gx,"__esModule",{value:!0}),gx.DnDContext=void 0;var t=e(Yi());return gx.DnDContext=t.default.createContext(),gx}var QG;function TGe(){if(QG)return mx;QG=1;var e=_s().default;Object.defineProperty(mx,"__esModule",{value:!0}),mx.default=void 0;var t=e(Zh()),r=e(qm()),n=e(Vm()),a=e(vv()),i=e(xv()),s=e(Yi()),o=e(H1),l=foe(),u=$3(),d=(function(f){function p(){var h;(0,r.default)(this,p);for(var g=arguments.length,y=new Array(g),x=0;x<g;x++)y[x]=arguments[x];return h=(0,a.default)(this,p,[].concat(y)),h.handleResizeUp=function(b){b.button===0&&h.context.draggable.onBeginAction(h.props.event,"resize","UP")},h.handleResizeDown=function(b){b.button===0&&h.context.draggable.onBeginAction(h.props.event,"resize","DOWN")},h.handleResizeLeft=function(b){b.button===0&&h.context.draggable.onBeginAction(h.props.event,"resize","LEFT")},h.handleResizeRight=function(b){b.button===0&&h.context.draggable.onBeginAction(h.props.event,"resize","RIGHT")},h.handleStartDragging=function(b){var N;if(b.button===0){var j=(N=b.target.getAttribute("class"))===null||N===void 0?void 0:N.includes("rbc-addons-dnd-resize");if(!j){var w=(0,t.default)({},h.props.event);w.sourceResource=h.props.resource,h.context.draggable.onBeginAction(h.props.event,"move")}}},h}return(0,i.default)(p,f),(0,n.default)(p,[{key:"renderAnchor",value:function(g){var y=g==="Up"||g==="Down"?"ns":"ew";return s.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(y,"-anchor"),onMouseDown:this["handleResize".concat(g)]},s.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(y,"-icon")}))}},{key:"render",value:function(){var g=this.props,y=g.event,x=g.type,b=g.continuesPrior,N=g.continuesAfter,j=g.resizable,w=this.props.children;if(y.__isPreview)return s.default.cloneElement(w,{className:(0,o.default)(w.props.className,"rbc-addons-dnd-drag-preview")});var C=this.context.draggable,E=C.draggableAccessor,I=C.resizableAccessor,D=E?!!(0,l.accessor)(y,E):!0;if(!D)return w;var O=j&&(I?!!(0,l.accessor)(y,I):!0);if(O||D){var L={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(O){var R=null,P=null;x==="date"?(R=!b&&this.renderAnchor("Left"),P=!N&&this.renderAnchor("Right")):(R=!b&&this.renderAnchor("Up"),P=!N&&this.renderAnchor("Down")),L.children=s.default.createElement("div",{className:"rbc-addons-dnd-resizable"},R,w.props.children,P)}C.dragAndDropAction.interacting&&C.dragAndDropAction.event===y&&(L.className=(0,o.default)(w.props.className,"rbc-addons-dnd-dragged-event")),w=s.default.cloneElement(w,L)}return w}}])})(s.default.Component);return d.contextType=u.DnDContext,mx.default=d,mx}var vx={},IP={exports:{}},eY;function hoe(){return eY||(eY=1,(function(e){var t=gv().default;function r(n,a){if(typeof WeakMap=="function")var i=new WeakMap,s=new WeakMap;return(e.exports=r=function(l,u){if(!u&&l&&l.__esModule)return l;var d,f,p={__proto__:null,default:l};if(l===null||t(l)!="object"&&typeof l!="function")return p;if(d=u?s:i){if(d.has(l))return d.get(l);d.set(l,p)}for(var h in l)h!=="default"&&{}.hasOwnProperty.call(l,h)&&((f=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(l,h))&&(f.get||f.set)?d(p,h,f):p[h]=l[h]);return p},e.exports.__esModule=!0,e.exports.default=e.exports)(n,a)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(IP)),IP.exports}function MM(e,t,r,n){if(r===void 0&&(r=!1),n===void 0&&(n=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,r,n),e.dispatchEvent(a)}}function OGe(e){var t=$i(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function IGe(e,t,r){r===void 0&&(r=5);var n=!1,a=setTimeout(function(){n||MM(e,"transitionend",!0)},t+r),i=wu(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(a),i()}}function RM(e,t,r,n){r==null&&(r=OGe(e)||0);var a=IGe(e,r,n),i=wu(e,"transitionend",t);return function(){a(),i()}}var tY={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function rY(e){var t=e.node,r=e.properties,n=e.duration,a=n===void 0?200:n,i=e.easing,s=e.callback,o=[],l={},u="";Object.keys(r).forEach(function(p){var h=r[p];Xie(p)?u+=p+"("+h+") ":(l[p]=h,o.push(Kie(p)))}),u&&(l.transform=u,o.push("transform"));function d(p){p.target===p.currentTarget&&($i(t,tY),s&&s.call(this,p))}a>0&&(l.transition=o.join(", "),l["transition-duration"]=a/1e3+"s",l["transition-delay"]="0s",l["transition-timing-function"]=i||"linear");var f=RM(t,d,a);return t.clientLeft,$i(t,l),{cancel:function(){f(),$i(t,tY)}}}function poe(e,t,r,n,a){if(!("nodeType"in e))return rY(e);if(!t)throw new Error("must include properties to animate");return typeof n=="function"&&(a=n,n=""),rY({node:e,properties:t,duration:r,easing:n,callback:a})}function moe(e,t,r){if(e){if(typeof r>"u")return e.getAttribute(t);!r&&r!==""?e.removeAttribute(t):e.setAttribute(t,String(r))}}function goe(e){return e?Array.from(e.children):[]}function voe(e){if(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}return null}var MGe=Function.prototype.bind.call(Function.prototype.call,[].slice);function xoe(e){return e?MGe(e.childNodes):[]}function yoe(e,t){return function(n){var a=n.currentTarget,i=n.target,s=m3(a,e);s.some(function(o){return af(o,i)})&&t.call(this,n)}}function boe(e,t){return e&&t&&t.parentNode?(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e):null}var RGe=/^(?:input|select|textarea|button)$/i;function woe(e){return e?RGe.test(e.nodeName):!1}function Noe(e){return e?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!1}function Soe(e,t,r){t===void 0&&(t=null),r===void 0&&(r=null);for(var n=[];e;e=e.nextElementSibling)if(e!==t){if(r&&p3(e,r))break;n.push(e)}return n}function joe(e,t){return Soe(e,e,t)}function LGe(e,t){var r=null,n=[];for(r=e?e[t]:null;r&&r.nodeType!==9;)n.push(r),r=r[t]||null;return n}function Coe(e){return LGe(e,"parentElement")}function _oe(e,t){return e&&t?(t.firstElementChild?t.insertBefore(e,t.firstElementChild):t.appendChild(e),e):null}function Eoe(e){return e&&e.parentNode?(e.parentNode.removeChild(e),e):null}function LM(e,t){var r=$i(e,"position"),n=r==="absolute",a=e.ownerDocument;if(r==="fixed")return a||document;for(;(e=e.parentNode)&&!Jie(e);){var i=n&&$i(e,"position")==="static",s=($i(e,"overflow")||"")+($i(e,"overflow-y")||"")+$i(e,"overflow-x");if(!i&&/(auto|scroll)/.test(s)&&(t||cm(e)<e.scrollHeight))return e}return a||document}function Poe(e,t){var r=Dc(e),n={top:0,left:0};if(e){var a=t||LM(e),i=d3(a),s=F0(a),o=cm(a,!0);i||(n=Dc(a)),r={top:r.top-n.top,left:r.left-n.left,height:r.height,width:r.width};var l=r.height,u=r.top+(i?0:s),d=u+l;s=s>u?u:d>s+o?d-o:s;var f=L1(function(){return F0(a,s)});return function(){return Fy(f)}}}function koe(e){return Soe(e&&e.parentElement?e.parentElement.firstElementChild:null,e)}var FGe=/&nbsp;/gi,BGe=/\xA0/g,zGe=/\s+([^\s])/gm;function Aoe(e,t,r){t===void 0&&(t=!0),r===void 0&&(r=!0);var n="";return e&&(n=(e.textContent||"").replace(FGe," ").replace(BGe," "),t&&(n=n.trim()),r&&(n=n.replace(zGe," $1"))),n}function Doe(e,t){e.classList?e.classList.toggle(t):v3(e,t)?y3(e,t):x3(e,t)}const WGe={addEventListener:XI,removeEventListener:iM,triggerEvent:MM,animate:poe,filter:yoe,listen:wu,style:$i,getComputedStyle:GI,attribute:moe,activeElement:ose,ownerDocument:Xh,ownerWindow:HI,requestAnimationFrame:L1,cancelAnimationFrame:Fy,matches:p3,height:cm,width:Wy,offset:Dc,offsetParent:YI,position:h3,contains:af,scrollbarSize:z1,scrollLeft:f3,scrollParent:LM,scrollTo:Poe,scrollTop:F0,querySelectorAll:m3,closest:U1,addClass:x3,removeClass:y3,hasClass:v3,toggleClass:Doe,transitionEnd:RM,childNodes:xoe,childElements:goe,nextUntil:joe,parents:Coe,siblings:koe,clear:voe,insertAfter:boe,isInput:woe,isVisible:Noe,prepend:_oe,remove:Eoe,text:Aoe},UGe=Object.freeze(Object.defineProperty({__proto__:null,activeElement:ose,addClass:x3,addEventListener:XI,animate:poe,attribute:moe,cancelAnimationFrame:Fy,childElements:goe,childNodes:xoe,clear:voe,closest:U1,contains:af,default:WGe,filter:yoe,getComputedStyle:GI,hasClass:v3,height:cm,insertAfter:boe,isInput:woe,isVisible:Noe,listen:wu,matches:p3,nextUntil:joe,offset:Dc,offsetParent:YI,ownerDocument:Xh,ownerWindow:HI,parents:Coe,position:h3,prepend:_oe,querySelectorAll:m3,remove:Eoe,removeClass:y3,removeEventListener:iM,requestAnimationFrame:L1,scrollLeft:f3,scrollParent:LM,scrollTo:Poe,scrollTop:F0,scrollbarSize:z1,siblings:koe,style:$i,text:Aoe,toggleClass:Doe,transitionEnd:RM,triggerEvent:MM,width:Wy},Symbol.toStringTag,{value:"Module"})),$Ge=qy(UGe);var kb={exports:{}},nY;function qGe(){return nY||(nY=1,(function(e,t){t.__esModule=!0,t.default=n;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function n(a,i){return r(a.querySelectorAll(i))}e.exports=t.default})(kb,kb.exports)),kb.exports}var Sc={};const VGe=qy(aze),HGe=qy(kUe),GGe=qy(yWe);var aY;function Toe(){if(aY)return Sc;aY=1;var e=_s().default;Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.default=void 0,Sc.getBoundsForNode=j,Sc.getEventNodeFromPoint=u,Sc.getShowMoreNodeFromPoint=d,Sc.isEvent=f,Sc.isShowMore=p,Sc.objectsCollide=N;var t=e(gv()),r=e(qm()),n=e(Vm()),a=e(VGe),i=e(HGe),s=e(GGe);function o(C,E){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,s.default)(I,C,E,{passive:!1})}function l(C,E,I){return!C||(0,a.default)(C,document.elementFromPoint(E,I))}function u(C,E){var I=E.clientX,D=E.clientY,O=document.elementFromPoint(I,D);return(0,i.default)(O,".rbc-event",C)}function d(C,E){var I=E.clientX,D=E.clientY,O=document.elementFromPoint(I,D);return(0,i.default)(O,".rbc-show-more",C)}function f(C,E){return!!u(C,E)}function p(C,E){return!!d(C,E)}function h(C){var E=C;return C.touches&&C.touches.length&&(E=C.touches[0]),{clientX:E.clientX,clientY:E.clientY,pageX:E.pageX,pageY:E.pageY}}var g=5,y=250,x=(function(){function C(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=I.global,O=D===void 0?!1:D,L=I.longPressThreshold,R=L===void 0?250:L,P=I.validContainers,F=P===void 0?[]:P;(0,r.default)(this,C),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=E,this.globalMouse=!E||O,this.longPressThreshold=R,this.validContainers=F,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=o("touchmove",function(){},window),this._removeKeyDownListener=o("keydown",this._keyListener),this._removeKeyUpListener=o("keyup",this._keyListener),this._removeDropFromOutsideListener=o("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=o("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,n.default)(C,[{key:"on",value:function(I,D){var O=this._listeners[I]||(this._listeners[I]=[]);return O.push(D),{remove:function(){var R=O.indexOf(D);R!==-1&&O.splice(R,1)}}}},{key:"emit",value:function(I){for(var D=arguments.length,O=new Array(D>1?D-1:0),L=1;L<D;L++)O[L-1]=arguments[L];var R,P=this._listeners[I]||[];return P.forEach(function(F){R===void 0&&(R=F.apply(void 0,O))}),R}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(I){var D=this._selectRect;return!D||!this.selecting?!1:N(D,j(I))}},{key:"filter",value:function(I){var D=this._selectRect;return!D||!this.selecting?[]:I.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(I,D){var O=this,L=null,R=null,P=null,F=function(q){L=setTimeout(function(){X(),I(q)},O.longPressThreshold),R=o("touchmove",function(){return X()}),P=o("touchend",function(){return X()})},V=o("touchstart",F),X=function(){L&&clearTimeout(L),R&&R(),P&&P(),L=null,R=null,P=null};return D&&F(D),function(){X(),V()}}},{key:"_addInitialEventListener",value:function(){var I=this,D=o("mousedown",function(L){I._removeInitialEventListener(),I._handleInitialEvent(L),I._removeInitialEventListener=o("mousedown",I._handleInitialEvent)}),O=o("touchstart",function(L){I._removeInitialEventListener(),I._removeInitialEventListener=I._addLongPressListener(I._handleInitialEvent,L)});this._removeInitialEventListener=function(){D(),O()}}},{key:"_dropFromOutsideListener",value:function(I){var D=h(I),O=D.pageX,L=D.pageY,R=D.clientX,P=D.clientY;this.emit("dropFromOutside",{x:O,y:L,clientX:R,clientY:P}),I.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(I){var D=h(I),O=D.pageX,L=D.pageY,R=D.clientX,P=D.clientY;this.emit("dragOverFromOutside",{x:O,y:L,clientX:R,clientY:P}),I.preventDefault()}},{key:"_handleInitialEvent",value:function(I){if(this._initialEvent=I,!this.isDetached){var D=h(I),O=D.clientX,L=D.clientY,R=D.pageX,P=D.pageY,F=this.container(),V,X;if(!(I.which===3||I.button===2||!l(F,O,L))){if(!this.globalMouse&&F&&!(0,a.default)(F,I.target)){var te=b(0),q=te.top,U=te.left,Q=te.bottom,se=te.right;if(X=j(F),V=N({top:X.top-q,left:X.left-U,bottom:X.bottom+Q,right:X.right+se},{top:P,left:R}),!V)return}var K=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(I.type),x:R,y:P,clientX:O,clientY:L});if(K!==!1)switch(I.type){case"mousedown":this._removeEndListener=o("mouseup",this._handleTerminatingEvent),this._onEscListener=o("keydown",this._handleTerminatingEvent),this._removeMoveListener=o("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(I),this._removeEndListener=o("touchend",this._handleTerminatingEvent),this._removeMoveListener=o("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(I){var D=I.target,O=this.validContainers;return!O||!O.length||!D?!0:O.some(function(L){return!!D.closest(L)})}},{key:"_handleTerminatingEvent",value:function(I){var D=this.selecting,O=this._selectRect;if(!D&&I.type.includes("key")&&(I=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!I){var L=!this.container||(0,a.default)(this.container(),I.target),R=this._isWithinValidContainer(I);return I.key==="Escape"||!R?this.emit("reset"):!D&&L?this._handleClickEvent(I):D?this.emit("select",O):this.emit("reset")}}},{key:"_handleClickEvent",value:function(I){var D=h(I),O=D.pageX,L=D.pageY,R=D.clientX,P=D.clientY,F=new Date().getTime();return this._lastClickData&&F-this._lastClickData.timestamp<y?(this._lastClickData=null,this.emit("doubleClick",{x:O,y:L,clientX:R,clientY:P})):(this._lastClickData={timestamp:F},this.emit("click",{x:O,y:L,clientX:R,clientY:P}))}},{key:"_handleMoveEvent",value:function(I){if(!(this._initialEventData===null||this.isDetached)){var D=this._initialEventData,O=D.x,L=D.y,R=h(I),P=R.pageX,F=R.pageY,V=Math.abs(O-P),X=Math.abs(L-F),te=Math.min(P,O),q=Math.min(F,L),U=this.selecting,Q=this.isClick(P,F);Q&&!U&&!(V||X)||(!U&&!Q&&this.emit("selectStart",this._initialEventData),Q||(this.selecting=!0,this._selectRect={top:q,left:te,x:P,y:F,right:te+V,bottom:q+X},this.emit("selecting",this._selectRect)),I.preventDefault())}}},{key:"_keyListener",value:function(I){this.ctrl=I.metaKey||I.ctrlKey}},{key:"isClick",value:function(I,D){var O=this._initialEventData,L=O.x,R=O.y,P=O.isTouch;return!P&&Math.abs(I-L)<=g&&Math.abs(D-R)<=g}}])})();function b(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,t.default)(C)!=="object"&&(C={top:C,left:C,right:C,bottom:C}),C}function N(C,E){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,D=j(C),O=D.top,L=D.left,R=D.right,P=R===void 0?L:R,F=D.bottom,V=F===void 0?O:F,X=j(E),te=X.top,q=X.left,U=X.right,Q=U===void 0?q:U,se=X.bottom,K=se===void 0?te:se;return!(V-I<te||O+I>K||P-I<q||L+I>Q)}function j(C){if(!C.getBoundingClientRect)return C;var E=C.getBoundingClientRect(),I=E.left+w("left"),D=E.top+w("top");return{top:D,left:I,right:(C.offsetWidth||0)+I,bottom:(C.offsetHeight||0)+D}}function w(C){if(C==="left")return window.pageXOffset||document.body.scrollLeft||0;if(C==="top")return window.pageYOffset||document.body.scrollTop||0}return Sc.default=x,Sc}var xx={},iY;function YGe(){if(iY)return xx;iY=1;var e=_s().default;Object.defineProperty(xx,"__esModule",{value:!0}),xx.default=void 0;var t=e(doe()),r=e(Zh()),n=e(H1),a=e(Yi());function i(o){return typeof o=="string"?o:o+"%"}function s(o){var l=o.style,u=o.className,d=o.event,f=o.accessors,p=o.rtl,h=o.selected,g=o.label,y=o.continuesPrior,x=o.continuesAfter,b=o.getters,N=o.onClick,j=o.onDoubleClick,w=o.isBackgroundEvent,C=o.onKeyPress,E=o.components,I=E.event,D=E.eventWrapper,O=f.title(d),L=f.tooltip(d),R=f.end(d),P=f.start(d),F=b.eventProp(d,P,R,h),V=[a.default.createElement("div",{key:"1",className:"rbc-event-label"},g),a.default.createElement("div",{key:"2",className:"rbc-event-content"},I?a.default.createElement(I,{event:d,title:O}):O)],X=l.height,te=l.top,q=l.width,U=l.xOffset,Q=(0,r.default)((0,r.default)({},F.style),{},(0,t.default)({top:i(te),height:i(X),width:i(q)},p?"right":"left",i(U)));return a.default.createElement(D,Object.assign({type:"time"},o),a.default.createElement("div",{role:"button",tabIndex:0,onClick:N,onDoubleClick:j,style:Q,onKeyDown:C,title:L?(typeof g=="string"?g+": ":"")+L:void 0,className:(0,n.default)(w?"rbc-background-event":"rbc-event",u,F.className,{"rbc-selected":h,"rbc-event-continues-earlier":y,"rbc-event-continues-later":x})},V))}return xx.default=s,xx}var sh={},sY;function FM(){if(sY)return sh;sY=1;var e=_s().default;Object.defineProperty(sh,"__esModule",{value:!0}),sh.dragAccessors=void 0,sh.eventTimes=u,sh.mergeComponents=o,sh.pointInColumn=l;var t=e(Zh()),r=e(IM()),n=foe(),a=Yi(),i=["children"];sh.dragAccessors={start:(0,n.wrapAccessor)(function(d){return d.start}),end:(0,n.wrapAccessor)(function(d){return d.end})};function s(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];var h=function(y){var x=y.children,b=(0,r.default)(y,i);return f.filter(Boolean).reduceRight(function(N,j){return(0,a.createElement)(j,b,N)},x)};return h}function o(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0,p=Object.keys(f),h=(0,t.default)({},d);return p.forEach(function(g){h[g]=d[g]?s(d[g],f[g]):f[g]}),h}function l(d,f){var p=d.left,h=d.right,g=d.top,y=f.x,x=f.y;return y<h+10&&y>p&&x>g}function u(d,f,p){var h=f.start(d),g=f.end(d),y=p.eq(h,g,"minutes")&&p.diff(h,g,"minutes")===0;y&&(g=p.add(g,1,"day"));var x=p.diff(h,g,"milliseconds");return{start:h,end:g,duration:x}}return sh}var oY;function KGe(){if(oY)return vx;oY=1;var e=hoe().default,t=_s().default;Object.defineProperty(vx,"__esModule",{value:!0}),vx.default=void 0;var r=t(Zh()),n=t(qm()),a=t(Vm()),i=t(vv()),s=t(xv()),o=$Ge,l=t(qGe()),u=t(Yi()),d=$3(),f=e(Toe()),p=t(YGe()),h=FM(),g=(function(y){function x(){var b;(0,n.default)(this,x);for(var N=arguments.length,j=new Array(N),w=0;w<N;w++)j[w]=arguments[w];return b=(0,i.default)(this,x,[].concat(j)),b.handleMove=function(C,E){if(!(0,h.pointInColumn)(E,C))return b.reset();var I=b.context.draggable.dragAndDropAction.event,D=b.props,O=D.accessors,L=D.slotMetrics,R=L.closestSlotFromPoint({y:C.y-b.eventOffsetTop,x:C.x},E),P=(0,h.eventTimes)(I,O,b.props.localizer),F=P.duration,V=b.props.localizer.add(R,F,"milliseconds");b.update(I,L.getRange(R,V,!1,!0))},b.handleDropFromOutside=function(C,E){var I=b.props,D=I.slotMetrics,O=I.resource,L=D.closestSlotFromPoint({y:C.y,x:C.x},E),R=b._calculateDnDEnd(L);b.context.draggable.onDropFromOutside({start:L,end:R,allDay:!1,resource:O}),b.reset()},b.handleDragOverFromOutside=function(C,E){var I=b.props.slotMetrics,D=I.closestSlotFromPoint({y:C.y,x:C.x},E),O=b._calculateDnDEnd(D),L=b.context.draggable.dragFromOutsideItem();b.update(L,I.getRange(D,O,!1,!0))},b._calculateDnDEnd=function(C){var E=b.props,I=E.accessors,D=E.slotMetrics,O=E.localizer,L=b.context.draggable.dragFromOutsideItem(),R=(0,h.eventTimes)(L,I,O),P=R.duration,F=D.nextSlot(C),V=!isNaN(P);if(V){var X=O.add(C,P,"milliseconds");F=new Date(Math.max(X,F))}return F},b.updateParentScroll=function(C,E){setTimeout(function(){var I=(0,l.default)(E,".rbc-addons-dnd-drag-preview")[0];I&&(I.offsetTop<C.scrollTop?(0,o.scrollTop)(C,Math.max(I.offsetTop,0)):I.offsetTop+I.offsetHeight>C.scrollTop+C.clientHeight&&(0,o.scrollTop)(C,Math.min(I.offsetTop-C.offsetHeight+I.offsetHeight,C.scrollHeight)))})},b._selectable=function(){var C=b.ref.current,E=C.children[0],I=!1,D=b._selector=new f.default(function(){return C.closest(".rbc-time-view")}),O=(0,o.scrollParent)(C);D.on("beforeSelect",function(L){var R=b.context.draggable.dragAndDropAction;if(!R.action)return!1;if(R.action==="resize")return(0,h.pointInColumn)((0,f.getBoundsForNode)(E),L);var P=(0,f.getEventNodeFromPoint)(E,L);if(!P)return!1;b.eventOffsetTop=L.y-(0,f.getBoundsForNode)(P).top}),D.on("selecting",function(L){var R=(0,f.getBoundsForNode)(E),P=b.context.draggable.dragAndDropAction;P.action==="move"&&(b.updateParentScroll(O,E),b.handleMove(L,R)),P.action==="resize"&&(b.updateParentScroll(O,E),b.handleResize(L,R))}),D.on("dropFromOutside",function(L){if(b.context.draggable.onDropFromOutside){var R=(0,f.getBoundsForNode)(E);(0,h.pointInColumn)(R,L)&&b.handleDropFromOutside(L,R)}}),D.on("dragOverFromOutside",function(L){var R=b.context.draggable.dragFromOutsideItem?b.context.draggable.dragFromOutsideItem():null;if(R){var P=(0,f.getBoundsForNode)(E);if(!(0,h.pointInColumn)(P,L))return b.reset();b.handleDragOverFromOutside(L,P)}}),D.on("selectStart",function(){I=!0,b.context.draggable.onStart()}),D.on("select",function(L){var R=(0,f.getBoundsForNode)(E);I=!1;var P=b.context.draggable.dragAndDropAction;if(P.action==="resize")b.handleInteractionEnd();else{if(!b.state.event||!(0,h.pointInColumn)(R,L))return;b.handleInteractionEnd()}}),D.on("click",function(){I&&b.reset(),b.context.draggable.onEnd(null)}),D.on("reset",function(){b.reset(),b.context.draggable.onEnd(null)})},b.handleInteractionEnd=function(){var C=b.props.resource,E=b.state.event;b.reset(),b.context.draggable.onEnd({start:E.start,end:E.end,resourceId:C})},b._teardownSelectable=function(){b._selector&&(b._selector.teardown(),b._selector=null)},b.state={},b.ref=u.default.createRef(),b}return(0,s.default)(x,y),(0,a.default)(x,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(N,j){var w=j.startDate,C=j.endDate,E=j.top,I=j.height,D=this.state.event;D&&w===D.start&&C===D.end||this.setState({top:E,height:I,event:(0,r.default)((0,r.default)({},N),{},{start:w,end:C})})}},{key:"handleResize",value:function(N,j){var w=this.props,C=w.accessors,E=w.slotMetrics,I=w.localizer,D=this.context.draggable.dragAndDropAction,O=D.event,L=D.direction,R=E.closestSlotFromPoint(N,j),P=(0,h.eventTimes)(O,C,I),F=P.start,V=P.end,X;if(L==="UP"){var te=I.min(R,E.closestSlotFromDate(V,-1));X=E.getRange(te,V),X=(0,r.default)((0,r.default)({},X),{},{endDate:V})}else if(L==="DOWN"){var q=I.max(R,E.closestSlotFromDate(F));X=E.getRange(F,q),X=(0,r.default)((0,r.default)({},X),{},{startDate:F})}this.update(O,X)}},{key:"renderContent",value:function(){var N=this.props,j=N.children,w=N.accessors,C=N.components,E=N.getters,I=N.slotMetrics,D=N.localizer,O=this.state,L=O.event,R=O.top,P=O.height;if(!L)return j;var F=j.props.children,V=L.start,X=L.end,te,q="eventTimeRangeFormat",U=I.startsBeforeDay(V),Q=I.startsAfterDay(X);return U?q="eventTimeRangeEndFormat":Q&&(q="eventTimeRangeStartFormat"),U&&Q?te=D.messages.allDay:te=D.format({start:V,end:X},q),u.default.cloneElement(j,{children:u.default.createElement(u.default.Fragment,null,F,L&&u.default.createElement(p.default,{event:L,label:te,className:"rbc-addons-dnd-drag-preview",style:{top:R,height:P,width:100},getters:E,components:C,accessors:(0,r.default)((0,r.default)({},w),h.dragAccessors),continuesPrior:U,continuesAfter:Q}))})}},{key:"render",value:function(){return u.default.createElement("div",{ref:this.ref},this.renderContent())}}])})(u.default.Component);return g.contextType=d.DnDContext,vx.default=g,vx}var yx={},MP={exports:{}},RP={exports:{}},LP={exports:{}},lY;function Ooe(){return lY||(lY=1,(function(e){function t(r,n){(n==null||n>r.length)&&(n=r.length);for(var a=0,i=Array(n);a<n;a++)i[a]=r[a];return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(LP)),LP.exports}var cY;function XGe(){return cY||(cY=1,(function(e){var t=Ooe();function r(n){if(Array.isArray(n))return t(n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(RP)),RP.exports}var FP={exports:{}},uY;function JGe(){return uY||(uY=1,(function(e){function t(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(FP)),FP.exports}var BP={exports:{}},dY;function ZGe(){return dY||(dY=1,(function(e){var t=Ooe();function r(n,a){if(n){if(typeof n=="string")return t(n,a);var i={}.toString.call(n).slice(8,-1);return i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set"?Array.from(n):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(n,a):void 0}}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports})(BP)),BP.exports}var zP={exports:{}},fY;function QGe(){return fY||(fY=1,(function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(zP)),zP.exports}var hY;function Ioe(){return hY||(hY=1,(function(e){var t=XGe(),r=JGe(),n=ZGe(),a=QGe();function i(s){return t(s)||r(s)||n(s)||a()}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(MP)),MP.exports}var bx={},wx={},Nx={},pY;function eYe(){if(pY)return Nx;pY=1;var e=_s().default;Object.defineProperty(Nx,"__esModule",{value:!0}),Nx.default=void 0;var t=e(Zh()),r=e(IM()),n=e(qm()),a=e(Vm()),i=e(vv()),s=e(xv()),o=e(Yi()),l=e(H1),u=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],d=(function(f){function p(){return(0,n.default)(this,p),(0,i.default)(this,p,arguments)}return(0,s.default)(p,f),(0,a.default)(p,[{key:"render",value:function(){var g=this.props,y=g.style,x=g.className,b=g.event,N=g.selected,j=g.isAllDay,w=g.onSelect,C=g.onDoubleClick,E=g.onKeyPress,I=g.localizer,D=g.continuesPrior,O=g.continuesAfter,L=g.accessors,R=g.getters,P=g.children,F=g.components,V=F.event,X=F.eventWrapper,te=g.slotStart,q=g.slotEnd,U=(0,r.default)(g,u);delete U.resizable;var Q=L.title(b),se=L.tooltip(b),K=L.end(b),T=L.start(b),W=L.allDay(b),J=j||W||I.diff(T,I.ceil(K,"day"),"day")>1,Y=R.eventProp(b,T,K,N),ee=o.default.createElement("div",{className:"rbc-event-content",title:se||void 0},V?o.default.createElement(V,{event:b,continuesPrior:D,continuesAfter:O,title:Q,isAllDay:W,localizer:I,slotStart:te,slotEnd:q}):Q);return o.default.createElement(X,Object.assign({},this.props,{type:"date"}),o.default.createElement("div",Object.assign({},U,{style:(0,t.default)((0,t.default)({},Y.style),y),className:(0,l.default)("rbc-event",x,Y.className,{"rbc-selected":N,"rbc-event-allday":J,"rbc-event-continues-prior":D,"rbc-event-continues-after":O}),onClick:function(pe){return w&&w(b,pe)},onDoubleClick:function(pe){return C&&C(b,pe)},onKeyDown:function(pe){return E&&E(b,pe)}}),typeof P=="function"?P(ee):ee))}}])})(o.default.Component);return Nx.default=d,Nx}var oh={},mY;function Moe(){if(mY)return oh;mY=1;var e=_s().default;Object.defineProperty(oh,"__esModule",{value:!0}),oh.dateCellSelection=s,oh.getSlotAtX=a,oh.isSelected=r,oh.pointInBox=i,oh.slotWidth=n;var t=e(gse());function r(o,l){return!o||l==null?!1:(0,t.default)(o,l)}function n(o,l){var u=o.right-o.left,d=u/l;return d}function a(o,l,u,d){var f=n(o,d);return u?d-1-Math.floor((l-o.left)/f):Math.floor((l-o.left)/f)}function i(o,l){var u=l.x,d=l.y;return d>=o.top&&d<=o.bottom&&u>=o.left&&u<=o.right}function s(o,l,u,d,f){var p=-1,h=-1,g=d-1,y=n(l,d),x=a(l,u.x,f,d),b=l.top<u.y&&l.bottom>u.y,N=l.top<o.y&&l.bottom>o.y,j=o.y>l.bottom,w=l.top>o.y,C=u.top<l.top&&u.bottom>l.bottom;return C&&(p=0,h=g),b&&(w?(p=0,h=x):j&&(p=x,h=g)),N&&(p=h=f?g-Math.floor((o.x-l.left)/y):Math.floor((o.x-l.left)/y),b?x<p?p=x:h=x:o.y<u.y?h=g:p=0),{startIdx:p,endIdx:h}}return oh}var gY;function tYe(){if(gY)return wx;gY=1;var e=_s().default;Object.defineProperty(wx,"__esModule",{value:!0}),wx.default=void 0;var t=e(zI()),r=e(Yi()),n=e(eYe()),a=Moe();return wx.default={propTypes:{slotMetrics:t.default.object.isRequired,selected:t.default.object,isAllDay:t.default.bool,accessors:t.default.object.isRequired,localizer:t.default.object.isRequired,components:t.default.object.isRequired,getters:t.default.object.isRequired,onSelect:t.default.func,onDoubleClick:t.default.func,onKeyPress:t.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(s,o){var l=s.selected;s.isAllDay;var u=s.accessors,d=s.getters,f=s.onSelect,p=s.onDoubleClick,h=s.onKeyPress,g=s.localizer,y=s.slotMetrics,x=s.components,b=s.resizable,N=y.continuesPrior(o),j=y.continuesAfter(o);return r.default.createElement(n.default,{event:o,getters:d,localizer:g,accessors:u,components:x,onSelect:f,onDoubleClick:p,onKeyPress:h,continuesPrior:N,continuesAfter:j,slotStart:y.first,slotEnd:y.last,selected:(0,a.isSelected)(o,l),resizable:b})},renderSpan:function(s,o,l){var u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",d=Math.abs(o)/s*100+"%";return r.default.createElement("div",{key:l,className:"rbc-row-segment",style:{WebkitFlexBasis:d,flexBasis:d,maxWidth:d}},u)}},wx}var vY;function rYe(){if(vY)return bx;vY=1;var e=_s().default;Object.defineProperty(bx,"__esModule",{value:!0}),bx.default=void 0;var t=e(Zh()),r=e(qm()),n=e(Vm()),a=e(vv()),i=e(xv()),s=e(H1),o=e(Yi()),l=e(tYe()),u=(function(d){function f(){return(0,r.default)(this,f),(0,a.default)(this,f,arguments)}return(0,i.default)(f,d),(0,n.default)(f,[{key:"render",value:function(){var h=this,g=this.props,y=g.segments,x=g.slotMetrics.slots,b=g.className,N=1;return o.default.createElement("div",{className:(0,s.default)(b,"rbc-row")},y.reduce(function(j,w,C){var E=w.event,I=w.left,D=w.right,O=w.span,L="_lvl_"+C,R=I-N,P=l.default.renderEvent(h.props,E);return R&&j.push(l.default.renderSpan(x,R,"".concat(L,"_gap"))),j.push(l.default.renderSpan(x,O,L,P)),N=D+1,j},[]))}}])})(o.default.Component);return u.defaultProps=(0,t.default)({},l.default.defaultProps),bx.default=u,bx}var lu={},xY;function nYe(){if(xY)return lu;xY=1;var e=_s().default;Object.defineProperty(lu,"__esModule",{value:!0}),lu.endOfRange=n,lu.eventLevels=i,lu.eventSegments=a,lu.inRange=s,lu.segsOverlap=o,lu.sortEvents=u,lu.sortWeekEvents=l;var t=e(Ioe()),r=e(yse());function n(d){var f=d.dateRange,p=d.unit,h=p===void 0?"day":p,g=d.localizer;return{first:f[0],last:g.add(f[f.length-1],1,h)}}function a(d,f,p,h){var g=n({dateRange:f,localizer:h}),y=g.first,x=g.last,b=h.diff(y,x,"day"),N=h.max(h.startOf(p.start(d),"day"),y),j=h.min(h.ceil(p.end(d),"day"),x),w=(0,r.default)(f,function(E){return h.isSameDate(E,N)}),C=h.diff(N,j,"day");return C=Math.min(C,b),C=Math.max(C-h.segmentOffset,1),{event:d,span:C,left:w+1,right:Math.max(w+C,1)}}function i(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,p,h,g,y=[],x=[];for(p=0;p<d.length;p++){for(g=d[p],h=0;h<y.length&&o(g,y[h]);h++);h>=f?x.push(g):(y[h]||(y[h]=[])).push(g)}for(p=0;p<y.length;p++)y[p].sort(function(b,N){return b.left-N.left});return{levels:y,extra:x}}function s(d,f,p,h,g){var y={start:h.start(d),end:h.end(d)},x={start:f,end:p};return g.inEventRange({event:y,range:x})}function o(d,f){return f.some(function(p){return p.left<=d.right&&p.right>=d.left})}function l(d,f,p){var h=(0,t.default)(d),g=[],y=[];h.forEach(function(N){var j=f.start(N),w=f.end(N);p.daySpan(j,w)>1?g.push(N):y.push(N)});var x=g.sort(function(N,j){return u(N,j,f,p)}),b=y.sort(function(N,j){return u(N,j,f,p)});return[].concat((0,t.default)(x),(0,t.default)(b))}function u(d,f,p,h){var g={start:p.start(d),end:p.end(d),allDay:p.allDay(d)},y={start:p.start(f),end:p.end(f),allDay:p.allDay(f)};return h.sortEvents({evtA:g,evtB:y})}return lu}var yY;function aYe(){if(yY)return yx;yY=1;var e=hoe().default,t=_s().default;Object.defineProperty(yx,"__esModule",{value:!0}),yx.default=void 0;var r=t(Zh()),n=t(Ioe()),a=t(qm()),i=t(Vm()),s=t(vv()),o=t(xv()),l=t(Yi()),u=t(rYe()),d=e(Toe()),f=nYe(),p=Moe(),h=FM(),g=$3(),y=(function(x){function b(){var N;(0,a.default)(this,b);for(var j=arguments.length,w=new Array(j),C=0;C<j;C++)w[C]=arguments[C];return N=(0,s.default)(this,b,[].concat(w)),N.handleMove=function(E,I,D){if(!(0,p.pointInBox)(I,E))return N.reset();var O=N.context.draggable.dragAndDropAction.event||D,L=N.props,R=L.accessors,P=L.slotMetrics,F=L.rtl,V=L.localizer,X=(0,p.getSlotAtX)(I,E.x,F,P.slots),te=P.getDateForSlot(X),q=(0,h.eventTimes)(O,R,V),U=q.start,Q=q.duration;U=V.merge(te,U);var se=V.add(U,Q,"milliseconds");N.update(O,U,se)},N.handleDropFromOutside=function(E,I){if(N.context.draggable.onDropFromOutside){var D=N.props,O=D.slotMetrics,L=D.rtl,R=D.localizer,P=(0,p.getSlotAtX)(I,E.x,L,O.slots),F=O.getDateForSlot(P);N.context.draggable.onDropFromOutside({start:F,end:R.add(F,1,"day"),allDay:!1})}},N.handleDragOverFromOutside=function(E,I){var D=N.context.draggable.dragFromOutsideItem?N.context.draggable.dragFromOutsideItem():null;D&&N.handleMove(E,I,D)},N._selectable=function(){var E=N.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),I=E.closest(".rbc-month-view, .rbc-time-view"),D=E.classList.contains("rbc-month-row"),O=N._selector=new d.default(function(){return I},{validContainers:(0,n.default)(D?[]:[".rbc-day-slot",".rbc-allday-cell"])});O.on("beforeSelect",function(L){var R=N.props.isAllDay,P=N.context.draggable.dragAndDropAction.action,F=(0,d.getBoundsForNode)(E),V=(0,p.pointInBox)(F,L);return P==="move"||P==="resize"&&(!R||V)}),O.on("selecting",function(L){var R=(0,d.getBoundsForNode)(E),P=N.context.draggable.dragAndDropAction;P.action==="move"&&N.handleMove(L,R),P.action==="resize"&&N.handleResize(L,R)}),O.on("selectStart",function(){return N.context.draggable.onStart()}),O.on("select",function(L){var R=(0,d.getBoundsForNode)(E);N.state.segment&&((0,p.pointInBox)(R,L)?N.handleInteractionEnd():N.reset())}),O.on("dropFromOutside",function(L){if(N.context.draggable.onDropFromOutside){var R=(0,d.getBoundsForNode)(E);(0,p.pointInBox)(R,L)&&N.handleDropFromOutside(L,R)}}),O.on("dragOverFromOutside",function(L){if(N.context.draggable.dragFromOutsideItem){var R=(0,d.getBoundsForNode)(E);N.handleDragOverFromOutside(L,R)}}),O.on("click",function(){return N.context.draggable.onEnd(null)}),O.on("reset",function(){N.reset(),N.context.draggable.onEnd(null)})},N.handleInteractionEnd=function(){var E=N.props,I=E.resourceId,D=E.isAllDay,O=N.state.segment.event;N.reset(),N.context.draggable.onEnd({start:O.start,end:O.end,resourceId:I,isAllDay:D})},N._teardownSelectable=function(){N._selector&&(N._selector.teardown(),N._selector=null)},N.state={},N.ref=l.default.createRef(),N}return(0,o.default)(b,x),(0,i.default)(b,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(j,w,C){var E=(0,f.eventSegments)((0,r.default)((0,r.default)({},j),{},{end:C,start:w,__isPreview:!0}),this.props.slotMetrics.range,h.dragAccessors,this.props.localizer),I=this.state.segment;I&&E.span===I.span&&E.left===I.left&&E.right===I.right||this.setState({segment:E})}},{key:"handleResize",value:function(j,w){var C=this.context.draggable.dragAndDropAction,E=C.event,I=C.direction,D=this.props,O=D.accessors,L=D.slotMetrics,R=D.rtl,P=D.localizer,F=(0,h.eventTimes)(E,O,P),V=F.start,X=F.end,te=(0,p.getSlotAtX)(w,j.x,R,L.slots),q=L.getDateForSlot(te),U=(0,p.pointInBox)(w,j);if(I==="RIGHT"){if(U){if(L.last<V)return this.reset();P.eq(P.startOf(X,"day"),X)?X=P.add(q,1,"day"):X=q}else if(P.inRange(V,L.first,L.last)||w.bottom<j.y&&+L.first>+V)X=P.add(L.last,1,"milliseconds");else{this.setState({segment:null});return}var Q=O.end(E);X=P.merge(X,Q),P.lt(X,V)&&(X=Q)}else if(I==="LEFT"){if(U){if(L.first>X)return this.reset();V=q}else if(P.inRange(X,L.first,L.last)||w.top>j.y&&P.lt(L.last,X))V=P.add(L.first,-1,"milliseconds");else{this.reset();return}var se=O.start(E);V=P.merge(V,se),P.gt(V,X)&&(V=se)}this.update(E,V,X)}},{key:"render",value:function(){var j=this.props,w=j.children,C=j.accessors,E=this.state.segment;return l.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},w,E&&l.default.createElement(u.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[E],accessors:(0,r.default)((0,r.default)({},C),h.dragAccessors)})))}}])})(l.default.Component);return y.contextType=g.DnDContext,yx.default=y,yx}var bY;function iYe(){if(bY)return Pb;bY=1;var e=_s().default;Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.default=y;var t=e(Zh()),r=e(IM()),n=e(qm()),a=e(Vm()),i=e(vv()),s=e(xv()),o=e(Yi()),l=e(H1);DGe();var u=e(TGe()),d=e(KGe()),f=e(aYe()),p=FM(),h=$3(),g=["selectable","elementProps","components"];function y(x){var b=(function(N){function j(){var w;(0,n.default)(this,j);for(var C=arguments.length,E=new Array(C),I=0;I<C;I++)E[I]=arguments[I];return w=(0,i.default)(this,j,[].concat(E)),w.defaultOnDragOver=function(D){D.preventDefault()},w.handleBeginAction=function(D,O,L){w.setState({event:D,action:O,direction:L});var R=w.props.onDragStart;R&&R({event:D,action:O,direction:L})},w.handleInteractionStart=function(){w.state.interacting===!1&&w.setState({interacting:!0})},w.handleInteractionEnd=function(D){var O=w.state,L=O.action,R=O.event;if(L&&(w.setState({action:null,event:null,interacting:!1,direction:null}),D!=null)){D.event=R;var P=w.props,F=P.onEventDrop,V=P.onEventResize;L==="move"&&F&&F(D),L==="resize"&&V&&V(D)}},w.state={interacting:!1},w}return(0,s.default)(j,N),(0,a.default)(j,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var C=this.props,E=C.selectable,I=C.elementProps,D=C.components,O=(0,r.default)(C,g),L=this.state.interacting;delete O.onEventDrop,delete O.onEventResize,O.selectable=E?"ignoreEvents":!1,this.components=(0,p.mergeComponents)(D,{eventWrapper:u.default,eventContainerWrapper:d.default,weekWrapper:f.default});var R=this.props.onDropFromOutside?(0,t.default)((0,t.default)({},I),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):I;O.className=(0,l.default)(O.className,"rbc-addons-dnd",!!L&&"rbc-addons-dnd-is-dragging");var P=this.getDnDContextValue();return o.default.createElement(h.DnDContext.Provider,{value:P},o.default.createElement(x,Object.assign({},O,{elementProps:R,components:this.components})))}}])})(o.default.Component);return b.defaultProps=(0,t.default)((0,t.default)({},x.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),b}return Pb}var wY;function sYe(){if(wY)return px;wY=1;var e=_s().default;Object.defineProperty(px,"__esModule",{value:!0}),px.default=void 0;var t=e(iYe());return px.default=t.default,px}var oYe=sYe();const lYe=Ln(oYe),cYe=UVe(gt),uYe=lYe(RVe),dYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState([]),[s,o]=A.useState(!0),[l,u]=A.useState("month"),[d,f]=A.useState(new Date),[p,h]=A.useState("all"),[g,y]=A.useState("all"),[x,b]=A.useState(null),[N,j]=A.useState(!1),[w,C]=A.useState(!1),[E,I]=A.useState(null),[D,O]=A.useState(!1),[L,R]=A.useState(null),[P,F]=A.useState([]),[V,X]=A.useState(!1),[te,q]=A.useState({}),U="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{Q()},[]);const Q=async()=>{try{o(!0),console.log(" Fetching calendar data from:",U);const[Ne,ze,De]=await Promise.all([fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getEvents"})}),fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})}),fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getPhotographers"})})]);if(!Ne.ok||!ze.ok||!De.ok)throw new Error("API request failed");let me,_e,Ve;try{const Xe=await Ne.text();me=JSON.parse(Xe)}catch(Xe){throw console.error(" Failed to parse Events JSON:",Xe),new Error("Invalid Events response")}try{const Xe=await ze.text();_e=JSON.parse(Xe)}catch(Xe){throw console.error(" Failed to parse Leads JSON:",Xe),new Error("Invalid Leads response")}try{const Xe=await De.text();Ve=JSON.parse(Xe)}catch(Xe){throw console.error(" Failed to parse Photographers JSON:",Xe),new Error("Invalid Photographers response")}if(console.log(" All data fetched"),console.log(" Photographers:",Ve.photographers),console.log(" Events:",me.events?.length),console.log(" Leads:",_e.leads?.length),me.success&&_e.success&&Ve.success){const Xe=Ve.photographers||[];console.log(" Setting photographers state:",Xe),i(Xe),se(me.events||[],_e.leads||[],Xe)}else console.error(" API error:",{events:me,leads:_e,photographers:Ve}),alert("Failed to load data")}catch(Ne){console.error(" Error:",Ne),alert(`Error: ${Ne.message}`)}finally{o(!1)}},se=(Ne,ze,De)=>{console.log(" Processing calendar events...");const me={};De.forEach(Re=>{me[Re.id]=Re.name,console.log(`Photographer Map: ${Re.id}  ${Re.name}`)}),console.log(" Photographer Map:",me);const _e=Ne.map(Re=>{const st=Re.photographer||Re.Photographer,pt=me[st]||"Unassigned";return console.log(`Event: ${Re.clientName} | Photographer ID: ${st} | Name: ${pt}`),{id:Re.id,title:Re.clientName,start:new Date(Re.eventDate),end:new Date(Re.eventDate),resource:{...Re,source:"events",type:Re.eventType,photographer:pt,photographerId:st,venue:Re.venue,status:Re.status||"Scheduled"}}}),Ve=ze.filter(Re=>["Converted","Event Completed","New Lead","Proposal Sent","Contacted","Scheduled"].includes(Re.Status)&&Re["Event Date"]).map(Re=>{const st=Re["Assigned Photographer"]||Re.Photographer,pt=me[st]||"Unassigned";return console.log(`Lead: ${Re["Client Name"]} | Photographer ID: ${st} | Name: ${pt}`),{id:`lead-${Re.id}`,title:Re["Client Name"],start:new Date(Re["Event Date"]),end:new Date(Re["Event Date"]),resource:{id:Re.id,clientName:Re["Client Name"],eventType:Re["Event Type"],eventDate:Re["Event Date"],venue:Re.Venue||"",phone:Re.Phone,email:Re.Email,photographer:pt,photographerId:st,source:"leads",status:Re.Status,amount:Re.Amount||0}}}),Xe=[..._e,...Ve];console.log(" Total Events:",Xe.length),console.log(" Events by Photographer:"),Object.keys(me).forEach(Re=>{const st=Xe.filter(pt=>pt.resource.photographerId===Re).length;console.log(`  ${me[Re]}: ${st} events`)}),n(Xe),t(Xe)};A.useEffect(()=>{let Ne=[...r];P.length>0&&a.length>0&&(Ne=Ne.filter(ze=>P.includes(ze.resource.photographer)||!ze.resource.photographer)),p!=="all"&&(Ne=Ne.filter(ze=>ze.resource.photographer===p)),g!=="all"&&(Ne=Ne.filter(ze=>ze.resource.type===g||ze.resource.eventType===g)),t(Ne)},[p,g,P,r,a]);const K=Ne=>{b(Ne.resource),j(!0)},T=Ne=>{I(Ne),C(!0)},W=Ne=>{f(Ne)},J=Ne=>{u(Ne)},Y=Ne=>{const ze=Ne.resource.photographer,De={"Photographer 1":{backgroundColor:"#4F46E5",color:"white"},"Photographer 2":{backgroundColor:"#10B981",color:"white"},"Photographer 3":{backgroundColor:"#F59E0B",color:"white"},"Photographer 4":{backgroundColor:"#EF4444",color:"white"}};let me={backgroundColor:"#6B7280",color:"white",borderRadius:"6px",padding:"2px 6px",fontSize:"13px",fontWeight:"500",cursor:"grab"};return ze&&De[ze]&&(me={...me,...De[ze]}),Ne.resource.source==="leads"?(me.borderLeft="4px solid #3B82F6",me.borderTop="none",me.borderRight="none",me.borderBottom="none"):me.border="none",D&&L&&L.id===Ne.id&&(me.opacity=.5,me.cursor="grabbing"),{style:me}},ee=Ne=>e.filter(De=>{const me=gt(De.start).isSame(Ne.start,"day"),_e=De.resource.photographer===Ne.photographer;return me&&_e&&De.id!==Ne.id}),ae=async({event:Ne,start:ze,end:De})=>{try{console.log(" Event dropped:",Ne),console.log(" New date:",ze),O(!0),R(Ne);const me=ee({start:ze,photographer:Ne.resource.photographer,id:Ne.id});if(me.length>0&&!window.confirm(` Warning: ${Ne.resource.photographer} has ${me.length} other event(s) on ${gt(ze).format("MMMM D, YYYY")}.

Do you want to proceed?`)){O(!1),R(null),Q();return}const _e=gt(ze).format("YYYY-MM-DD");console.log(" Formatted date:",_e),await pe(Ne.resource,_e);const Ve={...Ne,start:ze,end:De,resource:{...Ne.resource,eventDate:_e}},Xe=r.map(Re=>Re.id===Ne.id?Ve:Re);n(Xe),t(Xe),console.log(" Event rescheduled successfully"),alert(` Event rescheduled to ${gt(ze).format("MMMM D, YYYY")}`)}catch(me){console.error(" Error rescheduling event:",me),alert(` Failed to reschedule: ${me.message}`),Q()}finally{O(!1),R(null)}},pe=async(Ne,ze)=>{try{console.log(" Updating event:",Ne),console.log(" New date:",ze);const me={action:Ne.source==="leads"?"updateLead":"updateEvent",id:Ne.id,data:Ne.source==="leads"?{id:Ne.id,"Event Date":ze,"Updated At":new Date().toISOString()}:{id:Ne.id,eventDate:ze,updatedAt:new Date().toISOString()}};console.log(" Sending to GAS:",me);const Ve=await(await fetch(U,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(me)})).json();if(console.log(" GAS Response:",Ve),!Ve.success)throw new Error(Ve.message||"Update failed");return Ve}catch(De){throw console.error(" Error updating event date:",De),De}},de=({event:Ne,start:ze,end:De})=>{console.log("Event resize:",Ne,ze,De)},we=Ne=>gt(Ne).format("dddd, MMMM D, YYYY"),Ae=()=>{const Ne=new Set;return r.forEach(ze=>{const De=ze.resource.type||ze.resource.eventType;De&&Ne.add(De)}),Array.from(Ne)},Se=A.useCallback(()=>{const Ne={};return console.log(" Calculating workload..."),console.log(" Total Photographers:",a.length),console.log(" Total Events:",r.length),a.forEach(ze=>{const De=r.filter(me=>me.resource.photographer===ze.name);console.log(` ${ze.name} (ID: ${ze.id}): ${De.length} events`),Ne[ze.name]={total:De.length,thisWeek:De.filter(me=>{const _e=gt(me.start),Ve=gt().startOf("week"),Xe=gt().endOf("week");return _e.isBetween(Ve,Xe,null,"[]")}).length,thisMonth:De.filter(me=>gt(me.start).month()===gt().month()).length,events:De}}),console.log(" Final Workload:",Ne),Ne},[a,r]);A.useEffect(()=>{if(a.length>0){const Ne=Se();if(q(Ne),P.length===0){const ze=a.map(De=>De.name);F(ze)}}},[a,r,Se,P.length]);const Ge=Ne=>{F(ze=>ze.includes(Ne)?ze.filter(De=>De!==Ne):[...ze,Ne])},ke=Ne=>P.includes(Ne),Z=({label:Ne,onNavigate:ze,onView:De})=>c.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>ze("PREV"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Du,{})}),c.jsx("button",{onClick:()=>ze("TODAY"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Today"}),c.jsx("button",{onClick:()=>ze("NEXT"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Tu,{})}),c.jsx("h2",{className:"text-xl font-bold text-gray-800 ml-4",children:Ne})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("button",{onClick:()=>De("month"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${l==="month"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(aD,{}),c.jsx("span",{className:"hidden sm:inline",children:"Month"})]}),c.jsxs("button",{onClick:()=>De("week"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${l==="week"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(hpe,{}),c.jsx("span",{className:"hidden sm:inline",children:"Week"})]}),c.jsxs("button",{onClick:()=>De("day"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${l==="day"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(fpe,{}),c.jsx("span",{className:"hidden sm:inline",children:"Day"})]}),c.jsxs("button",{onClick:()=>De("agenda"),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${l==="agenda"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(eD,{}),c.jsx("span",{className:"hidden sm:inline",children:"Agenda"})]})]})]})}),Qe=()=>c.jsx(Kt,{children:N&&x&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>j(!1),children:c.jsxs(le.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:Ne=>Ne.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6 rounded-t-2xl",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:x.clientName}),c.jsx("p",{className:"text-blue-100 text-sm mt-1",children:x.eventType||x.type})]}),c.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:c.jsx(pr,{})})]})}),c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-lg",children:[c.jsx(um,{className:"text-blue-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Event Date"}),c.jsx("p",{className:"font-semibold text-gray-900",children:we(x.eventDate)})]})]}),c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 rounded-lg",children:[c.jsx(ri,{className:"text-purple-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Source"}),c.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:x.source})]})]})]}),x.venue&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-lg",children:[c.jsx(Ou,{className:"text-green-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Venue"}),c.jsx("p",{className:"font-semibold text-gray-900",children:x.venue})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.phone&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-orange-50 rounded-lg",children:[c.jsx(qi,{className:"text-orange-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Phone"}),c.jsx("p",{className:"font-semibold text-gray-900",children:x.phone})]})]}),x.email&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-pink-50 rounded-lg",children:[c.jsx(Ga,{className:"text-pink-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Email"}),c.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:x.email})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.photographer&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-indigo-50 rounded-lg",children:[c.jsx(qa,{className:"text-indigo-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Photographer"}),c.jsx("p",{className:"font-semibold text-gray-900",children:x.photographer})]})]}),x.amount&&c.jsxs("div",{className:"flex items-center gap-3 p-4 bg-yellow-50 rounded-lg",children:[c.jsx(Cn,{className:"text-yellow-600 text-xl"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-600",children:"Amount"}),c.jsxs("p",{className:"font-semibold text-gray-900",children:["",parseFloat(x.amount).toLocaleString("en-IN")]})]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-medium ${x.status==="Event Completed"?"bg-green-100 text-green-700":x.status==="Converted"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:x.status})}),(()=>{const Ne=ee({start:new Date(x.eventDate),photographer:x.photographer,id:x.id});return Ne.length>0&&c.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[c.jsx(ju,{}),c.jsx("p",{className:"font-semibold",children:"Conflict Detected!"})]}),c.jsxs("p",{className:"text-sm text-red-600 mt-2",children:[x.photographer," has ",Ne.length," other event(s) on this day"]})]})})()]}),c.jsx("div",{className:"bg-gray-50 p-4 rounded-b-2xl",children:c.jsx("button",{onClick:()=>j(!1),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg transition-colors font-medium",children:"Close"})})]})})});return s?c.jsx("div",{className:"flex items-center justify-center h-screen",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-4 text-gray-600",children:"Loading calendar..."})]})}):c.jsx(sGe,{backend:NGe,children:c.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-800 mb-2 flex items-center gap-3",children:[c.jsx(um,{className:"text-blue-600"}),"Schedule Calendar"]}),c.jsx("p",{className:"text-gray-600",children:"Visual scheduling & team coordination"})]}),c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("button",{className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[c.jsx(sl,{}),c.jsxs("span",{children:[e.length," Events"]})]})})]})}),c.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4 mb-6",children:c.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Q5,{className:"text-gray-600"}),c.jsx("span",{className:"font-medium text-gray-700",children:"Filters:"})]}),c.jsxs("select",{value:p,onChange:Ne=>h(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"All Photographers"}),a.map(Ne=>c.jsx("option",{value:Ne.name,children:Ne.name},Ne.id))]}),c.jsxs("select",{value:g,onChange:Ne=>y(Ne.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"All Types"}),Ae().map(Ne=>c.jsx("option",{value:Ne,children:Ne},Ne))]}),(p!=="all"||g!=="all")&&c.jsx("button",{onClick:()=>{h("all"),y("all")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear Filters"})]})}),c.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 p-4 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(dk,{className:"text-blue-600 text-xl"}),c.jsx("h3",{className:"font-semibold text-gray-800",children:"Photographer Availability"})]}),c.jsx("button",{onClick:()=>X(!V),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:V?"Hide Details":"Show Details"})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:a.map((Ne,ze)=>{const De=["#4F46E5","#10B981","#F59E0B","#EF4444"],me=te[Ne.name]||{total:0,thisWeek:0,thisMonth:0},_e=ke(Ne.name);return c.jsxs(le.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ze*.05},onClick:()=>Ge(Ne.name),className:`p-4 rounded-xl border-2 transition-all ${_e?"border-blue-500 bg-blue-50":"border-gray-200 bg-gray-50 opacity-50"}`,children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:De[ze%De.length]}}),c.jsx("p",{className:"font-semibold text-gray-900 text-sm truncate",children:Ne.name})]}),c.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{className:"font-medium",children:me.total})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"This Week:"}),c.jsx("span",{className:"font-medium text-blue-600",children:me.thisWeek})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"This Month:"}),c.jsx("span",{className:"font-medium text-green-600",children:me.thisMonth})]})]}),!_e&&c.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Click to show"})]},Ne.id)})}),c.jsx(Kt,{children:V&&c.jsxs(le.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsx("h4",{className:"font-semibold text-gray-800 mb-3",children:"This Week's Schedule"}),c.jsx("div",{className:"space-y-2",children:a.map((Ne,ze)=>{const De=["#4F46E5","#10B981","#F59E0B","#EF4444"],me=r.filter(_e=>{const Ve=gt(_e.start),Xe=gt().startOf("week"),Re=gt().endOf("week");return _e.resource.photographer===Ne.name&&Ve.isBetween(Xe,Re,null,"[]")}).sort((_e,Ve)=>gt(_e.start)-gt(Ve.start));return c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{backgroundColor:De[ze%De.length]}}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 text-sm",children:Ne.name}),me.length>0?c.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:me.map((_e,Ve)=>c.jsx("span",{className:"text-xs bg-white px-2 py-1 rounded border border-gray-200",children:gt(_e.start).format("ddd DD")},Ve))}):c.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Available all week"})]}),c.jsxs("div",{className:"text-right flex-shrink-0",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900",children:me.length}),c.jsx("p",{className:"text-xs text-gray-500",children:"events"})]})]},Ne.id)})})]})})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-md border border-gray-200 overflow-hidden",children:c.jsx(uYe,{localizer:cYe,events:e,startAccessor:"start",endAccessor:"end",style:{height:"calc(100vh - 350px)",minHeight:"600px"},view:l,onView:J,date:d,onNavigate:W,onSelectEvent:K,onSelectSlot:T,selectable:!0,draggableAccessor:()=>!0,resizable:!0,onEventDrop:ae,onEventResize:de,eventPropGetter:Y,components:{toolbar:Z},formats:{agendaDateFormat:"ddd MMM DD",dayHeaderFormat:"dddd MMM DD"}})}),c.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-md border border-gray-200 p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Color Legend"}),c.jsxs("div",{className:"flex flex-wrap gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-blue-600 rounded"}),c.jsx("span",{className:"text-sm text-gray-700",children:"From Leads"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 bg-gray-600 rounded"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Unassigned"})]}),a.slice(0,4).map((Ne,ze)=>{const De=["#4F46E5","#10B981","#F59E0B","#EF4444"];return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:De[ze]}}),c.jsx("span",{className:"text-sm text-gray-700",children:Ne.name})]},Ne.id)})]})]}),c.jsx(Qe,{})]})})},fYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState([]),[a,i]=A.useState(!0),[s,o]=A.useState(!1),[l,u]=A.useState(null),[d,f]=A.useState(!1),[p,h]=A.useState({eventId:"",folderIds:["","",""],accountEmails:["","",""]}),g="https://script.google.com/macros/s/AKfycby6Ph2hqgkYfoeMu_rIrvPvf0dU-NoG8N8vXACD8O9pWqGvdxFbXZ176XZRhukvaBDUFg/exec";A.useEffect(()=>{y()},[]);const y=async()=>{i(!0);try{const E=await(await fetch(g,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getAllGalleryConfigs"})})).json();E.success&&t(E.galleries||[]);const D=await(await fetch(g,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getLeads"})})).json();if(D.success){const O=(D.leads||[]).filter(L=>L.id&&L.id.startsWith("LEAD-"));n(O)}}catch(C){console.error("Error fetching data:",C)}finally{i(!1)}},x=()=>{h({eventId:"",folderIds:["","",""],accountEmails:["","",""]}),u(null),o(!0)},b=C=>{h({eventId:C.eventId,folderIds:[C.folderIds[0]||"",C.folderIds[1]||"",C.folderIds[2]||""],accountEmails:[C.accountEmails?.[0]||"",C.accountEmails?.[1]||"",C.accountEmails?.[2]||""]}),u(C),o(!0)},N=async()=>{if(!p.eventId){alert("Please select an event");return}const C=p.folderIds.filter(E=>E.trim()!=="");if(C.length===0){alert("Please add at least one folder ID");return}f(!0);try{const I=await(await fetch(g,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"updateGalleryFolders",eventId:p.eventId,folderIds:C,accountEmails:p.accountEmails.filter(D=>D.trim()!=="")})})).json();I.success?(alert(`Gallery ${l?"updated":"added"} successfully!
${I.totalPhotos} photos found.`),o(!1),y()):alert(I.message||"Failed to save gallery")}catch(E){console.error("Error saving gallery:",E),alert("Failed to save gallery")}finally{f(!1)}},j=(C,E)=>{const I=[...p.folderIds];I[C]=E,h({...p,folderIds:I})},w=(C,E)=>{const I=[...p.accountEmails];I[C]=E,h({...p,accountEmails:I})};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gallery Manager"}),c.jsx("p",{className:"text-gray-600 mt-1",children:"Manage photo folders for client galleries"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(jX,{}),"Refresh"]}),c.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(bs,{}),"Add Gallery"]})]})]}),e.length===0?c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-12 text-center",children:[c.jsx(Mx,{className:"text-6xl text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Galleries Configured"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Add folder mappings to enable client photo galleries"}),c.jsx("button",{onClick:x,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add First Gallery"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((C,E)=>c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:"bg-white rounded-xl shadow-lg hover:shadow-xl transition-all overflow-hidden",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 text-white",children:[c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsx(fm,{className:"text-2xl"}),c.jsxs("span",{className:"px-2 py-1 bg-white/20 rounded-full text-xs font-semibold",children:[C.folderIds?.length||0," Folders"]})]}),c.jsx("h3",{className:"text-lg font-bold",children:C.eventName}),c.jsx("p",{className:"text-sm opacity-90",children:C.clientName})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Event ID:"}),c.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:C.eventId})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Total Photos:"}),c.jsx("span",{className:"font-bold text-green-600",children:C.totalPhotos||0})]}),C.lastUpdated&&c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),c.jsx("span",{className:"text-gray-500 text-xs",children:new Date(C.lastUpdated).toLocaleDateString()})]}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Folder IDs:"}),c.jsx("div",{className:"space-y-1",children:C.folderIds?.map((I,D)=>c.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[c.jsx(Mx,{className:"text-blue-600"}),c.jsxs("span",{className:"font-mono truncate text-gray-600",children:[I.substring(0,20),"..."]})]},D))})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>b(C),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[c.jsx(tl,{}),"Edit"]}),c.jsxs("button",{onClick:()=>{confirm("Delete this gallery configuration?")&&alert("Delete functionality coming soon")},className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[c.jsx(bh,{}),"Delete"]})]})]})]},C.eventId))}),c.jsx(Kt,{children:s&&c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:c.jsxs(le.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},onClick:C=>C.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:l?"Edit Gallery":"Add Gallery"}),c.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:c.jsx(pr,{})})]})}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Event *"}),c.jsxs("select",{value:p.eventId,onChange:C=>h({...p,eventId:C.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",disabled:l,children:[c.jsx("option",{value:"",children:"-- Select Event --"}),r.map(C=>c.jsxs("option",{value:C.id,children:[C.clientName," - ",C.eventType," (",C.id,")"]},C.id))]}),l&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Event cannot be changed while editing"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Drive Folder IDs"}),c.jsx("div",{className:"space-y-3",children:[0,1,2].map(C=>c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Mx,{className:"text-blue-600"}),c.jsxs("span",{className:"text-sm text-gray-600",children:["Folder ",C+1]}),C===0&&c.jsx("span",{className:"text-xs text-red-600",children:"*Required"})]}),c.jsx("input",{type:"text",value:p.folderIds[C],onChange:E=>j(C,E.target.value),placeholder:`Folder ID ${C+1}`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]},C))}),c.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:c.jsxs("p",{className:"text-xs text-gray-700",children:[" ",c.jsx("strong",{children:"How to get Folder ID:"}),c.jsx("br",{}),"1. Open Google Drive folder",c.jsx("br",{}),"2. Copy from URL: drive.google.com/drive/folders/",c.jsx("strong",{className:"text-blue-600",children:"[FOLDER_ID]"})]})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Google Account Emails (Optional)"}),c.jsx("div",{className:"space-y-2",children:[0,1,2].map(C=>c.jsx("input",{type:"email",value:p.accountEmails[C],onChange:E=>w(C,E.target.value),placeholder:`Account ${C+1} email`,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},C))})]}),c.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ju,{className:"text-yellow-600 text-xl flex-shrink-0 mt-1"}),c.jsxs("div",{className:"text-sm text-yellow-800",children:[c.jsx("p",{className:"font-semibold mb-1",children:"Important:"}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:'Make sure folders are shared with "Anyone with link"'}),c.jsx("li",{children:"Folder must contain images only"}),c.jsx("li",{children:"Changes may take a few moments to reflect"})]})]})]})})]}),c.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6 flex gap-3",children:[c.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"}),c.jsx("button",{onClick:N,disabled:d,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center justify-center gap-2 disabled:opacity-50",children:d?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(rl,{}),l?"Update Gallery":"Add Gallery"]})})]})]})})})]})},hYe=()=>{const[e,t]=A.useState([]),[r,n]=A.useState(""),[a,i]=A.useState([]),[s,o]=A.useState(!1),[l,u]=A.useState(0),[d,f]=A.useState(""),[p,h]=A.useState(null),[g,y]=A.useState(!1),[x,b]=A.useState(null),N=A.useRef(0),j=A.useRef(!1),w="https://script.google.com/macros/s/AKfycbxKf4OGvheQFQ6Yqma-lPrqTKlRf8FapRJ2F2nGgClYRiZER333Q42P8Nnq0aSCDOgQCg/exec";A.useEffect(()=>{j.current=!0;const O=setTimeout(()=>{j.current&&e.length===0&&!g&&C()},800);return()=>{j.current=!1,clearTimeout(O)}},[]);const C=async(O=!1)=>{if(g){console.log(" Already loading, skipping...");return}if(N.current>=3){console.warn(" Max retry attempts reached"),b("Unable to connect after 3 attempts. Please refresh."),y(!1);return}N.current+=1,console.log(` Fetch attempt ${N.current}`),y(!0),b(null);try{const L=await fetch(w,{method:"POST",headers:{"Content-Type":"text/plain; charset=utf-8",Accept:"application/json"},body:JSON.stringify({action:"getAllEvents"})});if(console.log(" Response status:",L.status),!L.ok)throw new Error(`HTTP ${L.status}: ${L.statusText}`);const R=await L.json();if(console.log(" Result:",R),R.success){const P=[...R.leads||[],...R.events||[]].sort((F,V)=>new Date(V.eventDate)-new Date(F.eventDate));P.length===0?b("No events found in database"):(t(P),b(null),N.current=0,console.log(` Loaded ${P.length} events`))}else throw new Error(R.message||"Backend returned error")}catch(L){console.error(" Fetch error:",L),N.current>=3?(b(L.message),console.error("Final error:",L.message)):O||(console.log(" Retrying in 2 seconds..."),setTimeout(()=>{j.current&&C(!0)},2e3))}finally{y(!1)}},E=async O=>{if(O){y(!0);try{const R=await(await fetch(w,{method:"POST",headers:{"Content-Type":"text/plain; charset=utf-8"},body:JSON.stringify({action:"getEventPhotosFromGallery",eventId:O})})).json();R.success?(R.photos.length===0&&alert(` No photos found

Please add photos in Gallery Manager`),i(R.photos)):(alert("Error: "+(R.message||"Failed to load photos")),i([]))}catch(L){console.error(" Fetch photos error:",L),alert("Failed to load photos: "+L.message),i([])}finally{y(!1)}}},I=async()=>{if(!r||a.length===0){alert("Please select an event with photos");return}o(!0),u(0),h(null);const O=[];let L=0;try{for(let R=0;R<a.length;R++){const P=a[R];f(P.name);try{const F=await $3e(P.url);F.length>0&&(L++,F.forEach((V,X)=>{O.push({photoId:P.id,photoName:P.name,photoUrl:P.url,faceIndex:X,descriptor:V.descriptor,boundingBox:V.box})}))}catch(F){console.error(`Error processing ${P.name}:`,F)}u(Math.round((R+1)/a.length*100))}if(O.length===0){alert(" No faces detected"),o(!1);return}await D(r,O),h({totalPhotos:a.length,photosWithFaces:L,totalFaces:O.length}),alert(` Success!

 ${a.length} photos
 ${O.length} faces`)}catch(R){console.error("Processing error:",R),alert("Failed: "+R.message)}finally{o(!1),f("")}},D=async(O,L)=>{const P=await(await fetch(w,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"savePhotoDescriptors",eventId:O,descriptors:L})})).json();if(!P.success)throw new Error(P.message||"Failed to save")};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 p-6",children:c.jsxs("div",{className:"max-w-5xl mx-auto",children:[c.jsx(le.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-3xl p-8 text-white mb-8 shadow-2xl",children:c.jsxs("div",{className:"flex items-center space-x-5",children:[c.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-2xl flex items-center justify-center",children:c.jsx(Ip,{className:"text-4xl"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"AI Photo Descriptor Processor"}),c.jsx("p",{className:"text-white/90 text-lg",children:"Extract face descriptors for guest matching"})]})]})}),c.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Backend Status"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${x?"bg-red-500":"bg-green-500"}`}),c.jsx("span",{className:`font-semibold ${x?"text-red-600":"text-green-600"}`,children:x?"Error":"Connected"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Events"}),c.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]})]}),x&&c.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:x})]}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h3",{className:"text-2xl font-bold flex items-center",children:[c.jsx(Mx,{className:"mr-3 text-purple-500"}),"Step 1: Select Event"]}),c.jsxs("button",{onClick:()=>{N.current=0,C()},disabled:g,className:"px-4 py-2 bg-purple-100 text-purple-700 rounded-lg hover:bg-purple-200 disabled:opacity-50",children:[c.jsx(jX,{className:`inline mr-2 ${g?"animate-spin":""}`}),"Refresh"]})]}),g&&!s?c.jsxs("div",{className:"flex flex-col items-center py-12",children:[c.jsx(Bd,{className:"animate-spin text-purple-500 text-5xl mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading events..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("select",{value:r,onChange:O=>{n(O.target.value),i([]),h(null),O.target.value&&E(O.target.value)},disabled:s,className:"w-full px-5 py-4 text-lg border-2 border-purple-300 rounded-xl focus:ring-4 focus:ring-purple-200 focus:outline-none",children:[c.jsx("option",{value:"",children:"-- Select Event --"}),e.map(O=>c.jsxs("option",{value:O.id,children:[O.eventType," - ",O.clientName," (",new Date(O.eventDate).toLocaleDateString(),")"]},O.id))]}),e.length===0&&!g&&c.jsxs("div",{className:"mt-6 p-6 bg-yellow-50 border-2 border-yellow-300 rounded-xl",children:[c.jsx("p",{className:"text-yellow-800 mb-3",children:"No events found"}),c.jsx("button",{onClick:()=>{N.current=0,C()},className:"px-6 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"Retry"})]}),a.length>0&&c.jsx("div",{className:"mt-6 p-5 bg-blue-50 border-2 border-blue-300 rounded-xl",children:c.jsxs("p",{className:"text-blue-800 font-semibold",children:[c.jsx(fm,{className:"inline mr-2"}),a.length," photos loaded"]})})]})]}),a.length>0&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[c.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Step 2: Process"}),c.jsx("button",{onClick:I,disabled:s,className:`w-full py-5 rounded-xl font-bold text-lg text-white ${s?"bg-gray-400":"bg-gradient-to-r from-purple-600 to-pink-600"}`,children:s?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsx(Bd,{className:"animate-spin mr-3"}),l,"%"]}):c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsx(ry,{className:"mr-3"}),"Start"]})}),s&&c.jsxs("div",{className:"mt-6",children:[c.jsx("div",{className:"bg-gray-200 rounded-full h-5",children:c.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 h-full rounded-full",style:{width:`${l}%`}})}),c.jsx("p",{className:"text-center mt-3 text-sm",children:d})]})]}),p&&c.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[c.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Results"}),c.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 text-center",children:[c.jsx("p",{className:"text-5xl font-bold text-blue-600",children:p.totalPhotos}),c.jsx("p",{className:"text-sm mt-2",children:"Photos"})]}),c.jsxs("div",{className:"bg-green-50 rounded-xl p-6 text-center",children:[c.jsx("p",{className:"text-5xl font-bold text-green-600",children:p.photosWithFaces}),c.jsx("p",{className:"text-sm mt-2",children:"With Faces"})]}),c.jsxs("div",{className:"bg-purple-50 rounded-xl p-6 text-center",children:[c.jsx("p",{className:"text-5xl font-bold text-purple-600",children:p.totalFaces}),c.jsx("p",{className:"text-sm mt-2",children:"Total Faces"})]})]})]})]})})},pYe=()=>{const[e,t]=A.useState("profile"),[r,n]=A.useState(!1),[a,i]=A.useState(!0),[s,o]=A.useState(null),[l,u]=A.useState({businessName:"RN PhotoFilms",ownerName:"",email:"",phone:"",alternatePhone:"",address:"",city:"",state:"Gujarat",pincode:"",website:"",instagram:"",facebook:"",whatsapp:"",currency:"",taxRate:18,advancePercentage:15,balancePercentage:85,defaultPaymentTerms:"Advance: 15% at booking, Balance: 85% before event",emailNotifications:!0,smsNotifications:!1,newLeadAlert:!0,paymentAlert:!0,eventReminder:!0,theme:"light",primaryColor:"#3B82F6",accentColor:"#D4A574"}),d="https://script.google.com/macros/s/AKfycbyCFoBNyXT8fmTmlG9RwMO7QVgcuaVpgEUynu-hbG4Hl-zVJf09ArlCbSXNhBX9jDUcpg/exec";A.useEffect(()=>{f()},[]);const f=async()=>{try{i(!0);const b=await(await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"getSettings"})})).json();if(b.success&&b.settings)u(N=>({...N,...b.settings}));else{const N=localStorage.getItem("crm_settings");N&&u(j=>({...j,...JSON.parse(N)}))}}catch(x){console.error("Error fetching settings:",x);const b=localStorage.getItem("crm_settings");b&&u(N=>({...N,...JSON.parse(b)}))}finally{i(!1)}},p=async()=>{n(!0),o(null);try{const b=await(await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({action:"saveSettings",settings:l,updatedAt:new Date().toISOString()})})).json();b.success?(localStorage.setItem("crm_settings",JSON.stringify(l)),o("success"),setTimeout(()=>o(null),3e3)):(o("error"),alert(" Failed to save settings: "+b.error))}catch(x){console.error("Error saving settings:",x),localStorage.setItem("crm_settings",JSON.stringify(l)),o("error"),alert(" Saved to local storage only. Please check your internet connection.")}finally{n(!1)}},h=(x,b)=>{u(N=>({...N,[x]:b}))},g=()=>{window.confirm(" Are you sure you want to reset all settings to default? This cannot be undone!")&&(u({businessName:"RN PhotoFilms",ownerName:"",email:"",phone:"",alternatePhone:"",address:"",city:"",state:"Gujarat",pincode:"",website:"",instagram:"",facebook:"",whatsapp:"",currency:"",taxRate:18,advancePercentage:15,balancePercentage:85,defaultPaymentTerms:"Advance: 15% at booking, Balance: 85% before event",emailNotifications:!0,smsNotifications:!1,newLeadAlert:!0,paymentAlert:!0,eventReminder:!0,theme:"light",primaryColor:"#3B82F6",accentColor:"#D4A574"}),alert(" Settings reset to default!"))},y=[{id:"profile",label:"Business Profile",icon:hn},{id:"payments",label:"Payment Settings",icon:wL},{id:"notifications",label:"Notifications",icon:gu},{id:"appearance",label:"Appearance",icon:NL}];return a?c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 text-lg",children:"Loading settings..."})]})}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Settings"}),c.jsx("p",{className:"text-gray-600",children:"Manage your CRM preferences and business information"})]}),s&&c.jsx(le.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:`px-4 py-2 rounded-lg flex items-center gap-2 ${s==="success"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s==="success"?c.jsxs(c.Fragment,{children:[c.jsx(Pr,{}),c.jsx("span",{className:"font-semibold",children:"Settings saved!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(ju,{}),c.jsx("span",{className:"font-semibold",children:"Save failed"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 space-y-2",children:y.map(x=>{const b=x.icon;return c.jsxs("button",{onClick:()=>t(x.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${e===x.id?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[c.jsx(b,{className:"text-xl"}),c.jsx("span",{className:"font-medium",children:x.label})]},x.id)})})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e==="profile"&&c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(hn,{})," Business Profile"]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Update your business information and contact details"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Business Name *"}),c.jsx("input",{type:"text",value:l.businessName,onChange:x=>h("businessName",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Owner Name *"}),c.jsx("input",{type:"text",value:l.ownerName,onChange:x=>h("ownerName",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(Ga,{className:"inline mr-2"}),"Email *"]}),c.jsx("input",{type:"email",value:l.email,onChange:x=>h("email",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(qi,{className:"inline mr-2"}),"Phone *"]}),c.jsx("input",{type:"tel",value:l.phone,onChange:x=>h("phone",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Alternate Phone"}),c.jsx("input",{type:"tel",value:l.alternatePhone,onChange:x=>h("alternatePhone",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City"}),c.jsx("input",{type:"text",value:l.city,onChange:x=>h("city",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State"}),c.jsx("input",{type:"text",value:l.state,onChange:x=>h("state",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Pincode"}),c.jsx("input",{type:"text",value:l.pincode,onChange:x=>h("pincode",x.target.value),maxLength:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(Ou,{className:"inline mr-2"}),"Business Address"]}),c.jsx("textarea",{value:l.address,onChange:x=>h("address",x.target.value),rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Social Media Links"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(Cpe,{className:"inline mr-2"}),"Website"]}),c.jsx("input",{type:"url",value:l.website,onChange:x=>h("website",x.target.value),placeholder:"https://yourwebsite.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(Jg,{className:"inline mr-2"}),"Instagram"]}),c.jsx("input",{type:"text",value:l.instagram,onChange:x=>h("instagram",x.target.value),placeholder:"@username",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(gX,{className:"inline mr-2"}),"Facebook"]}),c.jsx("input",{type:"text",value:l.facebook,onChange:x=>h("facebook",x.target.value),placeholder:"facebook.com/yourpage",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[c.jsx(vX,{className:"inline mr-2"}),"WhatsApp"]}),c.jsx("input",{type:"tel",value:l.whatsapp,onChange:x=>h("whatsapp",x.target.value),placeholder:"+91 XXXXX XXXXX",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),e==="payments"&&c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(wL,{})," Payment Settings"]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Configure payment terms and default values"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Advance Percentage (%)"}),c.jsx("input",{type:"number",value:l.advancePercentage,onChange:x=>h("advancePercentage",parseFloat(x.target.value)),min:"0",max:"100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Default: 15%"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Balance Percentage (%)"}),c.jsx("input",{type:"number",value:l.balancePercentage,onChange:x=>h("balancePercentage",parseFloat(x.target.value)),min:"0",max:"100",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Auto-calculated: ",100-l.advancePercentage,"%"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GST/Tax Rate (%)"}),c.jsx("input",{type:"number",value:l.taxRate,onChange:x=>h("taxRate",parseFloat(x.target.value)),min:"0",max:"100",step:"0.1",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Default: 18%"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Currency Symbol"}),c.jsx("input",{type:"text",value:l.currency,onChange:x=>h("currency",x.target.value),maxLength:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Default Payment Terms"}),c.jsx("textarea",{value:l.defaultPaymentTerms,onChange:x=>h("defaultPaymentTerms",x.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be shown in invoices and quotations"})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 p-6 rounded-lg",children:[c.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-3",children:"Payment Breakdown Preview"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-700",children:"Example Amount:"}),c.jsxs("span",{className:"font-semibold",children:[l.currency,"50,000"]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-700",children:["Advance (",l.advancePercentage,"%):"]}),c.jsxs("span",{className:"font-semibold text-green-600",children:[l.currency,(5e4*l.advancePercentage/100).toLocaleString("en-IN")]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{className:"text-gray-700",children:["Balance (",100-l.advancePercentage,"%):"]}),c.jsxs("span",{className:"font-semibold text-orange-600",children:[l.currency,(5e4*(100-l.advancePercentage)/100).toLocaleString("en-IN")]})]}),c.jsxs("div",{className:"flex justify-between pt-2 border-t border-blue-300",children:[c.jsxs("span",{className:"text-gray-700",children:["GST (",l.taxRate,"%):"]}),c.jsxs("span",{className:"font-semibold",children:[l.currency,(5e4*l.taxRate/100).toLocaleString("en-IN")]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-blue-800 pt-2 border-t border-blue-300",children:[c.jsx("span",{children:"Total Amount:"}),c.jsxs("span",{children:[l.currency,(5e4+5e4*l.taxRate/100).toLocaleString("en-IN")]})]})]})]})]}),e==="notifications"&&c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(gu,{})," Notification Preferences"]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Choose how you want to be notified"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via email"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:l.emailNotifications,onChange:x=>h("emailNotifications",x.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:"SMS Notifications"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates via SMS"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:l.smsNotifications,onChange:x=>h("smsNotifications",x.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:"New Lead Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when new lead arrives"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:l.newLeadAlert,onChange:x=>h("newLeadAlert",x.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:"Payment Alerts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Notifications for payment updates"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:l.paymentAlert,onChange:x=>h("paymentAlert",x.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-800",children:"Event Reminders"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Reminders for upcoming events"})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:l.eventReminder,onChange:x=>h("eventReminder",x.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),e==="appearance"&&c.jsxs(le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[c.jsx(NL,{})," Appearance"]}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Customize the look and feel of your CRM"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Theme"}),c.jsxs("select",{value:l.theme,onChange:x=>h("theme",x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"dark",children:"Dark"}),c.jsx("option",{value:"auto",children:"Auto (System)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Primary Color"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"color",value:l.primaryColor,onChange:x=>h("primaryColor",x.target.value),className:"h-12 w-20 border border-gray-300 rounded-lg cursor-pointer"}),c.jsx("input",{type:"text",value:l.primaryColor,onChange:x=>h("primaryColor",x.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Accent Color"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("input",{type:"color",value:l.accentColor,onChange:x=>h("accentColor",x.target.value),className:"h-12 w-20 border border-gray-300 rounded-lg cursor-pointer"}),c.jsx("input",{type:"text",value:l.accentColor,onChange:x=>h("accentColor",x.target.value),className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),c.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-200",children:[c.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-4",children:"Color Preview"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"flex-1 h-20 rounded-lg shadow-lg flex items-center justify-center text-white font-semibold",style:{backgroundColor:l.primaryColor},children:"Primary"}),c.jsx("div",{className:"flex-1 h-20 rounded-lg shadow-lg flex items-center justify-center text-white font-semibold",style:{backgroundColor:l.accentColor},children:"Accent"})]})]})]})]}),c.jsxs("div",{className:"pt-6 border-t border-gray-200 flex justify-end gap-4",children:[c.jsx("button",{onClick:g,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-semibold",children:"Reset to Default"}),c.jsx("button",{onClick:p,disabled:r,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 font-semibold min-w-[140px] justify-center",children:r?c.jsxs(c.Fragment,{children:[c.jsx(Bd,{className:"animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(rl,{}),"Save Changes"]})})]})]})})]})]})})},mYe=()=>{const[e,t]=A.useState(!0),[r,n]=A.useState(!1),[a,i]=A.useState(!1),s=No(),o=Am(),[l,u]=A.useState("dashboard");A.useEffect(()=>{localStorage.getItem("adminAuth")==="true"?i(!0):s("/")},[s]);const d=[{id:"dashboard",label:"Dashboard",icon:c.jsx(Fpe,{}),path:"/crm"},{id:"leads",label:"Leads",icon:c.jsx(Qg,{}),path:"/crm/leads",badge:5},{id:"events",label:"Events",icon:c.jsx(Pi,{}),path:"/crm/events"},{id:"payments",label:"Payments",icon:c.jsx(Cn,{}),path:"/crm/payments"},{id:"photographers",label:"Photographers",icon:c.jsx(dk,{}),path:"/crm/photographers"},{id:"attendance",label:"Attendance",icon:c.jsx(Yv,{}),path:"/crm/attendance"},{id:"expenses",label:"Expenses",icon:c.jsx(Cn,{}),path:"/crm/expenses"},{id:"salary",label:"Salary",icon:c.jsx(gw,{}),path:"/crm/salary"},{id:"reminders",label:"Reminders",icon:c.jsx(Yv,{}),path:"/crm/reminders"},{id:"reports",label:"Reports",icon:c.jsx(dm,{}),path:"/crm/reports"},{id:"contracts",label:"Contracts",icon:c.jsx(Yv,{}),path:"/crm/contracts"},{id:"invoices",label:"Invoices",icon:c.jsx(Yv,{}),path:"/crm/invoices"},{id:"proposals",label:"Proposals",icon:c.jsx(Yv,{}),path:"/crm/proposals"},{id:"calendar",label:"Calendar",icon:c.jsx(Pi,{}),path:"/crm/calendar"},{id:"gallery",label:"Gallery",icon:c.jsx(dk,{}),path:"/crm/gallery"},{id:"photo-descriptor",label:"Photo Descriptor",icon:c.jsx(gw,{}),path:"/crm/photo-descriptor"},{id:"settings",label:"Settings",icon:c.jsx(gpe,{}),path:"/crm/settings"}],f=g=>g==="/crm"?o.pathname==="/crm":o.pathname.startsWith(g),p=()=>{const g=d.find(y=>f(y.path));return g?g.label:"Dashboard"},h=()=>{localStorage.removeItem("adminAuth"),localStorage.removeItem("adminLoginTime"),s("/")};return a?c.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[c.jsxs(le.aside,{initial:!1,animate:{width:e?280:80},className:"hidden md:flex flex-col bg-gradient-to-br from-charcoal via-gray-800 to-gray-900 text-white shadow-2xl relative z-20",children:[c.jsx("div",{className:"p-6 border-b border-gray-700",children:c.jsx(jg,{to:"/",className:"flex items-center gap-3",children:e?c.jsxs(le.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col",children:[c.jsx("h1",{className:"text-2xl font-playfair font-bold text-gold",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Business Manager"})]}):c.jsx("div",{className:"w-10 h-10 bg-gold rounded-lg flex items-center justify-center font-bold text-charcoal",children:"RN"})})}),c.jsx("button",{onClick:()=>t(!e),className:"absolute -right-3 top-20 bg-gold text-charcoal w-6 h-6 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform",children:e?"":""}),c.jsxs("nav",{className:"flex-1 overflow-y-auto py-6 space-y-1 px-3",children:[c.jsxs(jg,{to:"/",className:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all mb-4 bg-blue-600/20 hover:bg-blue-600/30 text-blue-300",children:[c.jsx(ck,{className:"text-xl"}),e&&c.jsx("span",{className:"font-semibold",children:"Back to Website"})]}),d.map(g=>c.jsxs(jg,{to:g.path,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all relative group ${f(g.path)?"bg-gold text-charcoal shadow-lg":"hover:bg-gray-800 text-gray-300 hover:text-white"}`,children:[c.jsx("span",{className:"text-xl",children:g.icon}),e&&c.jsx(le.span,{initial:{opacity:0},animate:{opacity:1},className:"font-semibold",children:g.label}),g.badge&&e&&c.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:g.badge}),!e&&c.jsx("div",{className:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:g.label})]},g.id))]}),c.jsx("div",{className:"p-4 border-t border-gray-700",children:e?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 bg-gold rounded-full flex items-center justify-center font-bold text-charcoal",children:"AD"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-sm",children:"Admin"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Full Access"})]})]}),c.jsx("button",{onClick:h,className:"w-full bg-red-500/20 text-red-400 px-3 py-2 rounded-lg text-sm font-semibold hover:bg-red-500 hover:text-white transition-all",children:"Logout"})]}):c.jsx("div",{className:"w-10 h-10 bg-gold rounded-full mx-auto flex items-center justify-center font-bold text-charcoal",children:"AD"})})]}),c.jsx(Kt,{children:r&&c.jsxs(c.Fragment,{children:[c.jsx(le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"fixed inset-0 bg-black/50 z-40 md:hidden"}),c.jsxs(le.aside,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25},className:"fixed left-0 top-0 bottom-0 w-80 bg-gradient-to-br from-charcoal via-gray-800 to-gray-900 text-white shadow-2xl z-50 md:hidden overflow-y-auto",children:[c.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-white text-2xl",children:c.jsx(pr,{})}),c.jsxs("div",{className:"p-6 border-b border-gray-700",children:[c.jsx("h1",{className:"text-2xl font-playfair font-bold text-gold",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-xs text-gray-400",children:"Business Manager"})]}),c.jsxs("nav",{className:"py-6 space-y-1 px-3",children:[c.jsxs(jg,{to:"/",className:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all mb-4 bg-blue-600/20 hover:bg-blue-600/30 text-blue-300",onClick:()=>n(!1),children:[c.jsx(ck,{className:"text-xl"}),c.jsx("span",{className:"font-semibold",children:"Back to Website"})]}),d.map(g=>c.jsxs(jg,{to:g.path,onClick:()=>n(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${f(g.path)?"bg-gold text-charcoal":"hover:bg-gray-800 text-gray-300"}`,children:[c.jsx("span",{className:"text-xl",children:g.icon}),c.jsx("span",{className:"font-semibold",children:g.label}),g.badge&&c.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:g.badge})]},g.id)),c.jsx("button",{onClick:h,className:"w-full mt-4 bg-red-500/20 text-red-400 px-4 py-3 rounded-lg font-semibold hover:bg-red-500 hover:text-white transition-all",children:"Logout"})]})]})]})}),c.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[c.jsxs("header",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shadow-sm",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>n(!0),className:"md:hidden text-2xl text-charcoal",children:c.jsx(eD,{})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-charcoal",children:p()}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage your photography business"})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"hidden sm:block text-right",children:[c.jsx("p",{className:"text-sm font-semibold text-charcoal",children:"Admin User"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Last login: Today"})]}),c.jsx("div",{className:"w-10 h-10 bg-gold rounded-full flex items-center justify-center font-bold text-charcoal",children:"AD"})]})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50",children:c.jsxs(LY,{children:[c.jsx(tn,{path:"/",element:c.jsx(A7e,{onNavigate:g=>s(g)})}),c.jsx(tn,{path:"/leads",element:c.jsx(D7e,{})}),c.jsx(tn,{path:"/events",element:c.jsx(T7e,{})}),c.jsx(tn,{path:"/payments",element:c.jsx(O7e,{})}),c.jsx(tn,{path:"/photographers",element:c.jsx(I7e,{})}),c.jsx(tn,{path:"/attendance",element:c.jsx(L7e,{})}),c.jsx(tn,{path:"/expenses",element:c.jsx(F7e,{})}),c.jsx(tn,{path:"/salary",element:c.jsx(W7e,{})}),c.jsx(tn,{path:"/reminders",element:c.jsx(U7e,{})}),c.jsx(tn,{path:"/reports",element:c.jsx(q7e,{})}),c.jsx(tn,{path:"/contracts",element:c.jsx(T9e,{})}),c.jsx(tn,{path:"/invoices",element:c.jsx(yBe,{})}),c.jsx(tn,{path:"/proposals",element:c.jsx(bBe,{})}),c.jsx(tn,{path:"/calendar",element:c.jsx(dYe,{})}),c.jsx(tn,{path:"/gallery",element:c.jsx(fYe,{})}),c.jsx(tn,{path:"/photo-descriptor",element:c.jsx(hYe,{})}),c.jsx(tn,{path:"/settings",element:c.jsx(pYe,{})}),c.jsx(tn,{path:"*",element:c.jsx(RY,{to:"/crm",replace:!0})})]})})]})]}):c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center p-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-charcoal mb-4",children:" Unauthorized Access"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Please login to access the CRM system"}),c.jsx(jg,{to:"/",className:"px-6 py-3 bg-gold text-white rounded-xl font-semibold inline-block",children:"Go to Homepage"})]})})};function gYe({setSelectedBlogPost:e}){return c.jsxs("div",{className:"App",children:[c.jsx(Vpe,{}),c.jsx(Hpe,{}),c.jsx(Zpe,{}),c.jsx(Qpe,{}),c.jsx(tme,{}),c.jsx(nme,{}),c.jsx(ame,{onPostClick:e}),c.jsx(sD,{}),c.jsx(ime,{}),c.jsx(ome,{})]})}function vYe(){const[e,t]=A.useState(!0),[r,n]=A.useState(null);return A.useEffect(()=>{setTimeout(()=>t(!1),1e3)},[]),e?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-cream via-white to-lightGrey",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl md:text-6xl font-playfair font-bold text-charcoal mb-4",children:"RN PhotoFilms"}),c.jsx("p",{className:"text-xl text-gold italic",children:"Your Emotions, Our Lens"})]})}):c.jsxs(bce,{children:[c.jsx(qpe,{}),c.jsxs(LY,{children:[c.jsx(tn,{path:"/rnphotofilms",element:c.jsx(gYe,{setSelectedBlogPost:n})}),c.jsx(tn,{path:"/crm/*",element:c.jsx(mYe,{})}),c.jsx(tn,{path:"/client/login",element:c.jsx(cme,{})}),c.jsx(tn,{path:"/client/dashboard",element:c.jsx(uxe,{})}),c.jsx(tn,{path:"/client/events",element:c.jsx(dxe,{})}),c.jsx(tn,{path:"/client/payments",element:c.jsx(fxe,{})}),c.jsx(tn,{path:"/client/profile",element:c.jsx(hxe,{})}),c.jsx(tn,{path:"/client/gallery",element:c.jsx(pxe,{})}),c.jsx(tn,{path:"/guest/register/:eventId",element:c.jsx(H3e,{})}),c.jsx(tn,{path:"/guest/gallery/:eventId",element:c.jsx(G3e,{})}),c.jsx(tn,{path:"*",element:c.jsx(RY,{to:"/",replace:!0})})]}),r&&c.jsx(lme,{post:r,onClose:()=>n(null)})]})}Sle.createRoot(document.getElementById("root")).render(c.jsx(Me.StrictMode,{children:c.jsx(vYe,{})}));export{qp as _,E2 as c,Ln as g};
